"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@fuel-ts+account@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_f204daa1b5bd0d8f80ab398db79a8f51";
exports.ids = ["vendor-chunks/@fuel-ts+account@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_f204daa1b5bd0d8f80ab398db79a8f51"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@fuel-ts+account@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_f204daa1b5bd0d8f80ab398db79a8f51/node_modules/@fuel-ts/account/dist/configs.mjs":
/*!****************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@fuel-ts+account@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_f204daa1b5bd0d8f80ab398db79a8f51/node_modules/@fuel-ts/account/dist/configs.mjs ***!
  \****************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEVNET_NETWORK_URL: () => (/* binding */ DEVNET_NETWORK_URL),\n/* harmony export */   TESTNET_NETWORK_URL: () => (/* binding */ TESTNET_NETWORK_URL)\n/* harmony export */ });\n// src/configs.ts\nvar DEVNET_NETWORK_URL = \"https://devnet.fuel.network/v1/graphql\";\nvar TESTNET_NETWORK_URL = \"https://testnet.fuel.network/v1/graphql\";\n\n//# sourceMappingURL=configs.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGZ1ZWwtdHMrYWNjb3VudEAwLjEwMS4xX3ZpdGVzdEAzLjIuNF9AdHlwZXMrZGVidWdANC4xLjEyX0B0eXBlcytub2RlQDI0LjcuMl9qaXRpQDIuNi4xX2YyMDRkYWExYjViZDBkOGY4MGFiMzk4ZGI3OWE4ZjUxL25vZGVfbW9kdWxlcy9AZnVlbC10cy9hY2NvdW50L2Rpc3QvY29uZmlncy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMveW91c3VrZS9NeVByb2plY3QvbXktbmV4dXMtYXBwL25vZGVfbW9kdWxlcy8ucG5wbS9AZnVlbC10cythY2NvdW50QDAuMTAxLjFfdml0ZXN0QDMuMi40X0B0eXBlcytkZWJ1Z0A0LjEuMTJfQHR5cGVzK25vZGVAMjQuNy4yX2ppdGlAMi42LjFfZjIwNGRhYTFiNWJkMGQ4ZjgwYWIzOThkYjc5YThmNTEvbm9kZV9tb2R1bGVzL0BmdWVsLXRzL2FjY291bnQvZGlzdC9jb25maWdzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29uZmlncy50c1xudmFyIERFVk5FVF9ORVRXT1JLX1VSTCA9IFwiaHR0cHM6Ly9kZXZuZXQuZnVlbC5uZXR3b3JrL3YxL2dyYXBocWxcIjtcbnZhciBURVNUTkVUX05FVFdPUktfVVJMID0gXCJodHRwczovL3Rlc3RuZXQuZnVlbC5uZXR3b3JrL3YxL2dyYXBocWxcIjtcbmV4cG9ydCB7XG4gIERFVk5FVF9ORVRXT1JLX1VSTCxcbiAgVEVTVE5FVF9ORVRXT1JLX1VSTFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZ3MubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@fuel-ts+account@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_f204daa1b5bd0d8f80ab398db79a8f51/node_modules/@fuel-ts/account/dist/configs.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@fuel-ts+account@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_f204daa1b5bd0d8f80ab398db79a8f51/node_modules/@fuel-ts/account/dist/index.mjs":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@fuel-ts+account@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_f204daa1b5bd0d8f80ab398db79a8f51/node_modules/@fuel-ts/account/dist/index.mjs ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("var _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractAccount: () => (/* binding */ AbstractAccount),\n/* harmony export */   AbstractScriptRequest: () => (/* binding */ AbstractScriptRequest),\n/* harmony export */   Account: () => (/* binding */ Account),\n/* harmony export */   AddressType: () => (/* binding */ AddressType),\n/* harmony export */   BALANCES_PAGE_SIZE_LIMIT: () => (/* binding */ BALANCES_PAGE_SIZE_LIMIT),\n/* harmony export */   BLOCKS_PAGE_SIZE_LIMIT: () => (/* binding */ BLOCKS_PAGE_SIZE_LIMIT),\n/* harmony export */   BaseTransactionRequest: () => (/* binding */ BaseTransactionRequest),\n/* harmony export */   BaseWalletUnlocked: () => (/* binding */ BaseWalletUnlocked),\n/* harmony export */   BlobTransactionRequest: () => (/* binding */ BlobTransactionRequest),\n/* harmony export */   CHAIN_IDS: () => (/* binding */ CHAIN_IDS),\n/* harmony export */   ChainName: () => (/* binding */ ChainName),\n/* harmony export */   ChangeOutputCollisionError: () => (/* binding */ ChangeOutputCollisionError),\n/* harmony export */   CreateTransactionRequest: () => (/* binding */ CreateTransactionRequest),\n/* harmony export */   DEFAULT_RESOURCE_CACHE_TTL: () => (/* binding */ DEFAULT_RESOURCE_CACHE_TTL),\n/* harmony export */   Fuel: () => (/* binding */ Fuel),\n/* harmony export */   FuelConnector: () => (/* binding */ FuelConnector),\n/* harmony export */   FuelConnectorEventType: () => (/* binding */ FuelConnectorEventType),\n/* harmony export */   FuelConnectorEventTypes: () => (/* binding */ FuelConnectorEventTypes),\n/* harmony export */   FuelConnectorMethods: () => (/* binding */ FuelConnectorMethods),\n/* harmony export */   GAS_USED_MODIFIER: () => (/* binding */ GAS_USED_MODIFIER),\n/* harmony export */   HDWallet: () => (/* binding */ hdwallet_default),\n/* harmony export */   Language: () => (/* binding */ Language),\n/* harmony export */   LocalStorage: () => (/* binding */ LocalStorage),\n/* harmony export */   MNEMONIC_SIZES: () => (/* binding */ MNEMONIC_SIZES),\n/* harmony export */   MemoryStorage: () => (/* binding */ MemoryStorage),\n/* harmony export */   Mnemonic: () => (/* binding */ mnemonic_default),\n/* harmony export */   MnemonicVault: () => (/* binding */ MnemonicVault),\n/* harmony export */   NON_PAGINATED_BALANCES_SIZE: () => (/* binding */ NON_PAGINATED_BALANCES_SIZE),\n/* harmony export */   NoWitnessAtIndexError: () => (/* binding */ NoWitnessAtIndexError),\n/* harmony export */   NoWitnessByOwnerError: () => (/* binding */ NoWitnessByOwnerError),\n/* harmony export */   OperationName: () => (/* binding */ OperationName),\n/* harmony export */   Predicate: () => (/* binding */ Predicate),\n/* harmony export */   PrivateKeyVault: () => (/* binding */ PrivateKeyVault),\n/* harmony export */   Provider: () => (/* binding */ Provider),\n/* harmony export */   RESOURCES_PAGE_SIZE_LIMIT: () => (/* binding */ RESOURCES_PAGE_SIZE_LIMIT),\n/* harmony export */   ScriptTransactionRequest: () => (/* binding */ ScriptTransactionRequest),\n/* harmony export */   Signer: () => (/* binding */ Signer),\n/* harmony export */   StorageAbstract: () => (/* binding */ StorageAbstract),\n/* harmony export */   TRANSACTIONS_PAGE_SIZE_LIMIT: () => (/* binding */ TRANSACTIONS_PAGE_SIZE_LIMIT),\n/* harmony export */   TransactionResponse: () => (/* binding */ TransactionResponse),\n/* harmony export */   TransactionStatus: () => (/* binding */ TransactionStatus),\n/* harmony export */   TransactionType: () => (/* reexport safe */ _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType),\n/* harmony export */   TransactionTypeName: () => (/* binding */ TransactionTypeName),\n/* harmony export */   UpgradeTransactionRequest: () => (/* binding */ UpgradeTransactionRequest),\n/* harmony export */   UploadTransactionRequest: () => (/* binding */ UploadTransactionRequest),\n/* harmony export */   Vault: () => (/* binding */ Vault),\n/* harmony export */   Wallet: () => (/* binding */ Wallet),\n/* harmony export */   WalletLocked: () => (/* binding */ WalletLocked),\n/* harmony export */   WalletManager: () => (/* binding */ WalletManager),\n/* harmony export */   WalletUnlocked: () => (/* binding */ WalletUnlocked),\n/* harmony export */   addAmountToCoinQuantities: () => (/* binding */ addAmountToCoinQuantities),\n/* harmony export */   addOperation: () => (/* binding */ addOperation),\n/* harmony export */   aggregateInputsAmountsByAssetAndOwner: () => (/* binding */ aggregateInputsAmountsByAssetAndOwner),\n/* harmony export */   assemblePanicError: () => (/* binding */ assemblePanicError),\n/* harmony export */   assemblePreConfirmationTransactionSummary: () => (/* binding */ assemblePreConfirmationTransactionSummary),\n/* harmony export */   assembleReceiptByType: () => (/* binding */ assembleReceiptByType),\n/* harmony export */   assembleRevertError: () => (/* binding */ assembleRevertError),\n/* harmony export */   assembleTransactionSummary: () => (/* binding */ assembleTransactionSummary),\n/* harmony export */   assembleTransactionSummaryFromJson: () => (/* binding */ assembleTransactionSummaryFromJson),\n/* harmony export */   assets: () => (/* binding */ assets),\n/* harmony export */   buildBlockExplorerUrl: () => (/* binding */ buildBlockExplorerUrl),\n/* harmony export */   cacheFor: () => (/* binding */ cacheFor),\n/* harmony export */   cacheRequestInputsResources: () => (/* binding */ cacheRequestInputsResources),\n/* harmony export */   cacheRequestInputsResourcesFromOwner: () => (/* binding */ cacheRequestInputsResourcesFromOwner),\n/* harmony export */   calculateGasFee: () => (/* binding */ calculateGasFee),\n/* harmony export */   calculateMetadataGasForTxBlob: () => (/* binding */ calculateMetadataGasForTxBlob),\n/* harmony export */   calculateMetadataGasForTxCreate: () => (/* binding */ calculateMetadataGasForTxCreate),\n/* harmony export */   calculateMetadataGasForTxScript: () => (/* binding */ calculateMetadataGasForTxScript),\n/* harmony export */   calculateMetadataGasForTxUpgrade: () => (/* binding */ calculateMetadataGasForTxUpgrade),\n/* harmony export */   calculateMetadataGasForTxUpload: () => (/* binding */ calculateMetadataGasForTxUpload),\n/* harmony export */   calculateMinGasForTxUpload: () => (/* binding */ calculateMinGasForTxUpload),\n/* harmony export */   calculateTXFeeForSummary: () => (/* binding */ calculateTXFeeForSummary),\n/* harmony export */   coinQuantityfy: () => (/* binding */ coinQuantityfy),\n/* harmony export */   deferPromise: () => (/* binding */ deferPromise),\n/* harmony export */   deployScriptOrPredicate: () => (/* binding */ deployScriptOrPredicate),\n/* harmony export */   deserializeChain: () => (/* binding */ deserializeChain),\n/* harmony export */   deserializeInput: () => (/* binding */ deserializeInput),\n/* harmony export */   deserializeNodeInfo: () => (/* binding */ deserializeNodeInfo),\n/* harmony export */   deserializeOutput: () => (/* binding */ deserializeOutput),\n/* harmony export */   deserializeProcessedTxOutput: () => (/* binding */ deserializeProcessedTxOutput),\n/* harmony export */   deserializeProviderCache: () => (/* binding */ deserializeProviderCache),\n/* harmony export */   deserializeReceipt: () => (/* binding */ deserializeReceipt),\n/* harmony export */   deserializeTransactionResponseJson: () => (/* binding */ deserializeTransactionResponseJson),\n/* harmony export */   dispatchFuelConnectorEvent: () => (/* binding */ dispatchFuelConnectorEvent),\n/* harmony export */   english: () => (/* binding */ english),\n/* harmony export */   extractBurnedAssetsFromReceipts: () => (/* binding */ extractBurnedAssetsFromReceipts),\n/* harmony export */   extractMintedAssetsFromReceipts: () => (/* binding */ extractMintedAssetsFromReceipts),\n/* harmony export */   extractResolvedOutputs: () => (/* binding */ extractResolvedOutputs),\n/* harmony export */   extractTxError: () => (/* binding */ extractTxError),\n/* harmony export */   fuelAssetsBaseUrl: () => (/* binding */ fuelAssetsBaseUrl),\n/* harmony export */   gasUsedByInputs: () => (/* binding */ gasUsedByInputs),\n/* harmony export */   getAllDecodedLogs: () => (/* binding */ getAllDecodedLogs),\n/* harmony export */   getAssetAmountInRequestInputs: () => (/* binding */ getAssetAmountInRequestInputs),\n/* harmony export */   getAssetById: () => (/* binding */ getAssetById),\n/* harmony export */   getAssetEth: () => (/* binding */ getAssetEth),\n/* harmony export */   getAssetFuel: () => (/* binding */ getAssetFuel),\n/* harmony export */   getAssetNetwork: () => (/* binding */ getAssetNetwork),\n/* harmony export */   getAssetWithNetwork: () => (/* binding */ getAssetWithNetwork),\n/* harmony export */   getAssetsByOwner: () => (/* binding */ getAssetsByOwner),\n/* harmony export */   getBurnableAssetCount: () => (/* binding */ getBurnableAssetCount),\n/* harmony export */   getBytecodeConfigurableOffset: () => (/* binding */ getBytecodeConfigurableOffset),\n/* harmony export */   getBytecodeDataOffset: () => (/* binding */ getBytecodeDataOffset),\n/* harmony export */   getBytecodeId: () => (/* binding */ getBytecodeId),\n/* harmony export */   getContractCallOperations: () => (/* binding */ getContractCallOperations),\n/* harmony export */   getContractCreatedOperations: () => (/* binding */ getContractCreatedOperations),\n/* harmony export */   getDecodedLogs: () => (/* binding */ getDecodedLogs),\n/* harmony export */   getDefaultChainId: () => (/* binding */ getDefaultChainId),\n/* harmony export */   getGasUsedFromReceipts: () => (/* binding */ getGasUsedFromReceipts),\n/* harmony export */   getInputAccountAddress: () => (/* binding */ getInputAccountAddress),\n/* harmony export */   getInputContractFromIndex: () => (/* binding */ getInputContractFromIndex),\n/* harmony export */   getInputFromAssetId: () => (/* binding */ getInputFromAssetId),\n/* harmony export */   getInputsByType: () => (/* binding */ getInputsByType),\n/* harmony export */   getInputsByTypes: () => (/* binding */ getInputsByTypes),\n/* harmony export */   getInputsCoin: () => (/* binding */ getInputsCoin),\n/* harmony export */   getInputsCoinAndMessage: () => (/* binding */ getInputsCoinAndMessage),\n/* harmony export */   getInputsContract: () => (/* binding */ getInputsContract),\n/* harmony export */   getInputsMessage: () => (/* binding */ getInputsMessage),\n/* harmony export */   getLegacyBlobId: () => (/* binding */ getLegacyBlobId),\n/* harmony export */   getMaxGas: () => (/* binding */ getMaxGas),\n/* harmony export */   getMinGas: () => (/* binding */ getMinGas),\n/* harmony export */   getOperations: () => (/* binding */ getOperations),\n/* harmony export */   getOutputsByType: () => (/* binding */ getOutputsByType),\n/* harmony export */   getOutputsChange: () => (/* binding */ getOutputsChange),\n/* harmony export */   getOutputsCoin: () => (/* binding */ getOutputsCoin),\n/* harmony export */   getOutputsContract: () => (/* binding */ getOutputsContract),\n/* harmony export */   getOutputsContractCreated: () => (/* binding */ getOutputsContractCreated),\n/* harmony export */   getOutputsVariable: () => (/* binding */ getOutputsVariable),\n/* harmony export */   getPayProducerOperations: () => (/* binding */ getPayProducerOperations),\n/* harmony export */   getPredicateRoot: () => (/* binding */ getPredicateRoot),\n/* harmony export */   getReceiptsByType: () => (/* binding */ getReceiptsByType),\n/* harmony export */   getReceiptsCall: () => (/* binding */ getReceiptsCall),\n/* harmony export */   getReceiptsMessageOut: () => (/* binding */ getReceiptsMessageOut),\n/* harmony export */   getReceiptsTransferOut: () => (/* binding */ getReceiptsTransferOut),\n/* harmony export */   getReceiptsWithMissingData: () => (/* binding */ getReceiptsWithMissingData),\n/* harmony export */   getRequestInputResourceOwner: () => (/* binding */ getRequestInputResourceOwner),\n/* harmony export */   getTotalFeeFromStatus: () => (/* binding */ getTotalFeeFromStatus),\n/* harmony export */   getTransactionStatusName: () => (/* binding */ getTransactionStatusName),\n/* harmony export */   getTransactionSummary: () => (/* binding */ getTransactionSummary),\n/* harmony export */   getTransactionSummaryFromRequest: () => (/* binding */ getTransactionSummaryFromRequest),\n/* harmony export */   getTransactionTypeName: () => (/* binding */ getTransactionTypeName),\n/* harmony export */   getTransactionsSummaries: () => (/* binding */ getTransactionsSummaries),\n/* harmony export */   getTransferOperations: () => (/* binding */ getTransferOperations),\n/* harmony export */   getWithdrawFromFuelOperations: () => (/* binding */ getWithdrawFromFuelOperations),\n/* harmony export */   hasSameAssetId: () => (/* binding */ hasSameAssetId),\n/* harmony export */   inputify: () => (/* binding */ inputify),\n/* harmony export */   isCoin: () => (/* binding */ isCoin),\n/* harmony export */   isInputCoin: () => (/* binding */ isInputCoin),\n/* harmony export */   isMessage: () => (/* binding */ isMessage),\n/* harmony export */   isMessageCoin: () => (/* binding */ isMessageCoin),\n/* harmony export */   isPredicate: () => (/* binding */ isPredicate),\n/* harmony export */   isRawCoin: () => (/* binding */ isRawCoin),\n/* harmony export */   isRawMessage: () => (/* binding */ isRawMessage),\n/* harmony export */   isRequestInputCoin: () => (/* binding */ isRequestInputCoin),\n/* harmony export */   isRequestInputCoinOrMessage: () => (/* binding */ isRequestInputCoinOrMessage),\n/* harmony export */   isRequestInputMessage: () => (/* binding */ isRequestInputMessage),\n/* harmony export */   isRequestInputMessageWithoutData: () => (/* binding */ isRequestInputMessageWithoutData),\n/* harmony export */   isRequestInputResource: () => (/* binding */ isRequestInputResource),\n/* harmony export */   isRequestInputResourceFromOwner: () => (/* binding */ isRequestInputResourceFromOwner),\n/* harmony export */   isTransactionTypeBlob: () => (/* binding */ isTransactionTypeBlob),\n/* harmony export */   isTransactionTypeCreate: () => (/* binding */ isTransactionTypeCreate),\n/* harmony export */   isTransactionTypeScript: () => (/* binding */ isTransactionTypeScript),\n/* harmony export */   isTransactionTypeUpgrade: () => (/* binding */ isTransactionTypeUpgrade),\n/* harmony export */   isTransactionTypeUpload: () => (/* binding */ isTransactionTypeUpload),\n/* harmony export */   isType: () => (/* binding */ isType),\n/* harmony export */   isTypeBlob: () => (/* binding */ isTypeBlob),\n/* harmony export */   isTypeCreate: () => (/* binding */ isTypeCreate),\n/* harmony export */   isTypeMint: () => (/* binding */ isTypeMint),\n/* harmony export */   isTypeScript: () => (/* binding */ isTypeScript),\n/* harmony export */   isTypeUpgrade: () => (/* binding */ isTypeUpgrade),\n/* harmony export */   isTypeUpload: () => (/* binding */ isTypeUpload),\n/* harmony export */   mergeQuantities: () => (/* binding */ mergeQuantities),\n/* harmony export */   normalizeJSON: () => (/* binding */ normalizeJSON),\n/* harmony export */   outputify: () => (/* binding */ outputify),\n/* harmony export */   processGqlReceipt: () => (/* binding */ processGqlReceipt),\n/* harmony export */   processGraphqlStatus: () => (/* binding */ processGraphqlStatus),\n/* harmony export */   rawAssets: () => (/* binding */ rawAssets),\n/* harmony export */   resolveAccountForAssembleTxParams: () => (/* binding */ resolveAccountForAssembleTxParams),\n/* harmony export */   resolveGasDependentCosts: () => (/* binding */ resolveGasDependentCosts),\n/* harmony export */   resolveIconPaths: () => (/* binding */ resolveIconPaths),\n/* harmony export */   returnZeroScript: () => (/* binding */ returnZeroScript),\n/* harmony export */   serializeChain: () => (/* binding */ serializeChain),\n/* harmony export */   serializeNodeInfo: () => (/* binding */ serializeNodeInfo),\n/* harmony export */   serializeProviderCache: () => (/* binding */ serializeProviderCache),\n/* harmony export */   serializeTransactionResponseJson: () => (/* binding */ serializeTransactionResponseJson),\n/* harmony export */   setAndValidateGasAndFeeForAssembledTx: () => (/* binding */ setAndValidateGasAndFeeForAssembledTx),\n/* harmony export */   transactionRequestify: () => (/* binding */ transactionRequestify),\n/* harmony export */   urlJoin: () => (/* binding */ urlJoin),\n/* harmony export */   validateTransactionForAssetBurn: () => (/* binding */ validateTransactionForAssetBurn),\n/* harmony export */   withTimeout: () => (/* binding */ withTimeout),\n/* harmony export */   withdrawScript: () => (/* binding */ withdrawScript)\n/* harmony export */ });\n/* harmony import */ var _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @fuel-ts/abi-coder */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+abi-coder@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6_6403986254e63357a3dfff475209c93d/node_modules/@fuel-ts/abi-coder/dist/index.mjs\");\n/* harmony import */ var _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @fuel-ts/address */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+address@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_12808c1e18925070bf8378bf9ead890c/node_modules/@fuel-ts/address/dist/index.mjs\");\n/* harmony import */ var _fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @fuel-ts/crypto */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+crypto@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1__2af6281b4693138068177942c72da7d9/node_modules/@fuel-ts/crypto/dist/index.mjs\");\n/* harmony import */ var _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @fuel-ts/errors */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+errors@0.101.1/node_modules/@fuel-ts/errors/dist/index.mjs\");\n/* harmony import */ var _fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @fuel-ts/math */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+math@0.101.1/node_modules/@fuel-ts/math/dist/index.mjs\");\n/* harmony import */ var _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @fuel-ts/transactions */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+transactions@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@_dc6813ea14c53ffd87ce32c7cc62a339/node_modules/@fuel-ts/transactions/dist/index.mjs\");\n/* harmony import */ var _fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @fuel-ts/utils */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+utils@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_j_f5ff000e110be614030afd6e0fd99f41/node_modules/@fuel-ts/utils/dist/index.mjs\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ramda */ \"(ssr)/./node_modules/.pnpm/ramda@0.30.1/node_modules/ramda/es/clone.js\");\n/* harmony import */ var _fuel_ts_versions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @fuel-ts/versions */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+versions@0.101.1/node_modules/@fuel-ts/versions/dist/index.mjs\");\n/* harmony import */ var graphql_request__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! graphql-request */ \"(ssr)/./node_modules/.pnpm/graphql-request@6.1.0_graphql@16.10.0/node_modules/graphql-request/build/esm/index.js\");\n/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! graphql-tag */ \"(ssr)/./node_modules/.pnpm/graphql-tag@2.12.6_graphql@16.10.0/node_modules/graphql-tag/lib/index.js\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! graphql */ \"(ssr)/./node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/language/printer.mjs\");\n/* harmony import */ var _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @fuel-ts/address/configs */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+address@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_12808c1e18925070bf8378bf9ead890c/node_modules/@fuel-ts/address/dist/configs.mjs\");\n/* harmony import */ var _fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @fuel-ts/transactions/configs */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+transactions@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@_dc6813ea14c53ffd87ce32c7cc62a339/node_modules/@fuel-ts/transactions/dist/configs.mjs\");\n/* harmony import */ var _fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @fuel-ts/hasher */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+hasher@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1__3de5373ec566d2f8672f34c376d1b1fa/node_modules/@fuel-ts/hasher/dist/index.mjs\");\n/* harmony import */ var _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @fuels/vm-asm */ \"(ssr)/./node_modules/.pnpm/@fuels+vm-asm@0.60.2/node_modules/@fuels/vm-asm/dist/node/index.cjs\");\n/* harmony import */ var _noble_curves_secp256k1__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @noble/curves/secp256k1 */ \"(ssr)/./node_modules/.pnpm/@noble+curves@1.8.1/node_modules/@noble/curves/esm/secp256k1.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! events */ \"events\");\n/* harmony import */ var _fuel_ts_merkle__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @fuel-ts/merkle */ \"(ssr)/./node_modules/.pnpm/@fuel-ts+merkle@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1__de9684f3895abff2485b47f5d673b5af/node_modules/@fuel-ts/merkle/dist/index.mjs\");\nvar __defProp = Object.defineProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\n\n// src/providers/chains.ts\nvar CHAIN_IDS = {\n  eth: {\n    mainnet: 1,\n    sepolia: 11155111,\n    foundry: 31337\n  },\n  fuel: {\n    devnet: 0,\n    testnet: 0,\n    mainnet: 9889\n  }\n};\n\n// src/assets/utils/network.ts\nvar getDefaultChainId = /* @__PURE__ */ __name((networkType) => {\n  if (networkType === \"ethereum\") {\n    return CHAIN_IDS.eth.sepolia;\n  }\n  if (networkType === \"fuel\") {\n    return CHAIN_IDS.fuel.testnet;\n  }\n  return void 0;\n}, \"getDefaultChainId\");\nvar getAssetNetwork = /* @__PURE__ */ __name(({\n  asset,\n  chainId,\n  networkType\n}) => {\n  const network = asset.networks.find(\n    (item) => item.chainId === chainId && item.type === networkType\n  );\n  return network;\n}, \"getAssetNetwork\");\nvar getAssetWithNetwork = /* @__PURE__ */ __name(({\n  asset,\n  chainId,\n  networkType\n}) => {\n  const { networks: _, ...assetRest } = asset;\n  const chainIdToUse = chainId ?? getDefaultChainId(networkType);\n  if (chainIdToUse === void 0) {\n    return void 0;\n  }\n  const assetNetwork = getAssetNetwork({\n    asset,\n    chainId: chainIdToUse,\n    networkType\n  });\n  if (!assetNetwork) {\n    return void 0;\n  }\n  return {\n    ...assetRest,\n    ...assetNetwork\n  };\n}, \"getAssetWithNetwork\");\nvar getAssetEth = /* @__PURE__ */ __name((asset, chainId) => getAssetWithNetwork({\n  asset,\n  networkType: \"ethereum\",\n  chainId\n}), \"getAssetEth\");\nvar getAssetFuel = /* @__PURE__ */ __name((asset, chainId) => getAssetWithNetwork({\n  asset,\n  networkType: \"fuel\",\n  chainId\n}), \"getAssetFuel\");\n\n// src/assets/utils/url.ts\nvar DELIMITER_PATH = \"/\";\nvar trimRegex = /^\\/|\\/$/g;\nvar trimPath = /* @__PURE__ */ __name((path = \"\") => path.replace(trimRegex, \"\"), \"trimPath\");\nfunction urlJoin(baseUrl, ...paths) {\n  const hasBaseUrl = baseUrl !== null && baseUrl !== void 0;\n  const rootPath = baseUrl?.[0] === \"/\" && baseUrl.length > 1;\n  const allPaths = [baseUrl, ...paths].filter(Boolean).map(trimPath);\n  if (rootPath && hasBaseUrl) {\n    allPaths.unshift(\"\");\n  }\n  return allPaths.join(DELIMITER_PATH);\n}\n__name(urlJoin, \"urlJoin\");\n\n// src/assets/utils/resolveIconPaths.ts\nfunction resolveIconPaths(assets2, basePath = \"./\") {\n  return assets2.map((asset) => ({\n    ...asset,\n    icon: urlJoin(basePath, asset.icon)\n  }));\n}\n__name(resolveIconPaths, \"resolveIconPaths\");\n\n// src/assets/utils/fuelAssetsBaseUrl.ts\nvar fuelAssetsBaseUrl = \"https://assets.fuel.network/providers/\";\n\n// src/assets/assets.ts\nvar rawAssets = [\n  {\n    name: \"Ethereum\",\n    symbol: \"ETH\",\n    icon: \"eth.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.sepolia,\n        decimals: 18\n      },\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.foundry,\n        decimals: 18\n      },\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.devnet,\n        decimals: 9,\n        assetId: \"0xf8f8b6283d7fa5b672b530cbb84fcccb4ff8dc40f8176ef4544ddb1f1952ad07\"\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.testnet,\n        decimals: 9,\n        assetId: \"0xf8f8b6283d7fa5b672b530cbb84fcccb4ff8dc40f8176ef4544ddb1f1952ad07\"\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        decimals: 9,\n        assetId: \"0xf8f8b6283d7fa5b672b530cbb84fcccb4ff8dc40f8176ef4544ddb1f1952ad07\"\n      }\n    ]\n  },\n  {\n    name: \"WETH\",\n    symbol: \"WETH\",\n    icon: \"weth.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xa38a5a8beeb08d95744bc7f58528073f4052b254def59eba20c99c202b5acaa3\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"weETH\",\n    symbol: \"weETH\",\n    icon: \"weETH.webp\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xCd5fE23C85820F7B72D0926FC9b05b43E359b7ee\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x239ed6e12b7ce4089ee245244e3bf906999a6429c2a9a445a1e1faf56914a4ab\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"rsETH\",\n    symbol: \"rsETH\",\n    icon: \"rsETH.webp\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xA1290d69c65A6Fe4DF752f95823fae25cB99e5A7\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xbae80f7fb8aa6b90d9b01ef726ec847cc4f59419c4d5f2ea88fec785d1b0e849\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"rETH\",\n    symbol: \"rETH\",\n    icon: \"reth.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xae78736cd615f374d3085123a210448e74fc6393\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xf3f9a0ed0ce8eac5f89d6b83e41b3848212d5b5f56108c54a205bb228ca30c16\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"wbETH\",\n    symbol: \"wbETH\",\n    icon: \"wbeth.png\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xa2E3356610840701BDf5611a53974510Ae27E2e1\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x7843c74bef935e837f2bcf67b5d64ecb46dd53ff86375530b0caf3699e8ffafe\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"rstETH\",\n    symbol: \"rstETH\",\n    icon: \"rstETH.webp\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x7a4EffD87C2f3C55CA251080b1343b605f327E3a\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x962792286fbc9b1d5860b4551362a12249362c21594c77abf4b3fe2bbe8d977a\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"amphrETH\",\n    symbol: \"amphrETH\",\n    icon: \"amphrETH.png\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x5fD13359Ba15A84B76f7F87568309040176167cd\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x05fc623e57bd7bc1258efa8e4f62b05af5471d73df6f2c2dc11ecc81134c4f36\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"Manta mBTC\",\n    symbol: \"Manta mBTC\",\n    icon: \"manta-mbtc.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x4041381e947CFD3D483d67a25C6aa9Dc924250c5\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xaf3111a248ff7a3238cdeea845bb2d43cf3835f1f6b8c9d28360728b55b9ce5b\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"Manta mETH\",\n    symbol: \"Manta mETH\",\n    icon: \"manta-meth.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x8CdF550C04Bc9B9F10938368349C9c8051A772b6\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xafd219f513317b1750783c6581f55530d6cf189a5863fd18bd1b3ffcec1714b4\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"Manta mUSD\",\n    symbol: \"Manta mUSD\",\n    icon: \"manta-musd.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x3f24E1d7a973867fC2A03fE199E5502514E0e11E\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x89cb9401e55d49c3269654dd1cdfb0e80e57823a4a7db98ba8fc5953b120fef4\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"pumpBTC\",\n    symbol: \"pumpBTC\",\n    icon: \"pumpbtc.webp\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xf469fbd2abcd6b9de8e169d128226c0fc90a012e\",\n        decimals: 8\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x0aa5eb2bb97ca915288b653a2529355d4dc66de2b37533213f0e4aeee3d3421f\",\n        decimals: 8\n      }\n    ]\n  },\n  {\n    name: \"FBTC\",\n    symbol: \"FBTC\",\n    icon: \"fbtc.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xc96de26018a54d51c097160568752c4e3bd6c364\",\n        decimals: 8\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xb5ecb0a1e08e2abbabf624ffea089df933376855f468ade35c6375b00c33996a\",\n        decimals: 8\n      }\n    ]\n  },\n  {\n    name: \"SolvBTC\",\n    symbol: \"SolvBTC\",\n    icon: \"solvBTC.webp\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x7a56e1c57c7475ccf742a1832b028f0456652f97\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x1186afea9affb88809c210e13e2330b5258c2cef04bb8fff5eff372b7bd3f40f\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"SolvBTC.BBN\",\n    symbol: \"SolvBTC.BBN\",\n    icon: \"SolvBTC.BBN.png\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xd9d920aa40f578ab794426f5c90f6c731d159def\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x7a4f087c957d30218223c2baaaa365355c9ca81b6ea49004cfb1590a5399216f\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"Mantle mETH\",\n    symbol: \"Mantle mETH\",\n    icon: \"mantle-meth.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xd5F7838F5C461fefF7FE49ea5ebaF7728bB0ADfa\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x642a5db59ec323c2f846d4d4cf3e58d78aff64accf4f8f6455ba0aa3ef000a3b\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"sDAI\",\n    symbol: \"sDAI\",\n    icon: \"sdai.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x83f20f44975d03b1b09e64809b757c47f942beea\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x9e46f919fbf978f3cad7cd34cca982d5613af63ff8aab6c379e4faa179552958\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"USDT\",\n    symbol: \"USDT\",\n    icon: \"usdt.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xdAC17F958D2ee523a2206206994597C13D831ec7\",\n        decimals: 6\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xa0265fb5c32f6e8db3197af3c7eb05c48ae373605b8165b6f4a51c5b0ba4812e\",\n        decimals: 6\n      }\n    ]\n  },\n  {\n    name: \"USDC\",\n    symbol: \"USDC\",\n    icon: \"usdc.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\",\n        decimals: 6\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x286c479da40dc953bddc3bb4c453b608bba2e0ac483b077bd475174115395e6b\",\n        decimals: 6\n      }\n    ]\n  },\n  {\n    name: \"USDe\",\n    symbol: \"USDe\",\n    icon: \"USDe.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x4c9edd5852cd905f086c759e8383e09bff1e68b3\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xb6133b2ef9f6153eb869125d23dcf20d1e735331b5e41b15a6a7a6cec70e8651\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"sUSDe\",\n    symbol: \"sUSDe\",\n    icon: \"sUSDe.webp\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x9d39a5de30e57443bff2a8307a4256c8797a3497\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xd05563025104fc36496c15c7021ad6b31034b0e89a356f4f818045d1f48808bc\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"rsUSDe\",\n    symbol: \"rsUSDe\",\n    icon: \"rsUSDe.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x82f5104b23FF2FA54C2345F821dAc9369e9E0B26\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x78d4522ec607f6e8efb66ea49439d1ee48623cf763f9688a8eada025def033d9\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"wstETH\",\n    symbol: \"wstETH\",\n    icon: \"wsteth.svg\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x1a7815cc9f75db5c24a5b0814bfb706bb9fe485333e98254015de8f48f84c67b\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"ezETH\",\n    symbol: \"ezETH\",\n    icon: \"ezeth.webp\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xbf5495Efe5DB9ce00f80364C8B423567e58d2110\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x91b3559edb2619cde8ffb2aa7b3c3be97efd794ea46700db7092abeee62281b0\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"pzETH\",\n    symbol: \"pzETH\",\n    icon: \"pzETH.webp\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x8c9532a60e0e7c6bbd2b2c1303f63ace1c3e9811\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x1493d4ec82124de8f9b625682de69dcccda79e882b89a55a8c737b12de67bd68\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"Re7LRT\",\n    symbol: \"Re7LRT\",\n    icon: \"Re7LRT.png\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0x84631c0d0081FDe56DeB72F6DE77abBbF6A9f93a\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0xf2fc648c23a5db24610a1cf696acc4f0f6d9a7d6028dd9944964ab23f6e35995\",\n        decimals: 9\n      }\n    ]\n  },\n  {\n    name: \"steakLRT\",\n    symbol: \"steakLRT\",\n    icon: \"steakLRT.png\",\n    networks: [\n      {\n        type: \"ethereum\",\n        chainId: CHAIN_IDS.eth.mainnet,\n        address: \"0xBEEF69Ac7870777598A04B2bd4771c71212E6aBc\",\n        decimals: 18\n      },\n      {\n        type: \"fuel\",\n        chainId: CHAIN_IDS.fuel.mainnet,\n        contractId: \"0x4ea6ccef1215d9479f1024dff70fc055ca538215d2c8c348beddffd54583d0e8\",\n        assetId: \"0x4fc8ac9f101df07e2c2dec4a53c8c42c439bdbe5e36ea2d863a61ff60afafc30\",\n        decimals: 9\n      }\n    ]\n  }\n];\nvar assets = resolveIconPaths(rawAssets, fuelAssetsBaseUrl);\n\n// src/assets/asset-api.ts\nvar networks = {\n  mainnet: \"https://mainnet-explorer.fuel.network\",\n  testnet: \"https://explorer-indexer-testnet.fuel.network\"\n};\nvar request = /* @__PURE__ */ __name(async (url, slug) => {\n  const response = await fetch(`${url}${slug}`, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    }\n  });\n  try {\n    return await response.json();\n  } catch (error) {\n    return null;\n  }\n}, \"request\");\nvar buildQueryString = /* @__PURE__ */ __name((parameters) => {\n  const query = new URLSearchParams();\n  Object.entries(parameters).forEach(([key, value]) => {\n    query.set(key, value.toString());\n  });\n  return query.size > 0 ? `?${query.toString()}` : \"\";\n}, \"buildQueryString\");\nvar getAssetById = /* @__PURE__ */ __name((opts) => {\n  const { network = \"mainnet\", assetId } = opts;\n  const url = networks[network];\n  return request(url, `/assets/${assetId}`);\n}, \"getAssetById\");\nvar getAssetsByOwner = /* @__PURE__ */ __name(async (opts) => {\n  const { network = \"mainnet\", owner, pagination = { last: 10 } } = opts;\n  const url = networks[network];\n  const { last } = pagination;\n  const queryString = buildQueryString({ last });\n  const response = await request(url, `/accounts/${owner}/assets${queryString}`);\n  if (!response) {\n    return { data: [], pageInfo: { count: 0 } };\n  }\n  return response;\n}, \"getAssetsByOwner\");\n\n// src/account.ts\n\n\n\n\n\n\n\n\n\n// src/providers/coin-quantity.ts\n\n\nvar coinQuantityfy = /* @__PURE__ */ __name((coinQuantityLike) => {\n  let assetId;\n  let amount;\n  let max;\n  if (Array.isArray(coinQuantityLike)) {\n    amount = coinQuantityLike[0];\n    assetId = coinQuantityLike[1];\n    max = coinQuantityLike[2] ?? void 0;\n  } else {\n    amount = coinQuantityLike.amount;\n    assetId = coinQuantityLike.assetId;\n    max = coinQuantityLike.max ?? void 0;\n  }\n  return {\n    assetId: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(assetId),\n    amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount),\n    max: max ? (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(max) : void 0\n  };\n}, \"coinQuantityfy\");\nvar addAmountToCoinQuantities = /* @__PURE__ */ __name((params) => {\n  const { amount, assetId } = params;\n  const coinQuantities = [...params.coinQuantities];\n  const assetIdx = coinQuantities.findIndex((coinQuantity) => coinQuantity.assetId === assetId);\n  if (assetIdx !== -1) {\n    coinQuantities[assetIdx].amount = coinQuantities[assetIdx].amount.add(amount);\n  } else {\n    coinQuantities.push({ assetId, amount });\n  }\n  return coinQuantities;\n}, \"addAmountToCoinQuantities\");\n\n// src/providers/provider.ts\n\n\n\n\n\n\n\n\n\n\n// src/providers/__generated__/operations.ts\n\nvar InputCoinFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment InputCoinFragment on InputCoin {\n  type: __typename\n  utxoId\n  owner\n  amount\n  assetId\n  txPointer\n  coinWitnessIndex: witnessIndex\n  predicateGasUsed\n  predicate\n  predicateData\n}\n    `;\nvar InputMessageFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment InputMessageFragment on InputMessage {\n  type: __typename\n  sender\n  recipient\n  amount\n  nonce\n  messageWitnessIndex: witnessIndex\n  predicateGasUsed\n  data\n  predicate\n  predicateData\n}\n    `;\nvar InputContractFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment InputContractFragment on InputContract {\n  type: __typename\n  utxoId\n  balanceRoot\n  stateRoot\n  txPointer\n  contractId\n}\n    `;\nvar OutputCoinFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment OutputCoinFragment on CoinOutput {\n  type: __typename\n  to\n  amount\n  assetId\n}\n    `;\nvar OutputContractFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment OutputContractFragment on ContractOutput {\n  type: __typename\n  inputIndex\n  balanceRoot\n  stateRoot\n}\n    `;\nvar OutputChangeFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment OutputChangeFragment on ChangeOutput {\n  type: __typename\n  to\n  amount\n  assetId\n}\n    `;\nvar OutputVariableFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment OutputVariableFragment on VariableOutput {\n  type: __typename\n  to\n  amount\n  assetId\n}\n    `;\nvar OutputContractCreatedFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment OutputContractCreatedFragment on ContractCreated {\n  type: __typename\n  contract\n  stateRoot\n}\n    `;\nvar SubmittedStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment SubmittedStatusFragment on SubmittedStatus {\n  type: __typename\n  time\n}\n    `;\nvar ReceiptFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment receiptFragment on Receipt {\n  id\n  pc\n  is\n  to\n  toAddress\n  amount\n  assetId\n  gas\n  param1\n  param2\n  val\n  ptr\n  digest\n  reason\n  ra\n  rb\n  rc\n  rd\n  len\n  receiptType\n  result\n  gasUsed\n  data\n  sender\n  recipient\n  nonce\n  contractId\n  subId\n}\n    `;\nvar SuccessStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment SuccessStatusFragment on SuccessStatus {\n  type: __typename\n  time\n  programState {\n    returnType\n    data\n  }\n  receipts {\n    ...receiptFragment\n  }\n  totalGas\n  totalFee\n}\n    ${ReceiptFragmentDoc}`;\nvar SuccessStatusWithBlockIdFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment SuccessStatusWithBlockIdFragment on SuccessStatus {\n  ...SuccessStatusFragment\n  block {\n    id\n  }\n}\n    ${SuccessStatusFragmentDoc}`;\nvar MalleableTransactionFieldsFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment malleableTransactionFieldsFragment on Transaction {\n  receiptsRoot\n  inputs {\n    type: __typename\n    ... on InputCoin {\n      txPointer\n    }\n    ... on InputContract {\n      txPointer\n    }\n  }\n  outputs {\n    type: __typename\n    ... on CoinOutput {\n      to\n      amount\n      assetId\n    }\n    ... on ContractOutput {\n      inputIndex\n      balanceRoot\n      stateRoot\n    }\n    ... on ChangeOutput {\n      to\n      amount\n      assetId\n    }\n    ... on VariableOutput {\n      to\n      amount\n      assetId\n    }\n    ... on ContractCreated {\n      contract\n      stateRoot\n    }\n  }\n}\n    `;\nvar FailureStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment FailureStatusFragment on FailureStatus {\n  type: __typename\n  totalGas\n  totalFee\n  time\n  reason\n  receipts {\n    ...receiptFragment\n  }\n}\n    ${ReceiptFragmentDoc}`;\nvar FailureStatusWithBlockIdFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment FailureStatusWithBlockIdFragment on FailureStatus {\n  ...FailureStatusFragment\n  block {\n    id\n  }\n}\n    ${FailureStatusFragmentDoc}`;\nvar SqueezedOutStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment SqueezedOutStatusFragment on SqueezedOutStatus {\n  type: __typename\n  reason\n}\n    `;\nvar PreconfirmationSuccessStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment PreconfirmationSuccessStatusFragment on PreconfirmationSuccessStatus {\n  type: __typename\n  totalGas\n  totalFee\n  resolvedOutputs {\n    utxoId\n    output {\n      type: __typename\n      ... on CoinOutput {\n        to\n        amount\n        assetId\n      }\n      ... on ContractOutput {\n        inputIndex\n        balanceRoot\n        stateRoot\n      }\n      ... on ChangeOutput {\n        to\n        amount\n        assetId\n      }\n      ... on VariableOutput {\n        to\n        amount\n        assetId\n      }\n      ... on ContractCreated {\n        contract\n        stateRoot\n      }\n    }\n  }\n  preconfirmationReceipts: receipts {\n    ...receiptFragment\n  }\n}\n    ${ReceiptFragmentDoc}`;\nvar PreconfirmationFailureStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment PreconfirmationFailureStatusFragment on PreconfirmationFailureStatus {\n  type: __typename\n  reason\n  totalGas\n  totalFee\n  resolvedOutputs {\n    utxoId\n    output {\n      type: __typename\n      ... on CoinOutput {\n        to\n        amount\n        assetId\n      }\n      ... on ContractOutput {\n        inputIndex\n        balanceRoot\n        stateRoot\n      }\n      ... on ChangeOutput {\n        to\n        amount\n        assetId\n      }\n      ... on VariableOutput {\n        to\n        amount\n        assetId\n      }\n      ... on ContractCreated {\n        contract\n        stateRoot\n      }\n    }\n  }\n  preconfirmationReceipts: receipts {\n    ...receiptFragment\n  }\n}\n    ${ReceiptFragmentDoc}`;\nvar TransactionStatusSubscriptionFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment transactionStatusSubscriptionFragment on TransactionStatus {\n  ... on SubmittedStatus {\n    ...SubmittedStatusFragment\n  }\n  ... on SuccessStatus {\n    ...SuccessStatusWithBlockIdFragment\n    transaction {\n      ...malleableTransactionFieldsFragment\n    }\n  }\n  ... on FailureStatus {\n    ...FailureStatusWithBlockIdFragment\n    transaction {\n      ...malleableTransactionFieldsFragment\n    }\n  }\n  ... on SqueezedOutStatus {\n    ...SqueezedOutStatusFragment\n  }\n  ... on PreconfirmationSuccessStatus {\n    ...PreconfirmationSuccessStatusFragment\n  }\n  ... on PreconfirmationFailureStatus {\n    ...PreconfirmationFailureStatusFragment\n  }\n}\n    ${SubmittedStatusFragmentDoc}\n${SuccessStatusWithBlockIdFragmentDoc}\n${MalleableTransactionFieldsFragmentDoc}\n${FailureStatusWithBlockIdFragmentDoc}\n${SqueezedOutStatusFragmentDoc}\n${PreconfirmationSuccessStatusFragmentDoc}\n${PreconfirmationFailureStatusFragmentDoc}`;\nvar TransactionStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment transactionStatusFragment on TransactionStatus {\n  ... on SubmittedStatus {\n    ...SubmittedStatusFragment\n  }\n  ... on SuccessStatus {\n    ...SuccessStatusFragment\n  }\n  ... on FailureStatus {\n    ...FailureStatusFragment\n  }\n  ... on SqueezedOutStatus {\n    ...SqueezedOutStatusFragment\n  }\n}\n    ${SubmittedStatusFragmentDoc}\n${SuccessStatusFragmentDoc}\n${FailureStatusFragmentDoc}\n${SqueezedOutStatusFragmentDoc}`;\nvar TransactionFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment transactionFragment on Transaction {\n  id\n  rawPayload\n  status {\n    ...transactionStatusFragment\n  }\n}\n    ${TransactionStatusFragmentDoc}`;\nvar TransactionRawPayloadFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment transactionRawPayloadFragment on Transaction {\n  id\n  rawPayload\n}\n    `;\nvar InputEstimatePredicatesFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment inputEstimatePredicatesFragment on Input {\n  ... on InputCoin {\n    predicateGasUsed\n  }\n  ... on InputMessage {\n    predicateGasUsed\n  }\n}\n    `;\nvar TransactionEstimatePredicatesFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment transactionEstimatePredicatesFragment on Transaction {\n  inputs {\n    ...inputEstimatePredicatesFragment\n  }\n}\n    ${InputEstimatePredicatesFragmentDoc}`;\nvar DryRunFailureAssembleTxFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment dryRunFailureAssembleTxFragment on DryRunFailureStatus {\n  type: __typename\n  reason\n  receipts {\n    ...receiptFragment\n  }\n}\n    ${ReceiptFragmentDoc}`;\nvar DryRunSuccessAssembleTxFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment dryRunSuccessAssembleTxFragment on DryRunSuccessStatus {\n  type: __typename\n  receipts {\n    ...receiptFragment\n  }\n}\n    ${ReceiptFragmentDoc}`;\nvar DryRunFailureStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment dryRunFailureStatusFragment on DryRunFailureStatus {\n  type: __typename\n  totalGas\n  totalFee\n  reason\n  programState {\n    returnType\n    data\n  }\n}\n    `;\nvar DryRunSuccessStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment dryRunSuccessStatusFragment on DryRunSuccessStatus {\n  type: __typename\n  totalGas\n  totalFee\n  programState {\n    returnType\n    data\n  }\n}\n    `;\nvar DryRunTransactionStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment dryRunTransactionStatusFragment on DryRunTransactionStatus {\n  ... on DryRunFailureStatus {\n    ...dryRunFailureStatusFragment\n  }\n  ... on DryRunSuccessStatus {\n    ...dryRunSuccessStatusFragment\n  }\n}\n    ${DryRunFailureStatusFragmentDoc}\n${DryRunSuccessStatusFragmentDoc}`;\nvar DryRunTransactionExecutionStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment dryRunTransactionExecutionStatusFragment on DryRunTransactionExecutionStatus {\n  id\n  status {\n    ...dryRunTransactionStatusFragment\n  }\n  receipts {\n    ...receiptFragment\n  }\n}\n    ${DryRunTransactionStatusFragmentDoc}\n${ReceiptFragmentDoc}`;\nvar BlockFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment blockFragment on Block {\n  id\n  height\n  header {\n    time\n    daHeight\n    stateTransitionBytecodeVersion\n    transactionsCount\n    transactionsRoot\n    messageOutboxRoot\n    eventInboxRoot\n    prevRoot\n    applicationHash\n  }\n  transactions {\n    id\n  }\n}\n    `;\nvar CoinFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment coinFragment on Coin {\n  type: __typename\n  utxoId\n  amount\n  assetId\n  blockCreated\n  txCreatedIdx\n}\n    `;\nvar MessageCoinFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment messageCoinFragment on MessageCoin {\n  type: __typename\n  sender\n  recipient\n  nonce\n  amount\n  assetId\n  daHeight\n}\n    `;\nvar MessageFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment messageFragment on Message {\n  amount\n  sender\n  recipient\n  data\n  daHeight\n}\n    `;\nvar GetMessageFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment getMessageFragment on Message {\n  ...messageFragment\n  nonce\n}\n    ${MessageFragmentDoc}`;\nvar MessageProofFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment messageProofFragment on MessageProof {\n  messageProof {\n    proofSet\n    proofIndex\n  }\n  blockProof {\n    proofSet\n    proofIndex\n  }\n  messageBlockHeader {\n    version\n    id\n    daHeight\n    consensusParametersVersion\n    stateTransitionBytecodeVersion\n    transactionsCount\n    messageReceiptCount\n    transactionsRoot\n    messageOutboxRoot\n    eventInboxRoot\n    height\n    prevRoot\n    time\n    applicationHash\n  }\n  commitBlockHeader {\n    version\n    id\n    daHeight\n    consensusParametersVersion\n    stateTransitionBytecodeVersion\n    transactionsCount\n    messageReceiptCount\n    transactionsRoot\n    messageOutboxRoot\n    eventInboxRoot\n    height\n    prevRoot\n    time\n    applicationHash\n  }\n  sender\n  recipient\n  amount\n  data\n}\n    `;\nvar TxParametersFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment TxParametersFragment on TxParameters {\n  version\n  maxInputs\n  maxOutputs\n  maxWitnesses\n  maxGasPerTx\n  maxSize\n  maxBytecodeSubsections\n}\n    `;\nvar PredicateParametersFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment PredicateParametersFragment on PredicateParameters {\n  version\n  maxPredicateLength\n  maxPredicateDataLength\n  maxGasPerPredicate\n  maxMessageDataLength\n}\n    `;\nvar ScriptParametersFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment ScriptParametersFragment on ScriptParameters {\n  version\n  maxScriptLength\n  maxScriptDataLength\n}\n    `;\nvar ContractParametersFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment ContractParametersFragment on ContractParameters {\n  version\n  contractMaxSize\n  maxStorageSlots\n}\n    `;\nvar FeeParametersFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment FeeParametersFragment on FeeParameters {\n  version\n  gasPriceFactor\n  gasPerByte\n}\n    `;\nvar DependentCostFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment DependentCostFragment on DependentCost {\n  ... on LightOperation {\n    type: __typename\n    base\n    unitsPerGas\n  }\n  ... on HeavyOperation {\n    type: __typename\n    base\n    gasPerUnit\n  }\n}\n    `;\nvar GasCostsFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment GasCostsFragment on GasCosts {\n  contractRoot {\n    ...DependentCostFragment\n  }\n  stateRoot {\n    ...DependentCostFragment\n  }\n  vmInitialization {\n    ...DependentCostFragment\n  }\n  s256 {\n    ...DependentCostFragment\n  }\n  ecr1\n  newStoragePerByte\n}\n    ${DependentCostFragmentDoc}`;\nvar ConsensusParametersFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment consensusParametersFragment on ConsensusParameters {\n  version\n  txParams {\n    ...TxParametersFragment\n  }\n  predicateParams {\n    ...PredicateParametersFragment\n  }\n  scriptParams {\n    ...ScriptParametersFragment\n  }\n  contractParams {\n    ...ContractParametersFragment\n  }\n  feeParams {\n    ...FeeParametersFragment\n  }\n  gasCosts {\n    ...GasCostsFragment\n  }\n  baseAssetId\n  chainId\n}\n    ${TxParametersFragmentDoc}\n${PredicateParametersFragmentDoc}\n${ScriptParametersFragmentDoc}\n${ContractParametersFragmentDoc}\n${FeeParametersFragmentDoc}\n${GasCostsFragmentDoc}`;\nvar ChainInfoFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment chainInfoFragment on ChainInfo {\n  name\n  daHeight\n  consensusParameters {\n    ...consensusParametersFragment\n  }\n  latestBlock {\n    header {\n      consensusParametersVersion\n    }\n  }\n}\n    ${ConsensusParametersFragmentDoc}`;\nvar ContractBalanceFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment contractBalanceFragment on ContractBalance {\n  contract\n  amount\n  assetId\n}\n    `;\nvar PageInfoFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment pageInfoFragment on PageInfo {\n  hasPreviousPage\n  hasNextPage\n  startCursor\n  endCursor\n}\n    `;\nvar NodeInfoFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment nodeInfoFragment on NodeInfo {\n  utxoValidation\n  vmBacktrace\n  maxTx\n  maxDepth\n  nodeVersion\n  indexation {\n    balances\n    coinsToSpend\n    assetMetadata\n  }\n}\n    `;\nvar RelayedTransactionStatusFragmentDoc = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    fragment relayedTransactionStatusFragment on RelayedTransactionStatus {\n  ... on RelayedTransactionFailed {\n    blockHeight\n    failure\n  }\n}\n    `;\nvar GetVersionDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getVersion {\n  nodeInfo {\n    nodeVersion\n  }\n}\n    `;\nvar GetNodeInfoDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getNodeInfo {\n  nodeInfo {\n    ...nodeInfoFragment\n  }\n}\n    ${NodeInfoFragmentDoc}`;\nvar GetChainDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getChain {\n  chain {\n    ...chainInfoFragment\n  }\n}\n    ${ChainInfoFragmentDoc}`;\nvar GetChainAndNodeInfoDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getChainAndNodeInfo {\n  chain {\n    ...chainInfoFragment\n  }\n  nodeInfo {\n    ...nodeInfoFragment\n  }\n}\n    ${ChainInfoFragmentDoc}\n${NodeInfoFragmentDoc}`;\nvar GetTransactionDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getTransaction($transactionId: TransactionId!) {\n  transaction(id: $transactionId) {\n    ...transactionFragment\n  }\n}\n    ${TransactionFragmentDoc}`;\nvar GetTransactionWithReceiptsDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getTransactionWithReceipts($transactionId: TransactionId!) {\n  transaction(id: $transactionId) {\n    id\n    rawPayload\n    status {\n      ... on SubmittedStatus {\n        ...SubmittedStatusFragment\n      }\n      ... on SuccessStatus {\n        ...SuccessStatusWithBlockIdFragment\n      }\n      ... on FailureStatus {\n        ...FailureStatusWithBlockIdFragment\n      }\n      ... on SqueezedOutStatus {\n        ...SqueezedOutStatusFragment\n      }\n      ... on PreconfirmationSuccessStatus {\n        ...PreconfirmationSuccessStatusFragment\n      }\n      ... on PreconfirmationFailureStatus {\n        ...PreconfirmationFailureStatusFragment\n      }\n    }\n  }\n}\n    ${SubmittedStatusFragmentDoc}\n${SuccessStatusWithBlockIdFragmentDoc}\n${FailureStatusWithBlockIdFragmentDoc}\n${SqueezedOutStatusFragmentDoc}\n${PreconfirmationSuccessStatusFragmentDoc}\n${PreconfirmationFailureStatusFragmentDoc}`;\nvar GetTransactionsDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getTransactions($after: String, $before: String, $first: Int, $last: Int) {\n  transactions(after: $after, before: $before, first: $first, last: $last) {\n    edges {\n      node {\n        rawPayload\n      }\n    }\n    pageInfo {\n      ...pageInfoFragment\n    }\n  }\n}\n    ${PageInfoFragmentDoc}`;\nvar GetTransactionsByOwnerDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getTransactionsByOwner($owner: Address!, $after: String, $before: String, $first: Int, $last: Int) {\n  transactionsByOwner(\n    owner: $owner\n    after: $after\n    before: $before\n    first: $first\n    last: $last\n  ) {\n    pageInfo {\n      ...pageInfoFragment\n    }\n    edges {\n      node {\n        ...transactionFragment\n      }\n    }\n  }\n}\n    ${PageInfoFragmentDoc}\n${TransactionFragmentDoc}`;\nvar EstimatePredicatesDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query estimatePredicates($encodedTransaction: HexString!) {\n  estimatePredicates(tx: $encodedTransaction) {\n    ...transactionEstimatePredicatesFragment\n  }\n}\n    ${TransactionEstimatePredicatesFragmentDoc}`;\nvar EstimatePredicatesAndGasPriceDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query estimatePredicatesAndGasPrice($encodedTransaction: HexString!, $blockHorizon: U32!) {\n  estimatePredicates(tx: $encodedTransaction) {\n    ...transactionEstimatePredicatesFragment\n  }\n  estimateGasPrice(blockHorizon: $blockHorizon) {\n    gasPrice\n  }\n}\n    ${TransactionEstimatePredicatesFragmentDoc}`;\nvar GetLatestBlockDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getLatestBlock {\n  chain {\n    latestBlock {\n      ...blockFragment\n    }\n  }\n}\n    ${BlockFragmentDoc}`;\nvar GetLatestBlockHeightDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getLatestBlockHeight {\n  chain {\n    latestBlock {\n      height\n    }\n  }\n}\n    `;\nvar GetBlockDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getBlock($blockId: BlockId, $height: U32) {\n  block(id: $blockId, height: $height) {\n    ...blockFragment\n  }\n}\n    ${BlockFragmentDoc}`;\nvar GetBlockWithTransactionsDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getBlockWithTransactions($blockId: BlockId, $blockHeight: U32) {\n  block(id: $blockId, height: $blockHeight) {\n    ...blockFragment\n    transactions {\n      ...transactionRawPayloadFragment\n    }\n  }\n}\n    ${BlockFragmentDoc}\n${TransactionRawPayloadFragmentDoc}`;\nvar GetBlocksDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getBlocks($after: String, $before: String, $first: Int, $last: Int) {\n  blocks(after: $after, before: $before, first: $first, last: $last) {\n    pageInfo {\n      ...pageInfoFragment\n    }\n    edges {\n      node {\n        ...blockFragment\n      }\n    }\n  }\n}\n    ${PageInfoFragmentDoc}\n${BlockFragmentDoc}`;\nvar GetCoinDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getCoin($coinId: UtxoId!) {\n  coin(utxoId: $coinId) {\n    ...coinFragment\n    owner\n  }\n}\n    ${CoinFragmentDoc}`;\nvar GetCoinsDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getCoins($filter: CoinFilterInput!, $after: String, $before: String, $first: Int, $last: Int) {\n  coins(\n    filter: $filter\n    after: $after\n    before: $before\n    first: $first\n    last: $last\n  ) {\n    pageInfo {\n      ...pageInfoFragment\n    }\n    edges {\n      node {\n        ...coinFragment\n      }\n    }\n  }\n}\n    ${PageInfoFragmentDoc}\n${CoinFragmentDoc}`;\nvar GetCoinsToSpendDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getCoinsToSpend($owner: Address!, $queryPerAsset: [SpendQueryElementInput!]!, $excludedIds: ExcludeInput) {\n  coinsToSpend(\n    owner: $owner\n    queryPerAsset: $queryPerAsset\n    excludedIds: $excludedIds\n  ) {\n    ...coinFragment\n    ...messageCoinFragment\n  }\n}\n    ${CoinFragmentDoc}\n${MessageCoinFragmentDoc}`;\nvar GetContractDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getContract($contractId: ContractId!) {\n  contract(id: $contractId) {\n    bytecode\n    id\n  }\n}\n    `;\nvar GetContractBalanceDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getContractBalance($contract: ContractId!, $asset: AssetId!) {\n  contractBalance(contract: $contract, asset: $asset) {\n    ...contractBalanceFragment\n  }\n}\n    ${ContractBalanceFragmentDoc}`;\nvar GetBalanceDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getBalance($owner: Address!, $assetId: AssetId!) {\n  balance(owner: $owner, assetId: $assetId) {\n    amount\n  }\n}\n    `;\nvar GetBalanceV2Document = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getBalanceV2($owner: Address!, $assetId: AssetId!) {\n  balance(owner: $owner, assetId: $assetId) {\n    amountU128\n  }\n}\n    `;\nvar GetLatestGasPriceDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getLatestGasPrice {\n  latestGasPrice {\n    gasPrice\n  }\n}\n    `;\nvar EstimateGasPriceDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query estimateGasPrice($blockHorizon: U32!) {\n  estimateGasPrice(blockHorizon: $blockHorizon) {\n    gasPrice\n  }\n}\n    `;\nvar GetBalancesDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getBalances($filter: BalanceFilterInput!, $after: String, $before: String, $first: Int, $last: Int) {\n  balances(\n    filter: $filter\n    after: $after\n    before: $before\n    first: $first\n    last: $last\n  ) {\n    edges {\n      node {\n        assetId\n        amount\n      }\n    }\n  }\n}\n    `;\nvar GetBalancesV2Document = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getBalancesV2($filter: BalanceFilterInput!, $after: String, $before: String, $first: Int, $last: Int, $supportsPagination: Boolean!) {\n  balances(\n    filter: $filter\n    after: $after\n    before: $before\n    first: $first\n    last: $last\n  ) {\n    pageInfo @include(if: $supportsPagination) {\n      ...pageInfoFragment\n    }\n    edges {\n      node {\n        assetId\n        amountU128\n      }\n    }\n  }\n}\n    ${PageInfoFragmentDoc}`;\nvar GetMessagesDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getMessages($owner: Address!, $after: String, $before: String, $first: Int, $last: Int) {\n  messages(\n    owner: $owner\n    after: $after\n    before: $before\n    first: $first\n    last: $last\n  ) {\n    pageInfo {\n      ...pageInfoFragment\n    }\n    edges {\n      node {\n        ...getMessageFragment\n      }\n    }\n  }\n}\n    ${PageInfoFragmentDoc}\n${GetMessageFragmentDoc}`;\nvar DaCompressedBlockDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query daCompressedBlock($height: U32!) {\n  daCompressedBlock(height: $height) {\n    bytes\n  }\n}\n    `;\nvar GetMessageProofDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getMessageProof($transactionId: TransactionId!, $nonce: Nonce!, $commitBlockId: BlockId, $commitBlockHeight: U32) {\n  messageProof(\n    transactionId: $transactionId\n    nonce: $nonce\n    commitBlockId: $commitBlockId\n    commitBlockHeight: $commitBlockHeight\n  ) {\n    ...messageProofFragment\n  }\n}\n    ${MessageProofFragmentDoc}`;\nvar GetMessageStatusDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getMessageStatus($nonce: Nonce!) {\n  messageStatus(nonce: $nonce) {\n    state\n  }\n}\n    `;\nvar GetRelayedTransactionStatusDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getRelayedTransactionStatus($relayedTransactionId: RelayedTransactionId!) {\n  relayedTransactionStatus(id: $relayedTransactionId) {\n    ...relayedTransactionStatusFragment\n  }\n}\n    ${RelayedTransactionStatusFragmentDoc}`;\nvar GetAssetDetailsDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getAssetDetails($assetId: AssetId!) {\n  assetDetails(id: $assetId) {\n    subId\n    contractId\n    totalSupply\n  }\n}\n    `;\nvar AssembleTxDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query assembleTx($tx: HexString!, $blockHorizon: U32!, $requiredBalances: [RequiredBalance!]!, $feeAddressIndex: U16!, $excludeInput: ExcludeInput, $estimatePredicates: Boolean, $reserveGas: U64) {\n  assembleTx(\n    tx: $tx\n    blockHorizon: $blockHorizon\n    requiredBalances: $requiredBalances\n    feeAddressIndex: $feeAddressIndex\n    excludeInput: $excludeInput\n    estimatePredicates: $estimatePredicates\n    reserveGas: $reserveGas\n  ) {\n    transaction {\n      id\n      inputs {\n        ... on InputCoin {\n          ...InputCoinFragment\n        }\n        ... on InputContract {\n          ...InputContractFragment\n        }\n        ... on InputMessage {\n          ...InputMessageFragment\n        }\n      }\n      outputs {\n        ... on CoinOutput {\n          ...OutputCoinFragment\n        }\n        ... on ContractOutput {\n          ...OutputContractFragment\n        }\n        ... on ChangeOutput {\n          ...OutputChangeFragment\n        }\n        ... on VariableOutput {\n          ...OutputVariableFragment\n        }\n        ... on ContractCreated {\n          ...OutputContractCreatedFragment\n        }\n      }\n      policies {\n        tip\n        witnessLimit\n        maturity\n        maxFee\n      }\n      witnesses\n      scriptGasLimit\n    }\n    status {\n      ... on DryRunFailureStatus {\n        ...dryRunFailureAssembleTxFragment\n      }\n      ... on DryRunSuccessStatus {\n        ...dryRunSuccessAssembleTxFragment\n      }\n    }\n    gasPrice\n  }\n}\n    ${InputCoinFragmentDoc}\n${InputContractFragmentDoc}\n${InputMessageFragmentDoc}\n${OutputCoinFragmentDoc}\n${OutputContractFragmentDoc}\n${OutputChangeFragmentDoc}\n${OutputVariableFragmentDoc}\n${OutputContractCreatedFragmentDoc}\n${DryRunFailureAssembleTxFragmentDoc}\n${DryRunSuccessAssembleTxFragmentDoc}`;\nvar DryRunDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query dryRun($encodedTransactions: [HexString!]!, $utxoValidation: Boolean, $gasPrice: U64) {\n  dryRun(\n    txs: $encodedTransactions\n    utxoValidation: $utxoValidation\n    gasPrice: $gasPrice\n  ) {\n    ...dryRunTransactionExecutionStatusFragment\n  }\n}\n    ${DryRunTransactionExecutionStatusFragmentDoc}`;\nvar SubmitDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    mutation submit($encodedTransaction: HexString!) {\n  submit(tx: $encodedTransaction) {\n    id\n  }\n}\n    `;\nvar ProduceBlocksDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    mutation produceBlocks($startTimestamp: Tai64Timestamp, $blocksToProduce: U32!) {\n  produceBlocks(\n    blocksToProduce: $blocksToProduce\n    startTimestamp: $startTimestamp\n  )\n}\n    `;\nvar GetMessageByNonceDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getMessageByNonce($nonce: Nonce!) {\n  message(nonce: $nonce) {\n    ...messageFragment\n  }\n}\n    ${MessageFragmentDoc}`;\nvar IsUserAccountDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query isUserAccount($blobId: BlobId!, $contractId: ContractId!, $transactionId: TransactionId!) {\n  blob(id: $blobId) {\n    id\n  }\n  contract(id: $contractId) {\n    id\n  }\n  transaction(id: $transactionId) {\n    id\n  }\n}\n    `;\nvar GetConsensusParametersVersionDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    query getConsensusParametersVersion {\n  chain {\n    latestBlock {\n      header {\n        consensusParametersVersion\n      }\n    }\n  }\n}\n    `;\nvar SubmitAndAwaitStatusDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    subscription submitAndAwaitStatus($encodedTransaction: HexString!, $estimatePredicates: Boolean, $includePreConfirmation: Boolean) {\n  submitAndAwaitStatus(\n    tx: $encodedTransaction\n    estimatePredicates: $estimatePredicates\n    includePreconfirmation: $includePreConfirmation\n  ) {\n    ...transactionStatusSubscriptionFragment\n  }\n}\n    ${TransactionStatusSubscriptionFragmentDoc}`;\nvar StatusChangeDocument = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n    subscription statusChange($transactionId: TransactionId!, $includePreConfirmation: Boolean) {\n  statusChange(\n    id: $transactionId\n    includePreconfirmation: $includePreConfirmation\n  ) {\n    ...transactionStatusSubscriptionFragment\n  }\n}\n    ${TransactionStatusSubscriptionFragmentDoc}`;\nfunction getSdk(requester) {\n  return {\n    getVersion(variables, options) {\n      return requester(GetVersionDocument, variables, options);\n    },\n    getNodeInfo(variables, options) {\n      return requester(GetNodeInfoDocument, variables, options);\n    },\n    getChain(variables, options) {\n      return requester(GetChainDocument, variables, options);\n    },\n    getChainAndNodeInfo(variables, options) {\n      return requester(GetChainAndNodeInfoDocument, variables, options);\n    },\n    getTransaction(variables, options) {\n      return requester(GetTransactionDocument, variables, options);\n    },\n    getTransactionWithReceipts(variables, options) {\n      return requester(GetTransactionWithReceiptsDocument, variables, options);\n    },\n    getTransactions(variables, options) {\n      return requester(GetTransactionsDocument, variables, options);\n    },\n    getTransactionsByOwner(variables, options) {\n      return requester(GetTransactionsByOwnerDocument, variables, options);\n    },\n    estimatePredicates(variables, options) {\n      return requester(EstimatePredicatesDocument, variables, options);\n    },\n    estimatePredicatesAndGasPrice(variables, options) {\n      return requester(EstimatePredicatesAndGasPriceDocument, variables, options);\n    },\n    getLatestBlock(variables, options) {\n      return requester(GetLatestBlockDocument, variables, options);\n    },\n    getLatestBlockHeight(variables, options) {\n      return requester(GetLatestBlockHeightDocument, variables, options);\n    },\n    getBlock(variables, options) {\n      return requester(GetBlockDocument, variables, options);\n    },\n    getBlockWithTransactions(variables, options) {\n      return requester(GetBlockWithTransactionsDocument, variables, options);\n    },\n    getBlocks(variables, options) {\n      return requester(GetBlocksDocument, variables, options);\n    },\n    getCoin(variables, options) {\n      return requester(GetCoinDocument, variables, options);\n    },\n    getCoins(variables, options) {\n      return requester(GetCoinsDocument, variables, options);\n    },\n    getCoinsToSpend(variables, options) {\n      return requester(GetCoinsToSpendDocument, variables, options);\n    },\n    getContract(variables, options) {\n      return requester(GetContractDocument, variables, options);\n    },\n    getContractBalance(variables, options) {\n      return requester(GetContractBalanceDocument, variables, options);\n    },\n    getBalance(variables, options) {\n      return requester(GetBalanceDocument, variables, options);\n    },\n    getBalanceV2(variables, options) {\n      return requester(GetBalanceV2Document, variables, options);\n    },\n    getLatestGasPrice(variables, options) {\n      return requester(GetLatestGasPriceDocument, variables, options);\n    },\n    estimateGasPrice(variables, options) {\n      return requester(EstimateGasPriceDocument, variables, options);\n    },\n    getBalances(variables, options) {\n      return requester(GetBalancesDocument, variables, options);\n    },\n    getBalancesV2(variables, options) {\n      return requester(GetBalancesV2Document, variables, options);\n    },\n    getMessages(variables, options) {\n      return requester(GetMessagesDocument, variables, options);\n    },\n    daCompressedBlock(variables, options) {\n      return requester(DaCompressedBlockDocument, variables, options);\n    },\n    getMessageProof(variables, options) {\n      return requester(GetMessageProofDocument, variables, options);\n    },\n    getMessageStatus(variables, options) {\n      return requester(GetMessageStatusDocument, variables, options);\n    },\n    getRelayedTransactionStatus(variables, options) {\n      return requester(GetRelayedTransactionStatusDocument, variables, options);\n    },\n    getAssetDetails(variables, options) {\n      return requester(GetAssetDetailsDocument, variables, options);\n    },\n    assembleTx(variables, options) {\n      return requester(AssembleTxDocument, variables, options);\n    },\n    dryRun(variables, options) {\n      return requester(DryRunDocument, variables, options);\n    },\n    submit(variables, options) {\n      return requester(SubmitDocument, variables, options);\n    },\n    produceBlocks(variables, options) {\n      return requester(ProduceBlocksDocument, variables, options);\n    },\n    getMessageByNonce(variables, options) {\n      return requester(GetMessageByNonceDocument, variables, options);\n    },\n    isUserAccount(variables, options) {\n      return requester(IsUserAccountDocument, variables, options);\n    },\n    getConsensusParametersVersion(variables, options) {\n      return requester(GetConsensusParametersVersionDocument, variables, options);\n    },\n    submitAndAwaitStatus(variables, options) {\n      return requester(SubmitAndAwaitStatusDocument, variables, options);\n    },\n    statusChange(variables, options) {\n      return requester(StatusChangeDocument, variables, options);\n    }\n  };\n}\n__name(getSdk, \"getSdk\");\n\n// src/providers/assemble-tx-helpers.ts\n\n\n\n\nvar resolveAccountForAssembleTxParams = /* @__PURE__ */ __name((account) => {\n  const assembleTxAccount = {};\n  const accountIsPredicate = \"bytes\" in account;\n  if (accountIsPredicate) {\n    assembleTxAccount.predicate = {\n      predicate: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(account.bytes),\n      predicateAddress: account.address.toB256(),\n      predicateData: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(account.getPredicateData())\n    };\n  } else {\n    assembleTxAccount.address = account.address.toB256();\n  }\n  return assembleTxAccount;\n}, \"resolveAccountForAssembleTxParams\");\nvar setAndValidateGasAndFeeForAssembledTx = /* @__PURE__ */ __name(async (params) => {\n  const { gasPrice, transactionRequest, setGasLimit, setMaxFee, provider } = params;\n  const gasLimitSpecified = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(setGasLimit);\n  const maxFeeSpecified = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(setMaxFee);\n  const isScriptTx = transactionRequest.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script;\n  if (gasLimitSpecified && isScriptTx) {\n    const requiredGasLimit = transactionRequest.gasLimit;\n    if ((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(setGasLimit).lt((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(requiredGasLimit))) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.GAS_LIMIT_TOO_LOW,\n        `Gas limit '${setGasLimit}' is lower than the required: '${requiredGasLimit}'.`\n      );\n    }\n    transactionRequest.gasLimit = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(setGasLimit);\n  }\n  if (maxFeeSpecified) {\n    const requiredMaxFee = transactionRequest.maxFee;\n    if ((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(setMaxFee).lt(requiredMaxFee)) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.MAX_FEE_TOO_LOW,\n        `Max fee '${setMaxFee}' is lower than the required: '${requiredMaxFee}'.`\n      );\n    }\n    transactionRequest.maxFee = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(setMaxFee);\n  }\n  if (gasLimitSpecified && !maxFeeSpecified) {\n    const { maxFee: feeForGasPrice } = await provider.estimateTxGasAndFee({\n      transactionRequest,\n      gasPrice\n    });\n    transactionRequest.maxFee = feeForGasPrice;\n  }\n  return transactionRequest;\n}, \"setAndValidateGasAndFeeForAssembledTx\");\n\n// src/providers/fuel-graphql-subscriber.ts\n\n\n\n// src/providers/utils/handle-gql-error-message.ts\n\nvar gqlErrorMessage = {\n  RPC_CONSISTENCY: /The required fuel block height is higher than the current block height. Required: \\d+, Current: \\d+/,\n  NOT_ENOUGH_COINS_MAX_COINS: /the target cannot be met due to no coins available or exceeding the \\d+ coin limit./,\n  ASSET_NOT_FOUND: /resource was not found in table/,\n  MULTIPLE_CHANGE_POLICIES: /The asset ([a-fA-F0-9]{64}) has multiple change policies/,\n  DUPLICATE_CHANGE_OUTPUT_ACCOUNT: /required balances contain duplicate \\(asset, account\\) pair/,\n  INSUFFICIENT_FEE_AMOUNT: /InsufficientFeeAmount { expected: (\\d+), provided: (\\d+) }/\n};\nvar mapGqlErrorMessage = /* @__PURE__ */ __name((error) => {\n  if (gqlErrorMessage.NOT_ENOUGH_COINS_MAX_COINS.test(error.message)) {\n    return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INSUFFICIENT_FUNDS_OR_MAX_COINS,\n      `Insufficient funds or too many small value coins. Consider combining UTXOs.`,\n      {},\n      error\n    );\n  }\n  if (gqlErrorMessage.MULTIPLE_CHANGE_POLICIES.test(error.message)) {\n    const match = error.message.match(/asset ([a-fA-F0-9]{64})/);\n    const assetId = match?.[1] || \"\";\n    return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.CHANGE_OUTPUT_COLLISION,\n      `OutputChange address for asset 0x${assetId} differs between transaction request and assembleTx parameters.`,\n      {},\n      error\n    );\n  }\n  if (gqlErrorMessage.DUPLICATE_CHANGE_OUTPUT_ACCOUNT.test(error.message)) {\n    return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.DUPLICATE_CHANGE_OUTPUT_ACCOUNT,\n      `The parameter 'accountCoinQuantities' of assembleTx contains duplicate entries for the same assetId with different 'changeOutputAccount'.`,\n      {},\n      error\n    );\n  }\n  if (gqlErrorMessage.ASSET_NOT_FOUND.test(error.message)) {\n    return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.ASSET_NOT_FOUND,\n      `Asset not found for given asset id.`,\n      {},\n      error\n    );\n  }\n  if (gqlErrorMessage.RPC_CONSISTENCY.test(error.message)) {\n    return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.RPC_CONSISTENCY, error.message, {}, error);\n  }\n  if (gqlErrorMessage.INSUFFICIENT_FEE_AMOUNT.test(error.message)) {\n    const match = error.message.match(gqlErrorMessage.INSUFFICIENT_FEE_AMOUNT);\n    return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.FUNDS_TOO_LOW, match?.[0] || error.message, {}, error);\n  }\n  return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_REQUEST, error.message, {}, error);\n}, \"mapGqlErrorMessage\");\nvar mapGqlErrorWithIncompatibleNodeVersion = /* @__PURE__ */ __name((error, incompatibleNodeVersionMessage) => {\n  if (!incompatibleNodeVersionMessage) {\n    return error;\n  }\n  return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n    error.code,\n    `${error.message}\n\n${incompatibleNodeVersionMessage}`,\n    error.metadata,\n    error.rawError\n  );\n}, \"mapGqlErrorWithIncompatibleNodeVersion\");\nvar assertGqlResponseHasNoErrors = /* @__PURE__ */ __name((errors, incompatibleNodeVersionMessage = false) => {\n  if (!Array.isArray(errors)) {\n    return;\n  }\n  const mappedErrors = errors.map(mapGqlErrorMessage);\n  if (mappedErrors.length === 1) {\n    throw mapGqlErrorWithIncompatibleNodeVersion(mappedErrors[0], incompatibleNodeVersionMessage);\n  }\n  const errorMessage = mappedErrors.map((err) => err.message).join(\"\\n\");\n  throw mapGqlErrorWithIncompatibleNodeVersion(\n    new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_REQUEST, errorMessage, {}, mappedErrors),\n    incompatibleNodeVersionMessage\n  );\n}, \"assertGqlResponseHasNoErrors\");\n\n// src/providers/fuel-graphql-subscriber.ts\nvar FuelGraphqlSubscriber = class _FuelGraphqlSubscriber {\n  constructor(stream, onEvent) {\n    this.stream = stream;\n    this.onEvent = onEvent;\n  }\n  static {\n    __name(this, \"FuelGraphqlSubscriber\");\n  }\n  static incompatibleNodeVersionMessage = false;\n  static textDecoder = new TextDecoder();\n  static async create(options) {\n    const { url, query, variables, fetchFn, operationName, onEvent } = options;\n    const response = await fetchFn(`${url}-sub`, {\n      method: \"POST\",\n      body: JSON.stringify({\n        query: (0,graphql__WEBPACK_IMPORTED_MODULE_10__.print)(query),\n        variables,\n        operationName\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"text/event-stream\"\n      }\n    });\n    const [errorReader, resultReader] = response.body.tee().map((stream) => stream.getReader());\n    await new _FuelGraphqlSubscriber(errorReader).next();\n    return new _FuelGraphqlSubscriber(resultReader, onEvent);\n  }\n  /**\n   * This method will take a stream reader and parse the event from the stream.\n   *\n   * @param reader - The reader of the SSE stream\n   * @param parsingLeftover - The leftover string from parsing the previous event\n   * @returns The event parsed as a full GraphQL response, whether the stream is done and the leftover string after parsing\n   */\n  static async readEvent(reader, parsingLeftover = \"\") {\n    let text = parsingLeftover;\n    const regex = /data:.*\\n\\n/g;\n    while (true) {\n      const matches = [...text.matchAll(regex)].flatMap((match) => match);\n      if (matches.length > 0) {\n        try {\n          const event = JSON.parse(matches[0].replace(/^data:/, \"\"));\n          return {\n            event,\n            done: false,\n            parsingLeftover: text.replace(matches[0], \"\")\n          };\n        } catch (e) {\n          throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n            _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.STREAM_PARSING_ERROR,\n            `Error while parsing stream data response: ${text}`\n          );\n        }\n      }\n      const { value, done } = await reader.read();\n      if (done) {\n        return { event: void 0, done, parsingLeftover: \"\" };\n      }\n      const decoded = _FuelGraphqlSubscriber.textDecoder.decode(value).replace(\":keep-alive-text\\n\\n\", \"\");\n      text += decoded;\n    }\n  }\n  events = [];\n  parsingLeftover = \"\";\n  /**\n   * Gets automatically called when iterating in a `for-await-of` loop.\n   * It can also be called manually.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator/next\n   */\n  async next() {\n    while (true) {\n      const nextEvent = this.events.shift();\n      if (nextEvent) {\n        this.onEvent?.(nextEvent);\n        assertGqlResponseHasNoErrors(\n          nextEvent.errors,\n          _FuelGraphqlSubscriber.incompatibleNodeVersionMessage\n        );\n        return { value: nextEvent.data, done: false };\n      }\n      const { event, done, parsingLeftover } = await _FuelGraphqlSubscriber.readEvent(\n        this.stream,\n        this.parsingLeftover\n      );\n      this.parsingLeftover = parsingLeftover;\n      if (done) {\n        return { value: void 0, done: true };\n      }\n      this.events.push(event);\n    }\n  }\n  /**\n   * Gets called when `break` is called in a `for-await-of` loop.\n   */\n  return() {\n    return Promise.resolve({ done: true, value: void 0 });\n  }\n  [Symbol.asyncIterator]() {\n    return this;\n  }\n};\n\n// src/providers/resource-cache.ts\n\n\n\n// src/providers/transaction-request/input.ts\n\n\n\n\n\n\nvar inputify = /* @__PURE__ */ __name((value) => {\n  const { type } = value;\n  switch (value.type) {\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin: {\n      const predicate = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.predicate ?? \"0x\");\n      const predicateData = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.predicateData ?? \"0x\");\n      return {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin,\n        txID: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.id).slice(0, _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.BYTES_32)),\n        outputIndex: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toNumber)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.id).slice(_fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.BYTES_32, _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.UTXO_ID_LEN)),\n        owner: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.owner),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(value.amount),\n        assetId: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.assetId),\n        txPointer: {\n          blockHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toNumber)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.txPointer).slice(0, 8)),\n          txIndex: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toNumber)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.txPointer).slice(8, 16))\n        },\n        witnessIndex: value.witnessIndex,\n        predicateGasUsed: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(value.predicateGasUsed),\n        predicateLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(predicate.length),\n        predicateDataLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(predicateData.length),\n        predicate: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(predicate),\n        predicateData: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(predicateData)\n      };\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Contract: {\n      return {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Contract,\n        txID: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.txID || _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32),\n        outputIndex: 0,\n        balanceRoot: _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32,\n        stateRoot: _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32,\n        txPointer: {\n          blockHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toNumber)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.txPointer).slice(0, 8)),\n          txIndex: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toNumber)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.txPointer).slice(8, 16))\n        },\n        contractID: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.contractId)\n      };\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message: {\n      const predicate = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.predicate ?? \"0x\");\n      const predicateData = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.predicateData ?? \"0x\");\n      const data = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value.data ?? \"0x\");\n      return {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message,\n        sender: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.sender),\n        recipient: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.recipient),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(value.amount),\n        nonce: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.nonce),\n        witnessIndex: value.witnessIndex,\n        predicateGasUsed: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(value.predicateGasUsed),\n        predicateLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(predicate.length),\n        predicateDataLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(predicateData.length),\n        predicate: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(predicate),\n        predicateData: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(predicateData),\n        data: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(data),\n        dataLength: data.length\n      };\n    }\n    default: {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_TRANSACTION_INPUT,\n        `Invalid transaction input type: ${type}.`\n      );\n    }\n  }\n}, \"inputify\");\n\n// src/providers/transaction-request/output.ts\n\n\n\n\n\nvar outputify = /* @__PURE__ */ __name((value) => {\n  const { type } = value;\n  switch (type) {\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin: {\n      return {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin,\n        to: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.to),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(value.amount),\n        assetId: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.assetId)\n      };\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Contract: {\n      return {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Contract,\n        inputIndex: value.inputIndex,\n        balanceRoot: _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32,\n        stateRoot: _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32\n      };\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change: {\n      return {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change,\n        to: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.to),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0),\n        assetId: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.assetId)\n      };\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable: {\n      return {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable,\n        to: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.to || _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(value.amount),\n        assetId: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.assetId || _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32)\n      };\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.ContractCreated: {\n      return {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.ContractCreated,\n        contractId: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.contractId),\n        stateRoot: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(value.stateRoot)\n      };\n    }\n    default: {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_TRANSACTION_INPUT,\n        `Invalid transaction output type: ${type}.`\n      );\n    }\n  }\n}, \"outputify\");\n\n// src/providers/transaction-request/transaction-request.ts\n\n\n\n\n\n\n\n\n\n// src/providers/message.ts\nvar isMessageCoin = /* @__PURE__ */ __name((message) => !(\"data\" in message), \"isMessageCoin\");\n\n// src/providers/resource.ts\nvar isRawCoin = /* @__PURE__ */ __name((resource) => \"utxoId\" in resource, \"isRawCoin\");\nvar isRawMessage = /* @__PURE__ */ __name((resource) => \"recipient\" in resource, \"isRawMessage\");\nvar isCoin = /* @__PURE__ */ __name((resource) => \"id\" in resource, \"isCoin\");\nvar isMessage = /* @__PURE__ */ __name((resource) => \"recipient\" in resource, \"isMessage\");\n\n// src/providers/utils/receipts.ts\n\n\n\n// src/providers/utils/serialization.ts\n\n\n\n\n\nvar deserializeChain = /* @__PURE__ */ __name((chain) => {\n  const { name, daHeight, consensusParameters, latestBlock } = chain;\n  const {\n    contractParams,\n    feeParams,\n    predicateParams,\n    scriptParams,\n    txParams,\n    gasCosts,\n    baseAssetId,\n    chainId,\n    version\n  } = consensusParameters;\n  return {\n    name,\n    baseChainHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(daHeight),\n    consensusParameters: {\n      version,\n      chainId: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(chainId),\n      baseAssetId,\n      feeParameters: {\n        version: feeParams.version,\n        gasPerByte: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(feeParams.gasPerByte),\n        gasPriceFactor: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(feeParams.gasPriceFactor)\n      },\n      contractParameters: {\n        version: contractParams.version,\n        contractMaxSize: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(contractParams.contractMaxSize),\n        maxStorageSlots: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(contractParams.maxStorageSlots)\n      },\n      txParameters: {\n        version: txParams.version,\n        maxInputs: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(txParams.maxInputs),\n        maxOutputs: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(txParams.maxOutputs),\n        maxWitnesses: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(txParams.maxWitnesses),\n        maxGasPerTx: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(txParams.maxGasPerTx),\n        maxSize: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(txParams.maxSize),\n        maxBytecodeSubsections: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(txParams.maxBytecodeSubsections)\n      },\n      predicateParameters: {\n        version: predicateParams.version,\n        maxPredicateLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(predicateParams.maxPredicateLength),\n        maxPredicateDataLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(predicateParams.maxPredicateDataLength),\n        maxGasPerPredicate: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(predicateParams.maxGasPerPredicate),\n        maxMessageDataLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(predicateParams.maxMessageDataLength)\n      },\n      scriptParameters: {\n        version: scriptParams.version,\n        maxScriptLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(scriptParams.maxScriptLength),\n        maxScriptDataLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(scriptParams.maxScriptDataLength)\n      },\n      gasCosts\n    },\n    latestBlock\n  };\n}, \"deserializeChain\");\nvar serializeChain = /* @__PURE__ */ __name((chain) => {\n  const { name, baseChainHeight, consensusParameters, latestBlock } = chain;\n  const {\n    contractParameters,\n    feeParameters,\n    predicateParameters,\n    scriptParameters,\n    txParameters,\n    gasCosts,\n    baseAssetId,\n    chainId,\n    version\n  } = consensusParameters;\n  return {\n    name,\n    daHeight: baseChainHeight.toString(),\n    consensusParameters: {\n      version,\n      chainId: chainId.toString(),\n      baseAssetId,\n      feeParams: {\n        version: feeParameters.version,\n        gasPerByte: feeParameters.gasPerByte.toString(),\n        gasPriceFactor: feeParameters.gasPriceFactor.toString()\n      },\n      contractParams: {\n        version: contractParameters.version,\n        contractMaxSize: contractParameters.contractMaxSize.toString(),\n        maxStorageSlots: contractParameters.maxStorageSlots.toString()\n      },\n      txParams: {\n        version: txParameters.version,\n        maxInputs: txParameters.maxInputs.toString(),\n        maxOutputs: txParameters.maxOutputs.toString(),\n        maxWitnesses: txParameters.maxWitnesses.toString(),\n        maxGasPerTx: txParameters.maxGasPerTx.toString(),\n        maxSize: txParameters.maxSize.toString(),\n        maxBytecodeSubsections: txParameters.maxBytecodeSubsections.toString()\n      },\n      predicateParams: {\n        version: predicateParameters.version,\n        maxPredicateLength: predicateParameters.maxPredicateLength.toString(),\n        maxPredicateDataLength: predicateParameters.maxPredicateDataLength.toString(),\n        maxGasPerPredicate: predicateParameters.maxGasPerPredicate.toString(),\n        maxMessageDataLength: predicateParameters.maxMessageDataLength.toString()\n      },\n      scriptParams: {\n        version: scriptParameters.version,\n        maxScriptLength: scriptParameters.maxScriptLength.toString(),\n        maxScriptDataLength: scriptParameters.maxScriptDataLength.toString()\n      },\n      gasCosts\n    },\n    latestBlock\n  };\n}, \"serializeChain\");\nvar deserializeNodeInfo = /* @__PURE__ */ __name((nodeInfo) => {\n  const { maxDepth, maxTx, nodeVersion, utxoValidation, vmBacktrace, indexation } = nodeInfo;\n  return {\n    maxDepth: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(maxDepth),\n    maxTx: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(maxTx),\n    nodeVersion,\n    utxoValidation,\n    vmBacktrace,\n    indexation\n  };\n}, \"deserializeNodeInfo\");\nvar serializeNodeInfo = /* @__PURE__ */ __name((nodeInfo) => {\n  const { maxDepth, maxTx, nodeVersion, utxoValidation, vmBacktrace, indexation } = nodeInfo;\n  return {\n    maxDepth: maxDepth.toString(),\n    maxTx: maxTx.toString(),\n    nodeVersion,\n    utxoValidation,\n    vmBacktrace,\n    indexation\n  };\n}, \"serializeNodeInfo\");\nvar deserializeProviderCache = /* @__PURE__ */ __name((cache2) => ({\n  consensusParametersTimestamp: cache2.consensusParametersTimestamp,\n  chain: deserializeChain(cache2.chain),\n  nodeInfo: deserializeNodeInfo(cache2.nodeInfo)\n}), \"deserializeProviderCache\");\nvar serializeProviderCache = /* @__PURE__ */ __name(async (provider) => ({\n  consensusParametersTimestamp: provider.consensusParametersTimestamp,\n  chain: serializeChain(await provider.getChain()),\n  nodeInfo: serializeNodeInfo(await provider.getNode())\n}), \"serializeProviderCache\");\nvar hexOrZero = /* @__PURE__ */ __name((hex) => hex || _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32, \"hexOrZero\");\nvar deserializeReceipt = /* @__PURE__ */ __name((receipt) => {\n  const { receiptType } = receipt;\n  switch (receiptType) {\n    case \"CALL\" /* Call */: {\n      const id = hexOrZero(receipt.id || receipt.contractId);\n      const callReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Call,\n        id,\n        to: hexOrZero(receipt?.to),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.amount),\n        assetId: hexOrZero(receipt.assetId),\n        gas: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.gas),\n        param1: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.param1),\n        param2: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.param2),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return callReceipt;\n    }\n    case \"RETURN\" /* Return */: {\n      const returnReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Return,\n        id: hexOrZero(receipt.id || receipt.contractId),\n        val: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.val),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return returnReceipt;\n    }\n    case \"RETURN_DATA\" /* ReturnData */: {\n      const returnDataReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.ReturnData,\n        id: hexOrZero(receipt.id || receipt.contractId),\n        ptr: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.ptr),\n        len: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.len),\n        digest: hexOrZero(receipt.digest),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        data: hexOrZero(receipt.data),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return returnDataReceipt;\n    }\n    case \"PANIC\" /* Panic */: {\n      const panicReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Panic,\n        id: hexOrZero(receipt.id),\n        reason: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.reason),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is),\n        contractId: hexOrZero(receipt.contractId)\n      };\n      return panicReceipt;\n    }\n    case \"REVERT\" /* Revert */: {\n      const revertReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Revert,\n        id: hexOrZero(receipt.id || receipt.contractId),\n        val: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.ra),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return revertReceipt;\n    }\n    case \"LOG\" /* Log */: {\n      const ra = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.ra);\n      const rb = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.rb);\n      const rc = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.rc);\n      const rd = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.rd);\n      const logReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Log,\n        id: hexOrZero(receipt.id || receipt.contractId),\n        ra,\n        rb,\n        rc,\n        rd,\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return logReceipt;\n    }\n    case \"LOG_DATA\" /* LogData */: {\n      const ra = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.ra);\n      const rb = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.rb);\n      const logDataReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.LogData,\n        id: hexOrZero(receipt.id || receipt.contractId),\n        ra,\n        rb,\n        ptr: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.ptr),\n        len: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.len),\n        digest: hexOrZero(receipt.digest),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        data: hexOrZero(receipt.data),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return logDataReceipt;\n    }\n    case \"TRANSFER\" /* Transfer */: {\n      const id = hexOrZero(receipt.id || receipt.contractId);\n      const transferReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Transfer,\n        id,\n        to: hexOrZero(receipt.toAddress || receipt?.to),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.amount),\n        assetId: hexOrZero(receipt.assetId),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return transferReceipt;\n    }\n    case \"TRANSFER_OUT\" /* TransferOut */: {\n      const id = hexOrZero(receipt.id || receipt.contractId);\n      const transferOutReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.TransferOut,\n        id,\n        to: hexOrZero(receipt.toAddress || receipt.to),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.amount),\n        assetId: hexOrZero(receipt.assetId),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return transferOutReceipt;\n    }\n    case \"SCRIPT_RESULT\" /* ScriptResult */: {\n      const scriptResultReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.ScriptResult,\n        result: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.result),\n        gasUsed: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.gasUsed)\n      };\n      return scriptResultReceipt;\n    }\n    case \"MESSAGE_OUT\" /* MessageOut */: {\n      const sender = hexOrZero(receipt.sender);\n      const recipient = hexOrZero(receipt.recipient);\n      const nonce = hexOrZero(receipt.nonce);\n      const amount = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.amount);\n      const data = receipt.data ? (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(receipt.data) : Uint8Array.from([]);\n      const digest = hexOrZero(receipt.digest);\n      const len = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.len).toNumber();\n      const messageId = _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputMessageCoder.getMessageId({\n        sender,\n        recipient,\n        nonce,\n        amount,\n        data: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(data)\n      });\n      const receiptMessageOut = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.MessageOut,\n        sender,\n        recipient,\n        amount,\n        nonce,\n        len,\n        data,\n        digest,\n        messageId\n      };\n      return receiptMessageOut;\n    }\n    case \"MINT\" /* Mint */: {\n      const contractId = hexOrZero(receipt.id || receipt.contractId);\n      const subId = hexOrZero(receipt.subId);\n      const assetId = (0,_fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.getMintedAssetId)(contractId, subId);\n      const mintReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Mint,\n        subId,\n        contractId,\n        assetId,\n        val: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.val),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return mintReceipt;\n    }\n    case \"BURN\" /* Burn */: {\n      const contractId = hexOrZero(receipt.id || receipt.contractId);\n      const subId = hexOrZero(receipt.subId);\n      const assetId = (0,_fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.getMintedAssetId)(contractId, subId);\n      const burnReceipt = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Burn,\n        subId,\n        contractId,\n        assetId,\n        val: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.val),\n        pc: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.pc),\n        is: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(receipt.is)\n      };\n      return burnReceipt;\n    }\n    default:\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_RECEIPT_TYPE, `Invalid receipt type: ${receiptType}.`);\n  }\n}, \"deserializeReceipt\");\nvar deserializeInput = /* @__PURE__ */ __name((input) => {\n  let parsedInput;\n  switch (input.type) {\n    case \"InputCoin\":\n      parsedInput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin,\n        id: input.utxoId,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.amount),\n        assetId: input.assetId,\n        owner: input.owner,\n        txPointer: `0x${input.txPointer}`,\n        witnessIndex: Number(input.coinWitnessIndex),\n        predicate: input.predicate,\n        predicateData: input.predicateData,\n        predicateGasUsed: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.predicateGasUsed)\n      };\n      break;\n    case \"InputMessage\":\n      parsedInput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message,\n        nonce: input.nonce,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.amount),\n        recipient: input.recipient,\n        sender: input.sender,\n        data: input.data,\n        witnessIndex: Number(input.messageWitnessIndex),\n        predicate: input.predicate,\n        predicateData: input.predicateData,\n        predicateGasUsed: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.predicateGasUsed)\n      };\n      break;\n    case \"InputContract\":\n      parsedInput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Contract,\n        contractId: input.contractId,\n        txPointer: `0x${input.txPointer}`,\n        txID: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(input.utxoId).slice(0, 32))\n      };\n      break;\n    default:\n      (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.assertUnreachable)(input);\n  }\n  return parsedInput;\n}, \"deserializeInput\");\nvar deserializeOutput = /* @__PURE__ */ __name((output) => {\n  let parsedOutput;\n  switch (output.type) {\n    case \"CoinOutput\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(output.amount),\n        assetId: output.assetId,\n        to: output.to\n      };\n      break;\n    case \"ContractOutput\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Contract,\n        inputIndex: Number(output.inputIndex)\n      };\n      break;\n    case \"ChangeOutput\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change,\n        assetId: output.assetId,\n        to: output.to\n      };\n      break;\n    case \"ContractCreated\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.ContractCreated,\n        stateRoot: output.stateRoot,\n        contractId: output.contract\n      };\n      break;\n    case \"VariableOutput\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(output.amount),\n        assetId: output.assetId,\n        to: output.to\n      };\n      break;\n    default:\n      (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.assertUnreachable)(output);\n  }\n  return parsedOutput;\n}, \"deserializeOutput\");\nvar deserializeProcessedTxOutput = /* @__PURE__ */ __name((output) => {\n  let parsedOutput;\n  switch (output.type) {\n    case \"CoinOutput\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(output.amount),\n        assetId: output.assetId,\n        to: output.to\n      };\n      break;\n    case \"ContractOutput\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Contract,\n        inputIndex: Number(output.inputIndex),\n        balanceRoot: output.balanceRoot,\n        stateRoot: output.stateRoot\n      };\n      break;\n    case \"ChangeOutput\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change,\n        assetId: output.assetId,\n        to: output.to,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(output.amount)\n      };\n      break;\n    case \"ContractCreated\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.ContractCreated,\n        stateRoot: output.stateRoot,\n        contractId: output.contract\n      };\n      break;\n    case \"VariableOutput\":\n      parsedOutput = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(output.amount),\n        assetId: output.assetId,\n        to: output.to\n      };\n      break;\n    default:\n      (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.assertUnreachable)(output);\n  }\n  return parsedOutput;\n}, \"deserializeProcessedTxOutput\");\n\n// src/providers/utils/receipts.ts\nvar doesReceiptHaveMissingOutputVariables = /* @__PURE__ */ __name((receipt) => receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Revert && receipt.val.toString(\"hex\") === _fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__.FAILED_TRANSFER_TO_ADDRESS_SIGNAL, \"doesReceiptHaveMissingOutputVariables\");\nvar doesReceiptHaveMissingContractId = /* @__PURE__ */ __name((receipt) => receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Panic && receipt.contractId !== \"0x0000000000000000000000000000000000000000000000000000000000000000\", \"doesReceiptHaveMissingContractId\");\nvar getReceiptsWithMissingData = /* @__PURE__ */ __name((receipts) => receipts.reduce(\n  (memo, receipt) => {\n    if (doesReceiptHaveMissingOutputVariables(receipt)) {\n      memo.missingOutputVariables.push(receipt);\n    }\n    if (doesReceiptHaveMissingContractId(receipt)) {\n      memo.missingOutputContractIds.push(receipt);\n    }\n    return memo;\n  },\n  {\n    missingOutputVariables: [],\n    missingOutputContractIds: []\n  }\n), \"getReceiptsWithMissingData\");\nvar assembleReceiptByType = /* @__PURE__ */ __name((gqlReceipt) => deserializeReceipt(gqlReceipt), \"assembleReceiptByType\");\n\n// src/providers/utils/block-explorer.ts\n\nvar DEFAULT_BLOCK_EXPLORER_URL = \"https://app.fuel.network\";\nvar getPathFromInput = /* @__PURE__ */ __name((key, value) => {\n  const pathMap = {\n    address: `address`,\n    txId: `transaction`,\n    blockNumber: `block`\n  };\n  const path = pathMap[key] || key;\n  return `${path}/${value}`;\n}, \"getPathFromInput\");\nvar buildBlockExplorerUrl = /* @__PURE__ */ __name((options = {}) => {\n  const { blockExplorerUrl, path, providerUrl, address, txId, blockNumber } = options;\n  const explorerUrl = blockExplorerUrl || DEFAULT_BLOCK_EXPLORER_URL;\n  const customInputParams = [\n    {\n      key: \"address\",\n      value: address\n    },\n    {\n      key: \"txId\",\n      value: txId\n    },\n    {\n      key: \"blockNumber\",\n      value: blockNumber\n    }\n  ];\n  const definedValues = customInputParams.filter((param) => !!param.value).map(({ key, value }) => ({\n    key,\n    value\n  }));\n  const hasAnyDefinedValues = definedValues.length > 0;\n  if (definedValues.length > 1) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.ERROR_BUILDING_BLOCK_EXPLORER_URL,\n      `Only one of the following can be passed in to buildBlockExplorerUrl: ${customInputParams.map((param) => param.key).join(\", \")}.`\n    );\n  }\n  if (path && definedValues.length > 0) {\n    const inputKeys = customInputParams.map(({ key }) => key).join(\", \");\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.ERROR_BUILDING_BLOCK_EXPLORER_URL,\n      `You cannot pass in a path to 'buildBlockExplorerUrl' along with any of the following: ${inputKeys}.`\n    );\n  }\n  const pathGeneratedFromInputParams = hasAnyDefinedValues ? getPathFromInput(\n    definedValues[0].key,\n    definedValues[0].value\n  ) : \"\";\n  const trimSlashes = /^\\/|\\/$/gm;\n  const cleanPath = path ? path.replace(trimSlashes, \"\") : pathGeneratedFromInputParams;\n  const cleanBlockExplorerUrl = explorerUrl.replace(trimSlashes, \"\");\n  const cleanProviderUrl = providerUrl?.replace(trimSlashes, \"\");\n  const encodedProviderUrl = cleanProviderUrl ? encodeURIComponent(cleanProviderUrl) : void 0;\n  const protocol = cleanBlockExplorerUrl.match(/^https?:\\/\\//) ? \"\" : \"https://\";\n  const providerUrlProtocol = cleanProviderUrl?.match(/^https?:\\/\\//) ? \"\" : \"https://\";\n  const url = `${protocol}${cleanBlockExplorerUrl}/${cleanPath}${encodedProviderUrl ? `?providerUrl=${providerUrlProtocol}${encodedProviderUrl}` : \"\"}`;\n  return url;\n}, \"buildBlockExplorerUrl\");\n\n// src/providers/utils/gas.ts\n\n\n\nvar getGasUsedFromReceipts = /* @__PURE__ */ __name((receipts) => {\n  const scriptResult = receipts.filter(\n    (receipt) => receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.ScriptResult\n  );\n  const gasUsed = scriptResult.reduce((prev, receipt) => prev.add(receipt.gasUsed), (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0));\n  return gasUsed;\n}, \"getGasUsedFromReceipts\");\nfunction resolveGasDependentCosts(byteSize, gasDependentCost) {\n  const base = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasDependentCost.base);\n  let dependentValue = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n  if (\"unitsPerGas\" in gasDependentCost) {\n    dependentValue = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(byteSize).div((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasDependentCost.unitsPerGas));\n  } else {\n    dependentValue = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(byteSize).mul((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasDependentCost.gasPerUnit));\n  }\n  return base.add(dependentValue);\n}\n__name(resolveGasDependentCosts, \"resolveGasDependentCosts\");\nfunction gasUsedByInputs(inputs, txBytesSize, gasCosts) {\n  const witnessCache = [];\n  const chargeableInputs = inputs.filter((input) => {\n    const isCoinOrMessage = \"owner\" in input || \"sender\" in input;\n    if (isCoinOrMessage) {\n      if (\"predicate\" in input && input.predicate && input.predicate !== \"0x\") {\n        return true;\n      }\n      if (!witnessCache.includes(input.witnessIndex)) {\n        witnessCache.push(input.witnessIndex);\n        return true;\n      }\n    }\n    return false;\n  });\n  const vmInitializationCost = resolveGasDependentCosts(txBytesSize, gasCosts.vmInitialization);\n  const totalGas = chargeableInputs.reduce((total, input) => {\n    if (\"predicate\" in input && input.predicate && input.predicate !== \"0x\") {\n      return total.add(\n        vmInitializationCost.add(resolveGasDependentCosts((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(input.predicate).length, gasCosts.contractRoot)).add((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.predicateGasUsed))\n      );\n    }\n    return total.add(gasCosts.ecr1);\n  }, (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0));\n  return totalGas;\n}\n__name(gasUsedByInputs, \"gasUsedByInputs\");\nfunction getMinGas(params) {\n  const { gasCosts, gasPerByte, inputs, metadataGas, txBytesSize } = params;\n  const vmInitGas = resolveGasDependentCosts(txBytesSize, gasCosts.vmInitialization);\n  const bytesGas = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(txBytesSize).mul(gasPerByte);\n  const inputsGas = gasUsedByInputs(inputs, txBytesSize, gasCosts);\n  const minGas = vmInitGas.add(bytesGas).add(inputsGas).add(metadataGas).maxU64();\n  return minGas;\n}\n__name(getMinGas, \"getMinGas\");\nfunction getMaxGas(params) {\n  const {\n    gasPerByte,\n    witnessesLength,\n    witnessLimit,\n    minGas,\n    gasLimit = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0),\n    maxGasPerTx\n  } = params;\n  let remainingAllowedWitnessGas = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n  if (witnessLimit?.gt(0) && witnessLimit.gte(witnessesLength)) {\n    remainingAllowedWitnessGas = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(witnessLimit).sub(witnessesLength).mul(gasPerByte);\n  }\n  const maxGas = remainingAllowedWitnessGas.add(minGas).add(gasLimit);\n  return maxGas.gte(maxGasPerTx) ? maxGasPerTx : maxGas;\n}\n__name(getMaxGas, \"getMaxGas\");\nfunction calculateMetadataGasForTxCreate({\n  gasCosts,\n  stateRootSize,\n  txBytesSize,\n  contractBytesSize\n}) {\n  const contractRootGas = resolveGasDependentCosts(contractBytesSize, gasCosts.contractRoot);\n  const stateRootGas = resolveGasDependentCosts(stateRootSize, gasCosts.stateRoot);\n  const txIdGas = resolveGasDependentCosts(txBytesSize, gasCosts.s256);\n  const contractIdInputSize = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(4 + 32 + 32 + 32);\n  const contractIdGas = resolveGasDependentCosts(contractIdInputSize, gasCosts.s256);\n  const metadataGas = contractRootGas.add(stateRootGas).add(txIdGas).add(contractIdGas);\n  return metadataGas.maxU64();\n}\n__name(calculateMetadataGasForTxCreate, \"calculateMetadataGasForTxCreate\");\nfunction calculateMetadataGasForTxScript({\n  gasCosts,\n  txBytesSize\n}) {\n  return resolveGasDependentCosts(txBytesSize, gasCosts.s256);\n}\n__name(calculateMetadataGasForTxScript, \"calculateMetadataGasForTxScript\");\nfunction calculateMetadataGasForTxBlob({\n  gasCosts,\n  txBytesSize,\n  witnessBytesSize\n}) {\n  const txId = resolveGasDependentCosts(txBytesSize, gasCosts.s256);\n  const blobLen = resolveGasDependentCosts(witnessBytesSize, gasCosts.s256);\n  return txId.add(blobLen);\n}\n__name(calculateMetadataGasForTxBlob, \"calculateMetadataGasForTxBlob\");\nfunction calculateMetadataGasForTxUpgrade({\n  gasCosts,\n  txBytesSize,\n  consensusSize\n}) {\n  const txId = resolveGasDependentCosts(txBytesSize, gasCosts.s256);\n  if (consensusSize) {\n    const consensusLen = resolveGasDependentCosts(consensusSize, gasCosts.s256);\n    txId.add(consensusLen);\n  }\n  return txId;\n}\n__name(calculateMetadataGasForTxUpgrade, \"calculateMetadataGasForTxUpgrade\");\nfunction calculateMetadataGasForTxUpload({\n  gasCosts,\n  txBytesSize,\n  subsectionSize,\n  subsectionsSize\n}) {\n  const txId = resolveGasDependentCosts(txBytesSize, gasCosts.s256);\n  const subsectionLen = resolveGasDependentCosts(subsectionSize, gasCosts.s256);\n  txId.add(subsectionLen);\n  const subsectionsLen = resolveGasDependentCosts(subsectionsSize, gasCosts.stateRoot);\n  txId.add(subsectionsLen);\n  return txId;\n}\n__name(calculateMetadataGasForTxUpload, \"calculateMetadataGasForTxUpload\");\nfunction calculateMinGasForTxUpload({\n  gasCosts,\n  baseMinGas,\n  subsectionSize\n}) {\n  const additionalStoragePerByte = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasCosts.newStoragePerByte).mul(subsectionSize);\n  return (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(baseMinGas).add(additionalStoragePerByte);\n}\n__name(calculateMinGasForTxUpload, \"calculateMinGasForTxUpload\");\nvar calculateGasFee = /* @__PURE__ */ __name((params) => {\n  const { gas, gasPrice, priceFactor, tip } = params;\n  return gas.mul(gasPrice).div(priceFactor).add((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(tip));\n}, \"calculateGasFee\");\n\n// src/providers/utils/json.ts\n\n\nfunction normalize(object) {\n  Object.keys(object).forEach((key) => {\n    switch (object[key]?.constructor.name) {\n      case \"Uint8Array\":\n        object[key] = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(object[key]);\n        break;\n      case \"Array\":\n        object[key] = normalize(object[key]);\n        break;\n      case \"BN\":\n        object[key] = object[key].toHex();\n        break;\n      case \"Address\":\n        object[key] = object[key].toB256();\n        break;\n      case \"Object\":\n        object[key] = normalize(object[key]);\n        break;\n      default:\n        break;\n    }\n  });\n  return object;\n}\n__name(normalize, \"normalize\");\nfunction normalizeJSON(root) {\n  return normalize((0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(root));\n}\n__name(normalizeJSON, \"normalizeJSON\");\n\n// src/providers/utils/extract-tx-error.ts\n\n\n\n\nvar assemblePanicError = /* @__PURE__ */ __name((statusReason, metadata) => {\n  let errorMessage = `The transaction reverted with reason: \"${statusReason}\".`;\n  if (_fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__.PANIC_REASONS.includes(statusReason)) {\n    errorMessage = `${errorMessage}\n\nYou can read more about this error at:\n\n${_fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__.PANIC_DOC_URL}#variant.${statusReason}`;\n  }\n  return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.SCRIPT_REVERTED, errorMessage, {\n    ...metadata,\n    reason: statusReason\n  });\n}, \"assemblePanicError\");\nvar stringify = /* @__PURE__ */ __name((obj) => JSON.stringify(obj, null, 2), \"stringify\");\nvar assembleRevertError = /* @__PURE__ */ __name((receipts, logs, metadata) => {\n  let errorMessage = \"The transaction reverted with an unknown reason.\";\n  const revertReceipt = receipts.find(({ type }) => type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Revert);\n  let reason = \"\";\n  if (revertReceipt) {\n    const reasonHex = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(revertReceipt.val).toHex();\n    const lastLog = logs[logs.length - 1];\n    const lastButOneLog = logs[logs.length - 2];\n    switch (reasonHex) {\n      case _fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__.FAILED_REQUIRE_SIGNAL: {\n        reason = \"require\";\n        errorMessage = `The transaction reverted because a \"require\" statement has thrown ${logs.length ? stringify(lastLog) : \"an error.\"}.`;\n        break;\n      }\n      case _fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__.FAILED_ASSERT_EQ_SIGNAL: {\n        const suffix = logs.length >= 2 ? ` comparing ${stringify(lastLog)} and ${stringify(lastButOneLog)}.` : \".\";\n        reason = \"assert_eq\";\n        errorMessage = `The transaction reverted because of an \"assert_eq\" statement${suffix}`;\n        break;\n      }\n      case _fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__.FAILED_ASSERT_NE_SIGNAL: {\n        const suffix = logs.length >= 2 ? ` comparing ${stringify(lastButOneLog)} and ${stringify(lastLog)}.` : \".\";\n        reason = \"assert_ne\";\n        errorMessage = `The transaction reverted because of an \"assert_ne\" statement${suffix}`;\n        break;\n      }\n      case _fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__.FAILED_ASSERT_SIGNAL:\n        reason = \"assert\";\n        errorMessage = `The transaction reverted because an \"assert\" statement failed to evaluate to true.`;\n        break;\n      case _fuel_ts_transactions_configs__WEBPACK_IMPORTED_MODULE_12__.FAILED_TRANSFER_TO_ADDRESS_SIGNAL:\n        reason = \"MissingOutputVariable\";\n        errorMessage = `The transaction reverted because it's missing an \"OutputVariable\".`;\n        break;\n      default:\n        throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n          _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.UNKNOWN,\n          `The transaction reverted with an unknown reason: ${revertReceipt.val}`,\n          {\n            ...metadata,\n            reason: \"unknown\"\n          }\n        );\n    }\n  }\n  return new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.SCRIPT_REVERTED, errorMessage, {\n    ...metadata,\n    reason\n  });\n}, \"assembleRevertError\");\nvar extractTxError = /* @__PURE__ */ __name((params) => {\n  const { receipts, statusReason, logs, groupedLogs } = params;\n  const isPanic = receipts.some(({ type }) => type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Panic);\n  const isRevert = receipts.some(({ type }) => type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Revert);\n  const metadata = {\n    logs,\n    groupedLogs,\n    receipts,\n    panic: isPanic,\n    revert: isRevert,\n    reason: \"\"\n  };\n  if (isPanic) {\n    return assemblePanicError(statusReason, metadata);\n  }\n  return assembleRevertError(receipts, logs, metadata);\n}, \"extractTxError\");\n\n// src/providers/utils/merge-quantities.ts\nvar mergeQuantities = /* @__PURE__ */ __name((...coinQuantities) => {\n  const resultMap = {};\n  function addToMap({ amount, assetId }) {\n    if (resultMap[assetId]) {\n      resultMap[assetId] = resultMap[assetId].add(amount);\n    } else {\n      resultMap[assetId] = amount;\n    }\n  }\n  __name(addToMap, \"addToMap\");\n  coinQuantities.forEach((arr) => arr.forEach(addToMap));\n  return Object.entries(resultMap).map(([assetId, amount]) => ({ assetId, amount }));\n}, \"mergeQuantities\");\n\n// src/providers/transaction-request/errors.ts\nvar ChangeOutputCollisionError = class extends Error {\n  static {\n    __name(this, \"ChangeOutputCollisionError\");\n  }\n  name = \"ChangeOutputCollisionError\";\n  message = 'A ChangeOutput with the same \"assetId\" already exists for a different \"to\" address';\n};\nvar NoWitnessAtIndexError = class extends Error {\n  constructor(index) {\n    super();\n    this.index = index;\n    this.message = `Witness at index \"${index}\" was not found`;\n  }\n  static {\n    __name(this, \"NoWitnessAtIndexError\");\n  }\n  name = \"NoWitnessAtIndexError\";\n};\nvar NoWitnessByOwnerError = class extends Error {\n  constructor(owner) {\n    super();\n    this.owner = owner;\n    this.message = `A witness for the given owner \"${owner}\" was not found`;\n  }\n  static {\n    __name(this, \"NoWitnessByOwnerError\");\n  }\n  name = \"NoWitnessByOwnerError\";\n};\n\n// src/providers/transaction-request/helpers.ts\n\n\n\n\nvar isRequestInputCoin = /* @__PURE__ */ __name((input) => input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin, \"isRequestInputCoin\");\nvar isRequestInputMessage = /* @__PURE__ */ __name((input) => input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message, \"isRequestInputMessage\");\nvar isRequestInputMessageWithoutData = /* @__PURE__ */ __name((input) => input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message && (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.data).isZero(), \"isRequestInputMessageWithoutData\");\nvar isRequestInputCoinOrMessage = /* @__PURE__ */ __name((input) => isRequestInputCoin(input) || isRequestInputMessage(input), \"isRequestInputCoinOrMessage\");\nvar isRequestInputResource = /* @__PURE__ */ __name((input) => isRequestInputCoin(input) || isRequestInputMessageWithoutData(input), \"isRequestInputResource\");\nvar getRequestInputResourceOwner = /* @__PURE__ */ __name((input) => isRequestInputCoin(input) ? input.owner : input.recipient, \"getRequestInputResourceOwner\");\nvar isRequestInputResourceFromOwner = /* @__PURE__ */ __name((input, owner) => getRequestInputResourceOwner(input) === owner.toB256(), \"isRequestInputResourceFromOwner\");\nvar isPredicate = /* @__PURE__ */ __name((input) => isRequestInputCoinOrMessage(input) && !!input.predicate && (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(input.predicate) !== \"0x\", \"isPredicate\");\nvar getAssetAmountInRequestInputs = /* @__PURE__ */ __name((inputs, assetId, baseAsset) => inputs.filter(isRequestInputResource).reduce((acc, input) => {\n  if (isRequestInputCoin(input) && input.assetId === assetId) {\n    return acc.add(input.amount);\n  }\n  if (isRequestInputMessage(input) && assetId === baseAsset) {\n    return acc.add(input.amount);\n  }\n  return acc;\n}, (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0)), \"getAssetAmountInRequestInputs\");\nvar cacheRequestInputsResources = /* @__PURE__ */ __name((inputs) => inputs.filter(isRequestInputResource).reduce(\n  (cache2, input) => {\n    if (isRequestInputCoin(input)) {\n      cache2.utxos.push(input.id);\n    } else {\n      cache2.messages.push(input.nonce);\n    }\n    return cache2;\n  },\n  {\n    utxos: [],\n    messages: []\n  }\n), \"cacheRequestInputsResources\");\nvar cacheRequestInputsResourcesFromOwner = /* @__PURE__ */ __name((inputs, owner) => inputs.reduce(\n  (acc, input) => {\n    if (isRequestInputCoin(input) && input.owner === owner.toB256()) {\n      acc.utxos.push(input.id);\n    } else if (isRequestInputMessage(input) && input.recipient === owner.toB256()) {\n      acc.messages.push(input.nonce);\n    }\n    return acc;\n  },\n  {\n    utxos: [],\n    messages: []\n  }\n), \"cacheRequestInputsResourcesFromOwner\");\nvar getBurnableAssetCount = /* @__PURE__ */ __name((baseAssetId, transactionRequest) => {\n  const { inputs, outputs } = transactionRequest;\n  const coinInputs = new Set(inputs.filter(isRequestInputCoin).map((input) => input.assetId));\n  if (inputs.some((i) => isRequestInputMessage(i) && (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(i.amount).gt(0))) {\n    coinInputs.add(baseAssetId);\n  }\n  const changeOutputs = new Set(\n    outputs.filter((output) => output.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change).map((output) => output.assetId)\n  );\n  const difference = new Set([...coinInputs].filter((x) => !changeOutputs.has(x)));\n  return difference.size;\n}, \"getBurnableAssetCount\");\nvar validateTransactionForAssetBurn = /* @__PURE__ */ __name((baseAssetId, transactionRequest, enableAssetBurn = false) => {\n  if (enableAssetBurn === true) {\n    return;\n  }\n  if (getBurnableAssetCount(baseAssetId, transactionRequest) <= 0) {\n    return;\n  }\n  const message = [\n    \"Asset burn detected.\",\n    \"Add the relevant change outputs to the transaction to avoid burning assets.\",\n    \"Or enable asset burn, upon sending the transaction.\"\n  ].join(\"\\n\");\n  throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.ASSET_BURN_DETECTED, message);\n}, \"validateTransactionForAssetBurn\");\n\n// src/providers/transaction-request/witness.ts\n\nvar witnessify = /* @__PURE__ */ __name((value) => {\n  const data = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value);\n  return {\n    data: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(data),\n    dataLength: data.length\n  };\n}, \"witnessify\");\n\n// src/providers/transaction-request/transaction-request.ts\nvar BaseTransactionRequest = class _BaseTransactionRequest {\n  static {\n    __name(this, \"BaseTransactionRequest\");\n  }\n  /** Gas price for transaction */\n  tip;\n  /** Block until which tx cannot be included */\n  maturity;\n  /** The block number after which the transaction is no longer valid. */\n  expiration;\n  /** The maximum fee payable by this transaction using BASE_ASSET. */\n  maxFee;\n  /** The maximum amount of witness data allowed for the transaction */\n  witnessLimit;\n  /** List of inputs */\n  inputs = [];\n  /** List of outputs */\n  outputs = [];\n  /** List of witnesses */\n  witnesses = [];\n  /**\n   * The current status of the transaction\n   */\n  flag = { state: void 0, transactionId: void 0, summary: void 0 };\n  /**\n   * Constructor for initializing a base transaction request.\n   *\n   * @param baseTransactionRequest - Optional object containing properties to initialize the transaction request.\n   */\n  constructor({\n    tip,\n    maturity,\n    expiration,\n    maxFee,\n    witnessLimit,\n    inputs,\n    outputs,\n    witnesses,\n    flag\n  } = {}) {\n    this.tip = tip ? (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(tip) : void 0;\n    this.maturity = maturity && maturity > 0 ? maturity : void 0;\n    this.expiration = expiration && expiration > 0 ? expiration : void 0;\n    this.witnessLimit = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(witnessLimit) ? (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(witnessLimit) : void 0;\n    this.maxFee = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(maxFee);\n    this.inputs = inputs ?? [];\n    this.outputs = outputs ?? [];\n    this.witnesses = witnesses ?? [];\n    this.flag = flag ?? { state: void 0, transactionId: void 0, summary: void 0 };\n  }\n  static getPolicyMeta(req) {\n    let policyTypes = 0;\n    const policies = [];\n    const { tip, witnessLimit, maturity, expiration } = req;\n    if ((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(tip).gt(0)) {\n      policyTypes += _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.Tip;\n      policies.push({ data: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(tip), type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.Tip });\n    }\n    if ((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(witnessLimit) && (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(witnessLimit).gte(0)) {\n      policyTypes += _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.WitnessLimit;\n      policies.push({ data: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(witnessLimit), type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.WitnessLimit });\n    }\n    if (maturity && maturity > 0) {\n      policyTypes += _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.Maturity;\n      policies.push({ data: maturity, type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.Maturity });\n    }\n    policyTypes += _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.MaxFee;\n    policies.push({ data: req.maxFee, type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.MaxFee });\n    if (expiration && expiration > 0) {\n      policyTypes += _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.Expiration;\n      policies.push({ data: expiration, type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.Expiration });\n    }\n    return {\n      policyTypes,\n      policies\n    };\n  }\n  /**\n   * Method to obtain the base transaction details.\n   *\n   * @returns The base transaction details.\n   */\n  getBaseTransaction() {\n    const inputs = this.inputs?.map(inputify) ?? [];\n    const outputs = this.outputs?.map(outputify) ?? [];\n    const witnesses = this.witnesses?.map(witnessify) ?? [];\n    const { policyTypes, policies } = _BaseTransactionRequest.getPolicyMeta(this);\n    return {\n      policyTypes,\n      inputs,\n      outputs,\n      policies,\n      witnesses,\n      inputsCount: inputs.length,\n      outputsCount: outputs.length,\n      witnessesCount: witnesses.length\n    };\n  }\n  /**\n   * Converts the transaction request to a byte array.\n   *\n   * @returns The transaction bytes.\n   */\n  toTransactionBytes() {\n    return new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().encode(this.toTransaction());\n  }\n  /**\n   * @hidden\n   *\n   * Pushes an input to the list without any side effects and returns the index\n   */\n  pushInput(input) {\n    this.inputs.push(input);\n    return this.inputs.length - 1;\n  }\n  /**\n   * @hidden\n   *\n   * Pushes an output to the list without any side effects and returns the index\n   */\n  pushOutput(output) {\n    this.outputs.push(output);\n    return this.outputs.length - 1;\n  }\n  /**\n   * @hidden\n   *\n   * Pushes a witness to the list and returns the index\n   *\n   * @param signature - The signature to add to the witness.\n   * @returns The index of the created witness.\n   */\n  addWitness(signature) {\n    this.witnesses.push(signature);\n    return this.witnesses.length - 1;\n  }\n  /**\n   * @hidden\n   *\n   * Creates an empty witness without any side effects and returns the index\n   *\n   * @returns The index of the created witness.\n   */\n  addEmptyWitness() {\n    return this.addWitness((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([_fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32, _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32]));\n  }\n  /**\n   * Updates the witness for a given owner and signature.\n   *\n   * @param address - The address to get the coin input witness index for.\n   * @param signature - The signature to update the witness with.\n   */\n  updateWitnessByOwner(address, signature) {\n    const ownerAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(address);\n    const witnessIndex = this.getCoinInputWitnessIndexByOwner(ownerAddress);\n    if (typeof witnessIndex === \"number\") {\n      this.updateWitness(witnessIndex, signature);\n    }\n  }\n  /**\n   * Updates an existing witness without any side effects.\n   *\n   * @param index - The index of the witness to update.\n   * @param witness - The new witness.\n   * @throws If the witness does not exist.\n   */\n  updateWitness(index, witness) {\n    if (!this.witnesses[index]) {\n      throw new NoWitnessAtIndexError(index);\n    }\n    this.witnesses[index] = witness;\n  }\n  /**\n   * Helper function to add an external signature to the transaction.\n   *\n   * @param account - The account/s to sign to the transaction.\n   * @returns The transaction with the signature witness added.\n   */\n  async addAccountWitnesses(account) {\n    const accounts = Array.isArray(account) ? account : [account];\n    await Promise.all(\n      accounts.map(async (acc) => {\n        this.addWitness(await acc.signTransaction(this));\n      })\n    );\n    return this;\n  }\n  /**\n   * Gets the coin inputs for a transaction.\n   *\n   * @returns The coin inputs.\n   */\n  getCoinInputs() {\n    return this.inputs.filter(\n      (input) => input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin\n    );\n  }\n  /**\n   * Gets the coin outputs for a transaction.\n   *\n   * @returns The coin outputs.\n   */\n  getCoinOutputs() {\n    return this.outputs.filter(\n      (output) => output.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin\n    );\n  }\n  /**\n   * Gets the change outputs for a transaction.\n   *\n   * @returns The change outputs.\n   */\n  getChangeOutputs() {\n    return this.outputs.filter(\n      (output) => output.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change\n    );\n  }\n  /**\n   * @hidden\n   *\n   * Returns the witnessIndex of the found CoinInput.\n   */\n  getCoinInputWitnessIndexByOwner(owner) {\n    const ownerAddress = (0,_fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.addressify)(owner);\n    const found = this.inputs.find((input) => {\n      switch (input.type) {\n        case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin:\n          return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(input.owner) === ownerAddress.toB256();\n        case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message:\n          return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(input.recipient) === ownerAddress.toB256();\n        default:\n          return false;\n      }\n    });\n    return found?.witnessIndex;\n  }\n  /**\n   * Adds a single coin input to the transaction and a change output for the related\n   * assetId, if one it was not added yet.\n   *\n   * @param coin - Coin resource.\n   */\n  addCoinInput(coin) {\n    const { assetId, owner, amount, id, predicate, predicateData } = coin;\n    let witnessIndex;\n    if (coin.predicate) {\n      witnessIndex = 0;\n    } else {\n      witnessIndex = this.getCoinInputWitnessIndexByOwner(owner);\n      if (typeof witnessIndex !== \"number\") {\n        witnessIndex = this.addEmptyWitness();\n      }\n    }\n    const input = {\n      id,\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin,\n      owner: owner.toB256(),\n      amount,\n      assetId,\n      txPointer: \"0x00000000000000000000000000000000\",\n      witnessIndex,\n      predicate,\n      predicateData\n    };\n    this.pushInput(input);\n    this.addChangeOutput(owner, assetId);\n  }\n  /**\n   * Adds a single message input to the transaction and a change output for the\n   * asset against the message\n   *\n   * @param message - Message resource.\n   */\n  addMessageInput(message) {\n    const { recipient, sender, amount, predicate, nonce, predicateData } = message;\n    let witnessIndex;\n    if (message.predicate) {\n      witnessIndex = 0;\n    } else {\n      witnessIndex = this.getCoinInputWitnessIndexByOwner(recipient);\n      if (typeof witnessIndex !== \"number\") {\n        witnessIndex = this.addEmptyWitness();\n      }\n    }\n    const input = {\n      nonce,\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message,\n      sender: sender.toB256(),\n      recipient: recipient.toB256(),\n      data: isMessageCoin(message) ? \"0x\" : message.data,\n      amount,\n      witnessIndex,\n      predicate,\n      predicateData\n    };\n    this.pushInput(input);\n    if (isMessageCoin(message)) {\n      this.addChangeOutput(recipient, message.assetId);\n    }\n  }\n  /**\n   * Adds a single resource to the transaction by adding a coin/message input and a\n   * change output for the related assetId, if one it was not added yet.\n   *\n   * @param resource - The resource to add.\n   * @returns This transaction.\n   */\n  addResource(resource) {\n    if (isCoin(resource)) {\n      this.addCoinInput(resource);\n    } else {\n      this.addMessageInput(resource);\n    }\n    return this;\n  }\n  /**\n   * Adds multiple resources to the transaction by adding coin/message inputs and change\n   * outputs from the related assetIds.\n   *\n   * @param resources - The resources to add.\n   * @returns This transaction.\n   */\n  addResources(resources) {\n    resources.forEach((resource) => this.addResource(resource));\n    return this;\n  }\n  /**\n   * Adds a coin output to the transaction.\n   *\n   * @param to - Address of the owner.\n   * @param amount - Amount of coin.\n   * @param assetId - Asset ID of coin.\n   */\n  addCoinOutput(to, amount, assetId) {\n    this.pushOutput({\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin,\n      to: (0,_fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.addressify)(to).toB256(),\n      amount,\n      assetId\n    });\n    return this;\n  }\n  /**\n   * Adds multiple coin outputs to the transaction.\n   *\n   * @param to - Address of the destination.\n   * @param quantities - Quantities of coins.\n   */\n  addCoinOutputs(to, quantities) {\n    quantities.map(coinQuantityfy).forEach((quantity) => {\n      this.pushOutput({\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin,\n        to: (0,_fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.addressify)(to).toB256(),\n        amount: quantity.amount,\n        assetId: quantity.assetId\n      });\n    });\n    return this;\n  }\n  /**\n   * Adds a change output to the transaction.\n   *\n   * @param to - Address of the owner.\n   * @param assetId - Asset ID of coin.\n   */\n  addChangeOutput(to, assetId) {\n    const changeOutput = this.getChangeOutputs().find(\n      (output) => (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(output.assetId) === assetId\n    );\n    if (!changeOutput) {\n      this.pushOutput({\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change,\n        to: (0,_fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.addressify)(to).toB256(),\n        assetId\n      });\n    }\n  }\n  /**\n   * @hidden\n   */\n  byteSize() {\n    return this.toTransactionBytes().length;\n  }\n  /**\n   * @hidden\n   */\n  metadataGas(_gasCosts) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Not implemented\");\n  }\n  /**\n   * @hidden\n   */\n  calculateMinGas(chainInfo) {\n    const { consensusParameters } = chainInfo;\n    const {\n      gasCosts,\n      feeParameters: { gasPerByte }\n    } = consensusParameters;\n    return getMinGas({\n      gasPerByte,\n      gasCosts,\n      inputs: this.inputs,\n      txBytesSize: this.byteSize(),\n      metadataGas: this.metadataGas(gasCosts)\n    });\n  }\n  calculateMaxGas(chainInfo, minGas) {\n    const { consensusParameters } = chainInfo;\n    const {\n      feeParameters: { gasPerByte },\n      txParameters: { maxGasPerTx }\n    } = consensusParameters;\n    const witnessesLength = this.toTransaction().witnesses.reduce(\n      (acc, wit) => acc + wit.dataLength,\n      0\n    );\n    return getMaxGas({\n      gasPerByte,\n      minGas,\n      witnessesLength,\n      witnessLimit: this.witnessLimit,\n      maxGasPerTx\n    });\n  }\n  /**\n   * Funds the transaction with fake UTXOs for each assetId and amount in the\n   * quantities array.\n   *\n   * @param quantities - CoinQuantity Array.\n   * @param baseAssetId - The base asset to fund the transaction.\n   * @deprecated - This method is deprecated and will be removed in future versions.\n   * Please use `Account.generateFakeResources` along with `this.addResources` instead.\n   */\n  fundWithFakeUtxos(quantities, baseAssetId, resourcesOwner) {\n    const findAssetInput = /* @__PURE__ */ __name((assetId) => this.inputs.find((input) => {\n      if (\"assetId\" in input) {\n        return input.assetId === assetId;\n      }\n      return false;\n    }), \"findAssetInput\");\n    const updateAssetInput = /* @__PURE__ */ __name((assetId, quantity) => {\n      const assetInput = findAssetInput(assetId);\n      let usedQuantity = quantity;\n      if (assetId === baseAssetId) {\n        usedQuantity = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(\"1000000000000000000\");\n      }\n      if (assetInput && \"assetId\" in assetInput) {\n        assetInput.id = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(_fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.UTXO_ID_LEN));\n        assetInput.amount = usedQuantity;\n      } else {\n        this.addResources([\n          {\n            id: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(_fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.UTXO_ID_LEN)),\n            amount: usedQuantity,\n            assetId,\n            owner: resourcesOwner || _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address.fromRandom(),\n            blockCreated: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(1),\n            txCreatedIdx: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(1)\n          }\n        ]);\n      }\n    }, \"updateAssetInput\");\n    updateAssetInput(baseAssetId, (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(1e11));\n    quantities.forEach((q) => updateAssetInput(q.assetId, q.amount));\n    return this;\n  }\n  /**\n   * Retrieves an array of CoinQuantity for each coin output present in the transaction.\n   * a transaction.\n   *\n   * @returns  CoinQuantity array.\n   */\n  getCoinOutputsQuantities() {\n    const coinsQuantities = this.getCoinOutputs().map(({ amount, assetId }) => ({\n      amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount),\n      assetId: assetId.toString()\n    }));\n    return coinsQuantities;\n  }\n  /**\n   * Return the minimum amount in native coins required to create\n   * a transaction.\n   *\n   * @returns The transaction as a JSON object.\n   */\n  toJSON() {\n    return normalizeJSON(this);\n  }\n  removeWitness(index) {\n    this.witnesses.splice(index, 1);\n    this.adjustWitnessIndexes(index);\n  }\n  adjustWitnessIndexes(removedIndex) {\n    this.inputs.filter(isRequestInputResource).forEach((input) => {\n      if (input.witnessIndex > removedIndex) {\n        input.witnessIndex -= 1;\n      }\n    });\n  }\n  updatePredicateGasUsed(inputs) {\n    const inputsToExtractGasUsed = inputs.filter(isRequestInputCoinOrMessage);\n    this.inputs.filter(isRequestInputResource).forEach((i) => {\n      const owner = getRequestInputResourceOwner(i);\n      const correspondingInput = inputsToExtractGasUsed.find(\n        (x) => isRequestInputResourceFromOwner(x, new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(String(owner)))\n      );\n      if (correspondingInput && \"predicateGasUsed\" in correspondingInput && (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(correspondingInput.predicateGasUsed).gt(0)) {\n        i.predicateGasUsed = correspondingInput.predicateGasUsed;\n      }\n    });\n  }\n  byteLength() {\n    return this.toTransactionBytes().byteLength;\n  }\n  /**\n   * @hidden\n   *\n   * Used internally to update the state of a transaction request.\n   *\n   * @param state - The state to update.\n   */\n  updateState(chainId, state, summary) {\n    if (!state) {\n      this.flag = { state: void 0, transactionId: void 0, summary: void 0 };\n      return;\n    }\n    const transactionId = this.getTransactionId(chainId);\n    this.flag = { state, transactionId, summary };\n  }\n};\n\n// src/providers/transaction-request/blob-transaction-request.ts\n\n\n// src/providers/transaction-request/hash-transaction.ts\n\n\n\n\n\n\nfunction hashTransaction(transactionRequest, chainId) {\n  const transaction = transactionRequest.toTransaction();\n  if (transaction.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script) {\n    transaction.receiptsRoot = _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n  }\n  transaction.inputs = transaction.inputs.map((input) => {\n    const inputClone = (0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(input);\n    switch (inputClone.type) {\n      // Zero out on signing: txPointer, predicateGasUsed\n      case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin: {\n        inputClone.txPointer = {\n          blockHeight: 0,\n          txIndex: 0\n        };\n        inputClone.predicateGasUsed = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n        return inputClone;\n      }\n      // Zero out on signing: predicateGasUsed\n      case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message: {\n        inputClone.predicateGasUsed = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n        return inputClone;\n      }\n      // Zero out on signing: txID, outputIndex, balanceRoot, stateRoot, and txPointer\n      case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Contract: {\n        inputClone.txPointer = {\n          blockHeight: 0,\n          txIndex: 0\n        };\n        inputClone.txID = _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n        inputClone.outputIndex = 0;\n        inputClone.balanceRoot = _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n        inputClone.stateRoot = _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n        return inputClone;\n      }\n      default:\n        return inputClone;\n    }\n  });\n  transaction.outputs = transaction.outputs.map((output) => {\n    const outputClone = (0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(output);\n    switch (outputClone.type) {\n      // Zero out on signing: balanceRoot, stateRoot\n      case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Contract: {\n        outputClone.balanceRoot = _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n        outputClone.stateRoot = _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n        return outputClone;\n      }\n      // Zero out on signing: amount\n      case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change: {\n        outputClone.amount = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n        return outputClone;\n      }\n      // Zero out on signing: amount, to and assetId\n      case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable: {\n        outputClone.to = _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n        outputClone.amount = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n        outputClone.assetId = _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n        return outputClone;\n      }\n      default:\n        return outputClone;\n    }\n  });\n  transaction.witnessesCount = 0;\n  transaction.witnesses = [];\n  const chainIdBytes = (0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.uint64ToBytesBE)(chainId);\n  const concatenatedData = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([chainIdBytes, new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().encode(transaction)]);\n  return (0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)(concatenatedData);\n}\n__name(hashTransaction, \"hashTransaction\");\n\n// src/providers/transaction-request/blob-transaction-request.ts\nvar BlobTransactionRequest = class extends BaseTransactionRequest {\n  static {\n    __name(this, \"BlobTransactionRequest\");\n  }\n  static from(obj) {\n    return new this((0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(obj));\n  }\n  /** Type of the transaction */\n  type = _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Blob;\n  /** Blob ID */\n  blobId;\n  /** Witness index of the bytecode to create */\n  witnessIndex;\n  /**\n   * Creates an instance `BlobTransactionRequest`.\n   *\n   * @param blobTransactionRequestLike - The initial values for the instance\n   */\n  constructor({ witnessIndex, blobId, ...rest }) {\n    super(rest);\n    this.blobId = blobId;\n    this.witnessIndex = witnessIndex ?? 0;\n  }\n  /**\n   * Converts the transaction request to a `TransactionBlob`.\n   *\n   * @returns The transaction create object.\n   */\n  toTransaction() {\n    const baseTransaction = this.getBaseTransaction();\n    const { witnessIndex, blobId } = this;\n    return {\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Blob,\n      ...baseTransaction,\n      blobId,\n      witnessIndex\n    };\n  }\n  /**\n   * Gets the Transaction Request by hashing the transaction.\n   *\n   * @param chainId - The chain ID.\n   *\n   * @returns - A hash of the transaction, which is the transaction ID.\n   */\n  getTransactionId(chainId) {\n    return hashTransaction(this, chainId);\n  }\n  /**\n   * Calculates the metadata gas cost for a blob transaction.\n   *\n   * @param gasCosts - gas costs passed from the chain.\n   * @returns metadata gas cost for the blob transaction.\n   */\n  metadataGas(gasCosts) {\n    return calculateMetadataGasForTxBlob({\n      gasCosts,\n      txBytesSize: this.byteSize(),\n      witnessBytesSize: this.witnesses[this.witnessIndex].length\n    });\n  }\n};\n\n// src/providers/transaction-request/create-transaction-request.ts\n\n\n\n\n\n\n// src/providers/transaction-request/storage-slot.ts\n\nvar getStorageValue = /* @__PURE__ */ __name((value) => {\n  const v = new Uint8Array(32);\n  v.set((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(value));\n  return v;\n}, \"getStorageValue\");\nvar storageSlotify = /* @__PURE__ */ __name((storageSlot) => {\n  let key;\n  let value;\n  if (Array.isArray(storageSlot)) {\n    key = storageSlot[0];\n    value = storageSlot[1];\n  } else {\n    key = storageSlot.key;\n    value = storageSlot.value;\n  }\n  return {\n    key: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(key),\n    value: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(getStorageValue(value))\n  };\n}, \"storageSlotify\");\n\n// src/providers/transaction-request/create-transaction-request.ts\nvar CreateTransactionRequest = class extends BaseTransactionRequest {\n  static {\n    __name(this, \"CreateTransactionRequest\");\n  }\n  static from(obj) {\n    return new this((0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(obj));\n  }\n  /** Type of the transaction */\n  type = _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Create;\n  /** Witness index of contract bytecode to create */\n  bytecodeWitnessIndex;\n  /** Salt */\n  salt;\n  /** List of storage slots to initialize */\n  storageSlots;\n  /**\n   * Creates an instance `CreateTransactionRequest`.\n   *\n   * @param createTransactionRequestLike - The initial values for the instance\n   */\n  constructor({ bytecodeWitnessIndex, salt, storageSlots, ...rest }) {\n    super(rest);\n    this.bytecodeWitnessIndex = bytecodeWitnessIndex ?? 0;\n    this.salt = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(salt ?? _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32);\n    this.storageSlots = [...storageSlots ?? []];\n  }\n  /**\n   * Converts the transaction request to a `TransactionCreate`.\n   *\n   * @returns The transaction create object.\n   */\n  toTransaction() {\n    const baseTransaction = this.getBaseTransaction();\n    const bytecodeWitnessIndex = this.bytecodeWitnessIndex;\n    const storageSlots = this.storageSlots?.map(storageSlotify) ?? [];\n    return {\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Create,\n      ...baseTransaction,\n      bytecodeWitnessIndex,\n      storageSlotsCount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(storageSlots.length),\n      salt: this.salt ? (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this.salt) : _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32,\n      storageSlots\n    };\n  }\n  /**\n   * Get contract created outputs for the transaction.\n   *\n   * @returns An array of contract created transaction request outputs.\n   */\n  getContractCreatedOutputs() {\n    return this.outputs.filter(\n      (output) => output.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.ContractCreated\n    );\n  }\n  /**\n   * Gets the Transaction Request by hashing the transaction.\n   *\n   * @param chainId - The chain ID.\n   *\n   * @returns - A hash of the transaction, which is the transaction ID.\n   */\n  getTransactionId(chainId) {\n    return hashTransaction(this, chainId);\n  }\n  /**\n   * Adds a contract created output to the transaction request.\n   *\n   * @param contractId - The contract ID.\n   * @param stateRoot - The state root.\n   */\n  addContractCreatedOutput(contractId, stateRoot) {\n    this.pushOutput({\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.ContractCreated,\n      contractId,\n      stateRoot\n    });\n  }\n  metadataGas(gasCosts) {\n    return calculateMetadataGasForTxCreate({\n      contractBytesSize: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.witnesses[this.bytecodeWitnessIndex] || \"0x\").length),\n      gasCosts,\n      stateRootSize: this.storageSlots.length,\n      txBytesSize: this.byteSize()\n    });\n  }\n};\n\n// src/providers/transaction-request/script-transaction-request.ts\n\n\n\n\n\n\n\n\n// src/providers/transaction-request/scripts.ts\n\nvar returnZeroScript = {\n  /*\n      Opcode::RET(REG_ZERO)\n      Opcode::NOOP\n    */\n  // TODO: Don't use hardcoded scripts: https://github.com/FuelLabs/fuels-ts/issues/281\n  bytes: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(\"0x24000000\"),\n  encodeScriptData: /* @__PURE__ */ __name(() => new Uint8Array(0), \"encodeScriptData\")\n};\nvar withdrawScript = {\n  /*\n          The following code loads some basic values into registers and calls SMO to create an output message\n          5040C010 \t- ADDI r16 $is i16   [r16 now points to memory 16 bytes from the start of this program (start of receiver data)]\n          5D44C006\t- LW r17 $is i6      [r17 set to the 6th word in this program (6*8=48 bytes from the start of this program)]\n          4C400011\t- SMO r16 r0 r0 r17  [send message out to address starting at memory position r16 with amount in r17]\n          24000000\t- RET                [return 0]\n          00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 [recipient address]\n          00000000 00000000 [amount value]\n      */\n  // TODO: Don't use hardcoded scripts: https://github.com/FuelLabs/fuels-ts/issues/281\n  bytes: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(\"0x5040C0105D44C0064C40001124000000\"),\n  encodeScriptData: /* @__PURE__ */ __name(() => new Uint8Array(0), \"encodeScriptData\")\n};\n\n// src/providers/transaction-request/script-transaction-request.ts\nvar ScriptTransactionRequest = class extends BaseTransactionRequest {\n  static {\n    __name(this, \"ScriptTransactionRequest\");\n  }\n  static from(obj) {\n    return new this((0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(obj));\n  }\n  /** Type of the transaction */\n  type = _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script;\n  /** Gas limit for transaction */\n  gasLimit;\n  /** Script to execute */\n  script;\n  /** Script input data (parameters) */\n  scriptData;\n  abis;\n  /**\n   * Constructor for `ScriptTransactionRequest`.\n   *\n   * @param scriptTransactionRequestLike - The initial values for the instance.\n   */\n  constructor({ script, scriptData, gasLimit, ...rest } = {}) {\n    super(rest);\n    this.gasLimit = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasLimit);\n    this.script = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(script ?? returnZeroScript.bytes);\n    this.scriptData = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(scriptData ?? returnZeroScript.encodeScriptData());\n    this.abis = rest.abis;\n  }\n  /**\n   * Helper function to estimate and fund the transaction request with a specified account.\n   *\n   * @param account - The account to fund the transaction.\n   * @param params - The parameters for the transaction cost.\n   * @returns The current instance of the `ScriptTransactionRequest` funded.\n   *\n   * @deprecated Use `provider.assembleTx` instead.\n   * Check the migration guide https://docs.fuel.network/guide/assembling-transactions/migration-guide.html for more information.\n   */\n  async estimateAndFund(account, { signatureCallback, quantities = [] } = {}) {\n    const txCost = await account.getTransactionCost(this, { signatureCallback, quantities });\n    this.maxFee = txCost.maxFee;\n    this.gasLimit = txCost.gasUsed;\n    await account.fund(this, txCost);\n    return this;\n  }\n  /**\n   * Converts the transaction request to a `TransactionScript`.\n   *\n   * @returns The transaction script object.\n   */\n  toTransaction() {\n    const script = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.script ?? \"0x\");\n    const scriptData = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.scriptData ?? \"0x\");\n    return {\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script,\n      scriptGasLimit: this.gasLimit,\n      ...super.getBaseTransaction(),\n      scriptLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(script.length),\n      scriptDataLength: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(scriptData.length),\n      receiptsRoot: _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32,\n      script: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(script),\n      scriptData: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(scriptData)\n    };\n  }\n  /**\n   * Get contract inputs for the transaction.\n   *\n   * @returns An array of contract transaction request inputs.\n   */\n  getContractInputs() {\n    return this.inputs.filter(\n      (input) => input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Contract\n    );\n  }\n  /**\n   * Get contract outputs for the transaction.\n   *\n   * @returns An array of contract transaction request outputs.\n   */\n  getContractOutputs() {\n    return this.outputs.filter(\n      (output) => output.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Contract\n    );\n  }\n  /**\n   * Get variable outputs for the transaction.\n   *\n   * @returns An array of variable transaction request outputs.\n   */\n  getVariableOutputs() {\n    return this.outputs.filter(\n      (output) => output.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable\n    );\n  }\n  /**\n   * Set the script and its data.\n   *\n   * @param script - The abstract script request.\n   * @param data - The script data.\n   */\n  setScript(script, data) {\n    this.scriptData = script.encodeScriptData(data);\n    this.script = script.bytes;\n  }\n  /**\n   * Adds variable outputs to the transaction request.\n   *\n   * @param numberOfVariables - The number of variables to add.\n   * @returns The new length of the outputs array.\n   */\n  addVariableOutputs(numberOfVariables = 1) {\n    let outputsNumber = numberOfVariables;\n    while (outputsNumber) {\n      this.pushOutput({\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable\n      });\n      outputsNumber -= 1;\n    }\n    return this.outputs.length - 1;\n  }\n  /**\n   * Adds a variable output to the transaction request.\n   *\n   * @param to - The recipient address as a BytesLike object. Defaults to ZeroBytes32 if not provided.\n   * @param amount - The amount to be transferred as a BigNumberish object. Defaults to 0 if not provided.\n   * @param assetId - The asset ID as a BytesLike object. Defaults to ZeroBytes32 if not provided.\n   */\n  addVariableOutput(to, amount, assetId) {\n    this.pushOutput({\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable,\n      to,\n      amount,\n      assetId\n    });\n  }\n  /**\n   * Calculates the maximum gas for the transaction.\n   *\n   * @param chainInfo - The chain information.\n   * @param minGas - The minimum gas.\n   * @returns the maximum gas.\n   */\n  calculateMaxGas(chainInfo, minGas) {\n    const { consensusParameters } = chainInfo;\n    const {\n      feeParameters: { gasPerByte },\n      txParameters: { maxGasPerTx }\n    } = consensusParameters;\n    const witnessesLength = this.toTransaction().witnesses.reduce(\n      (acc, wit) => acc + wit.dataLength,\n      0\n    );\n    return getMaxGas({\n      gasPerByte,\n      minGas,\n      witnessesLength,\n      witnessLimit: this.witnessLimit,\n      gasLimit: this.gasLimit,\n      maxGasPerTx\n    });\n  }\n  /**\n   * Adds a contract input and output to the transaction request.\n   *\n   * @param contract - The contract ID.\n   * @returns The current instance of the `ScriptTransactionRequest`.\n   */\n  addContractInputAndOutput(contract) {\n    const contractAddress = (0,_fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.addressify)(contract);\n    if (this.getContractInputs().find((i) => i.contractId === contractAddress.toB256())) {\n      return this;\n    }\n    const inputIndex = super.pushInput({\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Contract,\n      contractId: contractAddress.toB256(),\n      txPointer: \"0x00000000000000000000000000000000\"\n    });\n    this.pushOutput({\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Contract,\n      inputIndex\n    });\n    return this;\n  }\n  /**\n   * Gets the Transaction Request by hashing the transaction.\n   *\n   * @param chainId - The chain ID.\n   *\n   * @returns - A hash of the transaction, which is the transaction ID.\n   */\n  getTransactionId(chainId) {\n    return hashTransaction(this, chainId);\n  }\n  /**\n   * Sets the data for the transaction request.\n   *\n   * @param abi - Script JSON ABI.\n   * @param args - The input arguments.\n   * @returns The current instance of the `ScriptTransactionRequest`.\n   */\n  setData(abi, args) {\n    const abiInterface = new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.Interface(abi);\n    this.scriptData = abiInterface.functions.main.encodeArguments(args);\n    return this;\n  }\n  metadataGas(gasCosts) {\n    return calculateMetadataGasForTxScript({\n      gasCosts,\n      txBytesSize: this.byteSize()\n    });\n  }\n};\n\n// src/providers/transaction-request/upgrade-transaction-request.ts\n\n\n\n\n\nvar UpgradeTransactionRequest = class _UpgradeTransactionRequest extends BaseTransactionRequest {\n  static {\n    __name(this, \"UpgradeTransactionRequest\");\n  }\n  static from(obj) {\n    if (obj instanceof _UpgradeTransactionRequest) {\n      return obj;\n    }\n    return new this((0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(obj));\n  }\n  /** The type of transaction */\n  type = _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upgrade;\n  /** The upgrade purpose */\n  upgradePurpose;\n  /** Witness index of consensus */\n  bytecodeWitnessIndex;\n  /**\n   * Creates an instance `UpgradeTransactionRequest`.\n   *\n   * @param upgradeTransactionRequestLike - The initial values for the instance\n   */\n  constructor({\n    upgradePurpose,\n    bytecodeWitnessIndex,\n    ...rest\n  } = {}) {\n    super(rest);\n    this.bytecodeWitnessIndex = bytecodeWitnessIndex ?? 0;\n    this.upgradePurpose = upgradePurpose ?? {\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.ConsensusParameters,\n      checksum: \"0x\"\n    };\n  }\n  /**\n   * Adds a consensus parameters upgrade purpose.\n   *\n   * @param consensus - The consensus bytecode.\n   *\n   * @returns - The current instance of `UpgradeTransactionRequest`.\n   */\n  addConsensusParametersUpgradePurpose(consensus) {\n    this.bytecodeWitnessIndex = this.addWitness(consensus);\n    this.upgradePurpose = {\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.ConsensusParameters,\n      checksum: (0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.hash)(consensus)\n    };\n    return this;\n  }\n  /**\n   * Adds a state transition upgrade purpose.\n   *\n   * @param bytecodeRoot - The Merkle root of the state transition.\n   *\n   * @returns - The current instance of `UpgradeTransactionRequest`.\n   */\n  addStateTransitionUpgradePurpose(bytecodeRoot) {\n    this.upgradePurpose = {\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.StateTransition,\n      data: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytecodeRoot)\n    };\n    return this;\n  }\n  /**\n   * Adds an upgrade purpose.\n   *\n   * @param type - The upgrade purpose type.\n   * @param data - The bytecode or merkle root of upgrade purpose\n   *\n   * @returns - The current instance of `UpgradeTransactionRequest`.\n   */\n  addUpgradePurpose(type, data) {\n    if (type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.ConsensusParameters) {\n      this.addConsensusParametersUpgradePurpose(data);\n    }\n    if (type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.StateTransition) {\n      this.addStateTransitionUpgradePurpose(data);\n    }\n    return this;\n  }\n  /**\n   * Converts the transaction request to a `TransactionUpgrade`.\n   *\n   * @returns The transaction create object.\n   */\n  toTransaction() {\n    let upgradePurpose;\n    if (this.upgradePurpose.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.ConsensusParameters) {\n      upgradePurpose = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.ConsensusParameters,\n        data: {\n          witnessIndex: this.bytecodeWitnessIndex,\n          checksum: this.upgradePurpose.checksum\n        }\n      };\n    } else if (this.upgradePurpose.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.StateTransition) {\n      upgradePurpose = {\n        type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.StateTransition,\n        data: {\n          bytecodeRoot: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this.upgradePurpose.data)\n        }\n      };\n    } else {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Invalid upgrade purpose\");\n    }\n    return {\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upgrade,\n      ...super.getBaseTransaction(),\n      upgradePurpose\n    };\n  }\n  /**\n   * Gets the Transaction ID by hashing the transaction\n   *\n   * @param chainId - The chain ID.\n   *\n   * @returns - A hash of the transaction, which is the transaction ID.\n   */\n  getTransactionId(chainId) {\n    return hashTransaction(this, chainId);\n  }\n  /**\n   * Calculates the metadata gas cost for an upgrade transaction.\n   *\n   * @param gasCosts - gas costs passed from the chain.\n   *\n   * @returns metadata gas cost for the upgrade transaction.\n   */\n  metadataGas(gasCosts) {\n    const txBytesSize = this.byteSize();\n    if (this.upgradePurpose.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.ConsensusParameters) {\n      const witnessIndex = this.bytecodeWitnessIndex;\n      const consensusSize = this.witnesses[witnessIndex].length;\n      return calculateMetadataGasForTxUpgrade({\n        gasCosts,\n        txBytesSize,\n        consensusSize\n      });\n    }\n    if (this.upgradePurpose.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.UpgradePurposeTypeEnum.StateTransition) {\n      return calculateMetadataGasForTxUpgrade({\n        gasCosts,\n        txBytesSize\n      });\n    }\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Invalid upgrade purpose\");\n  }\n};\n\n// src/providers/transaction-request/upload-transaction-request.ts\n\n\n\n\nvar UploadTransactionRequest = class _UploadTransactionRequest extends BaseTransactionRequest {\n  static {\n    __name(this, \"UploadTransactionRequest\");\n  }\n  static from(obj) {\n    if (obj instanceof _UploadTransactionRequest) {\n      return obj;\n    }\n    return new this((0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(obj));\n  }\n  /** Type of the transaction */\n  type = _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upload;\n  /** The witness index of the subsection of the bytecode. */\n  witnessIndex;\n  /** The subsection data. */\n  subsection;\n  /**\n   * Creates an instance `UploadTransactionRequest`.\n   *\n   * @param uploadTransactionRequestLike - The initial values for the instance\n   */\n  constructor({ witnessIndex, subsection, ...rest } = {}) {\n    super(rest);\n    this.witnessIndex = witnessIndex ?? 0;\n    this.subsection = subsection ?? {\n      proofSet: [],\n      root: _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32,\n      subsectionIndex: 0,\n      subsectionsNumber: 0\n    };\n  }\n  /**\n   * Adds the subsection.\n   *\n   * @param subsection - The subsection data.\n   */\n  addSubsection(subsection) {\n    const { subsection: subsectionBytecode, ...rest } = subsection;\n    this.subsection = rest;\n    this.witnessIndex = this.addWitness(subsectionBytecode);\n  }\n  /**\n   * Gets the Transaction Request by hashing the transaction.\n   *\n   * @param chainId - The chain ID.\n   *\n   * @returns - A hash of the transaction, which is the transaction ID.\n   */\n  getTransactionId(chainId) {\n    return hashTransaction(this, chainId);\n  }\n  /**\n   * Converts the transaction request to a `TransactionUpload`.\n   *\n   * @returns The transaction create object.\n   */\n  toTransaction() {\n    const baseTransaction = this.getBaseTransaction();\n    const { subsectionIndex, subsectionsNumber, root, proofSet } = this.subsection;\n    return {\n      type: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upload,\n      ...baseTransaction,\n      subsectionIndex,\n      subsectionsNumber,\n      root: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(root),\n      proofSet: proofSet.map(_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify),\n      witnessIndex: this.witnessIndex,\n      proofSetCount: proofSet.length\n    };\n  }\n  /**\n   * Calculates the metadata gas cost for an upload transaction.\n   *\n   * @param gasCosts - gas costs passed from the chain.\n   *\n   * @returns metadata gas cost for the upload transaction.\n   */\n  metadataGas(gasCosts) {\n    return calculateMetadataGasForTxUpload({\n      gasCosts,\n      txBytesSize: this.byteSize(),\n      subsectionSize: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.witnesses[this.witnessIndex]).length,\n      subsectionsSize: this.subsection.subsectionsNumber\n    });\n  }\n  /**\n   * Calculates the minimum gas for an upload transaction.\n   *\n   * @param chainInfo - The chain information.\n   *\n   * @returns the minimum gas for the upload transaction\n   */\n  calculateMinGas(chainInfo) {\n    const minGas = super.calculateMinGas(chainInfo);\n    const { gasCosts } = chainInfo.consensusParameters;\n    const bytecode = this.witnesses[this.witnessIndex] ?? _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32;\n    return calculateMinGasForTxUpload({\n      gasCosts,\n      baseMinGas: minGas.toNumber(),\n      subsectionSize: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(bytecode).length\n    });\n  }\n};\n\n// src/providers/transaction-request/types.ts\nvar AbstractScriptRequest = class {\n  static {\n    __name(this, \"AbstractScriptRequest\");\n  }\n};\n\n// src/providers/transaction-request/utils.ts\n\n\nvar transactionRequestify = /* @__PURE__ */ __name((obj) => {\n  if (obj instanceof ScriptTransactionRequest || obj instanceof CreateTransactionRequest || obj instanceof BlobTransactionRequest || obj instanceof UpgradeTransactionRequest || obj instanceof UploadTransactionRequest) {\n    return obj;\n  }\n  const { type } = obj;\n  switch (obj.type) {\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script: {\n      return ScriptTransactionRequest.from(obj);\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Create: {\n      return CreateTransactionRequest.from(obj);\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Blob: {\n      return BlobTransactionRequest.from(obj);\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upgrade: {\n      return UpgradeTransactionRequest.from(obj);\n    }\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upload: {\n      return UploadTransactionRequest.from(obj);\n    }\n    default: {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.UNSUPPORTED_TRANSACTION_TYPE,\n        `Unsupported transaction type: ${type}.`\n      );\n    }\n  }\n}, \"transactionRequestify\");\nvar isTransactionTypeScript = /* @__PURE__ */ __name((request2) => request2.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script, \"isTransactionTypeScript\");\nvar isTransactionTypeCreate = /* @__PURE__ */ __name((request2) => request2.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Create, \"isTransactionTypeCreate\");\nvar isTransactionTypeBlob = /* @__PURE__ */ __name((request2) => request2.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Blob, \"isTransactionTypeBlob\");\nvar isTransactionTypeUpgrade = /* @__PURE__ */ __name((request2) => request2.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upgrade, \"isTransactionTypeUpgrade\");\nvar isTransactionTypeUpload = /* @__PURE__ */ __name((request2) => request2.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upload, \"isTransactionTypeUpload\");\n\n// src/providers/resource-cache.ts\nvar cache = /* @__PURE__ */ new Map();\nvar ResourceCache = class {\n  static {\n    __name(this, \"ResourceCache\");\n  }\n  ttl;\n  constructor(ttl) {\n    this.ttl = ttl;\n    if (typeof ttl !== \"number\" || this.ttl <= 0) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_TTL,\n        `Invalid TTL: ${this.ttl}. Use a value greater than zero.`\n      );\n    }\n  }\n  // Add resources to the cache\n  set(transactionId, inputs) {\n    const transactionResourceCache = this.setupResourcesCache(inputs);\n    cache.set(transactionId, transactionResourceCache);\n  }\n  unset(transactionId) {\n    cache.delete(transactionId);\n  }\n  getActiveData(owner) {\n    const activeData = { utxos: [], messages: [] };\n    const currentTime = Date.now();\n    const expired = [];\n    cache.forEach((resource, transactionId) => {\n      const isActive = currentTime - resource.timestamp < this.ttl;\n      if (isActive) {\n        const resourcesFromOwner = resource.owners.get(owner);\n        if (resourcesFromOwner) {\n          activeData.utxos.push(...resourcesFromOwner.utxos);\n          activeData.messages.push(...resourcesFromOwner.messages);\n        }\n      } else {\n        expired.push(transactionId);\n      }\n    });\n    expired.forEach(this.unset);\n    activeData.utxos.reverse();\n    activeData.messages.reverse();\n    return activeData;\n  }\n  isCached(owner, key) {\n    const currentTime = Date.now();\n    let cached = false;\n    const expired = [];\n    for (const [transactionId, resourceData] of cache.entries()) {\n      const isActive = currentTime - resourceData.timestamp < this.ttl;\n      if (isActive) {\n        const resourcesFromOwner = resourceData.owners.get(owner);\n        if (resourcesFromOwner?.utxos.has(key) || resourcesFromOwner?.messages.has(key)) {\n          cached = true;\n          break;\n        }\n      } else {\n        expired.push(transactionId);\n      }\n    }\n    expired.forEach(this.unset);\n    return cached;\n  }\n  clear() {\n    cache.clear();\n  }\n  setupResourcesCache(inputs) {\n    const currentTime = Date.now();\n    const transactionResourcesCache = {\n      owners: /* @__PURE__ */ new Map(),\n      timestamp: currentTime\n    };\n    inputs.filter(isRequestInputCoinOrMessage).forEach((input) => {\n      const { owner, key, type } = this.extractResourceData(input);\n      if (!transactionResourcesCache.owners.has(owner)) {\n        transactionResourcesCache.owners.set(owner, { utxos: /* @__PURE__ */ new Set(), messages: /* @__PURE__ */ new Set() });\n      }\n      if (type === \"utxo\") {\n        transactionResourcesCache.owners.get(owner)?.utxos.add(key);\n      } else {\n        transactionResourcesCache.owners.get(owner)?.messages.add(key);\n      }\n    });\n    return transactionResourcesCache;\n  }\n  extractResourceData(input) {\n    if (isRequestInputCoin(input)) {\n      return { owner: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(input.owner), key: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(input.id), type: \"utxo\" };\n    }\n    return { owner: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(input.recipient), key: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(input.nonce), type: \"message\" };\n  }\n};\n\n// src/providers/transaction-response/transaction-response.ts\n\n\n\n\n\n// src/providers/transaction-summary/assemble-transaction-summary.ts\n\n\n\n\n// src/providers/transaction-summary/calculate-tx-fee-for-summary.ts\n\n\n\nvar calculateTXFeeForSummary = /* @__PURE__ */ __name((params) => {\n  const {\n    gasPrice,\n    rawPayload,\n    tip,\n    consensusParameters: { gasCosts, feeParams, maxGasPerTx }\n  } = params;\n  const gasPerByte = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(feeParams.gasPerByte);\n  const gasPriceFactor = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(feeParams.gasPriceFactor);\n  const transactionBytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(rawPayload);\n  const [transaction] = new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().decode(transactionBytes, 0);\n  const { type, witnesses, inputs, policies } = transaction;\n  let metadataGas = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n  let gasLimit = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n  if (type !== _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Create && type !== _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script) {\n    return (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n  }\n  if (type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Create) {\n    const { bytecodeWitnessIndex, storageSlots } = transaction;\n    const contractBytesSize = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(witnesses[bytecodeWitnessIndex].data).length);\n    metadataGas = calculateMetadataGasForTxCreate({\n      contractBytesSize,\n      gasCosts,\n      stateRootSize: storageSlots.length || 0,\n      txBytesSize: transactionBytes.length\n    });\n  } else {\n    const { scriptGasLimit } = transaction;\n    if (scriptGasLimit) {\n      gasLimit = scriptGasLimit;\n    }\n    metadataGas = calculateMetadataGasForTxScript({\n      gasCosts,\n      txBytesSize: transactionBytes.length\n    });\n  }\n  const minGas = getMinGas({\n    gasCosts,\n    gasPerByte: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasPerByte),\n    inputs,\n    metadataGas,\n    txBytesSize: transactionBytes.length\n  });\n  const witnessLimit = policies.find((policy) => policy.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.WitnessLimit)?.data;\n  const witnessesLength = witnesses.reduce((acc, wit) => acc + wit.dataLength, 0);\n  const maxGas = getMaxGas({\n    gasPerByte,\n    minGas,\n    witnessesLength,\n    gasLimit,\n    witnessLimit,\n    maxGasPerTx\n  });\n  const maxFee = calculateGasFee({\n    gasPrice,\n    gas: maxGas,\n    priceFactor: gasPriceFactor,\n    tip\n  });\n  return maxFee;\n}, \"calculateTXFeeForSummary\");\n\n// src/providers/transaction-summary/operations.ts\n\n\n\n\n\n// src/providers/transaction-summary/input.ts\n\n\n\nfunction getInputsByTypes(inputs, types) {\n  return inputs.filter((i) => types.includes(i.type));\n}\n__name(getInputsByTypes, \"getInputsByTypes\");\nfunction getInputsByType(inputs, type) {\n  return inputs.filter((i) => i.type === type);\n}\n__name(getInputsByType, \"getInputsByType\");\nfunction getInputsCoin(inputs) {\n  return getInputsByType(inputs, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin);\n}\n__name(getInputsCoin, \"getInputsCoin\");\nfunction getInputsMessage(inputs) {\n  return getInputsByType(inputs, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message);\n}\n__name(getInputsMessage, \"getInputsMessage\");\nfunction getInputsCoinAndMessage(inputs) {\n  return getInputsByTypes(inputs, [_fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message]);\n}\n__name(getInputsCoinAndMessage, \"getInputsCoinAndMessage\");\nfunction isInputCoin(input) {\n  return input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin;\n}\n__name(isInputCoin, \"isInputCoin\");\nfunction getInputsContract(inputs) {\n  return getInputsByType(inputs, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Contract);\n}\n__name(getInputsContract, \"getInputsContract\");\nfunction findCoinInput(inputs, assetId) {\n  const coinInputs = getInputsCoin(inputs);\n  return coinInputs.find((i) => i.assetId === assetId);\n}\n__name(findCoinInput, \"findCoinInput\");\nfunction aggregateInputsAmountsByAssetAndOwner(inputs, baseAssetId) {\n  const aggregated = /* @__PURE__ */ new Map();\n  getInputsCoinAndMessage(inputs).forEach((input) => {\n    const assetId = isInputCoin(input) ? input.assetId : baseAssetId;\n    const owner = isInputCoin(input) ? input.owner : input.recipient;\n    let ownersMap = aggregated.get(assetId);\n    if (!ownersMap) {\n      ownersMap = /* @__PURE__ */ new Map();\n      aggregated.set(assetId, ownersMap);\n    }\n    let ownerBalance = ownersMap.get(owner);\n    if (!ownerBalance) {\n      ownerBalance = new _fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.BN(0);\n      ownersMap.set(owner, ownerBalance);\n    }\n    ownersMap.set(owner, ownerBalance.add(input.amount));\n  });\n  return aggregated;\n}\n__name(aggregateInputsAmountsByAssetAndOwner, \"aggregateInputsAmountsByAssetAndOwner\");\nfunction findMessageInput(inputs) {\n  return getInputsMessage(inputs)?.[0];\n}\n__name(findMessageInput, \"findMessageInput\");\nfunction getInputFromAssetId(inputs, assetId, isBaseAsset = false) {\n  const coinInput = findCoinInput(inputs, assetId);\n  if (coinInput) {\n    return coinInput;\n  }\n  if (isBaseAsset) {\n    return findMessageInput(inputs);\n  }\n  return void 0;\n}\n__name(getInputFromAssetId, \"getInputFromAssetId\");\nfunction getInputContractFromIndex(inputs, inputIndex) {\n  if (inputIndex == null) {\n    return void 0;\n  }\n  const contractInput = inputs?.[inputIndex];\n  if (!contractInput) {\n    return void 0;\n  }\n  if (contractInput.type !== _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Contract) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_TRANSACTION_INPUT,\n      `Contract input should be of type 'contract'.`\n    );\n  }\n  return contractInput;\n}\n__name(getInputContractFromIndex, \"getInputContractFromIndex\");\nfunction getInputAccountAddress(input) {\n  if (input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin) {\n    return input.owner.toString();\n  }\n  if (input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Message) {\n    return input.recipient.toString();\n  }\n  return \"\";\n}\n__name(getInputAccountAddress, \"getInputAccountAddress\");\n\n// src/providers/transaction-summary/output.ts\n\nfunction getOutputsByType(outputs, type) {\n  return outputs.filter((o) => o.type === type);\n}\n__name(getOutputsByType, \"getOutputsByType\");\nfunction getOutputsContractCreated(outputs) {\n  return getOutputsByType(outputs, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.ContractCreated);\n}\n__name(getOutputsContractCreated, \"getOutputsContractCreated\");\nfunction getOutputsCoin(outputs) {\n  return getOutputsByType(outputs, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin);\n}\n__name(getOutputsCoin, \"getOutputsCoin\");\nfunction getOutputsChange(outputs) {\n  return getOutputsByType(outputs, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Change);\n}\n__name(getOutputsChange, \"getOutputsChange\");\nfunction getOutputsContract(outputs) {\n  return getOutputsByType(outputs, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Contract);\n}\n__name(getOutputsContract, \"getOutputsContract\");\nfunction getOutputsVariable(outputs) {\n  return getOutputsByType(outputs, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Variable);\n}\n__name(getOutputsVariable, \"getOutputsVariable\");\n\n// src/providers/transaction-summary/types.ts\nvar TransactionTypeName = /* @__PURE__ */ ((TransactionTypeName2) => {\n  TransactionTypeName2[\"Create\"] = \"Create\";\n  TransactionTypeName2[\"Mint\"] = \"Mint\";\n  TransactionTypeName2[\"Script\"] = \"Script\";\n  TransactionTypeName2[\"Upgrade\"] = \"Upgrade\";\n  TransactionTypeName2[\"Upload\"] = \"Upload\";\n  TransactionTypeName2[\"Blob\"] = \"Blob\";\n  return TransactionTypeName2;\n})(TransactionTypeName || {});\nvar TransactionStatus = /* @__PURE__ */ ((TransactionStatus2) => {\n  TransactionStatus2[\"submitted\"] = \"submitted\";\n  TransactionStatus2[\"success\"] = \"success\";\n  TransactionStatus2[\"squeezedout\"] = \"squeezedout\";\n  TransactionStatus2[\"failure\"] = \"failure\";\n  TransactionStatus2[\"preconfirmationSuccess\"] = \"preconfirmationSuccess\";\n  TransactionStatus2[\"preconfirmationFailure\"] = \"preconfirmationFailure\";\n  return TransactionStatus2;\n})(TransactionStatus || {});\nvar OperationName = /* @__PURE__ */ ((OperationName2) => {\n  OperationName2[\"payBlockProducer\"] = \"Pay network fee to block producer\";\n  OperationName2[\"contractCreated\"] = \"Contract created\";\n  OperationName2[\"transfer\"] = \"Transfer asset\";\n  OperationName2[\"contractCall\"] = \"Contract call\";\n  OperationName2[\"receive\"] = \"Receive asset\";\n  OperationName2[\"withdrawFromFuel\"] = \"Withdraw from Fuel\";\n  return OperationName2;\n})(OperationName || {});\nvar AddressType = /* @__PURE__ */ ((AddressType2) => {\n  AddressType2[AddressType2[\"contract\"] = 0] = \"contract\";\n  AddressType2[AddressType2[\"account\"] = 1] = \"account\";\n  return AddressType2;\n})(AddressType || {});\nvar ChainName = /* @__PURE__ */ ((ChainName2) => {\n  ChainName2[\"ethereum\"] = \"ethereum\";\n  ChainName2[\"fuel\"] = \"fuel\";\n  return ChainName2;\n})(ChainName || {});\n\n// src/providers/transaction-summary/operations.ts\nfunction getReceiptsByType(receipts, type) {\n  return (receipts ?? []).filter((r) => r.type === type);\n}\n__name(getReceiptsByType, \"getReceiptsByType\");\nfunction getTransactionTypeName(transactionType) {\n  switch (transactionType) {\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Mint:\n      return \"Mint\" /* Mint */;\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Create:\n      return \"Create\" /* Create */;\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script:\n      return \"Script\" /* Script */;\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Blob:\n      return \"Blob\" /* Blob */;\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upgrade:\n      return \"Upgrade\" /* Upgrade */;\n    case _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Upload:\n      return \"Upload\" /* Upload */;\n    default:\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.UNSUPPORTED_TRANSACTION_TYPE,\n        `Unsupported transaction type: ${transactionType}.`\n      );\n  }\n}\n__name(getTransactionTypeName, \"getTransactionTypeName\");\nfunction isType(transactionType, type) {\n  const txType = getTransactionTypeName(transactionType);\n  return txType === type;\n}\n__name(isType, \"isType\");\nfunction isTypeMint(transactionType) {\n  return isType(transactionType, \"Mint\" /* Mint */);\n}\n__name(isTypeMint, \"isTypeMint\");\nfunction isTypeCreate(transactionType) {\n  return isType(transactionType, \"Create\" /* Create */);\n}\n__name(isTypeCreate, \"isTypeCreate\");\nfunction isTypeScript(transactionType) {\n  return isType(transactionType, \"Script\" /* Script */);\n}\n__name(isTypeScript, \"isTypeScript\");\nfunction isTypeUpgrade(transactionType) {\n  return isType(transactionType, \"Upgrade\" /* Upgrade */);\n}\n__name(isTypeUpgrade, \"isTypeUpgrade\");\nfunction isTypeUpload(transactionType) {\n  return isType(transactionType, \"Upload\" /* Upload */);\n}\n__name(isTypeUpload, \"isTypeUpload\");\nfunction isTypeBlob(transactionType) {\n  return isType(transactionType, \"Blob\" /* Blob */);\n}\n__name(isTypeBlob, \"isTypeBlob\");\nfunction hasSameAssetId(a) {\n  return (b) => a.assetId === b.assetId;\n}\n__name(hasSameAssetId, \"hasSameAssetId\");\nfunction getReceiptsCall(receipts) {\n  return getReceiptsByType(receipts, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Call);\n}\n__name(getReceiptsCall, \"getReceiptsCall\");\nfunction getReceiptsMessageOut(receipts) {\n  return getReceiptsByType(receipts, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.MessageOut);\n}\n__name(getReceiptsMessageOut, \"getReceiptsMessageOut\");\nfunction mergeAssets(op1, op2) {\n  const assets1 = op1.assetsSent || [];\n  const assets2 = op2.assetsSent || [];\n  const assetMap = /* @__PURE__ */ new Map();\n  assets1.forEach((asset) => {\n    assetMap.set(asset.assetId, { ...asset });\n  });\n  assets2.forEach((asset) => {\n    const existingAsset = assetMap.get(asset.assetId);\n    if (existingAsset) {\n      existingAsset.amount = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(existingAsset.amount).add(asset.amount);\n    } else {\n      assetMap.set(asset.assetId, { ...asset });\n    }\n  });\n  return Array.from(assetMap.values());\n}\n__name(mergeAssets, \"mergeAssets\");\nfunction isSameOperation(a, b) {\n  return a.name === b.name && a.from?.address === b.from?.address && a.to?.address === b.to?.address && a.from?.type === b.from?.type && a.to?.type === b.to?.type;\n}\n__name(isSameOperation, \"isSameOperation\");\nfunction mergeAssetsSent(existing, toAdd) {\n  if (!toAdd.assetsSent?.length) {\n    return existing.assetsSent;\n  }\n  return existing.assetsSent?.length ? mergeAssets(existing, toAdd) : toAdd.assetsSent;\n}\n__name(mergeAssetsSent, \"mergeAssetsSent\");\nfunction mergeCalls(existing, toAdd) {\n  if (!toAdd.calls?.length) {\n    return existing.calls;\n  }\n  return [...existing.calls || [], ...toAdd.calls];\n}\n__name(mergeCalls, \"mergeCalls\");\nfunction mergeOperations(existing, toAdd) {\n  return {\n    ...existing,\n    assetsSent: mergeAssetsSent(existing, toAdd),\n    calls: mergeCalls(existing, toAdd),\n    receipts: [\n      ...existing.receipts || [],\n      ...toAdd.receipts?.filter((r) => !existing.receipts?.some((er) => er === r)) || []\n    ]\n  };\n}\n__name(mergeOperations, \"mergeOperations\");\nfunction addOperation(operations, toAdd) {\n  const existingIndex = operations.findIndex((op) => isSameOperation(op, toAdd));\n  if (existingIndex === -1) {\n    return [...operations, toAdd];\n  }\n  return operations.map((op, index) => index === existingIndex ? mergeOperations(op, toAdd) : op);\n}\n__name(addOperation, \"addOperation\");\nfunction getReceiptsTransferOut(receipts) {\n  return getReceiptsByType(receipts, _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.TransferOut);\n}\n__name(getReceiptsTransferOut, \"getReceiptsTransferOut\");\nfunction getWithdrawFromFuelOperations({\n  inputs,\n  receipts,\n  baseAssetId\n}) {\n  const messageOutReceipts = getReceiptsMessageOut(receipts);\n  const withdrawFromFuelOperations = messageOutReceipts.reduce(\n    (prevWithdrawFromFuelOps, receipt) => {\n      const input = getInputFromAssetId(inputs, baseAssetId, true);\n      if (input) {\n        const inputAddress = getInputAccountAddress(input);\n        const newWithdrawFromFuelOps = addOperation(prevWithdrawFromFuelOps, {\n          name: \"Withdraw from Fuel\" /* withdrawFromFuel */,\n          from: {\n            type: 1 /* account */,\n            address: inputAddress\n          },\n          to: {\n            type: 1 /* account */,\n            address: receipt.recipient.toString(),\n            chain: \"ethereum\" /* ethereum */\n          },\n          assetsSent: [\n            {\n              amount: receipt.amount,\n              assetId: baseAssetId\n            }\n          ],\n          receipts: [receipt]\n        });\n        return newWithdrawFromFuelOps;\n      }\n      return prevWithdrawFromFuelOps;\n    },\n    []\n  );\n  return withdrawFromFuelOperations;\n}\n__name(getWithdrawFromFuelOperations, \"getWithdrawFromFuelOperations\");\nfunction getContractCalls(contractInput, abiMap, _receipt, _rawPayload, _maxInputs) {\n  const abi = abiMap?.[contractInput.contractID];\n  if (!abi) {\n    return [];\n  }\n  return [];\n}\n__name(getContractCalls, \"getContractCalls\");\nfunction getAssetsSent(receipt) {\n  return receipt.amount?.isZero() ? void 0 : [\n    {\n      amount: receipt.amount,\n      assetId: receipt.assetId\n    }\n  ];\n}\n__name(getAssetsSent, \"getAssetsSent\");\nfunction processCallReceipt(receipt, contractInput, inputs, abiMap, rawPayload, maxInputs, baseAssetId) {\n  const assetId = receipt.assetId === _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32 ? baseAssetId : receipt.assetId;\n  const input = getInputFromAssetId(inputs, assetId, assetId === baseAssetId);\n  if (!input) {\n    return [];\n  }\n  const inputAddress = getInputAccountAddress(input);\n  const calls = getContractCalls(contractInput, abiMap, receipt, rawPayload, maxInputs);\n  return [\n    {\n      name: \"Contract call\" /* contractCall */,\n      from: {\n        type: 1 /* account */,\n        address: inputAddress\n      },\n      to: {\n        type: 0 /* contract */,\n        address: receipt.to\n      },\n      assetsSent: getAssetsSent(receipt),\n      calls,\n      receipts: [receipt]\n    }\n  ];\n}\n__name(processCallReceipt, \"processCallReceipt\");\nfunction getContractCallOperations({\n  inputs,\n  outputs,\n  receipts,\n  abiMap,\n  rawPayload,\n  maxInputs,\n  baseAssetId\n}) {\n  const contractCallReceipts = getReceiptsCall(receipts);\n  const contractOutputs = getOutputsContract(outputs);\n  return contractOutputs.flatMap((output) => {\n    const contractInput = getInputContractFromIndex(inputs, output.inputIndex);\n    if (!contractInput) {\n      return [];\n    }\n    return contractCallReceipts.filter((receipt) => receipt.to === contractInput.contractID).flatMap(\n      (receipt) => processCallReceipt(\n        receipt,\n        contractInput,\n        inputs,\n        abiMap,\n        rawPayload,\n        maxInputs,\n        baseAssetId\n      )\n    );\n  });\n}\n__name(getContractCallOperations, \"getContractCallOperations\");\nfunction extractTransferOperationFromReceipt(receipt, contractInputs, changeOutputs) {\n  const { to: toAddress, assetId, amount } = receipt;\n  let { id: fromAddress } = receipt;\n  const toType = contractInputs.some((input) => input.contractID === toAddress) ? 0 /* contract */ : 1 /* account */;\n  if (_fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32 === fromAddress) {\n    const change = changeOutputs.find((output) => output.assetId === assetId);\n    fromAddress = change?.to || fromAddress;\n  }\n  const fromType = contractInputs.some((input) => input.contractID === fromAddress) ? 0 /* contract */ : 1 /* account */;\n  return {\n    name: \"Transfer asset\" /* transfer */,\n    from: {\n      type: fromType,\n      address: fromAddress\n    },\n    to: {\n      type: toType,\n      address: toAddress\n    },\n    assetsSent: [\n      {\n        assetId: assetId.toString(),\n        amount\n      }\n    ],\n    receipts: [receipt]\n  };\n}\n__name(extractTransferOperationFromReceipt, \"extractTransferOperationFromReceipt\");\nfunction getTransferOperations({\n  inputs,\n  outputs,\n  receipts,\n  baseAssetId\n}) {\n  let operations = [];\n  const coinOutputs = getOutputsCoin(outputs);\n  const contractInputs = getInputsContract(inputs);\n  const changeOutputs = getOutputsChange(outputs);\n  const aggregated = aggregateInputsAmountsByAssetAndOwner(inputs, baseAssetId);\n  coinOutputs.forEach(({ amount, assetId, to }) => {\n    const txPayers = aggregated.get(assetId) || /* @__PURE__ */ new Map();\n    let selectedPayer;\n    let fallbackPayer;\n    for (const [address, payedAmount] of txPayers) {\n      if (!fallbackPayer) {\n        fallbackPayer = address;\n      }\n      if (payedAmount.gte(amount)) {\n        selectedPayer = address;\n        break;\n      }\n    }\n    selectedPayer = selectedPayer || fallbackPayer;\n    if (selectedPayer) {\n      operations = addOperation(operations, {\n        name: \"Transfer asset\" /* transfer */,\n        from: {\n          type: 1 /* account */,\n          address: selectedPayer\n        },\n        to: {\n          type: 1 /* account */,\n          address: to\n        },\n        assetsSent: [{ assetId, amount }]\n      });\n    }\n  });\n  const transferReceipts = getReceiptsByType(\n    receipts,\n    _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Transfer\n  );\n  const transferOutReceipts = getReceiptsByType(\n    receipts,\n    _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.TransferOut\n  );\n  [...transferReceipts, ...transferOutReceipts].forEach((receipt) => {\n    const operation = extractTransferOperationFromReceipt(receipt, contractInputs, changeOutputs);\n    operations = addOperation(operations, operation);\n  });\n  return operations;\n}\n__name(getTransferOperations, \"getTransferOperations\");\nfunction getPayProducerOperations(outputs) {\n  const coinOutputs = getOutputsCoin(outputs);\n  const payProducerOperations = coinOutputs.reduce((prev, output) => {\n    const operations = addOperation(prev, {\n      name: \"Pay network fee to block producer\" /* payBlockProducer */,\n      from: {\n        type: 1 /* account */,\n        address: \"Network\"\n      },\n      to: {\n        type: 1 /* account */,\n        address: output.to.toString()\n      },\n      assetsSent: [\n        {\n          assetId: output.assetId.toString(),\n          amount: output.amount\n        }\n      ]\n    });\n    return operations;\n  }, []);\n  return payProducerOperations;\n}\n__name(getPayProducerOperations, \"getPayProducerOperations\");\nfunction getContractCreatedOperations({ inputs, outputs }) {\n  const contractCreatedOutputs = getOutputsContractCreated(outputs);\n  const input = getInputsCoinAndMessage(inputs)[0];\n  const fromAddress = getInputAccountAddress(input);\n  const contractCreatedOperations = contractCreatedOutputs.reduce((prev, contractCreatedOutput) => {\n    const operations = addOperation(prev, {\n      name: \"Contract created\" /* contractCreated */,\n      from: {\n        type: 1 /* account */,\n        address: fromAddress\n      },\n      to: {\n        type: 0 /* contract */,\n        address: contractCreatedOutput?.contractId || \"\"\n      }\n    });\n    return operations;\n  }, []);\n  return contractCreatedOperations;\n}\n__name(getContractCreatedOperations, \"getContractCreatedOperations\");\nfunction getOperations({\n  transactionType,\n  inputs,\n  outputs,\n  receipts,\n  abiMap,\n  rawPayload,\n  maxInputs,\n  baseAssetId\n}) {\n  if (isTypeCreate(transactionType)) {\n    return [...getContractCreatedOperations({ inputs, outputs })];\n  }\n  if (isTypeScript(transactionType)) {\n    return [\n      ...getTransferOperations({ inputs, outputs, receipts, baseAssetId }),\n      ...getContractCallOperations({\n        inputs,\n        outputs,\n        receipts,\n        abiMap,\n        rawPayload,\n        maxInputs,\n        baseAssetId\n      }),\n      ...getWithdrawFromFuelOperations({ inputs, receipts, baseAssetId })\n    ];\n  }\n  return [...getPayProducerOperations(outputs)];\n}\n__name(getOperations, \"getOperations\");\n\n// src/providers/transaction-summary/receipt.ts\n\nvar processGqlReceipt = /* @__PURE__ */ __name((gqlReceipt) => deserializeReceipt(gqlReceipt), \"processGqlReceipt\");\nvar extractMintedAssetsFromReceipts = /* @__PURE__ */ __name((receipts) => {\n  const mintedAssets = [];\n  receipts.forEach((receipt) => {\n    if (receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Mint) {\n      mintedAssets.push({\n        subId: receipt.subId,\n        contractId: receipt.contractId,\n        assetId: receipt.assetId,\n        amount: receipt.val\n      });\n    }\n  });\n  return mintedAssets;\n}, \"extractMintedAssetsFromReceipts\");\nvar extractBurnedAssetsFromReceipts = /* @__PURE__ */ __name((receipts) => {\n  const burnedAssets = [];\n  receipts.forEach((receipt) => {\n    if (receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Burn) {\n      burnedAssets.push({\n        subId: receipt.subId,\n        contractId: receipt.contractId,\n        assetId: receipt.assetId,\n        amount: receipt.val\n      });\n    }\n  });\n  return burnedAssets;\n}, \"extractBurnedAssetsFromReceipts\");\n\n// src/providers/transaction-summary/status.ts\n\n\nvar getTransactionStatusName = /* @__PURE__ */ __name((gqlStatus) => {\n  switch (gqlStatus) {\n    case \"FailureStatus\":\n      return \"failure\" /* failure */;\n    case \"SuccessStatus\":\n      return \"success\" /* success */;\n    case \"SubmittedStatus\":\n      return \"submitted\" /* submitted */;\n    case \"SqueezedOutStatus\":\n      return \"squeezedout\" /* squeezedout */;\n    case \"PreconfirmationSuccessStatus\":\n      return \"preconfirmationSuccess\" /* preconfirmationSuccess */;\n    case \"PreconfirmationFailureStatus\":\n      return \"preconfirmationFailure\" /* preconfirmationFailure */;\n    default:\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_TRANSACTION_STATUS,\n        `Invalid transaction status: ${gqlStatus}.`\n      );\n  }\n}, \"getTransactionStatusName\");\nvar extractResolvedOutputs = /* @__PURE__ */ __name((serializedOutputs) => {\n  const resolvedOutputs = [];\n  serializedOutputs?.forEach(\n    ({ utxoId, output }) => resolvedOutputs.push({\n      utxoId,\n      output: deserializeProcessedTxOutput(output)\n    })\n  );\n  return resolvedOutputs;\n}, \"extractResolvedOutputs\");\nvar processGraphqlStatus = /* @__PURE__ */ __name((gqlTransactionStatus) => {\n  let time;\n  let blockId;\n  let status;\n  let totalFee;\n  let totalGas;\n  let receipts;\n  let resolvedOutputs = [];\n  let errorReason;\n  let isStatusFailure = false;\n  let isStatusSuccess = false;\n  let isStatusPending = false;\n  let isStatusPreConfirmationSuccess = false;\n  let isStatusPreConfirmationFailure = false;\n  if (gqlTransactionStatus?.type) {\n    status = getTransactionStatusName(gqlTransactionStatus.type);\n    switch (gqlTransactionStatus.type) {\n      case \"SuccessStatus\":\n        time = gqlTransactionStatus.time;\n        blockId = gqlTransactionStatus.block?.id;\n        isStatusSuccess = true;\n        receipts = gqlTransactionStatus.receipts?.map(deserializeReceipt);\n        totalFee = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransactionStatus.totalFee);\n        totalGas = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransactionStatus.totalGas);\n        break;\n      case \"FailureStatus\":\n        time = gqlTransactionStatus.time;\n        blockId = gqlTransactionStatus.block?.id;\n        isStatusFailure = true;\n        totalFee = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransactionStatus.totalFee);\n        receipts = gqlTransactionStatus.receipts?.map(deserializeReceipt);\n        totalGas = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransactionStatus.totalGas);\n        break;\n      case \"SubmittedStatus\":\n        time = gqlTransactionStatus.time;\n        isStatusPending = true;\n        break;\n      case \"PreconfirmationSuccessStatus\":\n        isStatusPreConfirmationSuccess = true;\n        totalFee = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransactionStatus.totalFee);\n        totalGas = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransactionStatus.totalGas);\n        receipts = gqlTransactionStatus.preconfirmationReceipts?.map(deserializeReceipt);\n        resolvedOutputs = extractResolvedOutputs(gqlTransactionStatus.resolvedOutputs);\n        break;\n      case \"PreconfirmationFailureStatus\":\n        isStatusPreConfirmationFailure = true;\n        totalFee = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransactionStatus.totalFee);\n        totalGas = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransactionStatus.totalGas);\n        receipts = gqlTransactionStatus.preconfirmationReceipts?.map(deserializeReceipt);\n        resolvedOutputs = extractResolvedOutputs(gqlTransactionStatus.resolvedOutputs);\n        errorReason = gqlTransactionStatus.reason;\n        break;\n      default:\n    }\n  }\n  const processedGraphqlStatus = {\n    time,\n    blockId,\n    status,\n    totalFee,\n    totalGas,\n    receipts,\n    isStatusFailure,\n    isStatusSuccess,\n    isStatusPending,\n    isStatusPreConfirmationSuccess,\n    isStatusPreConfirmationFailure,\n    resolvedOutputs,\n    errorReason\n  };\n  return processedGraphqlStatus;\n}, \"processGraphqlStatus\");\nvar getTotalFeeFromStatus = /* @__PURE__ */ __name((status) => status && \"totalFee\" in status ? (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(status.totalFee) : void 0, \"getTotalFeeFromStatus\");\n\n// src/providers/transaction-summary/assemble-transaction-summary.ts\nfunction assembleTransactionSummary(params) {\n  const {\n    id,\n    receipts,\n    gasPerByte,\n    gasPriceFactor,\n    transaction,\n    transactionBytes,\n    gqlTransactionStatus,\n    abiMap = {},\n    maxInputs,\n    gasCosts,\n    maxGasPerTx,\n    gasPrice,\n    baseAssetId\n  } = params;\n  const gasUsed = getGasUsedFromReceipts(receipts);\n  const rawPayload = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(transactionBytes);\n  const operations = getOperations({\n    transactionType: transaction.type,\n    inputs: transaction.inputs || [],\n    outputs: transaction.outputs || [],\n    receipts,\n    rawPayload,\n    abiMap,\n    maxInputs,\n    baseAssetId\n  });\n  const typeName = getTransactionTypeName(transaction.type);\n  const tip = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(transaction.policies?.find((policy) => policy.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.Tip)?.data);\n  const { isStatusFailure, isStatusPending, isStatusSuccess, blockId, status, time, totalFee } = processGraphqlStatus(gqlTransactionStatus);\n  const fee = totalFee ?? calculateTXFeeForSummary({\n    gasPrice,\n    rawPayload,\n    tip,\n    consensusParameters: {\n      gasCosts,\n      maxGasPerTx,\n      feeParams: {\n        gasPerByte,\n        gasPriceFactor\n      }\n    }\n  });\n  const mintedAssets = extractMintedAssetsFromReceipts(receipts);\n  const burnedAssets = extractBurnedAssetsFromReceipts(receipts);\n  let date;\n  if (time) {\n    date = _fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.DateTime.fromTai64(time);\n  }\n  const transactionSummary = {\n    id,\n    tip,\n    fee,\n    gasUsed,\n    operations,\n    type: typeName,\n    blockId,\n    time,\n    status,\n    receipts,\n    mintedAssets,\n    burnedAssets,\n    isTypeMint: isTypeMint(transaction.type),\n    isTypeCreate: isTypeCreate(transaction.type),\n    isTypeScript: isTypeScript(transaction.type),\n    isTypeUpgrade: isTypeUpgrade(transaction.type),\n    isTypeUpload: isTypeUpload(transaction.type),\n    isTypeBlob: isTypeBlob(transaction.type),\n    isStatusFailure,\n    isStatusSuccess,\n    isStatusPending,\n    date,\n    transaction\n  };\n  return transactionSummary;\n}\n__name(assembleTransactionSummary, \"assembleTransactionSummary\");\nfunction assemblePreConfirmationTransactionSummary(params) {\n  const { id, gqlTransactionStatus, transactionRequest, baseAssetId, maxInputs, abiMap } = params;\n  let type;\n  let operations;\n  let gasUsed;\n  let tip;\n  let transaction;\n  let mintedAssets;\n  let burnedAssets;\n  const {\n    isStatusFailure,\n    isStatusSuccess,\n    isStatusPending,\n    status,\n    receipts,\n    resolvedOutputs,\n    errorReason,\n    totalFee,\n    isStatusPreConfirmationFailure,\n    isStatusPreConfirmationSuccess\n  } = processGraphqlStatus(gqlTransactionStatus);\n  if (receipts) {\n    gasUsed = getGasUsedFromReceipts(receipts);\n    mintedAssets = extractMintedAssetsFromReceipts(receipts);\n    burnedAssets = extractBurnedAssetsFromReceipts(receipts);\n  }\n  if (transactionRequest) {\n    transaction = transactionRequest.toTransaction();\n    type = getTransactionTypeName(transaction.type);\n    tip = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(transaction.policies?.find((policy) => policy.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.PolicyType.Tip)?.data);\n    if (receipts) {\n      const rawPayload = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().encode(transaction));\n      operations = getOperations({\n        transactionType: transaction.type,\n        inputs: transaction.inputs || [],\n        outputs: transaction.outputs || [],\n        receipts,\n        rawPayload,\n        abiMap,\n        maxInputs,\n        baseAssetId\n      });\n    }\n  }\n  const transactionSummary = {\n    id,\n    fee: totalFee,\n    type,\n    status,\n    receipts,\n    gasUsed,\n    tip,\n    isStatusPreConfirmationFailure,\n    isStatusPreConfirmationSuccess,\n    isStatusFailure,\n    isStatusSuccess,\n    isStatusPending,\n    ...transaction && {\n      isTypeMint: isTypeMint(transaction.type),\n      isTypeCreate: isTypeCreate(transaction.type),\n      isTypeScript: isTypeScript(transaction.type),\n      isTypeUpgrade: isTypeUpgrade(transaction.type),\n      isTypeUpload: isTypeUpload(transaction.type),\n      isTypeBlob: isTypeBlob(transaction.type)\n    },\n    mintedAssets,\n    burnedAssets,\n    resolvedOutputs,\n    errorReason,\n    transaction,\n    operations\n  };\n  return transactionSummary;\n}\n__name(assemblePreConfirmationTransactionSummary, \"assemblePreConfirmationTransactionSummary\");\n\n// src/providers/transaction-response/getAllDecodedLogs.ts\n\n\n\nfunction getAllDecodedLogs(opts) {\n  const { receipts, mainAbi, externalAbis = {} } = opts;\n  let mainContract = \"\";\n  if (mainAbi.programType === \"contract\") {\n    const firstCallReceipt = receipts.find(\n      (r) => r.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Call && r.id === _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32\n    );\n    if (firstCallReceipt) {\n      mainContract = firstCallReceipt.to;\n    }\n  }\n  return receipts.reduce(\n    ({ logs, groupedLogs }, receipt) => {\n      if (receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.LogData || receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Log) {\n        const isLogFromMainAbi = receipt.id === _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32 || mainContract === receipt.id;\n        const isDecodable = isLogFromMainAbi || externalAbis[receipt.id];\n        if (isDecodable) {\n          const interfaceToUse = isLogFromMainAbi ? new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.Interface(mainAbi) : new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.Interface(externalAbis[receipt.id]);\n          const data = receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Log ? new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.BigNumberCoder(\"u64\").encode(receipt.ra) : receipt.data;\n          const [decodedLog] = interfaceToUse.decodeLog(data, receipt.rb.toString());\n          logs.push(decodedLog);\n          groupedLogs[receipt.id] = [...groupedLogs[receipt.id] || [], decodedLog];\n        }\n      }\n      return { logs, groupedLogs };\n    },\n    { logs: [], groupedLogs: {} }\n  );\n}\n__name(getAllDecodedLogs, \"getAllDecodedLogs\");\n\n// src/providers/transaction-response/transaction-response.ts\nvar TransactionResponse = class _TransactionResponse {\n  /**\n   * Constructor for `TransactionResponse`.\n   *\n   * @param tx - The transaction ID or TransactionRequest.\n   * @param provider - The provider.\n   */\n  constructor(tx, provider, chainId, abis, submitTxSubscription) {\n    this.submitTxSubscription = submitTxSubscription;\n    if (typeof tx === \"string\") {\n      this.id = tx;\n    } else {\n      this.id = tx.getTransactionId(chainId);\n      this.request = tx;\n    }\n    this.provider = provider;\n    this.abis = abis;\n    this.waitForResult = this.waitForResult.bind(this);\n    this.waitForPreConfirmation = this.waitForPreConfirmation.bind(this);\n  }\n  static {\n    __name(this, \"TransactionResponse\");\n  }\n  /** Transaction ID */\n  id;\n  /** Current provider */\n  provider;\n  /** Gas used on the transaction */\n  gasUsed = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n  /** The graphql Transaction with receipts object. */\n  gqlTransaction;\n  request;\n  status;\n  abis;\n  preConfirmationStatus;\n  waitingForStreamData = false;\n  statusResolvers = /* @__PURE__ */ new Map();\n  /**\n   * Async constructor for `TransactionResponse`. This method can be used to create\n   * an instance of `TransactionResponse` and wait for the transaction to be fetched\n   * from the chain, ensuring that the `gqlTransaction` property is set.\n   *\n   * @param id - The transaction ID.\n   * @param provider - The provider.\n   */\n  static async create(id, provider, abis) {\n    const chainId = await provider.getChainId();\n    const response = new _TransactionResponse(id, provider, chainId, abis);\n    await response.fetch();\n    return response;\n  }\n  applyMalleableSubscriptionFields(transaction) {\n    const status = this.status;\n    if (!status) {\n      return;\n    }\n    const tx = transaction;\n    if (status.type === \"SuccessStatus\" || status.type === \"FailureStatus\") {\n      tx.inputs = tx.inputs.map((input, idx) => {\n        if (\"txPointer\" in input) {\n          const correspondingInput = status.transaction.inputs?.[idx];\n          return {\n            ...input,\n            txPointer: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TxPointerCoder.decodeFromGqlScalar(correspondingInput.txPointer)\n          };\n        }\n        return input;\n      });\n      tx.outputs = status.transaction.outputs.map(deserializeProcessedTxOutput);\n      if (status.transaction.receiptsRoot) {\n        tx.receiptsRoot = status.transaction.receiptsRoot;\n      }\n    }\n  }\n  async getTransaction() {\n    if (this.request) {\n      const tx2 = this.request.toTransaction();\n      this.applyMalleableSubscriptionFields(tx2);\n      return {\n        tx: tx2,\n        bytes: this.request.toTransactionBytes()\n      };\n    }\n    const gqlTransaction = this.gqlTransaction ?? await this.fetch();\n    const { rawPayload } = gqlTransaction;\n    const bytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(rawPayload);\n    const [tx] = new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().decode(bytes, 0);\n    return {\n      tx,\n      bytes\n    };\n  }\n  /**\n   *\n   * NOTE: This method is only called within `getTransactionSummary`, which is invoked after `getTransaction`.\n   * Since `getTransaction` only resolves once the transaction has been processed,\n   * the status at this point is guaranteed to be either `SuccessStatus` or `FailureStatus`.\n   */\n  getReceipts() {\n    const status = this.getTransactionStatus();\n    switch (status?.type) {\n      case \"SuccessStatus\":\n      case \"FailureStatus\":\n        return status.receipts.map(deserializeReceipt);\n      default:\n        return [];\n    }\n  }\n  /**\n   * Fetch the transaction with receipts from the provider.\n   *\n   * @returns Transaction with receipts query result.\n   */\n  async fetch() {\n    const response = await this.provider.operations.getTransactionWithReceipts({\n      transactionId: this.id\n    });\n    if (!response.transaction) {\n      const subscription = await this.provider.operations.statusChange({\n        transactionId: this.id\n      });\n      for await (const { statusChange } of subscription) {\n        if (statusChange) {\n          this.status = statusChange;\n          break;\n        }\n      }\n      return this.fetch();\n    }\n    this.gqlTransaction = response.transaction;\n    return response.transaction;\n  }\n  /**\n   * Retrieves the TransactionSummary. If the `gqlTransaction` is not set, it will\n   * fetch it from the provider\n   *\n   * @param contractsAbiMap - The contracts ABI map.\n   * @returns\n   */\n  async getTransactionSummary(contractsAbiMap) {\n    const { tx: transaction, bytes: transactionBytes } = await this.getTransaction();\n    const { gasPerByte, gasPriceFactor, gasCosts, maxGasPerTx } = await this.provider.getGasConfig();\n    const transactionStatus = this.getTransactionStatus();\n    const totalFee = getTotalFeeFromStatus(transactionStatus);\n    const gasPrice = totalFee ? (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0) : await this.provider.getLatestGasPrice();\n    const maxInputs = (await this.provider.getChain()).consensusParameters.txParameters.maxInputs;\n    const baseAssetId = await this.provider.getBaseAssetId();\n    const transactionSummary = assembleTransactionSummary({\n      id: this.id,\n      receipts: this.getReceipts(),\n      transaction,\n      transactionBytes,\n      gqlTransactionStatus: transactionStatus,\n      gasPerByte,\n      gasPriceFactor,\n      abiMap: contractsAbiMap,\n      maxInputs,\n      gasCosts,\n      maxGasPerTx,\n      gasPrice,\n      baseAssetId\n    });\n    return transactionSummary;\n  }\n  async getPreConfirmationTransactionSummary(contractsAbiMap) {\n    const baseAssetId = await this.provider.getBaseAssetId();\n    const maxInputs = (await this.provider.getChain()).consensusParameters.txParameters.maxInputs;\n    const transactionSummary = assemblePreConfirmationTransactionSummary({\n      id: this.id,\n      gqlTransactionStatus: this.preConfirmationStatus || this.status,\n      baseAssetId,\n      maxInputs,\n      abiMap: contractsAbiMap,\n      transactionRequest: this.request\n    });\n    return transactionSummary;\n  }\n  resolveStatus(type) {\n    const resolvers = this.statusResolvers.get(type) || [];\n    resolvers.forEach((resolve) => resolve());\n    this.statusResolvers.delete(type);\n  }\n  async waitForStatus(type) {\n    return new Promise((resolve, reject) => {\n      const resolvers = this.statusResolvers.get(type) || [];\n      resolvers.push(() => {\n        resolve();\n      });\n      this.statusResolvers.set(type, resolvers);\n      this.waitForStatusChange().catch(reject);\n    });\n  }\n  /**\n   * Waits for the status change of the transaction.\n   * If the transaction is already in a final state, it will return immediately.\n   * If the transaction is not in a final state, it will wait for the status change.\n   * If we are already subscribed to the status change, it will return immediately.\n   */\n  async waitForStatusChange() {\n    const type = this.status?.type;\n    if (type && (type === \"FailureStatus\" || type === \"SuccessStatus\")) {\n      this.resolveStatus(\"preConfirmation\");\n      this.resolveStatus(\"confirmation\");\n      return;\n    }\n    if (this.waitingForStreamData) {\n      return;\n    }\n    this.waitingForStreamData = true;\n    const subscription = this.submitTxSubscription ?? await this.provider.operations.statusChange({\n      transactionId: this.id,\n      includePreConfirmation: true\n    });\n    for await (const sub2 of subscription) {\n      const statusChange = \"statusChange\" in sub2 ? sub2.statusChange : sub2.submitAndAwaitStatus;\n      this.status = statusChange;\n      if (statusChange.type === \"SqueezedOutStatus\") {\n        throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n          _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.TRANSACTION_SQUEEZED_OUT,\n          `Transaction Squeezed Out with reason: ${statusChange.reason}`\n        );\n      }\n      if (statusChange.type === \"PreconfirmationSuccessStatus\" || statusChange.type === \"PreconfirmationFailureStatus\") {\n        this.preConfirmationStatus = statusChange;\n        this.resolveStatus(\"preConfirmation\");\n        const pendingConfirmationResolvers = this.statusResolvers.get(\"confirmation\");\n        if (!pendingConfirmationResolvers) {\n          this.waitingForStreamData = false;\n          break;\n        }\n      }\n      if (statusChange.type === \"SuccessStatus\" || statusChange.type === \"FailureStatus\") {\n        this.resolveStatus(\"confirmation\");\n        this.resolveStatus(\"preConfirmation\");\n        this.waitingForStreamData = false;\n        break;\n      }\n    }\n  }\n  async waitForConfirmationStatuses() {\n    try {\n      await this.waitForStatus(\"confirmation\");\n    } catch (error) {\n      this.unsetResourceCache();\n      throw error;\n    }\n  }\n  async waitForPreConfirmationStatuses() {\n    try {\n      await this.waitForStatus(\"preConfirmation\");\n    } catch (error) {\n      this.unsetResourceCache();\n      throw error;\n    }\n  }\n  /**\n   * Assembles the result of a transaction by retrieving the transaction summary,\n   * decoding logs (if available), and handling transaction failure.\n   *\n   * This method can be used to obtain the result of a transaction that has just\n   * been submitted or one that has already been processed.\n   *\n   * @template TTransactionType - The type of the transaction.\n   * @param contractsAbiMap - The map of contract ABIs.\n   * @returns - The assembled transaction result.\n   * @throws If the transaction status is a failure.\n   */\n  async assembleResult(contractsAbiMap) {\n    const transactionSummary = await this.getTransactionSummary(contractsAbiMap);\n    const transactionResult = {\n      ...transactionSummary\n    };\n    let { logs, groupedLogs } = { logs: [], groupedLogs: {} };\n    if (this.abis) {\n      ({ logs, groupedLogs } = getAllDecodedLogs({\n        receipts: transactionSummary.receipts,\n        mainAbi: this.abis.main,\n        externalAbis: this.abis.otherContractsAbis\n      }));\n      transactionResult.logs = logs;\n      transactionResult.groupedLogs = groupedLogs;\n    }\n    const { receipts } = transactionResult;\n    const status = this.getTransactionStatus();\n    if (status?.type === \"FailureStatus\") {\n      const { reason } = status;\n      throw extractTxError({\n        receipts,\n        statusReason: reason,\n        logs,\n        groupedLogs\n      });\n    }\n    return transactionResult;\n  }\n  async assemblePreConfirmationResult(contractsAbiMap) {\n    const transactionSummary = await this.getPreConfirmationTransactionSummary(contractsAbiMap);\n    const transactionResult = {\n      ...transactionSummary,\n      logs: [],\n      groupedLogs: {}\n    };\n    let { logs, groupedLogs } = { logs: [], groupedLogs: {} };\n    if (this.abis && transactionSummary.receipts) {\n      ({ logs, groupedLogs } = getAllDecodedLogs({\n        receipts: transactionSummary.receipts,\n        mainAbi: this.abis.main,\n        externalAbis: this.abis.otherContractsAbis\n      }));\n      transactionResult.logs = logs;\n      transactionResult.groupedLogs = groupedLogs;\n    }\n    return transactionResult;\n  }\n  /**\n   * Waits for transaction to complete and returns the result.\n   *\n   * @returns The completed transaction result\n   */\n  async waitForResult(contractsAbiMap) {\n    await this.waitForConfirmationStatuses();\n    this.unsetResourceCache();\n    return this.assembleResult(contractsAbiMap);\n  }\n  /**\n   * Waits for the transaction's pre-confirmation and returns the result.\n   *\n   * @param contractsAbiMap - The contracts ABI map.\n   * @returns The pre-confirmed transaction result\n   */\n  async waitForPreConfirmation(contractsAbiMap) {\n    await this.waitForPreConfirmationStatuses();\n    this.unsetResourceCache();\n    return this.assemblePreConfirmationResult(contractsAbiMap);\n  }\n  /**\n   * Waits for transaction to complete and returns the result.\n   *\n   * @param contractsAbiMap - The contracts ABI map.\n   */\n  async wait(contractsAbiMap) {\n    return this.waitForResult(contractsAbiMap);\n  }\n  unsetResourceCache() {\n    this.provider.cache?.unset(this.id);\n  }\n  getTransactionStatus() {\n    return this.status ?? this.gqlTransaction?.status;\n  }\n};\n\n// src/providers/transaction-response/getDecodedLogs.ts\n\n\n\nfunction getDecodedLogs(receipts, mainAbi, externalAbis = {}) {\n  let mainContract = \"\";\n  if (mainAbi.programType === \"contract\") {\n    const firstCallReceipt = receipts.find(\n      (r) => r.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Call && r.id === _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32\n    );\n    mainContract = firstCallReceipt.to;\n  }\n  return receipts.reduce((logs, receipt) => {\n    if (receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.LogData || receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Log) {\n      const isLogFromMainAbi = receipt.id === _fuel_ts_address_configs__WEBPACK_IMPORTED_MODULE_11__.ZeroBytes32 || mainContract === receipt.id;\n      const isDecodable = isLogFromMainAbi || externalAbis[receipt.id];\n      if (isDecodable) {\n        const interfaceToUse = isLogFromMainAbi ? new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.Interface(mainAbi) : new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.Interface(externalAbis[receipt.id]);\n        const data = receipt.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.ReceiptType.Log ? new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.BigNumberCoder(\"u64\").encode(receipt.ra) : receipt.data;\n        const [decodedLog] = interfaceToUse.decodeLog(data, receipt.rb.toString());\n        logs.push(decodedLog);\n      }\n    }\n    return logs;\n  }, []);\n}\n__name(getDecodedLogs, \"getDecodedLogs\");\n\n// src/providers/utils/auto-retry-fetch.ts\n\nfunction getWaitDelay(options, retryAttemptNum) {\n  const duration = options.baseDelay ?? 150;\n  switch (options.backoff) {\n    case \"linear\":\n      return duration * retryAttemptNum;\n    case \"fixed\":\n      return duration;\n    case \"exponential\":\n    default:\n      return 2 ** (retryAttemptNum - 1) * duration;\n  }\n}\n__name(getWaitDelay, \"getWaitDelay\");\nfunction autoRetryFetch(fetchFn, options, retryAttemptNum = 0) {\n  if (options === void 0) {\n    return fetchFn;\n  }\n  return async (...args) => {\n    try {\n      return await fetchFn(...args);\n    } catch (_error) {\n      const error = _error;\n      if (error.cause?.code !== \"ECONNREFUSED\") {\n        throw error;\n      }\n      const retryNum = retryAttemptNum + 1;\n      if (retryNum > options.maxRetries) {\n        throw error;\n      }\n      const delay = getWaitDelay(options, retryNum);\n      await (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.sleep)(delay);\n      return autoRetryFetch(fetchFn, options, retryNum)(...args);\n    }\n  };\n}\n__name(autoRetryFetch, \"autoRetryFetch\");\n\n// src/providers/utils/parse-graphql-response.ts\nvar parseGraphqlResponse = /* @__PURE__ */ __name(async (options) => {\n  const { response, isSubscription } = options;\n  let extensions;\n  const responseClone = response.clone();\n  if (isSubscription) {\n    const reader = responseClone.body?.getReader();\n    const { event } = await FuelGraphqlSubscriber.readEvent(reader);\n    extensions = event?.extensions;\n  } else {\n    extensions = (await responseClone.json()).extensions;\n  }\n  return {\n    extensions\n  };\n}, \"parseGraphqlResponse\");\n\n// src/providers/utils/validate-pagination-args.ts\n\nvar validatePaginationArgs = /* @__PURE__ */ __name((params) => {\n  const { paginationLimit, inputArgs = {} } = params;\n  const { first, last, after, before } = inputArgs;\n  if (after && before) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_INPUT_PARAMETERS,\n      'Pagination arguments \"after\" and \"before\" cannot be used together'\n    );\n  }\n  if ((first || 0) > paginationLimit || (last || 0) > paginationLimit) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_INPUT_PARAMETERS,\n      `Pagination limit for this query cannot exceed ${paginationLimit} items`\n    );\n  }\n  if (first && before) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_INPUT_PARAMETERS,\n      'The use of pagination argument \"first\" with \"before\" is not supported'\n    );\n  }\n  if (last && after) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_INPUT_PARAMETERS,\n      'The use of pagination argument \"last\" with \"after\" is not supported'\n    );\n  }\n  if (!first && !last) {\n    inputArgs.first = paginationLimit;\n  }\n  return inputArgs;\n}, \"validatePaginationArgs\");\n\n// src/providers/provider.ts\nvar MAX_RETRIES = 10;\nvar RESOURCES_PAGE_SIZE_LIMIT = 512;\nvar TRANSACTIONS_PAGE_SIZE_LIMIT = 60;\nvar BALANCES_PAGE_SIZE_LIMIT = 100;\nvar NON_PAGINATED_BALANCES_SIZE = 1e4;\nvar BLOCKS_PAGE_SIZE_LIMIT = 5;\nvar DEFAULT_RESOURCE_CACHE_TTL = 2e4;\nvar GAS_USED_MODIFIER = 1.2;\nvar WRITE_OPERATIONS = [\n  \"submit\",\n  \"submitAndAwaitStatus\",\n  \"produceBlocks\"\n];\nvar Provider = class _Provider {\n  static {\n    __name(this, \"Provider\");\n  }\n  operations;\n  cache;\n  /**\n   * @hidden\n   * @param url - If provided, clears cache only for given url\n   */\n  static clearChainAndNodeCaches(url) {\n    if (url) {\n      delete _Provider.inflightFetchChainAndNodeInfoRequests[url];\n      delete _Provider.chainInfoCache[url];\n      delete _Provider.nodeInfoCache[url];\n      delete _Provider.currentBlockHeightCache[url];\n      return;\n    }\n    _Provider.inflightFetchChainAndNodeInfoRequests = {};\n    _Provider.nodeInfoCache = {};\n    _Provider.chainInfoCache = {};\n    _Provider.currentBlockHeightCache = {};\n  }\n  /** @hidden */\n  url;\n  /** @hidden */\n  urlWithoutAuth;\n  /**\n   * Governs whether to include the required block height in the request body\n   * for block-sensitive operations like when submitting a transaction.\n   *\n   * This ensures that the operation is executed at the correct block height,\n   * regardless of which node in the network the request is routed to.\n   *\n   * `true` by default.\n   */\n  static ENABLE_RPC_CONSISTENCY = true;\n  /** @hidden */\n  static inflightFetchChainAndNodeInfoRequests = {};\n  /** @hidden */\n  static chainInfoCache = {};\n  /** @hidden */\n  static nodeInfoCache = {};\n  /** @hidden */\n  static currentBlockHeightCache = {};\n  /** @hidden */\n  static incompatibleNodeVersionMessage = \"\";\n  /** @hidden */\n  consensusParametersTimestamp;\n  options = {\n    timeout: void 0,\n    resourceCacheTTL: void 0,\n    fetch: void 0,\n    retryOptions: void 0,\n    headers: void 0,\n    cache: void 0\n  };\n  static extractOperationName(body) {\n    return body?.toString().match(/\"operationName\":\"(.+)\"/)?.[1];\n  }\n  static isWriteOperation(body) {\n    return WRITE_OPERATIONS.includes(this.extractOperationName(body));\n  }\n  static normalizeUrl(url) {\n    return url.replace(/-sub$/, \"\");\n  }\n  static hasWriteOperationHappened(url) {\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(_Provider.currentBlockHeightCache[this.normalizeUrl(url)]);\n  }\n  /**\n   * @hidden\n   */\n  static getFetchFn(options) {\n    const { retryOptions, timeout, headers } = options;\n    return autoRetryFetch(async (...args) => {\n      const url = args[0];\n      const request2 = args[1];\n      const signal = timeout ? AbortSignal.timeout(timeout) : void 0;\n      let fullRequest = {\n        ...request2,\n        signal,\n        headers: { ...request2?.headers, ...headers }\n      };\n      if (options.requestMiddleware) {\n        fullRequest = await options.requestMiddleware(fullRequest);\n      }\n      if (_Provider.ENABLE_RPC_CONSISTENCY && _Provider.hasWriteOperationHappened(url)) {\n        _Provider.applyBlockHeight(fullRequest, url);\n      }\n      return _Provider.fetchAndProcessBlockHeight(url, fullRequest, options);\n    }, retryOptions);\n  }\n  static applyBlockHeight(request2, url) {\n    const normalizedUrl = this.normalizeUrl(url);\n    const currentBlockHeight = _Provider.currentBlockHeightCache[normalizedUrl] ?? 0;\n    request2.body = request2.body?.toString().replace(/}$/, `,\"extensions\":{\"required_fuel_block_height\":${currentBlockHeight}}}`);\n  }\n  static async fetchAndProcessBlockHeight(url, request2, options) {\n    const fetchFn = /* @__PURE__ */ __name(() => options.fetch ? options.fetch(url, request2, options) : fetch(url, request2), \"fetchFn\");\n    const isWriteOperation = _Provider.isWriteOperation(request2.body);\n    if (isWriteOperation && !_Provider.hasWriteOperationHappened(url)) {\n      _Provider.currentBlockHeightCache[_Provider.normalizeUrl(url)] = 0;\n    }\n    let response = await fetchFn();\n    if (!_Provider.ENABLE_RPC_CONSISTENCY) {\n      return response;\n    }\n    const retryOptions = {\n      maxRetries: 5,\n      baseDelay: 500\n    };\n    for (let retriesLeft = retryOptions.maxRetries; retriesLeft > 0; --retriesLeft) {\n      const { extensions } = await parseGraphqlResponse({\n        response,\n        isSubscription: url.endsWith(\"-sub\")\n      });\n      _Provider.setCurrentBlockHeight(url, extensions?.current_fuel_block_height);\n      if (!extensions?.fuel_block_height_precondition_failed) {\n        break;\n      }\n      const retryAttempt = retryOptions.maxRetries - retriesLeft + 1;\n      const sleepTime = getWaitDelay(retryOptions, retryAttempt);\n      await (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.sleep)(sleepTime);\n      response = await fetchFn();\n    }\n    return response;\n  }\n  static setCurrentBlockHeight(url, height) {\n    const writeOperationHappened = _Provider.hasWriteOperationHappened(url);\n    if (!(0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(height) || !writeOperationHappened) {\n      return;\n    }\n    const normalizedUrl = _Provider.normalizeUrl(url);\n    if (height > _Provider.currentBlockHeightCache[normalizedUrl]) {\n      _Provider.currentBlockHeightCache[normalizedUrl] = height;\n    }\n  }\n  /**\n   * Constructor to initialize a Provider.\n   *\n   * @param url - GraphQL endpoint of the Fuel node\n   * @param options - Additional options for the provider\n   * @hidden\n   */\n  constructor(url, options = {}) {\n    const { url: rawUrl, urlWithoutAuth, headers: authHeaders } = _Provider.extractBasicAuth(url);\n    this.url = rawUrl;\n    this.urlWithoutAuth = urlWithoutAuth;\n    this.url = url;\n    const { FUELS } = _fuel_ts_versions__WEBPACK_IMPORTED_MODULE_7__.versions;\n    const headers = { ...authHeaders, ...options.headers, Source: `ts-sdk-${FUELS}` };\n    this.options = {\n      ...this.options,\n      ...options,\n      headers\n    };\n    this.operations = this.createOperations();\n    const { resourceCacheTTL, cache: cache2 } = this.options;\n    if (cache2) {\n      const { consensusParametersTimestamp, chain, nodeInfo } = deserializeProviderCache(cache2);\n      this.consensusParametersTimestamp = consensusParametersTimestamp;\n      _Provider.chainInfoCache[this.urlWithoutAuth] = chain;\n      _Provider.nodeInfoCache[this.urlWithoutAuth] = nodeInfo;\n    }\n    if ((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(resourceCacheTTL)) {\n      if (resourceCacheTTL !== -1) {\n        this.cache = new ResourceCache(resourceCacheTTL);\n      } else {\n        this.cache = void 0;\n      }\n    } else {\n      this.cache = new ResourceCache(DEFAULT_RESOURCE_CACHE_TTL);\n    }\n  }\n  static extractBasicAuth(url) {\n    let parsedUrl;\n    try {\n      parsedUrl = new URL(url);\n    } catch (error) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.INVALID_URL, \"Invalid URL provided.\", { url }, error);\n    }\n    const username = parsedUrl.username;\n    const password = parsedUrl.password;\n    const urlWithoutAuth = `${parsedUrl.origin}${parsedUrl.pathname}`;\n    if (!(username && password)) {\n      return { url, urlWithoutAuth: url, headers: void 0 };\n    }\n    return {\n      url,\n      urlWithoutAuth,\n      headers: { Authorization: `Basic ${btoa(`${username}:${password}`)}` }\n    };\n  }\n  /**\n   * Initialize Provider async stuff\n   */\n  async init() {\n    await this.fetchChainAndNodeInfo();\n    return this;\n  }\n  /**\n   * Returns the `chainInfo` for the current network.\n   *\n   * @returns the chain information configuration.\n   */\n  async getChain() {\n    await this.init();\n    return _Provider.chainInfoCache[this.urlWithoutAuth];\n  }\n  /**\n   * Returns the `nodeInfo` for the current network.\n   *\n   * @returns the node information configuration.\n   */\n  async getNode() {\n    await this.init();\n    return _Provider.nodeInfoCache[this.urlWithoutAuth];\n  }\n  /**\n   * Returns some helpful parameters related to gas fees.\n   */\n  async getGasConfig() {\n    await this.init();\n    const {\n      txParameters: { maxGasPerTx },\n      predicateParameters: { maxGasPerPredicate },\n      feeParameters: { gasPriceFactor, gasPerByte },\n      gasCosts\n    } = (await this.getChain()).consensusParameters;\n    return {\n      maxGasPerTx,\n      maxGasPerPredicate,\n      gasPriceFactor,\n      gasPerByte,\n      gasCosts\n    };\n  }\n  /**\n   * Updates the URL for the provider and fetches the consensus parameters for the new URL, if needed.\n   *\n   * @param url - The URL to connect to.\n   * @param options - Additional options for the provider.\n   */\n  async connect(url, options) {\n    const { url: rawUrl, urlWithoutAuth, headers } = _Provider.extractBasicAuth(url);\n    this.url = rawUrl;\n    this.urlWithoutAuth = urlWithoutAuth;\n    this.options = options ?? this.options;\n    this.options = { ...this.options, headers: { ...this.options.headers, ...headers } };\n    this.operations = this.createOperations();\n    await this.init();\n  }\n  /**\n   * Return the chain and node information.\n   * @param ignoreCache - If true, ignores the cache and re-fetch configs.\n   * @returns A promise that resolves to the Chain and NodeInfo.\n   */\n  async fetchChainAndNodeInfo(ignoreCache = false) {\n    const nodeInfo = _Provider.nodeInfoCache[this.urlWithoutAuth];\n    const chain = _Provider.chainInfoCache[this.urlWithoutAuth];\n    const hasCache = nodeInfo && chain;\n    if (hasCache && !ignoreCache) {\n      return { nodeInfo, chain };\n    }\n    const inflightRequest = _Provider.inflightFetchChainAndNodeInfoRequests[this.urlWithoutAuth];\n    if (inflightRequest) {\n      return inflightRequest.then((data) => {\n        this.consensusParametersTimestamp = data.consensusParametersTimestamp;\n        return {\n          nodeInfo: _Provider.nodeInfoCache[this.urlWithoutAuth],\n          chain: _Provider.chainInfoCache[this.urlWithoutAuth]\n        };\n      });\n    }\n    const getChainAndNodeInfoFromNetwork = this.operations.getChainAndNodeInfo().then((data) => ({\n      chain: deserializeChain(data.chain),\n      nodeInfo: deserializeNodeInfo(data.nodeInfo),\n      consensusParametersTimestamp: Date.now()\n    })).then((data) => {\n      _Provider.setIncompatibleNodeVersionMessage(data.nodeInfo);\n      _Provider.chainInfoCache[this.urlWithoutAuth] = data.chain;\n      _Provider.nodeInfoCache[this.urlWithoutAuth] = data.nodeInfo;\n      this.consensusParametersTimestamp = data.consensusParametersTimestamp;\n      return data;\n    }).catch((err) => {\n      const error = new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.CONNECTION_REFUSED,\n        \"Unable to fetch chain and node info from the network\",\n        { url: this.urlWithoutAuth },\n        err\n      );\n      error.cause = { code: \"ECONNREFUSED\" };\n      throw error;\n    }).finally(() => {\n      delete _Provider.inflightFetchChainAndNodeInfoRequests[this.urlWithoutAuth];\n    });\n    _Provider.inflightFetchChainAndNodeInfoRequests[this.urlWithoutAuth] = getChainAndNodeInfoFromNetwork;\n    return _Provider.inflightFetchChainAndNodeInfoRequests[this.urlWithoutAuth].then((data) => {\n      this.consensusParametersTimestamp = data.consensusParametersTimestamp;\n      return {\n        nodeInfo: _Provider.nodeInfoCache[this.urlWithoutAuth],\n        chain: _Provider.chainInfoCache[this.urlWithoutAuth]\n      };\n    });\n  }\n  /**\n   * @hidden\n   */\n  static setIncompatibleNodeVersionMessage(nodeInfo) {\n    const { isMajorSupported, isMinorSupported, supportedVersion } = (0,_fuel_ts_versions__WEBPACK_IMPORTED_MODULE_7__.checkFuelCoreVersionCompatibility)(nodeInfo.nodeVersion);\n    if (!isMajorSupported || !isMinorSupported) {\n      _Provider.incompatibleNodeVersionMessage = [\n        `The Fuel Node that you are trying to connect to is using fuel-core version ${nodeInfo.nodeVersion}.`,\n        `The TS SDK currently supports fuel-core version ${supportedVersion}.`,\n        `Things may not work as expected.`\n      ].join(\"\\n\");\n      FuelGraphqlSubscriber.incompatibleNodeVersionMessage = _Provider.incompatibleNodeVersionMessage;\n    }\n  }\n  /**\n   * Create GraphQL client and set operations.\n   *\n   * @returns The operation SDK object\n   * @hidden\n   */\n  createOperations() {\n    const fetchFn = _Provider.getFetchFn(this.options);\n    const gqlClient = new graphql_request__WEBPACK_IMPORTED_MODULE_8__.GraphQLClient(this.urlWithoutAuth, {\n      fetch: /* @__PURE__ */ __name((input, requestInit) => fetchFn(input.toString(), requestInit || {}, this.options), \"fetch\"),\n      responseMiddleware: /* @__PURE__ */ __name((response) => {\n        if (\"response\" in response) {\n          const graphQlResponse = response.response;\n          assertGqlResponseHasNoErrors(\n            graphQlResponse.errors,\n            _Provider.incompatibleNodeVersionMessage\n          );\n        }\n      }, \"responseMiddleware\")\n    });\n    const executeQuery = /* @__PURE__ */ __name((query, vars) => {\n      const opDefinition = query.definitions.find((x) => x.kind === \"OperationDefinition\");\n      const isSubscription = opDefinition?.operation === \"subscription\";\n      if (isSubscription) {\n        return FuelGraphqlSubscriber.create({\n          url: this.urlWithoutAuth,\n          query,\n          fetchFn: /* @__PURE__ */ __name((url, requestInit) => fetchFn(url, requestInit, this.options), \"fetchFn\"),\n          variables: vars,\n          operationName: opDefinition.name.value,\n          onEvent: /* @__PURE__ */ __name((event) => {\n            _Provider.setCurrentBlockHeight(\n              this.urlWithoutAuth,\n              event.extensions?.current_fuel_block_height\n            );\n          }, \"onEvent\")\n        });\n      }\n      return gqlClient.request(query, vars);\n    }, \"executeQuery\");\n    const customOperations = /* @__PURE__ */ __name((requester) => ({\n      getBlobs(variables) {\n        const queryParams = variables.blobIds.map((_, i) => `$blobId${i}: BlobId!`).join(\", \");\n        const blobParams = variables.blobIds.map((_, i) => `blob${i}: blob(id: $blobId${i}) { id }`).join(\"\\n\");\n        const updatedVariables = variables.blobIds.reduce(\n          (acc, blobId, i) => {\n            acc[`blobId${i}`] = blobId;\n            return acc;\n          },\n          {}\n        );\n        const document2 = (0,graphql_tag__WEBPACK_IMPORTED_MODULE_9__[\"default\"])`\n          query getBlobs(${queryParams}) {\n            ${blobParams}\n          }\n        `;\n        return requester(document2, updatedVariables);\n      }\n    }), \"customOperations\");\n    return { ...getSdk(executeQuery), ...customOperations(executeQuery) };\n  }\n  /**\n   * Returns the version of the connected node.\n   *\n   * @returns A promise that resolves to the version string.\n   */\n  async getVersion() {\n    const {\n      nodeInfo: { nodeVersion }\n    } = await this.operations.getVersion();\n    return nodeVersion;\n  }\n  /**\n   * Returns the latest block number.\n   *\n   * @returns A promise that resolves to the latest block number.\n   */\n  async getBlockNumber() {\n    const {\n      chain: {\n        latestBlock: { height }\n      }\n    } = await this.operations.getLatestBlockHeight();\n    return (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(height);\n  }\n  /**\n   * Returns the node information for the current provider network.\n   *\n   * @returns a promise that resolves to the node information.\n   */\n  async fetchNode() {\n    const { nodeInfo } = await this.operations.getNodeInfo();\n    const processedNodeInfo = deserializeNodeInfo(nodeInfo);\n    _Provider.nodeInfoCache[this.urlWithoutAuth] = processedNodeInfo;\n    return processedNodeInfo;\n  }\n  /**\n   * Returns the chain information for the current provider network.\n   *\n   * @returns a promise that resolves to the chain information.\n   */\n  async fetchChain() {\n    const { chain } = await this.operations.getChain();\n    const processedChain = deserializeChain(chain);\n    _Provider.chainInfoCache[this.urlWithoutAuth] = processedChain;\n    return processedChain;\n  }\n  /**\n   * Returns the chain ID for the current provider network.\n   *\n   * @returns A promise that resolves to the chain ID number.\n   */\n  async getChainId() {\n    const {\n      consensusParameters: { chainId }\n    } = await this.getChain();\n    return chainId.toNumber();\n  }\n  /**\n   * Returns the base asset ID for the current provider network.\n   *\n   * @returns the base asset ID.\n   */\n  async getBaseAssetId() {\n    const all = await this.getChain();\n    const {\n      consensusParameters: { baseAssetId }\n    } = all;\n    return baseAssetId;\n  }\n  /**\n   * Retrieves the details of an asset given its ID.\n   *\n   * @param assetId - The unique identifier of the asset.\n   * @returns A promise that resolves to an object containing the asset details.\n   */\n  async getAssetDetails(assetId) {\n    const { assetMetadata } = await this.getNodeFeatures();\n    if (!assetMetadata) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.UNSUPPORTED_FEATURE,\n        \"The current node does not supports fetching asset details\"\n      );\n    }\n    const { assetDetails } = await this.operations.getAssetDetails({ assetId });\n    const { contractId, subId, totalSupply } = assetDetails;\n    return {\n      subId,\n      contractId,\n      totalSupply: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(totalSupply)\n    };\n  }\n  /**\n   * @hidden\n   */\n  #cacheInputs(inputs, transactionId) {\n    if (!this.cache) {\n      return;\n    }\n    this.cache.set(transactionId, inputs);\n  }\n  /**\n   * @hidden\n   */\n  async validateTransaction(tx) {\n    const {\n      consensusParameters: {\n        txParameters: { maxInputs, maxOutputs }\n      }\n    } = await this.getChain();\n    if ((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(tx.inputs.length).gt(maxInputs)) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.MAX_INPUTS_EXCEEDED,\n        `The transaction exceeds the maximum allowed number of inputs. Tx inputs: ${tx.inputs.length}, max inputs: ${maxInputs}`\n      );\n    }\n    if ((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(tx.outputs.length).gt(maxOutputs)) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.MAX_OUTPUTS_EXCEEDED,\n        `The transaction exceeds the maximum allowed number of outputs. Tx outputs: ${tx.outputs.length}, max outputs: ${maxOutputs}`\n      );\n    }\n  }\n  /**\n   * Submits a transaction to the chain to be executed.\n   *\n   * If the transaction is missing any dependencies,\n   * the transaction will be mutated and those dependencies will be added.\n   *\n   * @param transactionRequestLike - The transaction request object.\n   * @param sendTransactionParams - The provider send transaction parameters (optional).\n   * @returns A promise that resolves to the transaction response object.\n   */\n  async sendTransaction(transactionRequestLike, {\n    enableAssetBurn,\n    estimateTxDependencies = true,\n    includePreConfirmation: _includePreConfirmation = true\n  } = {}) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    validateTransactionForAssetBurn(\n      await this.getBaseAssetId(),\n      transactionRequest,\n      enableAssetBurn\n    );\n    if (estimateTxDependencies) {\n      await this.estimateTxDependencies(transactionRequest);\n    }\n    await this.validateTransaction(transactionRequest);\n    const encodedTransaction = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(transactionRequest.toTransactionBytes());\n    let abis;\n    if (isTransactionTypeScript(transactionRequest)) {\n      abis = transactionRequest.abis;\n    }\n    const subscription = await this.operations.submitAndAwaitStatus({\n      encodedTransaction,\n      includePreConfirmation: true\n    });\n    this.#cacheInputs(\n      transactionRequest.inputs,\n      transactionRequest.getTransactionId(await this.getChainId())\n    );\n    const chainId = await this.getChainId();\n    return new TransactionResponse(transactionRequest, this, chainId, abis, subscription);\n  }\n  /**\n   * Executes a transaction without actually submitting it to the chain.\n   *\n   * If the transaction is missing any dependencies,\n   * the transaction will be mutated and those dependencies will be added.\n   *\n   * @param transactionRequestLike - The transaction request object.\n   * @param sendTransactionParams - The provider call parameters (optional).\n   * @returns A promise that resolves to the call result object.\n   */\n  async dryRun(transactionRequestLike, { utxoValidation, estimateTxDependencies = true } = {}) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    if (estimateTxDependencies) {\n      return this.estimateTxDependencies(transactionRequest);\n    }\n    const encodedTransaction = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(transactionRequest.toTransactionBytes());\n    const { dryRun: dryRunStatuses } = await this.operations.dryRun({\n      encodedTransactions: encodedTransaction,\n      utxoValidation: utxoValidation || false\n    });\n    const [{ receipts: rawReceipts, status: dryRunStatus }] = dryRunStatuses;\n    const receipts = rawReceipts.map(deserializeReceipt);\n    return { receipts, dryRunStatus };\n  }\n  /**\n   * Estimates the gas usage for predicates in a transaction request.\n   *\n   * @template T - The type of the transaction request object.\n   *\n   * @param transactionRequest - The transaction request to estimate predicates for.\n   * @returns A promise that resolves to the updated transaction request with estimated gas usage for predicates.\n   */\n  async estimatePredicates(transactionRequest) {\n    const shouldEstimatePredicates = transactionRequest.inputs.some(\n      (input) => isPredicate(input) && (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.predicateGasUsed).isZero()\n    );\n    if (!shouldEstimatePredicates) {\n      return transactionRequest;\n    }\n    const encodedTransaction = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(transactionRequest.toTransactionBytes());\n    const response = await this.operations.estimatePredicates({\n      encodedTransaction\n    });\n    const { estimatePredicates } = response;\n    transactionRequest = this.parseEstimatePredicatesResponse(\n      transactionRequest,\n      estimatePredicates\n    );\n    return transactionRequest;\n  }\n  /**\n   * Estimates the gas price and predicates for a given transaction request and block horizon.\n   *\n   * @param transactionRequest - The transaction request to estimate predicates and gas price for.\n   * @param blockHorizon - The block horizon to use for gas price estimation.\n   * @returns A promise that resolves to an object containing the updated transaction\n   * request and the estimated gas price.\n   */\n  async estimatePredicatesAndGasPrice(transactionRequest, blockHorizon) {\n    const shouldEstimatePredicates = transactionRequest.inputs.some(\n      (input) => isPredicate(input) && (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.predicateGasUsed).isZero()\n    );\n    if (!shouldEstimatePredicates) {\n      const gasPrice2 = await this.estimateGasPrice(blockHorizon);\n      return { transactionRequest, gasPrice: gasPrice2 };\n    }\n    const {\n      estimateGasPrice: { gasPrice },\n      estimatePredicates\n    } = await this.operations.estimatePredicatesAndGasPrice({\n      blockHorizon: String(blockHorizon),\n      encodedTransaction: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(transactionRequest.toTransactionBytes())\n    });\n    transactionRequest = this.parseEstimatePredicatesResponse(\n      transactionRequest,\n      estimatePredicates\n    );\n    return { transactionRequest, gasPrice: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasPrice) };\n  }\n  /**\n   * Will dryRun a transaction and check for missing dependencies.\n   *\n   * If there are missing variable outputs,\n   * `addVariableOutputs` is called on the transaction.\n   *\n   * @param transactionRequest - The transaction request object.\n   * @param gasPrice - The gas price to use for the transaction, if not provided it will be fetched.\n   * @returns A promise that resolves to the estimate transaction dependencies.\n   */\n  async estimateTxDependencies(transactionRequest, { gasPrice: gasPriceParam } = {}) {\n    if (isTransactionTypeCreate(transactionRequest)) {\n      return {\n        rawReceipts: [],\n        receipts: [],\n        outputVariables: 0,\n        missingContractIds: []\n      };\n    }\n    let rawReceipts = [];\n    let receipts = [];\n    const missingContractIds = [];\n    let outputVariables = 0;\n    let dryRunStatus;\n    await this.validateTransaction(transactionRequest);\n    const gasPrice = gasPriceParam ?? await this.estimateGasPrice(10);\n    for (let attempt = 0; attempt < MAX_RETRIES; attempt++) {\n      const {\n        dryRun: [{ receipts: serializedReceipts, status }]\n      } = await this.operations.dryRun({\n        encodedTransactions: [(0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(transactionRequest.toTransactionBytes())],\n        utxoValidation: false,\n        gasPrice: gasPrice.toString()\n      });\n      rawReceipts = serializedReceipts;\n      receipts = serializedReceipts.map(deserializeReceipt);\n      dryRunStatus = status;\n      const { missingOutputVariables, missingOutputContractIds } = getReceiptsWithMissingData(receipts);\n      const hasMissingOutputs = missingOutputVariables.length !== 0 || missingOutputContractIds.length !== 0;\n      if (hasMissingOutputs && isTransactionTypeScript(transactionRequest)) {\n        outputVariables += missingOutputVariables.length;\n        transactionRequest.addVariableOutputs(missingOutputVariables.length);\n        missingOutputContractIds.forEach(({ contractId }) => {\n          transactionRequest.addContractInputAndOutput(new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(contractId));\n          missingContractIds.push(contractId);\n        });\n        const { maxFee } = await this.estimateTxGasAndFee({\n          transactionRequest,\n          gasPrice\n        });\n        transactionRequest.maxFee = maxFee;\n      } else {\n        break;\n      }\n    }\n    return {\n      rawReceipts,\n      receipts,\n      outputVariables,\n      missingContractIds,\n      dryRunStatus\n    };\n  }\n  /**\n   * Dry runs multiple transactions and checks for missing dependencies in batches.\n   *\n   * Transactions are dry run in batches. After each dry run, transactions requiring\n   * further modifications are identified. The method iteratively updates these transactions\n   * and performs subsequent dry runs until all dependencies for each transaction are satisfied.\n   *\n   * @param transactionRequests - Array of transaction request objects.\n   * @returns A promise that resolves to an array of results for each transaction.\n   */\n  async estimateMultipleTxDependencies(transactionRequests) {\n    const results = transactionRequests.map(() => ({\n      rawReceipts: [],\n      receipts: [],\n      outputVariables: 0,\n      missingContractIds: [],\n      dryRunStatus: void 0\n    }));\n    const allRequests = (0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(transactionRequests);\n    const serializedTransactionsMap = /* @__PURE__ */ new Map();\n    allRequests.forEach((req, index) => {\n      if (isTransactionTypeScript(req)) {\n        serializedTransactionsMap.set(index, (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(req.toTransactionBytes()));\n      }\n    });\n    let transactionsToProcess = Array.from(serializedTransactionsMap.keys());\n    let attempt = 0;\n    while (transactionsToProcess.length > 0 && attempt < MAX_RETRIES) {\n      const encodedTransactions = transactionsToProcess.map(\n        (index) => serializedTransactionsMap.get(index)\n      );\n      const dryRunResults = await this.operations.dryRun({\n        encodedTransactions,\n        utxoValidation: false\n      });\n      const nextRoundTransactions = [];\n      for (let i = 0; i < dryRunResults.dryRun.length; i++) {\n        const requestIdx = transactionsToProcess[i];\n        const { receipts: rawReceipts, status } = dryRunResults.dryRun[i];\n        const result = results[requestIdx];\n        result.receipts = rawReceipts.map(deserializeReceipt);\n        result.dryRunStatus = status;\n        const { missingOutputVariables, missingOutputContractIds } = getReceiptsWithMissingData(\n          result.receipts\n        );\n        const hasMissingOutputs = missingOutputVariables.length > 0 || missingOutputContractIds.length > 0;\n        const request2 = allRequests[requestIdx];\n        if (hasMissingOutputs && isTransactionTypeScript(request2)) {\n          result.outputVariables += missingOutputVariables.length;\n          request2.addVariableOutputs(missingOutputVariables.length);\n          missingOutputContractIds.forEach(({ contractId }) => {\n            request2.addContractInputAndOutput(new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(contractId));\n            result.missingContractIds.push(contractId);\n          });\n          const { maxFee } = await this.estimateTxGasAndFee({\n            transactionRequest: request2\n          });\n          request2.maxFee = maxFee;\n          serializedTransactionsMap.set(requestIdx, (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(request2.toTransactionBytes()));\n          nextRoundTransactions.push(requestIdx);\n        }\n      }\n      transactionsToProcess = nextRoundTransactions;\n      attempt += 1;\n    }\n    return results;\n  }\n  /**\n   * Dry runs multiple transactions.\n   *\n   * @param transactionRequests - Array of transaction request objects.\n   * @param sendTransactionParams - The provider call parameters (optional).\n   *\n   * @returns A promise that resolves to an array of results for each transaction call.\n   */\n  async dryRunMultipleTransactions(transactionRequests, { utxoValidation, estimateTxDependencies = true } = {}) {\n    if (estimateTxDependencies) {\n      return this.estimateMultipleTxDependencies(transactionRequests);\n    }\n    const encodedTransactions = transactionRequests.map((tx) => (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(tx.toTransactionBytes()));\n    const { dryRun: dryRunStatuses } = await this.operations.dryRun({\n      encodedTransactions,\n      utxoValidation: utxoValidation || false\n    });\n    const results = dryRunStatuses.map(({ receipts: rawReceipts, status }) => {\n      const receipts = rawReceipts.map(deserializeReceipt);\n      return { receipts, dryRunStatus: status };\n    });\n    return results;\n  }\n  async autoRefetchConfigs() {\n    const now = Date.now();\n    const diff = now - (this.consensusParametersTimestamp ?? 0);\n    if (diff < 6e4) {\n      return;\n    }\n    if (!_Provider.chainInfoCache?.[this.urlWithoutAuth]) {\n      await this.fetchChainAndNodeInfo(true);\n      return;\n    }\n    const chainInfo = _Provider.chainInfoCache[this.urlWithoutAuth];\n    const {\n      latestBlock: {\n        header: { consensusParametersVersion: previous }\n      }\n    } = chainInfo;\n    const {\n      chain: {\n        latestBlock: {\n          header: { consensusParametersVersion: current }\n        }\n      }\n    } = await this.operations.getConsensusParametersVersion();\n    if (previous !== current) {\n      await this.fetchChainAndNodeInfo(true);\n    }\n  }\n  /**\n   * Estimates the transaction gas and fee based on the provided transaction request.\n   * @param params - The parameters for estimating the transaction gas and fee.\n   * @returns An object containing the estimated minimum gas, minimum fee, maximum gas, and maximum fee.\n   */\n  async estimateTxGasAndFee(params) {\n    const { transactionRequest, gasPrice: gasPriceParam } = params;\n    let gasPrice = gasPriceParam;\n    await this.autoRefetchConfigs();\n    const chainInfo = await this.getChain();\n    const { gasPriceFactor, maxGasPerTx } = await this.getGasConfig();\n    const minGas = transactionRequest.calculateMinGas(chainInfo);\n    if (!(0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(gasPrice)) {\n      gasPrice = await this.estimateGasPrice(10);\n    }\n    const minFee = calculateGasFee({\n      gasPrice: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasPrice),\n      gas: minGas,\n      priceFactor: gasPriceFactor,\n      tip: transactionRequest.tip\n    }).add(1);\n    let gasLimit = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n    if (isTransactionTypeScript(transactionRequest)) {\n      gasLimit = transactionRequest.gasLimit;\n      if (transactionRequest.gasLimit.eq(0)) {\n        transactionRequest.gasLimit = minGas;\n        transactionRequest.gasLimit = maxGasPerTx.sub(\n          transactionRequest.calculateMaxGas(chainInfo, minGas)\n        );\n        gasLimit = transactionRequest.gasLimit;\n      }\n    }\n    const maxGas = transactionRequest.calculateMaxGas(chainInfo, minGas);\n    const maxFee = calculateGasFee({\n      gasPrice: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasPrice),\n      gas: maxGas,\n      priceFactor: gasPriceFactor,\n      tip: transactionRequest.tip\n    }).add(1);\n    return {\n      minGas,\n      minFee,\n      maxGas,\n      maxFee,\n      gasPrice,\n      gasLimit\n    };\n  }\n  /**\n   * Executes a signed transaction without applying the states changes\n   * on the chain.\n   *\n   * If the transaction is missing any dependencies,\n   * the transaction will be mutated and those dependencies will be added\n   *\n   * @param transactionRequestLike - The transaction request object.\n   * @param estimateTxParams - The estimate transaction params (optional).\n   * @returns A promise that resolves to the call result object.\n   */\n  async simulate(transactionRequestLike, { estimateTxDependencies = true } = {}) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    if (estimateTxDependencies) {\n      return this.estimateTxDependencies(transactionRequest);\n    }\n    const encodedTransactions = [(0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(transactionRequest.toTransactionBytes())];\n    const { dryRun: dryRunStatuses } = await this.operations.dryRun({\n      encodedTransactions,\n      utxoValidation: true\n    });\n    const callResult = dryRunStatuses.map((dryRunStatus) => {\n      const { id, receipts, status } = dryRunStatus;\n      const processedReceipts = receipts.map(deserializeReceipt);\n      return { id, receipts: processedReceipts, status };\n    });\n    return { receipts: callResult[0].receipts };\n  }\n  /**\n   * @hidden\n   *\n   * Returns a transaction cost to enable user\n   * to set gasLimit and also reserve balance amounts\n   * on the transaction.\n   *\n   * @param transactionRequestLike - The transaction request object.\n   * @param transactionCostParams - The transaction cost parameters (optional).\n   *\n   * @returns A promise that resolves to the transaction cost object.\n   *\n   * @deprecated Use provider.assembleTx instead\n   * Check the migration guide https://docs.fuel.network/docs/fuels-ts/transactions/assemble-tx-migration-guide/ for more information.\n   */\n  async getTransactionCost(transactionRequestLike, { signatureCallback, gasPrice: gasPriceParam } = {}) {\n    const txRequestClone = (0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(transactionRequestify(transactionRequestLike));\n    const updateMaxFee = txRequestClone.maxFee.eq(0);\n    const isScriptTransaction = isTransactionTypeScript(txRequestClone);\n    if (isScriptTransaction) {\n      txRequestClone.gasLimit = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n    }\n    const signedRequest = (0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(txRequestClone);\n    let addedSignatures = 0;\n    if (signatureCallback && isTransactionTypeScript(signedRequest)) {\n      const lengthBefore = signedRequest.witnesses.length;\n      await signatureCallback(signedRequest);\n      addedSignatures = signedRequest.witnesses.length - lengthBefore;\n    }\n    let gasPrice;\n    if (gasPriceParam) {\n      gasPrice = gasPriceParam;\n      await this.estimatePredicates(signedRequest);\n    } else {\n      ({ gasPrice } = await this.estimatePredicatesAndGasPrice(signedRequest, 10));\n    }\n    txRequestClone.updatePredicateGasUsed(signedRequest.inputs);\n    let { maxFee, maxGas, minFee, minGas, gasLimit } = await this.estimateTxGasAndFee({\n      // Fetches and returns a gas price\n      transactionRequest: signedRequest,\n      gasPrice\n    });\n    let rawReceipts = [];\n    let receipts = [];\n    let dryRunStatus;\n    let missingContractIds = [];\n    let outputVariables = 0;\n    let gasUsed = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n    txRequestClone.maxFee = maxFee;\n    if (isScriptTransaction) {\n      txRequestClone.gasLimit = gasLimit;\n      if (signatureCallback) {\n        await signatureCallback(txRequestClone);\n      }\n      ({ rawReceipts, receipts, missingContractIds, outputVariables, dryRunStatus } = await this.estimateTxDependencies(txRequestClone, { gasPrice }));\n      if (dryRunStatus && \"reason\" in dryRunStatus) {\n        throw this.extractDryRunError(txRequestClone, receipts, dryRunStatus.reason);\n      }\n      const { maxGasPerTx } = await this.getGasConfig();\n      const pristineGasUsed = getGasUsedFromReceipts(receipts);\n      gasUsed = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(pristineGasUsed.muln(GAS_USED_MODIFIER)).max(maxGasPerTx.sub(minGas));\n      txRequestClone.gasLimit = gasUsed;\n      ({ maxFee, maxGas, minFee, minGas } = await this.estimateTxGasAndFee({\n        transactionRequest: txRequestClone,\n        gasPrice\n      }));\n    }\n    const transactionSummary = {\n      gasPrice: gasPrice.toString(),\n      receipts: rawReceipts\n    };\n    return {\n      rawReceipts,\n      receipts,\n      gasUsed,\n      gasPrice,\n      minGas,\n      maxGas,\n      minFee,\n      maxFee,\n      outputVariables,\n      missingContractIds,\n      addedSignatures,\n      estimatedPredicates: txRequestClone.inputs,\n      dryRunStatus,\n      updateMaxFee,\n      transactionSummary\n    };\n  }\n  /**\n   * Assembles a transaction by completely estimating and funding it.\n   *\n   * @param params - Parameters used to assemble the transaction.\n   *\n   * @returns The assembled transaction request, estimated gas price, and receipts\n   */\n  async assembleTx(params) {\n    const {\n      request: request2,\n      reserveGas,\n      resourcesIdsToIgnore,\n      feePayerAccount,\n      blockHorizon = 10,\n      estimatePredicates = true,\n      accountCoinQuantities = []\n    } = params;\n    const allAddresses = /* @__PURE__ */ new Set();\n    const baseAssetId = await this.getBaseAssetId();\n    let feePayerIndex = -1;\n    let baseAssetChange;\n    const requiredBalances = accountCoinQuantities.map((quantity, index) => {\n      const { amount, assetId, account = feePayerAccount, changeOutputAccount } = quantity;\n      const changeAccountAddress = changeOutputAccount ? changeOutputAccount.address.toB256() : account.address.toB256();\n      allAddresses.add(account.address.toB256());\n      const changePolicy = {\n        change: changeAccountAddress\n      };\n      if (assetId === baseAssetId) {\n        baseAssetChange = changePolicy.change;\n      }\n      if (account.address.equals(feePayerAccount.address)) {\n        feePayerIndex = index;\n      }\n      const requiredBalance = {\n        account: resolveAccountForAssembleTxParams(account),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount).toString(10),\n        assetId,\n        changePolicy\n      };\n      return requiredBalance;\n    });\n    if (feePayerIndex === -1) {\n      allAddresses.add(feePayerAccount.address.toB256());\n      const newLength = requiredBalances.push({\n        account: resolveAccountForAssembleTxParams(feePayerAccount),\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0).toString(10),\n        // Since the correct fee amount cannot be determined yet, we can use 0\n        assetId: baseAssetId,\n        changePolicy: {\n          change: baseAssetChange || feePayerAccount.address.toB256()\n        }\n      });\n      feePayerIndex = newLength - 1;\n    }\n    const excludeInput = await this.adjustResourcesToIgnoreForAddresses(\n      Array.from(allAddresses),\n      resourcesIdsToIgnore\n    );\n    const {\n      assembleTx: { status, transaction: gqlTransaction, gasPrice }\n    } = await this.operations.assembleTx({\n      tx: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(request2.toTransactionBytes()),\n      blockHorizon: String(blockHorizon),\n      feeAddressIndex: String(feePayerIndex),\n      requiredBalances,\n      estimatePredicates,\n      excludeInput,\n      reserveGas: reserveGas ? (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(reserveGas).toString(10) : void 0\n    });\n    if (status.type === \"DryRunFailureStatus\") {\n      const parsedReceipts = status.receipts.map(deserializeReceipt);\n      throw this.extractDryRunError(request2, parsedReceipts, status.reason);\n    }\n    request2.witnesses = gqlTransaction.witnesses || request2.witnesses;\n    request2.inputs = gqlTransaction.inputs?.map(deserializeInput) || request2.inputs;\n    request2.outputs = gqlTransaction.outputs?.map(deserializeOutput) || request2.outputs;\n    if (gqlTransaction.policies?.maxFee) {\n      request2.maxFee = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransaction.policies.maxFee);\n    }\n    if (request2.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script) {\n      request2.gasLimit = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gqlTransaction.scriptGasLimit).add((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(reserveGas));\n    }\n    const rawReceipts = status.receipts;\n    const chainId = await this.getChainId();\n    request2.updateState(chainId, \"funded\", {\n      gasPrice: gasPrice.toString(),\n      receipts: rawReceipts\n    });\n    return {\n      assembledRequest: request2,\n      gasPrice: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasPrice),\n      receipts: status.receipts.map(deserializeReceipt),\n      rawReceipts\n    };\n  }\n  /**\n   * Returns coins for the given owner.\n   *\n   * @param owner - The address to get coins for.\n   * @param assetId - The asset ID of coins to get (optional).\n   * @param paginationArgs - Pagination arguments (optional).\n   *\n   * @returns A promise that resolves to the coins.\n   */\n  async getCoins(owner, assetId, paginationArgs) {\n    const ownerAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(owner);\n    const {\n      coins: { edges, pageInfo }\n    } = await this.operations.getCoins({\n      ...validatePaginationArgs({\n        paginationLimit: RESOURCES_PAGE_SIZE_LIMIT,\n        inputArgs: paginationArgs\n      }),\n      filter: { owner: ownerAddress.toB256(), assetId: assetId && (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(assetId) }\n    });\n    const coins = edges.map(({ node }) => ({\n      id: node.utxoId,\n      assetId: node.assetId,\n      amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(node.amount),\n      owner: ownerAddress,\n      blockCreated: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(node.blockCreated),\n      txCreatedIdx: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(node.txCreatedIdx)\n    }));\n    return {\n      coins,\n      pageInfo\n    };\n  }\n  /**\n   * Returns resources for the given owner satisfying the spend query.\n   *\n   * @param owner - The address to get resources for.\n   * @param quantities - The coin quantities to get.\n   * @param resourcesIdsToIgnore - IDs of excluded resources from the selection (optional).\n   * @returns A promise that resolves to the resources.\n   */\n  async getResourcesToSpend(owner, quantities, resourcesIdsToIgnore) {\n    const ownerAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(owner);\n    const excludedIds = await this.adjustResourcesToIgnoreForAddresses(\n      [ownerAddress.b256Address],\n      resourcesIdsToIgnore\n    );\n    const coinsQuery = {\n      owner: ownerAddress.toB256(),\n      queryPerAsset: quantities.map(coinQuantityfy).map(({ assetId, amount, max: maxPerAsset }) => ({\n        assetId: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(assetId),\n        amount: (amount.eqn(0) ? (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(1) : amount).toString(10),\n        max: maxPerAsset ? maxPerAsset.toString(10) : void 0\n      })),\n      excludedIds\n    };\n    const result = await this.operations.getCoinsToSpend(coinsQuery);\n    const coins = result.coinsToSpend.flat().map((coin) => {\n      switch (coin.type) {\n        case \"MessageCoin\":\n          return {\n            amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(coin.amount),\n            assetId: coin.assetId,\n            daHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(coin.daHeight),\n            sender: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(coin.sender),\n            recipient: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(coin.recipient),\n            nonce: coin.nonce\n          };\n        case \"Coin\":\n          return {\n            id: coin.utxoId,\n            amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(coin.amount),\n            assetId: coin.assetId,\n            owner: ownerAddress,\n            blockCreated: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(coin.blockCreated),\n            txCreatedIdx: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(coin.txCreatedIdx)\n          };\n        default:\n          return null;\n      }\n    }).filter((v) => !!v);\n    return coins;\n  }\n  /**\n   * Returns an array of blobIds that exist on chain, for a given array of blobIds.\n   *\n   * @param blobIds - blobIds to check.\n   * @returns - A promise that resolves to an array of blobIds that exist on chain.\n   */\n  async getBlobs(blobIds) {\n    const res = await this.operations.getBlobs({ blobIds });\n    const blobs = [];\n    Object.keys(res).forEach((key) => {\n      const val = res[key];\n      blobs.push(val?.id ?? null);\n    });\n    return blobs.filter((v) => v);\n  }\n  /**\n   * Returns block matching the given ID or height.\n   *\n   * @param idOrHeight - ID or height of the block.\n   * @returns A promise that resolves to the block or null.\n   */\n  async getBlock(idOrHeight) {\n    let block;\n    if (idOrHeight === \"latest\") {\n      const {\n        chain: { latestBlock }\n      } = await this.operations.getLatestBlock();\n      block = latestBlock;\n    } else {\n      const isblockId = typeof idOrHeight === \"string\" && (0,_fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.isB256)(idOrHeight);\n      const variables = isblockId ? { blockId: idOrHeight } : { height: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(idOrHeight).toString(10) };\n      const response = await this.operations.getBlock(variables);\n      block = response.block;\n    }\n    if (!block) {\n      return null;\n    }\n    const { header, height, id, transactions } = block;\n    return {\n      id,\n      height: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(height),\n      time: header.time,\n      header: {\n        applicationHash: header.applicationHash,\n        daHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(header.daHeight),\n        eventInboxRoot: header.eventInboxRoot,\n        messageOutboxRoot: header.messageOutboxRoot,\n        prevRoot: header.prevRoot,\n        stateTransitionBytecodeVersion: header.stateTransitionBytecodeVersion,\n        transactionsCount: header.transactionsCount,\n        transactionsRoot: header.transactionsRoot\n      },\n      transactionIds: transactions.map((tx) => tx.id)\n    };\n  }\n  /**\n   * Returns all the blocks matching the given parameters.\n   *\n   * @param params - The parameters to query blocks.\n   * @returns A promise that resolves to the blocks.\n   */\n  async getBlocks(params) {\n    const {\n      blocks: { edges, pageInfo }\n    } = await this.operations.getBlocks({\n      ...validatePaginationArgs({\n        paginationLimit: BLOCKS_PAGE_SIZE_LIMIT,\n        inputArgs: params\n      })\n    });\n    const blocks = edges.map(({ node: block }) => ({\n      id: block.id,\n      height: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(block.height),\n      time: block.header.time,\n      header: {\n        applicationHash: block.header.applicationHash,\n        daHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(block.header.daHeight),\n        eventInboxRoot: block.header.eventInboxRoot,\n        messageOutboxRoot: block.header.messageOutboxRoot,\n        prevRoot: block.header.prevRoot,\n        stateTransitionBytecodeVersion: block.header.stateTransitionBytecodeVersion,\n        transactionsCount: block.header.transactionsCount,\n        transactionsRoot: block.header.transactionsRoot\n      },\n      transactionIds: block.transactions.map((tx) => tx.id)\n    }));\n    return { blocks, pageInfo };\n  }\n  /**\n   * Returns block matching the given ID or type, including transaction data.\n   *\n   * @param idOrHeight - ID or height of the block.\n   * @returns A promise that resolves to the block.\n   */\n  async getBlockWithTransactions(idOrHeight) {\n    let variables;\n    if (typeof idOrHeight === \"number\") {\n      variables = { blockHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(idOrHeight).toString(10) };\n    } else if (idOrHeight === \"latest\") {\n      variables = { blockHeight: (await this.getBlockNumber()).toString() };\n    } else if (typeof idOrHeight === \"string\" && (0,_fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.isB256)(idOrHeight)) {\n      variables = { blockId: idOrHeight };\n    } else {\n      variables = { blockHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(idOrHeight).toString() };\n    }\n    const { block } = await this.operations.getBlockWithTransactions(variables);\n    if (!block) {\n      return null;\n    }\n    return {\n      id: block.id,\n      height: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(block.height, 10),\n      time: block.header.time,\n      header: {\n        applicationHash: block.header.applicationHash,\n        daHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(block.header.daHeight),\n        eventInboxRoot: block.header.eventInboxRoot,\n        messageOutboxRoot: block.header.messageOutboxRoot,\n        prevRoot: block.header.prevRoot,\n        stateTransitionBytecodeVersion: block.header.stateTransitionBytecodeVersion,\n        transactionsCount: block.header.transactionsCount,\n        transactionsRoot: block.header.transactionsRoot\n      },\n      transactionIds: block.transactions.map((tx) => tx.id),\n      transactions: block.transactions.map(\n        (tx) => new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().decode((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(tx.rawPayload), 0)?.[0]\n      )\n    };\n  }\n  /**\n   * Get transaction with the given ID.\n   *\n   * @param transactionId - ID of the transaction.\n   * @returns A promise that resolves to the transaction.\n   */\n  async getTransaction(transactionId) {\n    const { transaction } = await this.operations.getTransaction({ transactionId });\n    if (!transaction) {\n      return null;\n    }\n    try {\n      return new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().decode(\n        (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(transaction.rawPayload),\n        0\n      )?.[0];\n    } catch (error) {\n      if (error instanceof _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError && error.code === _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.UNSUPPORTED_TRANSACTION_TYPE) {\n        console.warn(\"Unsupported transaction type encountered\");\n        return null;\n      }\n      throw error;\n    }\n  }\n  /**\n   * Retrieves transactions based on the provided pagination arguments.\n   * @param paginationArgs - The pagination arguments for retrieving transactions.\n   * @returns A promise that resolves to an object containing the retrieved transactions and pagination information.\n   */\n  async getTransactions(paginationArgs) {\n    const {\n      transactions: { edges, pageInfo }\n    } = await this.operations.getTransactions({\n      ...validatePaginationArgs({\n        inputArgs: paginationArgs,\n        paginationLimit: TRANSACTIONS_PAGE_SIZE_LIMIT\n      })\n    });\n    const coder = new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder();\n    const transactions = edges.map(({ node: { rawPayload } }) => {\n      try {\n        return coder.decode((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(rawPayload), 0)[0];\n      } catch (error) {\n        if (error instanceof _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError && error.code === _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.UNSUPPORTED_TRANSACTION_TYPE) {\n          console.warn(\"Unsupported transaction type encountered\");\n          return null;\n        }\n        throw error;\n      }\n    }).filter((tx) => tx !== null);\n    return { transactions, pageInfo };\n  }\n  /**\n   * Fetches a compressed block at the specified height.\n   *\n   * @param height - The height of the block to fetch.\n   * @returns The compressed block if available, otherwise `null`.\n   */\n  async daCompressedBlock(height) {\n    const { daCompressedBlock } = await this.operations.daCompressedBlock({\n      height\n    });\n    if (!daCompressedBlock) {\n      return null;\n    }\n    return daCompressedBlock;\n  }\n  /**\n   * Get deployed contract with the given ID.\n   *\n   * @param contractId - ID of the contract.\n   * @returns A promise that resolves to the contract.\n   */\n  async getContract(contractId) {\n    const { contract } = await this.operations.getContract({ contractId });\n    if (!contract) {\n      return null;\n    }\n    return contract;\n  }\n  /**\n   * Returns the balance for the given contract for the given asset ID.\n   *\n   * @param contractId - The contract ID to get the balance for.\n   * @param assetId - The asset ID of coins to get.\n   * @returns A promise that resolves to the balance.\n   */\n  async getContractBalance(contractId, assetId) {\n    const { contractBalance } = await this.operations.getContractBalance({\n      contract: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(contractId).toB256(),\n      asset: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(assetId)\n    });\n    return (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(contractBalance.amount, 10);\n  }\n  /**\n   * Returns the balance for the given owner for the given asset ID.\n   *\n   * @param owner - The address to get coins for.\n   * @param assetId - The asset ID of coins to get.\n   * @returns A promise that resolves to the balance.\n   */\n  async getBalance(owner, assetId) {\n    const { balance } = await this.operations.getBalanceV2({\n      owner: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(owner).toB256(),\n      assetId: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(assetId)\n    });\n    return (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(balance.amountU128, 10);\n  }\n  /**\n   * Returns balances for the given owner.\n   *\n   * @param owner - The address to get coins for.\n   * @param paginationArgs - Pagination arguments (optional).\n   * @returns A promise that resolves to the balances.\n   */\n  async getBalances(owner, paginationArgs) {\n    let args = { first: NON_PAGINATED_BALANCES_SIZE };\n    const { balancesPagination: supportsPagination } = await this.getNodeFeatures();\n    if (supportsPagination) {\n      args = validatePaginationArgs({\n        inputArgs: paginationArgs,\n        paginationLimit: BALANCES_PAGE_SIZE_LIMIT\n      });\n    }\n    const {\n      balances: { edges, pageInfo }\n    } = await this.operations.getBalancesV2({\n      ...args,\n      filter: { owner: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(owner).toB256() },\n      supportsPagination\n    });\n    const balances = edges.map(({ node }) => ({\n      assetId: node.assetId,\n      amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(node.amountU128)\n    }));\n    return {\n      balances,\n      ...supportsPagination ? { pageInfo } : {}\n    };\n  }\n  /**\n   * Returns message for the given address.\n   *\n   * @param address - The address to get message from.\n   * @param paginationArgs - Pagination arguments (optional).\n   * @returns A promise that resolves to the messages.\n   */\n  async getMessages(address, paginationArgs) {\n    const {\n      messages: { edges, pageInfo }\n    } = await this.operations.getMessages({\n      ...validatePaginationArgs({\n        inputArgs: paginationArgs,\n        paginationLimit: RESOURCES_PAGE_SIZE_LIMIT\n      }),\n      owner: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(address).toB256()\n    });\n    const messages = edges.map(({ node }) => ({\n      messageId: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputMessageCoder.getMessageId({\n        sender: node.sender,\n        recipient: node.recipient,\n        nonce: node.nonce,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(node.amount),\n        data: node.data\n      }),\n      sender: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(node.sender),\n      recipient: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(node.recipient),\n      nonce: node.nonce,\n      amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(node.amount),\n      data: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputMessageCoder.decodeData(node.data),\n      daHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(node.daHeight)\n    }));\n    return {\n      messages,\n      pageInfo\n    };\n  }\n  /**\n   * Returns Message Proof for given transaction id and the message id from MessageOut receipt.\n   *\n   * @param transactionId - The transaction to get message from.\n   * @param messageId - The message id from MessageOut receipt.\n   * @param commitBlockId - The commit block id (optional).\n   * @param commitBlockHeight - The commit block height (optional).\n   * @returns A promise that resolves to the message proof.\n   */\n  async getMessageProof(transactionId, nonce, commitBlockId, commitBlockHeight) {\n    let inputObject = {\n      transactionId,\n      nonce\n    };\n    if (commitBlockId && commitBlockHeight) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_INPUT_PARAMETERS,\n        \"commitBlockId and commitBlockHeight cannot be used together\"\n      );\n    }\n    if (commitBlockId) {\n      inputObject = {\n        ...inputObject,\n        commitBlockId\n      };\n    }\n    if (commitBlockHeight) {\n      inputObject = {\n        ...inputObject,\n        // Convert BN into a number string required on the query\n        // This should probably be fixed on the fuel client side\n        commitBlockHeight: commitBlockHeight.toNumber().toString()\n      };\n    }\n    const result = await this.operations.getMessageProof(inputObject);\n    const {\n      messageProof,\n      messageBlockHeader,\n      commitBlockHeader,\n      blockProof,\n      sender,\n      recipient,\n      amount,\n      data\n    } = result.messageProof;\n    return {\n      messageProof: {\n        proofIndex: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(messageProof.proofIndex),\n        proofSet: messageProof.proofSet\n      },\n      blockProof: {\n        proofIndex: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(blockProof.proofIndex),\n        proofSet: blockProof.proofSet\n      },\n      messageBlockHeader: {\n        id: messageBlockHeader.id,\n        daHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(messageBlockHeader.daHeight),\n        transactionsCount: Number(messageBlockHeader.transactionsCount),\n        transactionsRoot: messageBlockHeader.transactionsRoot,\n        height: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(messageBlockHeader.height),\n        prevRoot: messageBlockHeader.prevRoot,\n        time: messageBlockHeader.time,\n        applicationHash: messageBlockHeader.applicationHash,\n        messageReceiptCount: Number(messageBlockHeader.messageReceiptCount),\n        messageOutboxRoot: messageBlockHeader.messageOutboxRoot,\n        consensusParametersVersion: Number(messageBlockHeader.consensusParametersVersion),\n        eventInboxRoot: messageBlockHeader.eventInboxRoot,\n        stateTransitionBytecodeVersion: Number(messageBlockHeader.stateTransitionBytecodeVersion)\n      },\n      commitBlockHeader: {\n        id: commitBlockHeader.id,\n        daHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(commitBlockHeader.daHeight),\n        transactionsCount: Number(commitBlockHeader.transactionsCount),\n        transactionsRoot: commitBlockHeader.transactionsRoot,\n        height: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(commitBlockHeader.height),\n        prevRoot: commitBlockHeader.prevRoot,\n        time: commitBlockHeader.time,\n        applicationHash: commitBlockHeader.applicationHash,\n        messageReceiptCount: Number(commitBlockHeader.messageReceiptCount),\n        messageOutboxRoot: commitBlockHeader.messageOutboxRoot,\n        consensusParametersVersion: Number(commitBlockHeader.consensusParametersVersion),\n        eventInboxRoot: commitBlockHeader.eventInboxRoot,\n        stateTransitionBytecodeVersion: Number(commitBlockHeader.stateTransitionBytecodeVersion)\n      },\n      sender: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(sender),\n      recipient: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(recipient),\n      nonce,\n      amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount),\n      data\n    };\n  }\n  /**\n   * Get the latest gas price from the node.\n   *\n   * @returns A promise that resolves to the latest gas price.\n   */\n  async getLatestGasPrice() {\n    const { latestGasPrice } = await this.operations.getLatestGasPrice();\n    return (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(latestGasPrice.gasPrice);\n  }\n  /**\n   * Returns the estimate gas price for the given block horizon.\n   *\n   * @param blockHorizon - The block horizon to estimate gas price for.\n   * @returns A promise that resolves to the estimated gas price.\n   */\n  async estimateGasPrice(blockHorizon) {\n    const { estimateGasPrice } = await this.operations.estimateGasPrice({\n      blockHorizon: String(blockHorizon)\n    });\n    return (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(estimateGasPrice.gasPrice);\n  }\n  /**\n   * Returns Message Proof for given transaction id and the message id from MessageOut receipt.\n   *\n   * @param nonce - The nonce of the message to get status from.\n   * @returns A promise that resolves to the message status\n   */\n  async getMessageStatus(nonce) {\n    const result = await this.operations.getMessageStatus({ nonce });\n    return result.messageStatus;\n  }\n  /**\n   * Lets you produce blocks with custom timestamps and the block number of the last block produced.\n   *\n   * @param amount - The amount of blocks to produce.\n   * @param startTime - The UNIX timestamp (milliseconds) to set for the first produced block (optional).\n   * @returns A promise that resolves to the block number of the last produced block.\n   */\n  async produceBlocks(amount, startTime) {\n    const { produceBlocks: latestBlockHeight } = await this.operations.produceBlocks({\n      blocksToProduce: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount).toString(10),\n      startTimestamp: startTime ? _fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.DateTime.fromUnixMilliseconds(startTime).toTai64() : void 0\n    });\n    return (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(latestBlockHeight);\n  }\n  /**\n   * Check if the given ID is an account.\n   *\n   * @param id - The ID to check.\n   * @returns A promise that resolves to the result of the check.\n   */\n  async isUserAccount(id) {\n    const type = await this.getAddressType(id);\n    return type === \"Account\";\n  }\n  /**\n   * Determines the type of address based on the provided ID.\n   *\n   * @param id - The ID to be checked.\n   * @returns A promise that resolves to a string indicating the type of address.\n   */\n  async getAddressType(id) {\n    const { contract, blob, transaction } = await this.operations.isUserAccount({\n      blobId: id,\n      contractId: id,\n      transactionId: id\n    });\n    if (contract) {\n      return \"Contract\";\n    }\n    if (blob) {\n      return \"Blob\";\n    }\n    if (transaction) {\n      return \"Transaction\";\n    }\n    try {\n      const asset = await this.getAssetDetails(id);\n      if (asset) {\n        return \"Asset\";\n      }\n    } catch (e) {\n    }\n    return \"Account\";\n  }\n  /**\n   * Get the transaction response for the given transaction ID.\n   *\n   * @param transactionId - The transaction ID to get the response for.\n   * @returns A promise that resolves to the transaction response.\n   */\n  async getTransactionResponse(transactionId) {\n    const chainId = await this.getChainId();\n    return new TransactionResponse(transactionId, this, chainId);\n  }\n  /**\n   * Returns Message for given nonce.\n   *\n   * @param nonce - The nonce of the message to retrieve.\n   * @returns A promise that resolves to the Message object or null.\n   */\n  async getMessageByNonce(nonce) {\n    const { message: rawMessage } = await this.operations.getMessageByNonce({ nonce });\n    if (!rawMessage) {\n      return null;\n    }\n    const message = {\n      messageId: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputMessageCoder.getMessageId({\n        sender: rawMessage.sender,\n        recipient: rawMessage.recipient,\n        nonce,\n        amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(rawMessage.amount),\n        data: rawMessage.data\n      }),\n      sender: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(rawMessage.sender),\n      recipient: new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(rawMessage.recipient),\n      nonce,\n      amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(rawMessage.amount),\n      data: _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputMessageCoder.decodeData(rawMessage.data),\n      daHeight: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(rawMessage.daHeight)\n    };\n    return message;\n  }\n  /**\n   * Get the relayed transaction for the given transaction ID.\n   *\n   * @param relayedTransactionId - The relayed transaction ID to get the response for.\n   * @returns A promise that resolves to the relayed transaction.\n   */\n  async getRelayedTransactionStatus(relayedTransactionId) {\n    const { relayedTransactionStatus } = await this.operations.getRelayedTransactionStatus({\n      relayedTransactionId\n    });\n    if (!relayedTransactionStatus) {\n      return null;\n    }\n    return relayedTransactionStatus;\n  }\n  /**\n   * @hidden\n   */\n  extractDryRunError(transactionRequest, receipts, reason) {\n    let logs = [];\n    let groupedLogs = {};\n    if (transactionRequest.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionType.Script && transactionRequest.abis) {\n      ({ logs, groupedLogs } = getAllDecodedLogs({\n        receipts,\n        mainAbi: transactionRequest.abis.main,\n        externalAbis: transactionRequest.abis.otherContractsAbis\n      }));\n    }\n    return extractTxError({\n      logs,\n      groupedLogs,\n      receipts,\n      statusReason: reason\n    });\n  }\n  /**\n   * @hidden\n   */\n  async getNodeFeatures() {\n    const { indexation } = await this.getNode();\n    return {\n      assetMetadata: Boolean(indexation?.assetMetadata),\n      balancesPagination: Boolean(indexation?.balances),\n      coinsToSpend: Boolean(indexation?.coinsToSpend)\n    };\n  }\n  /**\n   * @hidden\n   */\n  parseEstimatePredicatesResponse(transactionRequest, { inputs }) {\n    if (inputs) {\n      inputs.forEach((input, i) => {\n        if (input && \"predicateGasUsed\" in input && (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(input.predicateGasUsed).gt(0)) {\n          transactionRequest.inputs[i].predicateGasUsed = input.predicateGasUsed;\n        }\n      });\n    }\n    return transactionRequest;\n  }\n  /**\n   * @hidden\n   *\n   * This helper adjusts the resources to be excluded for a given set of addresses.\n   * Supporting multiple addresses is important because of the `assembleTx` method,\n   * which may be invoked with different addresses. It handles both messages and UTXOs,\n   * ensuring the total number of inputs does not exceed the maximum allowed by the chain's\n   * consensus parameters. The resources specified in the `resourcesIdsToIgnore` parameter have priority\n   * over those retrieved from the cache.\n   */\n  async adjustResourcesToIgnoreForAddresses(addresses, resourcesIdsToIgnore) {\n    const final = {\n      messages: resourcesIdsToIgnore?.messages?.map((nonce) => (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(nonce)) || [],\n      utxos: resourcesIdsToIgnore?.utxos?.map((id) => (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(id)) || []\n    };\n    if (this.cache) {\n      const cache2 = this.cache;\n      const allCached = addresses.map((address) => cache2.getActiveData(address));\n      const {\n        consensusParameters: {\n          txParameters: { maxInputs: maxInputsBn }\n        }\n      } = await this.getChain();\n      const maxInputs = maxInputsBn.toNumber();\n      for (let i = 0; i < allCached.length; i++) {\n        let total = final.utxos.length + final.messages.length;\n        if (total >= maxInputs) {\n          break;\n        }\n        final.utxos = [...final.utxos, ...allCached[i].utxos.slice(0, maxInputs - total)];\n        total = final.utxos.length + final.messages.length;\n        if (total >= maxInputs) {\n          break;\n        }\n        final.messages = [...final.messages, ...allCached[i].messages.slice(0, maxInputs - total)];\n      }\n    }\n    return final;\n  }\n};\n\n// src/providers/transaction-summary/get-transaction-summary.ts\n\n\n\n\nasync function getTransactionSummary(params) {\n  const { id, provider, abiMap } = params;\n  const { transaction: gqlTransaction } = await provider.operations.getTransactionWithReceipts({\n    transactionId: id\n  });\n  if (!gqlTransaction) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.TRANSACTION_NOT_FOUND,\n      `Transaction not found for given id: ${id}.`\n    );\n  }\n  const [decodedTransaction] = new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().decode(\n    (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(gqlTransaction.rawPayload),\n    0\n  );\n  let txReceipts = [];\n  if (gqlTransaction?.status && \"receipts\" in gqlTransaction.status) {\n    txReceipts = gqlTransaction.status.receipts;\n  }\n  const receipts = txReceipts.map(deserializeReceipt);\n  const {\n    consensusParameters: {\n      feeParameters: { gasPerByte, gasPriceFactor },\n      txParameters: { maxInputs, maxGasPerTx },\n      gasCosts\n    }\n  } = await provider.getChain();\n  const totalFee = getTotalFeeFromStatus(gqlTransaction.status);\n  const gasPrice = totalFee ? (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0) : await provider.getLatestGasPrice();\n  const baseAssetId = await provider.getBaseAssetId();\n  const transactionInfo = assembleTransactionSummary({\n    id: gqlTransaction.id,\n    receipts,\n    transaction: decodedTransaction,\n    transactionBytes: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(gqlTransaction.rawPayload),\n    gqlTransactionStatus: gqlTransaction.status,\n    gasPerByte: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasPerByte),\n    gasPriceFactor: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasPriceFactor),\n    abiMap,\n    maxInputs,\n    gasCosts,\n    maxGasPerTx,\n    gasPrice,\n    baseAssetId\n  });\n  return {\n    ...transactionInfo\n  };\n}\n__name(getTransactionSummary, \"getTransactionSummary\");\nasync function getTransactionSummaryFromRequest(params) {\n  const { provider, transactionRequest, abiMap } = params;\n  const { receipts } = await provider.dryRun(transactionRequest);\n  const { gasPerByte, gasPriceFactor, gasCosts, maxGasPerTx } = await provider.getGasConfig();\n  const maxInputs = (await provider.getChain()).consensusParameters.txParameters.maxInputs;\n  const transaction = transactionRequest.toTransaction();\n  const transactionBytes = transactionRequest.toTransactionBytes();\n  const gasPrice = await provider.getLatestGasPrice();\n  const baseAssetId = await provider.getBaseAssetId();\n  const transactionSummary = assembleTransactionSummary({\n    id: transactionRequest.getTransactionId(await provider.getChainId()),\n    receipts,\n    transaction,\n    transactionBytes,\n    abiMap,\n    gasPerByte,\n    gasPriceFactor,\n    maxInputs,\n    gasCosts,\n    maxGasPerTx,\n    gasPrice,\n    baseAssetId\n  });\n  return transactionSummary;\n}\n__name(getTransactionSummaryFromRequest, \"getTransactionSummaryFromRequest\");\nasync function getTransactionsSummaries(params) {\n  const { filters, provider, abiMap } = params;\n  const { owner, ...inputArgs } = filters;\n  const validPaginationParams = validatePaginationArgs({\n    inputArgs,\n    paginationLimit: TRANSACTIONS_PAGE_SIZE_LIMIT\n  });\n  const { transactionsByOwner } = await provider.operations.getTransactionsByOwner({\n    ...validPaginationParams,\n    owner\n  });\n  const { edges, pageInfo } = transactionsByOwner;\n  const {\n    consensusParameters: {\n      feeParameters: { gasPerByte, gasPriceFactor },\n      txParameters: { maxInputs, maxGasPerTx },\n      gasCosts\n    }\n  } = await provider.getChain();\n  const gasPrice = await provider.getLatestGasPrice();\n  const baseAssetId = await provider.getBaseAssetId();\n  const transactions = edges.map((edge) => {\n    const { node: gqlTransaction } = edge;\n    const { id, rawPayload, status } = gqlTransaction;\n    const [decodedTransaction] = new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().decode((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(rawPayload), 0);\n    let txReceipts = [];\n    if (gqlTransaction?.status && \"receipts\" in gqlTransaction.status) {\n      txReceipts = gqlTransaction.status.receipts;\n    }\n    const receipts = txReceipts.map(deserializeReceipt);\n    const transactionSummary = assembleTransactionSummary({\n      id,\n      receipts,\n      transaction: decodedTransaction,\n      transactionBytes: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(rawPayload),\n      gqlTransactionStatus: status,\n      abiMap,\n      gasPerByte,\n      gasPriceFactor,\n      maxInputs,\n      gasCosts,\n      maxGasPerTx,\n      gasPrice,\n      baseAssetId\n    });\n    const output = {\n      ...transactionSummary\n    };\n    return output;\n  });\n  return {\n    transactions,\n    pageInfo\n  };\n}\n__name(getTransactionsSummaries, \"getTransactionsSummaries\");\n\n// src/providers/transaction-summary/assemble-transaction-summary-from-serialized.ts\n\n\n\nvar assembleTransactionSummaryFromJson = /* @__PURE__ */ __name(async (opts) => {\n  const { provider, transactionSummary } = opts;\n  const { id, transactionBytes, gasPrice, receipts } = transactionSummary;\n  const {\n    consensusParameters: {\n      baseAssetId,\n      txParameters: { maxInputs, maxGasPerTx },\n      feeParameters: { gasPriceFactor, gasPerByte },\n      gasCosts\n    }\n  } = await provider.getChain();\n  const deserializedTransactionBytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(transactionBytes);\n  const [transaction] = new _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.TransactionCoder().decode(deserializedTransactionBytes, 0);\n  return assembleTransactionSummary({\n    id,\n    transaction,\n    transactionBytes: deserializedTransactionBytes,\n    receipts: receipts.map(deserializeReceipt),\n    gasPrice: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(gasPrice),\n    // From chain\n    baseAssetId,\n    maxInputs,\n    gasCosts,\n    maxGasPerTx,\n    gasPerByte,\n    gasPriceFactor\n  });\n}, \"assembleTransactionSummaryFromJson\");\n\n// src/providers/utils/transaction-response-serialization.ts\nvar serializeTransactionResponseJson = /* @__PURE__ */ __name(async (response) => {\n  const { id, status, abis, request: request2, provider, gqlTransaction, preConfirmationStatus } = response;\n  return {\n    id,\n    status,\n    abis,\n    requestJson: request2 ? JSON.stringify(request2.toJSON()) : void 0,\n    providerUrl: provider.url,\n    providerCache: await serializeProviderCache(provider),\n    gqlTransaction,\n    preConfirmationStatus\n  };\n}, \"serializeTransactionResponseJson\");\nvar deserializeTransactionResponseJson = /* @__PURE__ */ __name((json) => {\n  const {\n    id,\n    abis,\n    status,\n    providerUrl,\n    requestJson,\n    providerCache,\n    gqlTransaction,\n    preConfirmationStatus\n  } = json;\n  const provider = new Provider(providerUrl, { cache: providerCache });\n  const { chainId } = providerCache.chain.consensusParameters;\n  const response = new TransactionResponse(id, provider, Number(chainId), abis);\n  if (requestJson) {\n    response.request = transactionRequestify(JSON.parse(requestJson));\n  }\n  response.status = status;\n  response.gqlTransaction = gqlTransaction;\n  response.preConfirmationStatus = preConfirmationStatus;\n  return response;\n}, \"deserializeTransactionResponseJson\");\n\n// src/types.ts\nvar AbstractAccount = class {\n  static {\n    __name(this, \"AbstractAccount\");\n  }\n};\n\n// src/utils/formatTransferToContractScriptData.ts\n\n\n\n\nvar formatTransferToContractScriptData = /* @__PURE__ */ __name((transferParams) => {\n  const numberCoder = new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.BigNumberCoder(\"u64\");\n  return transferParams.reduce((acc, transferParam) => {\n    const { assetId, amount, contractId } = transferParam;\n    const encoded = numberCoder.encode(amount);\n    const scriptData = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(contractId).toBytes(), encoded, (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(assetId)]);\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([acc, scriptData]);\n  }, new Uint8Array());\n}, \"formatTransferToContractScriptData\");\nvar assembleTransferToContractScript = /* @__PURE__ */ __name(async (transferParams) => {\n  const scriptData = formatTransferToContractScriptData(transferParams);\n  await _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.initWasm();\n  let script = new Uint8Array();\n  transferParams.forEach((_, i) => {\n    const offset = (_fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.CONTRACT_ID_LEN + _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.WORD_SIZE + _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.ASSET_ID_LEN) * i;\n    script = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([\n      script,\n      // Load ScriptData into register 0x10.\n      _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.gtf(16, 0, _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.GTFArgs.ScriptData).to_bytes(),\n      // Add the offset to 0x10 so it will point to the current contract ID, store in 0x11.\n      _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.addi(17, 16, offset).to_bytes(),\n      // Add CONTRACT_ID_LEN to 0x11 to point to the amount in the ScriptData, store in 0x12.\n      _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.addi(18, 17, _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.CONTRACT_ID_LEN).to_bytes(),\n      // Load word to the amount at 0x12 into register 0x13.\n      _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.lw(19, 18, 0).to_bytes(),\n      // Add WORD_SIZE to 0x12 to point to the asset ID in the ScriptData, store in 0x14.\n      _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.addi(20, 18, _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.WORD_SIZE).to_bytes(),\n      // Perform the transfer using contract ID in 0x11, amount in 0x13, and asset ID in 0x14.\n      _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.tr(17, 19, 20).to_bytes()\n    ]);\n  });\n  script = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([script, _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.ret(1).to_bytes()]);\n  return { script, scriptData };\n}, \"assembleTransferToContractScript\");\n\n// src/utils/split-coins-into-batches.ts\nvar splitCoinsIntoBatches = /* @__PURE__ */ __name((coins, maxBatchLength) => {\n  const batchesNum = Math.ceil(coins.length / maxBatchLength);\n  const batches = [];\n  for (let i = 0; i < batchesNum; i += 1) {\n    const batchStart = i * maxBatchLength;\n    const batchEnd = (i + 1) * maxBatchLength;\n    batches.push(coins.slice(batchStart, batchEnd));\n  }\n  return batches;\n}, \"splitCoinsIntoBatches\");\n\n// src/account.ts\nvar MAX_FUNDING_ATTEMPTS = 5;\nvar Account = class extends AbstractAccount {\n  static {\n    __name(this, \"Account\");\n  }\n  /**\n   * The address associated with the account.\n   */\n  address;\n  /**\n   * The provider used to interact with the network.\n   */\n  _provider;\n  /**\n   * The connector for use with external wallets\n   */\n  _connector;\n  /**\n   * Creates a new Account instance.\n   *\n   * @param address - The address of the account.\n   * @param provider - A Provider instance  (optional).\n   * @param connector - A FuelConnector instance (optional).\n   */\n  constructor(address, provider, connector) {\n    super();\n    this._provider = provider;\n    this._connector = connector;\n    this.address = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(address);\n  }\n  /**\n   * The provider used to interact with the network.\n   *\n   * @returns A Provider instance.\n   *\n   * @throws `FuelError` if the provider is not set.\n   */\n  get provider() {\n    if (!this._provider) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.MISSING_PROVIDER, \"Provider not set\");\n    }\n    return this._provider;\n  }\n  /**\n   * Sets the provider for the account.\n   *\n   * @param provider - A Provider instance.\n   */\n  set provider(provider) {\n    this._provider = provider;\n  }\n  /**\n   * Changes the provider connection for the account.\n   *\n   * @param provider - A Provider instance.\n   * @returns The updated Provider instance.\n   */\n  connect(provider) {\n    this._provider = provider;\n    return this.provider;\n  }\n  /**\n   * Retrieves resources satisfying the spend query for the account.\n   *\n   * @param quantities - Quantities of resources to be obtained.\n   * @param resourcesIdsToIgnore - IDs of resources to be excluded from the query (optional).\n   * @returns A promise that resolves to an array of Resources.\n   */\n  async getResourcesToSpend(quantities, resourcesIdsToIgnore) {\n    return this.provider.getResourcesToSpend(this.address, quantities, resourcesIdsToIgnore);\n  }\n  /**\n   * Retrieves coins owned by the account.\n   *\n   * @param assetId - The asset ID of the coins to retrieve (optional).\n   * @returns A promise that resolves to an array of Coins.\n   */\n  async getCoins(assetId, paginationArgs) {\n    return this.provider.getCoins(this.address, assetId, paginationArgs);\n  }\n  /**\n   * Retrieves messages owned by the account.\n   *\n   * @returns A promise that resolves to an array of Messages.\n   */\n  async getMessages(paginationArgs) {\n    return this.provider.getMessages(this.address, paginationArgs);\n  }\n  /**\n   * Retrieves the balance of the account for the given asset.\n   *\n   * @param assetId - The asset ID to check the balance for (optional).\n   * @returns A promise that resolves to the balance amount.\n   */\n  async getBalance(assetId) {\n    const assetIdToFetch = assetId ?? await this.provider.getBaseAssetId();\n    const amount = await this.provider.getBalance(this.address, assetIdToFetch);\n    return amount;\n  }\n  /**\n   * Retrieves all the balances for the account.\n   *\n   * @returns A promise that resolves to an array of Coins and their quantities.\n   */\n  async getBalances() {\n    return this.provider.getBalances(this.address);\n  }\n  /**\n   * Funds a transaction request by adding the necessary resources.\n   *\n   * @typeParam T - The type of the TransactionRequest.\n   * @param request - The transaction request to fund.\n   * @param params - The estimated transaction parameters.\n   * @returns A promise that resolves to the funded transaction request.\n   *\n   * @deprecated Use provider.assembleTx instead\n   * Check the migration guide https://docs.fuel.network/docs/fuels-ts/transactions/assemble-tx-migration-guide/ for more information.\n   */\n  async fund(request2, params) {\n    const {\n      addedSignatures,\n      estimatedPredicates,\n      requiredQuantities,\n      updateMaxFee,\n      gasPrice,\n      transactionSummary\n    } = params;\n    const chainId = await this.provider.getChainId();\n    const fee = request2.maxFee;\n    const baseAssetId = await this.provider.getBaseAssetId();\n    const requiredInBaseAsset = requiredQuantities.find((quantity) => quantity.assetId === baseAssetId)?.amount || (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n    const requiredQuantitiesWithFee = addAmountToCoinQuantities({\n      amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(fee),\n      assetId: baseAssetId,\n      coinQuantities: requiredQuantities\n    });\n    const quantitiesDict = {};\n    requiredQuantitiesWithFee.forEach(({ amount, assetId }) => {\n      quantitiesDict[assetId] = {\n        required: amount,\n        owned: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0)\n      };\n    });\n    request2.inputs.filter(isRequestInputResource).forEach((input) => {\n      const isCoin2 = isRequestInputCoin(input);\n      const assetId = isCoin2 ? String(input.assetId) : baseAssetId;\n      if (quantitiesDict[assetId]) {\n        quantitiesDict[assetId].owned = quantitiesDict[assetId].owned.add(input.amount);\n      }\n    });\n    let missingQuantities = [];\n    Object.entries(quantitiesDict).forEach(([assetId, { owned, required }]) => {\n      if (owned.lt(required)) {\n        missingQuantities.push({\n          assetId,\n          amount: required.sub(owned)\n        });\n      }\n    });\n    let needsToBeFunded = missingQuantities.length > 0;\n    let fundingAttempts = 0;\n    while (needsToBeFunded && fundingAttempts < MAX_FUNDING_ATTEMPTS) {\n      const resources = await this.getResourcesToSpend(\n        missingQuantities,\n        cacheRequestInputsResourcesFromOwner(request2.inputs, this.address)\n      );\n      request2.addResources(resources);\n      request2.updatePredicateGasUsed(estimatedPredicates);\n      const requestToReestimate2 = (0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(request2);\n      if (addedSignatures) {\n        Array.from({ length: addedSignatures }).forEach(\n          () => requestToReestimate2.addEmptyWitness()\n        );\n      }\n      if (!updateMaxFee) {\n        needsToBeFunded = false;\n        break;\n      }\n      const { maxFee: newFee } = await this.provider.estimateTxGasAndFee({\n        transactionRequest: requestToReestimate2,\n        gasPrice\n      });\n      const totalBaseAssetOnInputs = getAssetAmountInRequestInputs(\n        request2.inputs.filter(isRequestInputResource),\n        baseAssetId,\n        baseAssetId\n      );\n      const totalBaseAssetRequiredWithFee = requiredInBaseAsset.add(newFee);\n      if (totalBaseAssetOnInputs.gt(totalBaseAssetRequiredWithFee)) {\n        needsToBeFunded = false;\n      } else {\n        missingQuantities = [\n          {\n            amount: totalBaseAssetRequiredWithFee.sub(totalBaseAssetOnInputs),\n            assetId: baseAssetId\n          }\n        ];\n      }\n      fundingAttempts += 1;\n    }\n    if (needsToBeFunded) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INSUFFICIENT_FUNDS_OR_MAX_COINS,\n        `The account ${this.address} does not have enough base asset funds to cover the transaction execution.`\n      );\n    }\n    request2.updateState(chainId, \"funded\", transactionSummary);\n    await this.provider.validateTransaction(request2);\n    request2.updatePredicateGasUsed(estimatedPredicates);\n    const requestToReestimate = (0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(request2);\n    if (addedSignatures) {\n      Array.from({ length: addedSignatures }).forEach(() => requestToReestimate.addEmptyWitness());\n    }\n    if (!updateMaxFee) {\n      return request2;\n    }\n    const { maxFee } = await this.provider.estimateTxGasAndFee({\n      transactionRequest: requestToReestimate,\n      gasPrice\n    });\n    request2.maxFee = maxFee;\n    return request2;\n  }\n  /**\n   * A helper that creates a transfer transaction request and returns it.\n   *\n   * @param destination - The address of the destination.\n   * @param amount - The amount of coins to transfer.\n   * @param assetId - The asset ID of the coins to transfer (optional).\n   * @param txParams - The transaction parameters (optional).\n   * @returns A promise that resolves to the prepared transaction request.\n   */\n  async createTransfer(destination, amount, assetId, txParams = {}) {\n    let request2 = new ScriptTransactionRequest(txParams);\n    request2 = this.addTransfer(request2, {\n      destination,\n      amount,\n      assetId: assetId || await this.provider.getBaseAssetId()\n    });\n    const { gasPrice, transactionRequest } = await this.assembleTx(request2);\n    request2 = await setAndValidateGasAndFeeForAssembledTx({\n      gasPrice,\n      provider: this.provider,\n      transactionRequest,\n      setGasLimit: txParams?.gasLimit,\n      setMaxFee: txParams?.maxFee\n    });\n    return request2;\n  }\n  /**\n   * Transfers coins to a destination address.\n   *\n   * @param destination - The address of the destination.\n   * @param amount - The amount of coins to transfer.\n   * @param assetId - The asset ID of the coins to transfer (optional).\n   * @param txParams - The transaction parameters (optional).\n   * @returns A promise that resolves to the transaction response.\n   */\n  async transfer(destination, amount, assetId, txParams = {}) {\n    const request2 = await this.createTransfer(destination, amount, assetId, txParams);\n    return this.sendTransaction(request2, { estimateTxDependencies: false });\n  }\n  /**\n   * Transfers multiple amounts of a token to multiple recipients.\n   *\n   * @param transferParams - An array of `TransferParams` objects representing the transfers to be made.\n   * @param txParams - Optional transaction parameters.\n   * @returns A promise that resolves to a `TransactionResponse` object representing the transaction result.\n   */\n  async batchTransfer(transferParams, txParams = {}) {\n    let request2 = new ScriptTransactionRequest(txParams);\n    request2 = this.addBatchTransfer(request2, transferParams);\n    const { gasPrice, transactionRequest } = await this.assembleTx(request2);\n    request2 = await setAndValidateGasAndFeeForAssembledTx({\n      gasPrice,\n      provider: this.provider,\n      transactionRequest,\n      setGasLimit: txParams?.gasLimit,\n      setMaxFee: txParams?.maxFee\n    });\n    return this.sendTransaction(request2, { estimateTxDependencies: false });\n  }\n  /**\n   * Adds a transfer to the given transaction request.\n   *\n   * @param request - The script transaction request to add transfers to.\n   * @param transferParams - The object representing the transfer to be made.\n   * @returns The updated transaction request with the added transfer.\n   */\n  addTransfer(request2, transferParams) {\n    const { destination, amount, assetId } = transferParams;\n    this.validateTransferAmount(amount);\n    request2.addCoinOutput(new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(destination), amount, assetId);\n    return request2;\n  }\n  /**\n   * Adds multiple transfers to a script transaction request.\n   *\n   * @param request - The script transaction request to add transfers to.\n   * @param transferParams - An array of `TransferParams` objects representing the transfers to be made.\n   * @returns The updated script transaction request.\n   */\n  addBatchTransfer(request2, transferParams) {\n    transferParams.forEach(({ destination, amount, assetId }) => {\n      this.addTransfer(request2, {\n        destination,\n        amount,\n        assetId\n      });\n    });\n    return request2;\n  }\n  /**\n   * Transfers coins to a contract address.\n   *\n   * @param contractId - The address of the contract.\n   * @param amount - The amount of coins to transfer.\n   * @param assetId - The asset ID of the coins to transfer (optional).\n   * @param txParams - The transaction parameters (optional).\n   * @returns A promise that resolves to the transaction response.\n   */\n  async transferToContract(contractId, amount, assetId, txParams = {}) {\n    return this.batchTransferToContracts([{ amount, assetId, contractId }], txParams);\n  }\n  async batchTransferToContracts(contractTransferParams, txParams = {}) {\n    let request2 = new ScriptTransactionRequest({\n      ...txParams\n    });\n    const quantities = [];\n    const defaultAssetId = await this.provider.getBaseAssetId();\n    const transferParams = contractTransferParams.map((transferParam) => {\n      const amount = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(transferParam.amount);\n      const contractAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(transferParam.contractId);\n      const assetId = transferParam.assetId ? (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(transferParam.assetId) : defaultAssetId;\n      if (amount.lte(0)) {\n        throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n          _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_TRANSFER_AMOUNT,\n          \"Transfer amount must be a positive number.\"\n        );\n      }\n      request2.addContractInputAndOutput(contractAddress);\n      quantities.push({ amount, assetId });\n      return {\n        amount,\n        contractId: contractAddress.toB256(),\n        assetId\n      };\n    });\n    const { script, scriptData } = await assembleTransferToContractScript(transferParams);\n    request2.script = script;\n    request2.scriptData = scriptData;\n    const { gasPrice, transactionRequest } = await this.assembleTx(request2, quantities);\n    request2 = await setAndValidateGasAndFeeForAssembledTx({\n      gasPrice,\n      provider: this.provider,\n      transactionRequest,\n      setGasLimit: txParams?.gasLimit,\n      setMaxFee: txParams?.maxFee\n    });\n    return this.sendTransaction(request2);\n  }\n  /**\n   * Withdraws an amount of the base asset to the base chain.\n   *\n   * @param recipient - Address of the recipient on the base chain.\n   * @param amount - Amount of base asset.\n   * @param txParams - The transaction parameters (optional).\n   * @returns A promise that resolves to the transaction response.\n   */\n  async withdrawToBaseLayer(recipient, amount, txParams = {}) {\n    const recipientAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(recipient);\n    const recipientDataArray = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(\n      \"0x\".concat(recipientAddress.toHexString().substring(2).padStart(64, \"0\"))\n    );\n    const amountDataArray = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(\n      \"0x\".concat((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount).toHex().substring(2).padStart(16, \"0\"))\n    );\n    const script = new Uint8Array([\n      ...(0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(withdrawScript.bytes),\n      ...recipientDataArray,\n      ...amountDataArray\n    ]);\n    const params = { script, ...txParams };\n    const baseAssetId = await this.provider.getBaseAssetId();\n    let request2 = new ScriptTransactionRequest(params);\n    const quantities = [{ amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount), assetId: baseAssetId }];\n    const { gasPrice, transactionRequest } = await this.assembleTx(request2, quantities);\n    request2 = await setAndValidateGasAndFeeForAssembledTx({\n      gasPrice,\n      provider: this.provider,\n      transactionRequest,\n      setGasLimit: txParams?.gasLimit,\n      setMaxFee: txParams?.maxFee\n    });\n    return this.sendTransaction(request2);\n  }\n  /**\n   * Consolidates base asset UTXOs into fewer, larger ones.\n   *\n   * Retrieves a limited number of base asset coins (as defined by `Provider.RESOURCES_PAGE_SIZE_LIMIT`),\n   * assembles consolidation transactions, and submits them to the network.\n   *\n   * Note: This method currently supports only the base asset.\n   *\n   * @param params - The parameters for coin consolidation, including the asset ID, mode, and output number.\n   * @returns A promise that resolves to the response of the submitted transactions.\n   * @throws Will throw an error if the asset is not a base asset as non-base asset consolidation is not implemented.\n   */\n  async consolidateCoins(params) {\n    const { assetId } = params;\n    const { coins } = await this.getCoins(assetId);\n    const baseAssetId = await this.provider.getBaseAssetId();\n    const isBaseAsset = baseAssetId === assetId;\n    let submitAll;\n    const consolidationParams = {\n      coins,\n      mode: params.mode,\n      outputNum: params.outputNum\n    };\n    if (isBaseAsset) {\n      ({ submitAll } = await this.assembleBaseAssetConsolidationTxs(consolidationParams));\n    } else {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.UNSUPPORTED_FEATURE,\n        \"Consolidation for non-base assets is not supported yet.\"\n      );\n    }\n    return submitAll();\n  }\n  /**\n   * Assembles transactions for consolidating base asset coins into fewer UTXOs.\n   *\n   * This method splits the provided coins into batches and creates transaction requests\n   * to consolidate them. It calculates the necessary fee and sets up the transactions\n   * to be submitted either in parallel (default) or sequentially.\n   *\n   * @param params - The parameters for assembling base asset consolidation transactions.\n   *\n   * @returns An object containing the assembled transactions, the total fee cost, and a callback to submit all transactions.\n   */\n  async assembleBaseAssetConsolidationTxs(params) {\n    const { coins, mode = \"parallel\", outputNum = 1 } = params;\n    const baseAssetId = await this.provider.getBaseAssetId();\n    this.validateConsolidationTxsCoins(coins, baseAssetId);\n    const chainInfo = await this.provider.getChain();\n    const maxInputsNumber = chainInfo.consensusParameters.txParameters.maxInputs.toNumber();\n    let totalFeeCost = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n    const txs = [];\n    const coinsBatches = splitCoinsIntoBatches(coins, maxInputsNumber);\n    const gasPrice = await this.provider.estimateGasPrice(10);\n    const consolidateMoreThanOneCoin = outputNum > 1;\n    coinsBatches.filter((batch) => batch.length > 1).forEach((coinBatch) => {\n      const request2 = new ScriptTransactionRequest({\n        script: \"0x\"\n      });\n      request2.addResources(coinBatch);\n      if (consolidateMoreThanOneCoin) {\n        Array.from({ length: outputNum - 1 }).forEach(() => {\n          request2.addCoinOutput(this.address, 0, baseAssetId);\n        });\n      }\n      const minGas = request2.calculateMinGas(chainInfo);\n      const fee = calculateGasFee({\n        gasPrice,\n        gas: minGas,\n        priceFactor: chainInfo.consensusParameters.feeParameters.gasPriceFactor,\n        tip: request2.tip\n      });\n      request2.maxFee = fee;\n      if (consolidateMoreThanOneCoin) {\n        const total = request2.inputs.filter(isRequestInputCoin).reduce((acc, input) => acc.add(input.amount), (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0));\n        const amountPerNewUtxo = total.div(outputNum + 1);\n        request2.outputs.forEach((output) => {\n          if (output.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin) {\n            output.amount = amountPerNewUtxo;\n          }\n        });\n      }\n      totalFeeCost = totalFeeCost.add(fee);\n      txs.push(request2);\n    });\n    const submitAll = this.prepareSubmitAll({ txs, mode });\n    return { txs, totalFeeCost, submitAll };\n  }\n  /**\n   * Prepares a function to submit all transactions either sequentially or in parallel.\n   *\n   * @param params - The parameters for preparing the submitAll callback.\n   *\n   * @returns A callback that, when called, submits all transactions and returns their results and any errors encountered.\n   */\n  prepareSubmitAll = /* @__PURE__ */ __name((params) => {\n    const { txs, mode = \"sequential\" } = params;\n    return async () => {\n      const txResponses = [];\n      const errors = [];\n      if (mode === \"sequential\") {\n        for (const tx of txs) {\n          try {\n            const submit = await this.sendTransaction(tx);\n            const response = await submit.waitForResult();\n            txResponses.push(response);\n          } catch (error) {\n            errors.push(error);\n          }\n        }\n      } else {\n        const results = await Promise.allSettled(\n          txs.map(async (tx) => {\n            const submit = await this.sendTransaction(tx);\n            return submit.waitForResult();\n          })\n        );\n        results.forEach((result) => {\n          if (result.status === \"fulfilled\") {\n            txResponses.push(result.value);\n          } else {\n            errors.push(result.reason);\n          }\n        });\n      }\n      return { txResponses, errors };\n    };\n  }, \"prepareSubmitAll\");\n  /**\n   * Returns a transaction cost to enable user\n   * to set gasLimit and also reserve balance amounts\n   * on the transaction.\n   *\n   * @param transactionRequestLike - The transaction request object.\n   * @param transactionCostParams - The transaction cost parameters (optional).\n   *\n   * @returns A promise that resolves to the transaction cost object.\n   *\n   * @deprecated Use provider.assembleTx instead\n   * Check the migration guide https://docs.fuel.network/docs/fuels-ts/transactions/assemble-tx-migration-guide/ for more information.\n   */\n  async getTransactionCost(transactionRequestLike, { signatureCallback, quantities = [], gasPrice } = {}) {\n    const txRequestClone = (0,ramda__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(transactionRequestify(transactionRequestLike));\n    const baseAssetId = await this.provider.getBaseAssetId();\n    const coinOutputsQuantities = txRequestClone.getCoinOutputsQuantities();\n    const requiredQuantities = mergeQuantities(coinOutputsQuantities, quantities);\n    const transactionFeeForDryRun = [{ assetId: baseAssetId, amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(\"100000000000000000\") }];\n    const findAssetInput = /* @__PURE__ */ __name((assetId) => txRequestClone.inputs.find((input) => {\n      if (input.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.InputType.Coin) {\n        return input.assetId === assetId;\n      }\n      if (isRequestInputMessageWithoutData(input)) {\n        return baseAssetId === assetId;\n      }\n      return false;\n    }), \"findAssetInput\");\n    const updateAssetInput = /* @__PURE__ */ __name((assetId, quantity) => {\n      const assetInput = findAssetInput(assetId);\n      const usedQuantity = quantity;\n      if (assetInput && \"amount\" in assetInput) {\n        assetInput.amount = usedQuantity;\n      } else {\n        txRequestClone.addResources(\n          this.generateFakeResources([\n            {\n              amount: quantity,\n              assetId\n            }\n          ])\n        );\n      }\n    }, \"updateAssetInput\");\n    mergeQuantities(requiredQuantities, transactionFeeForDryRun).forEach(\n      ({ amount, assetId }) => updateAssetInput(assetId, amount)\n    );\n    const txCost = await this.provider.getTransactionCost(txRequestClone, {\n      signatureCallback,\n      gasPrice\n    });\n    return {\n      ...txCost,\n      requiredQuantities\n    };\n  }\n  /**\n   * Sign a message from the account via the connector.\n   *\n   * @param message - the message to sign.\n   * @returns a promise that resolves to the signature.\n   *\n   * @hidden\n   */\n  async signMessage(message) {\n    if (!this._connector) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.MISSING_CONNECTOR, \"A connector is required to sign messages.\");\n    }\n    return this._connector.signMessage(this.address.toString(), message);\n  }\n  /**\n   * Signs a transaction from the account via the connector..\n   *\n   * @param transactionRequestLike - The transaction request to sign.\n   * @returns A promise that resolves to the signature of the transaction.\n   */\n  async signTransaction(transactionRequestLike, connectorOptions = {}) {\n    if (!this._connector) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.MISSING_CONNECTOR,\n        \"A connector is required to sign transactions.\"\n      );\n    }\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    const { transactionRequest: requestToSign, connectorsSendTxParams } = await this.setTransactionStateForConnectors({\n      transactionRequest,\n      connectorOptions\n    });\n    return this._connector.signTransaction(\n      this.address.toString(),\n      requestToSign,\n      connectorsSendTxParams\n    );\n  }\n  /**\n   * Sends a transaction to the network.\n   *\n   * @param transactionRequestLike - The transaction request to be sent.\n   * @param sendTransactionParams - The provider send transaction parameters (optional).\n   * @returns A promise that resolves to the transaction response.\n   */\n  async sendTransaction(transactionRequestLike, { estimateTxDependencies = true, ...connectorOptions } = {}) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    if (this._connector) {\n      const response = await this.setTransactionStateForConnectors({\n        transactionRequest,\n        connectorOptions\n      });\n      const transaction = await this._connector.sendTransaction(\n        this.address.toString(),\n        response.transactionRequest,\n        response.connectorsSendTxParams\n      );\n      return typeof transaction === \"string\" ? this.provider.getTransactionResponse(transaction) : transaction;\n    }\n    if (estimateTxDependencies) {\n      await this.provider.estimateTxDependencies(transactionRequest);\n    }\n    return this.provider.sendTransaction(transactionRequest, {\n      estimateTxDependencies: false\n    });\n  }\n  /**\n   * Simulates a transaction.\n   *\n   * @param transactionRequestLike - The transaction request to be simulated.\n   * @param estimateTxParams - The estimate transaction params (optional).\n   * @returns A promise that resolves to the call result.\n   */\n  async simulateTransaction(transactionRequestLike, { estimateTxDependencies = true } = {}) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    if (estimateTxDependencies) {\n      await this.provider.estimateTxDependencies(transactionRequest);\n    }\n    return this.provider.simulate(transactionRequest, { estimateTxDependencies: false });\n  }\n  /**\n   * Generates an array of fake resources based on the provided coins.\n   *\n   * @param coins - An array of `FakeResources` objects representing the coins.\n   * @returns An array of `Resource` objects with generated properties.\n   */\n  generateFakeResources(coins) {\n    return coins.map((coin) => ({\n      id: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(_fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.UTXO_ID_LEN)),\n      owner: this.address,\n      blockCreated: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(1),\n      txCreatedIdx: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(1),\n      ...coin\n    }));\n  }\n  /** @hidden */\n  async prepareTransactionForSend(request2) {\n    const { transactionId } = request2.flag;\n    if (!(0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(transactionId)) {\n      return request2;\n    }\n    const chainId = await this.provider.getChainId();\n    const currentTransactionId = request2.getTransactionId(chainId);\n    if (transactionId !== currentTransactionId) {\n      request2.updateState(chainId);\n    }\n    return request2;\n  }\n  /** @hidden */\n  async prepareTransactionSummary(request2) {\n    const chainId = await this.provider.getChainId();\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(request2.flag.summary) ? {\n      ...request2.flag.summary,\n      id: request2.getTransactionId(chainId),\n      transactionBytes: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(request2.toTransactionBytes())\n    } : void 0;\n  }\n  /** @hidden * */\n  async assembleTx(transactionRequest, quantities = []) {\n    const outputQuantities = transactionRequest.outputs.filter((o) => o.type === _fuel_ts_transactions__WEBPACK_IMPORTED_MODULE_5__.OutputType.Coin).map(({ amount, assetId }) => ({ assetId: String(assetId), amount: (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount) }));\n    transactionRequest.gasLimit = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n    transactionRequest.maxFee = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(0);\n    const { assembledRequest, gasPrice } = await this.provider.assembleTx({\n      request: transactionRequest,\n      accountCoinQuantities: mergeQuantities(outputQuantities, quantities),\n      feePayerAccount: this\n    });\n    return { transactionRequest: assembledRequest, gasPrice };\n  }\n  /** @hidden * */\n  validateTransferAmount(amount) {\n    if ((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(amount).lte(0)) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_TRANSFER_AMOUNT,\n        \"Transfer amount must be a positive number.\"\n      );\n    }\n  }\n  /** @hidden * */\n  async estimateAndFundTransaction(transactionRequest, txParams, costParams) {\n    let request2 = transactionRequest;\n    const txCost = await this.getTransactionCost(request2, costParams);\n    request2 = this.validateGasLimitAndMaxFee({\n      transactionRequest: request2,\n      gasUsed: txCost.gasUsed,\n      maxFee: txCost.maxFee,\n      txParams\n    });\n    request2 = await this.fund(request2, txCost);\n    return request2;\n  }\n  /** @hidden * */\n  validateGasLimitAndMaxFee({\n    gasUsed,\n    maxFee,\n    transactionRequest,\n    txParams: { gasLimit: setGasLimit, maxFee: setMaxFee }\n  }) {\n    const request2 = transactionRequestify(transactionRequest);\n    if (!(0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(setGasLimit)) {\n      request2.gasLimit = gasUsed;\n    } else if (gasUsed.gt(setGasLimit)) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.GAS_LIMIT_TOO_LOW,\n        `Gas limit '${setGasLimit}' is lower than the required: '${gasUsed}'.`\n      );\n    }\n    if (!(0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.isDefined)(setMaxFee)) {\n      request2.maxFee = maxFee;\n    } else if (maxFee.gt(setMaxFee)) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.MAX_FEE_TOO_LOW,\n        `Max fee '${setMaxFee}' is lower than the required: '${maxFee}'.`\n      );\n    }\n    return request2;\n  }\n  /** @hidden * */\n  validateConsolidationTxsCoins(coins, assetId) {\n    if (coins.length <= 1) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.NO_COINS_TO_CONSOLIDATE, \"No coins to consolidate.\");\n    }\n    if (!coins.every((c) => c.assetId === assetId)) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.COINS_ASSET_ID_MISMATCH,\n        \"All coins to consolidate must be from the same asset id.\"\n      );\n    }\n  }\n  /** @hidden * */\n  async setTransactionStateForConnectors(params) {\n    const { transactionRequest: requestToPrepare, connectorOptions } = params;\n    const { onBeforeSend, skipCustomFee = false } = connectorOptions;\n    const transactionRequest = await this.prepareTransactionForSend(requestToPrepare);\n    const connectorsSendTxParams = {\n      onBeforeSend,\n      skipCustomFee,\n      provider: {\n        url: this.provider.url,\n        cache: await serializeProviderCache(this.provider)\n      },\n      transactionState: requestToPrepare.flag.state,\n      transactionSummary: await this.prepareTransactionSummary(requestToPrepare)\n    };\n    return { transactionRequest, connectorsSendTxParams };\n  }\n};\n\n// src/wallet/base-wallet-unlocked.ts\n\n\n\n// src/signer/signer.ts\n\n\n\n\n\n\nvar Signer = class _Signer {\n  static {\n    __name(this, \"Signer\");\n  }\n  address;\n  publicKey;\n  compressedPublicKey;\n  privateKey;\n  /**\n   * Create a Signer instance from a given private key\n   *\n   * @param privateKey - The private key to use for signing\n   * @returns A new Signer instance\n   */\n  constructor(privateKey) {\n    if (typeof privateKey === \"string\") {\n      if (privateKey.match(/^[0-9a-f]*$/i) && privateKey.length === 64) {\n        privateKey = `0x${privateKey}`;\n      }\n    }\n    const privateKeyBytes = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toBytes)(privateKey, 32);\n    this.privateKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(privateKeyBytes);\n    this.publicKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(_noble_curves_secp256k1__WEBPACK_IMPORTED_MODULE_16__.secp256k1.getPublicKey(privateKeyBytes, false).slice(1));\n    this.compressedPublicKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(_noble_curves_secp256k1__WEBPACK_IMPORTED_MODULE_16__.secp256k1.getPublicKey(privateKeyBytes, true));\n    this.address = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(this.publicKey);\n  }\n  /**\n   * Sign data using the Signer instance\n   *\n   * Signature is a 64 byte array of the concatenated r and s values with the compressed recoveryParam byte.\n   * @ignore\n   * [Read more](FuelLabs/fuel-specs/specs/protocol/cryptographic_primitives.md#public-key-cryptography)\n   *\n   * @param data - The data to be sign\n   * @returns hashed signature\n   */\n  sign(data) {\n    const signature = _noble_curves_secp256k1__WEBPACK_IMPORTED_MODULE_16__.secp256k1.sign((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(data), (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.privateKey));\n    const r = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toBytes)(`0x${signature.r.toString(16)}`, 32);\n    const s = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toBytes)(`0x${signature.s.toString(16)}`, 32);\n    s[0] |= (signature.recovery || 0) << 7;\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([r, s]));\n  }\n  /**\n   * Add point on the current elliptic curve\n   *\n   * @param point - Point to add on the curve\n   * @returns compressed point on the curve\n   */\n  addPoint(point) {\n    const p0 = _noble_curves_secp256k1__WEBPACK_IMPORTED_MODULE_16__.secp256k1.ProjectivePoint.fromHex((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.compressedPublicKey));\n    const p1 = _noble_curves_secp256k1__WEBPACK_IMPORTED_MODULE_16__.secp256k1.ProjectivePoint.fromHex((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(point));\n    const result = p0.add(p1);\n    return `0x${result.toHex(true)}`;\n  }\n  /**\n   * Recover the public key from a signature performed with [`sign`](#sign).\n   *\n   * @param data - Data\n   * @param signature - hashed signature\n   * @returns public key from signature from the\n   */\n  static recoverPublicKey(data, signature) {\n    const signedMessageBytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(signature);\n    const r = signedMessageBytes.slice(0, 32);\n    const s = signedMessageBytes.slice(32, 64);\n    const recoveryParam = (s[0] & 128) >> 7;\n    s[0] &= 127;\n    const sig = new _noble_curves_secp256k1__WEBPACK_IMPORTED_MODULE_16__.secp256k1.Signature(BigInt((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(r)), BigInt((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(s))).addRecoveryBit(\n      recoveryParam\n    );\n    const publicKey = sig.recoverPublicKey((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(data)).toRawBytes(false).slice(1);\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(publicKey);\n  }\n  /**\n   * Recover the address from a signature performed with [`sign`](#sign).\n   *\n   * @param data - Data\n   * @param signature - Signature\n   * @returns Address from signature\n   */\n  static recoverAddress(data, signature) {\n    return new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(_Signer.recoverPublicKey(data, signature));\n  }\n  /**\n   * Generate a random privateKey\n   *\n   * @param entropy - Adds extra entropy to generate the privateKey\n   * @returns random 32-byte hashed\n   */\n  static generatePrivateKey(entropy) {\n    return entropy ? (0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.hash)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([(0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(32), (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(entropy)])) : (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(32);\n  }\n  /**\n   * Extended publicKey from a compact publicKey\n   *\n   * @param publicKey - Compact publicKey\n   * @returns extended publicKey\n   */\n  static extendPublicKey(publicKey) {\n    const point = _noble_curves_secp256k1__WEBPACK_IMPORTED_MODULE_16__.secp256k1.ProjectivePoint.fromHex((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(publicKey));\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(point.toRawBytes(false).slice(1));\n  }\n};\n\n// src/wallet/keystore-wallet.ts\n\n\n\n\nvar DEFAULT_KDF_PARAMS_LOG_N = 13;\nvar DEFAULT_KDF_PARAMS_R = 8;\nvar DEFAULT_KDF_PARAMS_P = 1;\nvar DEFAULT_KEY_SIZE = 32;\nvar DEFAULT_IV_SIZE = 16;\nvar removeHexPrefix = /* @__PURE__ */ __name((hexString) => {\n  if (/^0x/.test(hexString)) {\n    return hexString.slice(2);\n  }\n  return hexString;\n}, \"removeHexPrefix\");\nasync function encryptKeystoreWallet(privateKey, address, password) {\n  const privateKeyBuffer = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.bufferFromString)(removeHexPrefix(privateKey), \"hex\");\n  const ownerAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(address);\n  const salt = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(DEFAULT_KEY_SIZE);\n  const key = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.scrypt)({\n    password: (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.bufferFromString)(password),\n    salt,\n    dklen: DEFAULT_KEY_SIZE,\n    n: 2 ** DEFAULT_KDF_PARAMS_LOG_N,\n    r: DEFAULT_KDF_PARAMS_R,\n    p: DEFAULT_KDF_PARAMS_P\n  });\n  const iv = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(DEFAULT_IV_SIZE);\n  const ciphertext = await (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.encryptJsonWalletData)(privateKeyBuffer, key, iv);\n  const data = Uint8Array.from([...key.subarray(16, 32), ...ciphertext]);\n  const macHashUint8Array = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.keccak256)(data);\n  const mac = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.stringFromBuffer)(macHashUint8Array, \"hex\");\n  const keystore = {\n    id: (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomUUID)(),\n    version: 3,\n    address: removeHexPrefix(ownerAddress.toHexString()),\n    crypto: {\n      cipher: \"aes-128-ctr\",\n      mac,\n      cipherparams: { iv: (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.stringFromBuffer)(iv, \"hex\") },\n      ciphertext: (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.stringFromBuffer)(ciphertext, \"hex\"),\n      kdf: \"scrypt\",\n      kdfparams: {\n        dklen: DEFAULT_KEY_SIZE,\n        n: 2 ** DEFAULT_KDF_PARAMS_LOG_N,\n        p: DEFAULT_KDF_PARAMS_P,\n        r: DEFAULT_KDF_PARAMS_R,\n        salt: (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.stringFromBuffer)(salt, \"hex\")\n      }\n    }\n  };\n  return JSON.stringify(keystore);\n}\n__name(encryptKeystoreWallet, \"encryptKeystoreWallet\");\nasync function decryptKeystoreWallet(jsonWallet, password) {\n  const keystoreWallet = JSON.parse(jsonWallet);\n  const {\n    crypto: {\n      mac,\n      ciphertext,\n      cipherparams: { iv },\n      kdfparams: { dklen, n, r, p, salt }\n    }\n  } = keystoreWallet;\n  const ciphertextBuffer = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.bufferFromString)(ciphertext, \"hex\");\n  const ivBuffer = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.bufferFromString)(iv, \"hex\");\n  const saltBuffer = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.bufferFromString)(salt, \"hex\");\n  const passwordBuffer = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.bufferFromString)(password);\n  const key = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.scrypt)({\n    password: passwordBuffer,\n    salt: saltBuffer,\n    n,\n    p,\n    r,\n    dklen\n  });\n  const data = Uint8Array.from([...key.subarray(16, 32), ...ciphertextBuffer]);\n  const macHashUint8Array = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.keccak256)(data);\n  const macHash = (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.stringFromBuffer)(macHashUint8Array, \"hex\");\n  if (mac !== macHash) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_PASSWORD,\n      \"Failed to decrypt the keystore wallet, the provided password is incorrect.\"\n    );\n  }\n  const buffer = await (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.decryptJsonWalletData)(ciphertextBuffer, key, ivBuffer);\n  const privateKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(buffer);\n  return privateKey;\n}\n__name(decryptKeystoreWallet, \"decryptKeystoreWallet\");\n\n// src/wallet/base-wallet-unlocked.ts\nvar BaseWalletUnlocked = class extends Account {\n  static {\n    __name(this, \"BaseWalletUnlocked\");\n  }\n  /**\n   * Default HDWallet path.\n   */\n  static defaultPath = \"m/44'/1179993420'/0'/0/0\";\n  /**\n   * A function that returns the wallet's signer.\n   */\n  signer;\n  /**\n   * Creates a new BaseWalletUnlocked instance.\n   *\n   * @param privateKey - The private key of the wallet.\n   * @param provider - A Provider instance (optional).\n   */\n  constructor(privateKey, provider) {\n    const signer = new Signer(privateKey);\n    super(signer.address, provider);\n    this.signer = () => signer;\n  }\n  /**\n   * Gets the private key of the wallet.\n   *\n   * @returns The private key of the wallet.\n   */\n  get privateKey() {\n    return this.signer().privateKey;\n  }\n  /**\n   * Gets the public key of the wallet.\n   *\n   * @returns\n   */\n  get publicKey() {\n    return this.signer().publicKey;\n  }\n  /**\n   * Signs a message with the wallet's private key.\n   *\n   * @param message - The message to sign.\n   * @returns A promise that resolves to the signature as a ECDSA 64 bytes string.\n   */\n  async signMessage(message) {\n    const signedMessage = await this.signer().sign((0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.hashMessage)(message));\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(signedMessage);\n  }\n  /**\n   * Signs a transaction with the wallet's private key.\n   *\n   * @param transactionRequestLike - The transaction request to sign.\n   * @returns A promise that resolves to the signature as a ECDSA 64 bytes string.\n   */\n  async signTransaction(transactionRequestLike) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    const chainId = await this.provider.getChainId();\n    const hashedTransaction = transactionRequest.getTransactionId(chainId);\n    const signature = await this.signer().sign(hashedTransaction);\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(signature);\n  }\n  /**\n   * Populates a transaction with the witnesses signature.\n   *\n   * @param transactionRequestLike - The transaction request to populate.\n   * @returns The populated transaction request.\n   */\n  async populateTransactionWitnessesSignature(transactionRequestLike) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    const signedTransaction = await this.signTransaction(transactionRequest);\n    transactionRequest.updateWitnessByOwner(this.address, signedTransaction);\n    return transactionRequest;\n  }\n  /**\n   * Populates the witness signature for a transaction and sends it to the network using `provider.sendTransaction`.\n   *\n   * @param transactionRequestLike - The transaction request to send.\n   * @param estimateTxDependencies - Whether to estimate the transaction dependencies.\n   * @returns A promise that resolves to the TransactionResponse object.\n   */\n  async sendTransaction(transactionRequestLike, { estimateTxDependencies = false, enableAssetBurn } = {}) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    validateTransactionForAssetBurn(\n      await this.provider.getBaseAssetId(),\n      transactionRequest,\n      enableAssetBurn\n    );\n    if (estimateTxDependencies) {\n      await this.provider.estimateTxDependencies(transactionRequest);\n    }\n    return this.provider.sendTransaction(\n      await this.populateTransactionWitnessesSignature(transactionRequest),\n      { estimateTxDependencies: false, enableAssetBurn }\n    );\n  }\n  /**\n   * Populates the witness signature for a transaction and sends a call to the network using `provider.dryRun`.\n   *\n   * @param transactionRequestLike - The transaction request to simulate.\n   * @returns A promise that resolves to the CallResult object.\n   */\n  async simulateTransaction(transactionRequestLike, { estimateTxDependencies = true } = {}) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    if (estimateTxDependencies) {\n      await this.provider.estimateTxDependencies(transactionRequest);\n    }\n    return this.provider.dryRun(\n      await this.populateTransactionWitnessesSignature(transactionRequest),\n      {\n        utxoValidation: true,\n        estimateTxDependencies: false\n      }\n    );\n  }\n  /**\n   * Encrypts an unlocked wallet with a password.\n   *\n   * @param password - the password to encrypt the wallet with.\n   * @returns - the encrypted wallet.\n   */\n  async encrypt(password) {\n    return encryptKeystoreWallet(this.privateKey, this.address, password);\n  }\n};\n\n// src/hdwallet/hdwallet.ts\n\n\n\n\n\n\n// src/mnemonic/mnemonic.ts\n\n\n\n\n\n// src/wordlists/words/english.ts\nvar english = [\n  \"abandon\",\n  \"ability\",\n  \"able\",\n  \"about\",\n  \"above\",\n  \"absent\",\n  \"absorb\",\n  \"abstract\",\n  \"absurd\",\n  \"abuse\",\n  \"access\",\n  \"accident\",\n  \"account\",\n  \"accuse\",\n  \"achieve\",\n  \"acid\",\n  \"acoustic\",\n  \"acquire\",\n  \"across\",\n  \"act\",\n  \"action\",\n  \"actor\",\n  \"actress\",\n  \"actual\",\n  \"adapt\",\n  \"add\",\n  \"addict\",\n  \"address\",\n  \"adjust\",\n  \"admit\",\n  \"adult\",\n  \"advance\",\n  \"advice\",\n  \"aerobic\",\n  \"affair\",\n  \"afford\",\n  \"afraid\",\n  \"again\",\n  \"age\",\n  \"agent\",\n  \"agree\",\n  \"ahead\",\n  \"aim\",\n  \"air\",\n  \"airport\",\n  \"aisle\",\n  \"alarm\",\n  \"album\",\n  \"alcohol\",\n  \"alert\",\n  \"alien\",\n  \"all\",\n  \"alley\",\n  \"allow\",\n  \"almost\",\n  \"alone\",\n  \"alpha\",\n  \"already\",\n  \"also\",\n  \"alter\",\n  \"always\",\n  \"amateur\",\n  \"amazing\",\n  \"among\",\n  \"amount\",\n  \"amused\",\n  \"analyst\",\n  \"anchor\",\n  \"ancient\",\n  \"anger\",\n  \"angle\",\n  \"angry\",\n  \"animal\",\n  \"ankle\",\n  \"announce\",\n  \"annual\",\n  \"another\",\n  \"answer\",\n  \"antenna\",\n  \"antique\",\n  \"anxiety\",\n  \"any\",\n  \"apart\",\n  \"apology\",\n  \"appear\",\n  \"apple\",\n  \"approve\",\n  \"april\",\n  \"arch\",\n  \"arctic\",\n  \"area\",\n  \"arena\",\n  \"argue\",\n  \"arm\",\n  \"armed\",\n  \"armor\",\n  \"army\",\n  \"around\",\n  \"arrange\",\n  \"arrest\",\n  \"arrive\",\n  \"arrow\",\n  \"art\",\n  \"artefact\",\n  \"artist\",\n  \"artwork\",\n  \"ask\",\n  \"aspect\",\n  \"assault\",\n  \"asset\",\n  \"assist\",\n  \"assume\",\n  \"asthma\",\n  \"athlete\",\n  \"atom\",\n  \"attack\",\n  \"attend\",\n  \"attitude\",\n  \"attract\",\n  \"auction\",\n  \"audit\",\n  \"august\",\n  \"aunt\",\n  \"author\",\n  \"auto\",\n  \"autumn\",\n  \"average\",\n  \"avocado\",\n  \"avoid\",\n  \"awake\",\n  \"aware\",\n  \"away\",\n  \"awesome\",\n  \"awful\",\n  \"awkward\",\n  \"axis\",\n  \"baby\",\n  \"bachelor\",\n  \"bacon\",\n  \"badge\",\n  \"bag\",\n  \"balance\",\n  \"balcony\",\n  \"ball\",\n  \"bamboo\",\n  \"banana\",\n  \"banner\",\n  \"bar\",\n  \"barely\",\n  \"bargain\",\n  \"barrel\",\n  \"base\",\n  \"basic\",\n  \"basket\",\n  \"battle\",\n  \"beach\",\n  \"bean\",\n  \"beauty\",\n  \"because\",\n  \"become\",\n  \"beef\",\n  \"before\",\n  \"begin\",\n  \"behave\",\n  \"behind\",\n  \"believe\",\n  \"below\",\n  \"belt\",\n  \"bench\",\n  \"benefit\",\n  \"best\",\n  \"betray\",\n  \"better\",\n  \"between\",\n  \"beyond\",\n  \"bicycle\",\n  \"bid\",\n  \"bike\",\n  \"bind\",\n  \"biology\",\n  \"bird\",\n  \"birth\",\n  \"bitter\",\n  \"black\",\n  \"blade\",\n  \"blame\",\n  \"blanket\",\n  \"blast\",\n  \"bleak\",\n  \"bless\",\n  \"blind\",\n  \"blood\",\n  \"blossom\",\n  \"blouse\",\n  \"blue\",\n  \"blur\",\n  \"blush\",\n  \"board\",\n  \"boat\",\n  \"body\",\n  \"boil\",\n  \"bomb\",\n  \"bone\",\n  \"bonus\",\n  \"book\",\n  \"boost\",\n  \"border\",\n  \"boring\",\n  \"borrow\",\n  \"boss\",\n  \"bottom\",\n  \"bounce\",\n  \"box\",\n  \"boy\",\n  \"bracket\",\n  \"brain\",\n  \"brand\",\n  \"brass\",\n  \"brave\",\n  \"bread\",\n  \"breeze\",\n  \"brick\",\n  \"bridge\",\n  \"brief\",\n  \"bright\",\n  \"bring\",\n  \"brisk\",\n  \"broccoli\",\n  \"broken\",\n  \"bronze\",\n  \"broom\",\n  \"brother\",\n  \"brown\",\n  \"brush\",\n  \"bubble\",\n  \"buddy\",\n  \"budget\",\n  \"buffalo\",\n  \"build\",\n  \"bulb\",\n  \"bulk\",\n  \"bullet\",\n  \"bundle\",\n  \"bunker\",\n  \"burden\",\n  \"burger\",\n  \"burst\",\n  \"bus\",\n  \"business\",\n  \"busy\",\n  \"butter\",\n  \"buyer\",\n  \"buzz\",\n  \"cabbage\",\n  \"cabin\",\n  \"cable\",\n  \"cactus\",\n  \"cage\",\n  \"cake\",\n  \"call\",\n  \"calm\",\n  \"camera\",\n  \"camp\",\n  \"can\",\n  \"canal\",\n  \"cancel\",\n  \"candy\",\n  \"cannon\",\n  \"canoe\",\n  \"canvas\",\n  \"canyon\",\n  \"capable\",\n  \"capital\",\n  \"captain\",\n  \"car\",\n  \"carbon\",\n  \"card\",\n  \"cargo\",\n  \"carpet\",\n  \"carry\",\n  \"cart\",\n  \"case\",\n  \"cash\",\n  \"casino\",\n  \"castle\",\n  \"casual\",\n  \"cat\",\n  \"catalog\",\n  \"catch\",\n  \"category\",\n  \"cattle\",\n  \"caught\",\n  \"cause\",\n  \"caution\",\n  \"cave\",\n  \"ceiling\",\n  \"celery\",\n  \"cement\",\n  \"census\",\n  \"century\",\n  \"cereal\",\n  \"certain\",\n  \"chair\",\n  \"chalk\",\n  \"champion\",\n  \"change\",\n  \"chaos\",\n  \"chapter\",\n  \"charge\",\n  \"chase\",\n  \"chat\",\n  \"cheap\",\n  \"check\",\n  \"cheese\",\n  \"chef\",\n  \"cherry\",\n  \"chest\",\n  \"chicken\",\n  \"chief\",\n  \"child\",\n  \"chimney\",\n  \"choice\",\n  \"choose\",\n  \"chronic\",\n  \"chuckle\",\n  \"chunk\",\n  \"churn\",\n  \"cigar\",\n  \"cinnamon\",\n  \"circle\",\n  \"citizen\",\n  \"city\",\n  \"civil\",\n  \"claim\",\n  \"clap\",\n  \"clarify\",\n  \"claw\",\n  \"clay\",\n  \"clean\",\n  \"clerk\",\n  \"clever\",\n  \"click\",\n  \"client\",\n  \"cliff\",\n  \"climb\",\n  \"clinic\",\n  \"clip\",\n  \"clock\",\n  \"clog\",\n  \"close\",\n  \"cloth\",\n  \"cloud\",\n  \"clown\",\n  \"club\",\n  \"clump\",\n  \"cluster\",\n  \"clutch\",\n  \"coach\",\n  \"coast\",\n  \"coconut\",\n  \"code\",\n  \"coffee\",\n  \"coil\",\n  \"coin\",\n  \"collect\",\n  \"color\",\n  \"column\",\n  \"combine\",\n  \"come\",\n  \"comfort\",\n  \"comic\",\n  \"common\",\n  \"company\",\n  \"concert\",\n  \"conduct\",\n  \"confirm\",\n  \"congress\",\n  \"connect\",\n  \"consider\",\n  \"control\",\n  \"convince\",\n  \"cook\",\n  \"cool\",\n  \"copper\",\n  \"copy\",\n  \"coral\",\n  \"core\",\n  \"corn\",\n  \"correct\",\n  \"cost\",\n  \"cotton\",\n  \"couch\",\n  \"country\",\n  \"couple\",\n  \"course\",\n  \"cousin\",\n  \"cover\",\n  \"coyote\",\n  \"crack\",\n  \"cradle\",\n  \"craft\",\n  \"cram\",\n  \"crane\",\n  \"crash\",\n  \"crater\",\n  \"crawl\",\n  \"crazy\",\n  \"cream\",\n  \"credit\",\n  \"creek\",\n  \"crew\",\n  \"cricket\",\n  \"crime\",\n  \"crisp\",\n  \"critic\",\n  \"crop\",\n  \"cross\",\n  \"crouch\",\n  \"crowd\",\n  \"crucial\",\n  \"cruel\",\n  \"cruise\",\n  \"crumble\",\n  \"crunch\",\n  \"crush\",\n  \"cry\",\n  \"crystal\",\n  \"cube\",\n  \"culture\",\n  \"cup\",\n  \"cupboard\",\n  \"curious\",\n  \"current\",\n  \"curtain\",\n  \"curve\",\n  \"cushion\",\n  \"custom\",\n  \"cute\",\n  \"cycle\",\n  \"dad\",\n  \"damage\",\n  \"damp\",\n  \"dance\",\n  \"danger\",\n  \"daring\",\n  \"dash\",\n  \"daughter\",\n  \"dawn\",\n  \"day\",\n  \"deal\",\n  \"debate\",\n  \"debris\",\n  \"decade\",\n  \"december\",\n  \"decide\",\n  \"decline\",\n  \"decorate\",\n  \"decrease\",\n  \"deer\",\n  \"defense\",\n  \"define\",\n  \"defy\",\n  \"degree\",\n  \"delay\",\n  \"deliver\",\n  \"demand\",\n  \"demise\",\n  \"denial\",\n  \"dentist\",\n  \"deny\",\n  \"depart\",\n  \"depend\",\n  \"deposit\",\n  \"depth\",\n  \"deputy\",\n  \"derive\",\n  \"describe\",\n  \"desert\",\n  \"design\",\n  \"desk\",\n  \"despair\",\n  \"destroy\",\n  \"detail\",\n  \"detect\",\n  \"develop\",\n  \"device\",\n  \"devote\",\n  \"diagram\",\n  \"dial\",\n  \"diamond\",\n  \"diary\",\n  \"dice\",\n  \"diesel\",\n  \"diet\",\n  \"differ\",\n  \"digital\",\n  \"dignity\",\n  \"dilemma\",\n  \"dinner\",\n  \"dinosaur\",\n  \"direct\",\n  \"dirt\",\n  \"disagree\",\n  \"discover\",\n  \"disease\",\n  \"dish\",\n  \"dismiss\",\n  \"disorder\",\n  \"display\",\n  \"distance\",\n  \"divert\",\n  \"divide\",\n  \"divorce\",\n  \"dizzy\",\n  \"doctor\",\n  \"document\",\n  \"dog\",\n  \"doll\",\n  \"dolphin\",\n  \"domain\",\n  \"donate\",\n  \"donkey\",\n  \"donor\",\n  \"door\",\n  \"dose\",\n  \"double\",\n  \"dove\",\n  \"draft\",\n  \"dragon\",\n  \"drama\",\n  \"drastic\",\n  \"draw\",\n  \"dream\",\n  \"dress\",\n  \"drift\",\n  \"drill\",\n  \"drink\",\n  \"drip\",\n  \"drive\",\n  \"drop\",\n  \"drum\",\n  \"dry\",\n  \"duck\",\n  \"dumb\",\n  \"dune\",\n  \"during\",\n  \"dust\",\n  \"dutch\",\n  \"duty\",\n  \"dwarf\",\n  \"dynamic\",\n  \"eager\",\n  \"eagle\",\n  \"early\",\n  \"earn\",\n  \"earth\",\n  \"easily\",\n  \"east\",\n  \"easy\",\n  \"echo\",\n  \"ecology\",\n  \"economy\",\n  \"edge\",\n  \"edit\",\n  \"educate\",\n  \"effort\",\n  \"egg\",\n  \"eight\",\n  \"either\",\n  \"elbow\",\n  \"elder\",\n  \"electric\",\n  \"elegant\",\n  \"element\",\n  \"elephant\",\n  \"elevator\",\n  \"elite\",\n  \"else\",\n  \"embark\",\n  \"embody\",\n  \"embrace\",\n  \"emerge\",\n  \"emotion\",\n  \"employ\",\n  \"empower\",\n  \"empty\",\n  \"enable\",\n  \"enact\",\n  \"end\",\n  \"endless\",\n  \"endorse\",\n  \"enemy\",\n  \"energy\",\n  \"enforce\",\n  \"engage\",\n  \"engine\",\n  \"enhance\",\n  \"enjoy\",\n  \"enlist\",\n  \"enough\",\n  \"enrich\",\n  \"enroll\",\n  \"ensure\",\n  \"enter\",\n  \"entire\",\n  \"entry\",\n  \"envelope\",\n  \"episode\",\n  \"equal\",\n  \"equip\",\n  \"era\",\n  \"erase\",\n  \"erode\",\n  \"erosion\",\n  \"error\",\n  \"erupt\",\n  \"escape\",\n  \"essay\",\n  \"essence\",\n  \"estate\",\n  \"eternal\",\n  \"ethics\",\n  \"evidence\",\n  \"evil\",\n  \"evoke\",\n  \"evolve\",\n  \"exact\",\n  \"example\",\n  \"excess\",\n  \"exchange\",\n  \"excite\",\n  \"exclude\",\n  \"excuse\",\n  \"execute\",\n  \"exercise\",\n  \"exhaust\",\n  \"exhibit\",\n  \"exile\",\n  \"exist\",\n  \"exit\",\n  \"exotic\",\n  \"expand\",\n  \"expect\",\n  \"expire\",\n  \"explain\",\n  \"expose\",\n  \"express\",\n  \"extend\",\n  \"extra\",\n  \"eye\",\n  \"eyebrow\",\n  \"fabric\",\n  \"face\",\n  \"faculty\",\n  \"fade\",\n  \"faint\",\n  \"faith\",\n  \"fall\",\n  \"false\",\n  \"fame\",\n  \"family\",\n  \"famous\",\n  \"fan\",\n  \"fancy\",\n  \"fantasy\",\n  \"farm\",\n  \"fashion\",\n  \"fat\",\n  \"fatal\",\n  \"father\",\n  \"fatigue\",\n  \"fault\",\n  \"favorite\",\n  \"feature\",\n  \"february\",\n  \"federal\",\n  \"fee\",\n  \"feed\",\n  \"feel\",\n  \"female\",\n  \"fence\",\n  \"festival\",\n  \"fetch\",\n  \"fever\",\n  \"few\",\n  \"fiber\",\n  \"fiction\",\n  \"field\",\n  \"figure\",\n  \"file\",\n  \"film\",\n  \"filter\",\n  \"final\",\n  \"find\",\n  \"fine\",\n  \"finger\",\n  \"finish\",\n  \"fire\",\n  \"firm\",\n  \"first\",\n  \"fiscal\",\n  \"fish\",\n  \"fit\",\n  \"fitness\",\n  \"fix\",\n  \"flag\",\n  \"flame\",\n  \"flash\",\n  \"flat\",\n  \"flavor\",\n  \"flee\",\n  \"flight\",\n  \"flip\",\n  \"float\",\n  \"flock\",\n  \"floor\",\n  \"flower\",\n  \"fluid\",\n  \"flush\",\n  \"fly\",\n  \"foam\",\n  \"focus\",\n  \"fog\",\n  \"foil\",\n  \"fold\",\n  \"follow\",\n  \"food\",\n  \"foot\",\n  \"force\",\n  \"forest\",\n  \"forget\",\n  \"fork\",\n  \"fortune\",\n  \"forum\",\n  \"forward\",\n  \"fossil\",\n  \"foster\",\n  \"found\",\n  \"fox\",\n  \"fragile\",\n  \"frame\",\n  \"frequent\",\n  \"fresh\",\n  \"friend\",\n  \"fringe\",\n  \"frog\",\n  \"front\",\n  \"frost\",\n  \"frown\",\n  \"frozen\",\n  \"fruit\",\n  \"fuel\",\n  \"fun\",\n  \"funny\",\n  \"furnace\",\n  \"fury\",\n  \"future\",\n  \"gadget\",\n  \"gain\",\n  \"galaxy\",\n  \"gallery\",\n  \"game\",\n  \"gap\",\n  \"garage\",\n  \"garbage\",\n  \"garden\",\n  \"garlic\",\n  \"garment\",\n  \"gas\",\n  \"gasp\",\n  \"gate\",\n  \"gather\",\n  \"gauge\",\n  \"gaze\",\n  \"general\",\n  \"genius\",\n  \"genre\",\n  \"gentle\",\n  \"genuine\",\n  \"gesture\",\n  \"ghost\",\n  \"giant\",\n  \"gift\",\n  \"giggle\",\n  \"ginger\",\n  \"giraffe\",\n  \"girl\",\n  \"give\",\n  \"glad\",\n  \"glance\",\n  \"glare\",\n  \"glass\",\n  \"glide\",\n  \"glimpse\",\n  \"globe\",\n  \"gloom\",\n  \"glory\",\n  \"glove\",\n  \"glow\",\n  \"glue\",\n  \"goat\",\n  \"goddess\",\n  \"gold\",\n  \"good\",\n  \"goose\",\n  \"gorilla\",\n  \"gospel\",\n  \"gossip\",\n  \"govern\",\n  \"gown\",\n  \"grab\",\n  \"grace\",\n  \"grain\",\n  \"grant\",\n  \"grape\",\n  \"grass\",\n  \"gravity\",\n  \"great\",\n  \"green\",\n  \"grid\",\n  \"grief\",\n  \"grit\",\n  \"grocery\",\n  \"group\",\n  \"grow\",\n  \"grunt\",\n  \"guard\",\n  \"guess\",\n  \"guide\",\n  \"guilt\",\n  \"guitar\",\n  \"gun\",\n  \"gym\",\n  \"habit\",\n  \"hair\",\n  \"half\",\n  \"hammer\",\n  \"hamster\",\n  \"hand\",\n  \"happy\",\n  \"harbor\",\n  \"hard\",\n  \"harsh\",\n  \"harvest\",\n  \"hat\",\n  \"have\",\n  \"hawk\",\n  \"hazard\",\n  \"head\",\n  \"health\",\n  \"heart\",\n  \"heavy\",\n  \"hedgehog\",\n  \"height\",\n  \"hello\",\n  \"helmet\",\n  \"help\",\n  \"hen\",\n  \"hero\",\n  \"hidden\",\n  \"high\",\n  \"hill\",\n  \"hint\",\n  \"hip\",\n  \"hire\",\n  \"history\",\n  \"hobby\",\n  \"hockey\",\n  \"hold\",\n  \"hole\",\n  \"holiday\",\n  \"hollow\",\n  \"home\",\n  \"honey\",\n  \"hood\",\n  \"hope\",\n  \"horn\",\n  \"horror\",\n  \"horse\",\n  \"hospital\",\n  \"host\",\n  \"hotel\",\n  \"hour\",\n  \"hover\",\n  \"hub\",\n  \"huge\",\n  \"human\",\n  \"humble\",\n  \"humor\",\n  \"hundred\",\n  \"hungry\",\n  \"hunt\",\n  \"hurdle\",\n  \"hurry\",\n  \"hurt\",\n  \"husband\",\n  \"hybrid\",\n  \"ice\",\n  \"icon\",\n  \"idea\",\n  \"identify\",\n  \"idle\",\n  \"ignore\",\n  \"ill\",\n  \"illegal\",\n  \"illness\",\n  \"image\",\n  \"imitate\",\n  \"immense\",\n  \"immune\",\n  \"impact\",\n  \"impose\",\n  \"improve\",\n  \"impulse\",\n  \"inch\",\n  \"include\",\n  \"income\",\n  \"increase\",\n  \"index\",\n  \"indicate\",\n  \"indoor\",\n  \"industry\",\n  \"infant\",\n  \"inflict\",\n  \"inform\",\n  \"inhale\",\n  \"inherit\",\n  \"initial\",\n  \"inject\",\n  \"injury\",\n  \"inmate\",\n  \"inner\",\n  \"innocent\",\n  \"input\",\n  \"inquiry\",\n  \"insane\",\n  \"insect\",\n  \"inside\",\n  \"inspire\",\n  \"install\",\n  \"intact\",\n  \"interest\",\n  \"into\",\n  \"invest\",\n  \"invite\",\n  \"involve\",\n  \"iron\",\n  \"island\",\n  \"isolate\",\n  \"issue\",\n  \"item\",\n  \"ivory\",\n  \"jacket\",\n  \"jaguar\",\n  \"jar\",\n  \"jazz\",\n  \"jealous\",\n  \"jeans\",\n  \"jelly\",\n  \"jewel\",\n  \"job\",\n  \"join\",\n  \"joke\",\n  \"journey\",\n  \"joy\",\n  \"judge\",\n  \"juice\",\n  \"jump\",\n  \"jungle\",\n  \"junior\",\n  \"junk\",\n  \"just\",\n  \"kangaroo\",\n  \"keen\",\n  \"keep\",\n  \"ketchup\",\n  \"key\",\n  \"kick\",\n  \"kid\",\n  \"kidney\",\n  \"kind\",\n  \"kingdom\",\n  \"kiss\",\n  \"kit\",\n  \"kitchen\",\n  \"kite\",\n  \"kitten\",\n  \"kiwi\",\n  \"knee\",\n  \"knife\",\n  \"knock\",\n  \"know\",\n  \"lab\",\n  \"label\",\n  \"labor\",\n  \"ladder\",\n  \"lady\",\n  \"lake\",\n  \"lamp\",\n  \"language\",\n  \"laptop\",\n  \"large\",\n  \"later\",\n  \"latin\",\n  \"laugh\",\n  \"laundry\",\n  \"lava\",\n  \"law\",\n  \"lawn\",\n  \"lawsuit\",\n  \"layer\",\n  \"lazy\",\n  \"leader\",\n  \"leaf\",\n  \"learn\",\n  \"leave\",\n  \"lecture\",\n  \"left\",\n  \"leg\",\n  \"legal\",\n  \"legend\",\n  \"leisure\",\n  \"lemon\",\n  \"lend\",\n  \"length\",\n  \"lens\",\n  \"leopard\",\n  \"lesson\",\n  \"letter\",\n  \"level\",\n  \"liar\",\n  \"liberty\",\n  \"library\",\n  \"license\",\n  \"life\",\n  \"lift\",\n  \"light\",\n  \"like\",\n  \"limb\",\n  \"limit\",\n  \"link\",\n  \"lion\",\n  \"liquid\",\n  \"list\",\n  \"little\",\n  \"live\",\n  \"lizard\",\n  \"load\",\n  \"loan\",\n  \"lobster\",\n  \"local\",\n  \"lock\",\n  \"logic\",\n  \"lonely\",\n  \"long\",\n  \"loop\",\n  \"lottery\",\n  \"loud\",\n  \"lounge\",\n  \"love\",\n  \"loyal\",\n  \"lucky\",\n  \"luggage\",\n  \"lumber\",\n  \"lunar\",\n  \"lunch\",\n  \"luxury\",\n  \"lyrics\",\n  \"machine\",\n  \"mad\",\n  \"magic\",\n  \"magnet\",\n  \"maid\",\n  \"mail\",\n  \"main\",\n  \"major\",\n  \"make\",\n  \"mammal\",\n  \"man\",\n  \"manage\",\n  \"mandate\",\n  \"mango\",\n  \"mansion\",\n  \"manual\",\n  \"maple\",\n  \"marble\",\n  \"march\",\n  \"margin\",\n  \"marine\",\n  \"market\",\n  \"marriage\",\n  \"mask\",\n  \"mass\",\n  \"master\",\n  \"match\",\n  \"material\",\n  \"math\",\n  \"matrix\",\n  \"matter\",\n  \"maximum\",\n  \"maze\",\n  \"meadow\",\n  \"mean\",\n  \"measure\",\n  \"meat\",\n  \"mechanic\",\n  \"medal\",\n  \"media\",\n  \"melody\",\n  \"melt\",\n  \"member\",\n  \"memory\",\n  \"mention\",\n  \"menu\",\n  \"mercy\",\n  \"merge\",\n  \"merit\",\n  \"merry\",\n  \"mesh\",\n  \"message\",\n  \"metal\",\n  \"method\",\n  \"middle\",\n  \"midnight\",\n  \"milk\",\n  \"million\",\n  \"mimic\",\n  \"mind\",\n  \"minimum\",\n  \"minor\",\n  \"minute\",\n  \"miracle\",\n  \"mirror\",\n  \"misery\",\n  \"miss\",\n  \"mistake\",\n  \"mix\",\n  \"mixed\",\n  \"mixture\",\n  \"mobile\",\n  \"model\",\n  \"modify\",\n  \"mom\",\n  \"moment\",\n  \"monitor\",\n  \"monkey\",\n  \"monster\",\n  \"month\",\n  \"moon\",\n  \"moral\",\n  \"more\",\n  \"morning\",\n  \"mosquito\",\n  \"mother\",\n  \"motion\",\n  \"motor\",\n  \"mountain\",\n  \"mouse\",\n  \"move\",\n  \"movie\",\n  \"much\",\n  \"muffin\",\n  \"mule\",\n  \"multiply\",\n  \"muscle\",\n  \"museum\",\n  \"mushroom\",\n  \"music\",\n  \"must\",\n  \"mutual\",\n  \"myself\",\n  \"mystery\",\n  \"myth\",\n  \"naive\",\n  \"name\",\n  \"napkin\",\n  \"narrow\",\n  \"nasty\",\n  \"nation\",\n  \"nature\",\n  \"near\",\n  \"neck\",\n  \"need\",\n  \"negative\",\n  \"neglect\",\n  \"neither\",\n  \"nephew\",\n  \"nerve\",\n  \"nest\",\n  \"net\",\n  \"network\",\n  \"neutral\",\n  \"never\",\n  \"news\",\n  \"next\",\n  \"nice\",\n  \"night\",\n  \"noble\",\n  \"noise\",\n  \"nominee\",\n  \"noodle\",\n  \"normal\",\n  \"north\",\n  \"nose\",\n  \"notable\",\n  \"note\",\n  \"nothing\",\n  \"notice\",\n  \"novel\",\n  \"now\",\n  \"nuclear\",\n  \"number\",\n  \"nurse\",\n  \"nut\",\n  \"oak\",\n  \"obey\",\n  \"object\",\n  \"oblige\",\n  \"obscure\",\n  \"observe\",\n  \"obtain\",\n  \"obvious\",\n  \"occur\",\n  \"ocean\",\n  \"october\",\n  \"odor\",\n  \"off\",\n  \"offer\",\n  \"office\",\n  \"often\",\n  \"oil\",\n  \"okay\",\n  \"old\",\n  \"olive\",\n  \"olympic\",\n  \"omit\",\n  \"once\",\n  \"one\",\n  \"onion\",\n  \"online\",\n  \"only\",\n  \"open\",\n  \"opera\",\n  \"opinion\",\n  \"oppose\",\n  \"option\",\n  \"orange\",\n  \"orbit\",\n  \"orchard\",\n  \"order\",\n  \"ordinary\",\n  \"organ\",\n  \"orient\",\n  \"original\",\n  \"orphan\",\n  \"ostrich\",\n  \"other\",\n  \"outdoor\",\n  \"outer\",\n  \"output\",\n  \"outside\",\n  \"oval\",\n  \"oven\",\n  \"over\",\n  \"own\",\n  \"owner\",\n  \"oxygen\",\n  \"oyster\",\n  \"ozone\",\n  \"pact\",\n  \"paddle\",\n  \"page\",\n  \"pair\",\n  \"palace\",\n  \"palm\",\n  \"panda\",\n  \"panel\",\n  \"panic\",\n  \"panther\",\n  \"paper\",\n  \"parade\",\n  \"parent\",\n  \"park\",\n  \"parrot\",\n  \"party\",\n  \"pass\",\n  \"patch\",\n  \"path\",\n  \"patient\",\n  \"patrol\",\n  \"pattern\",\n  \"pause\",\n  \"pave\",\n  \"payment\",\n  \"peace\",\n  \"peanut\",\n  \"pear\",\n  \"peasant\",\n  \"pelican\",\n  \"pen\",\n  \"penalty\",\n  \"pencil\",\n  \"people\",\n  \"pepper\",\n  \"perfect\",\n  \"permit\",\n  \"person\",\n  \"pet\",\n  \"phone\",\n  \"photo\",\n  \"phrase\",\n  \"physical\",\n  \"piano\",\n  \"picnic\",\n  \"picture\",\n  \"piece\",\n  \"pig\",\n  \"pigeon\",\n  \"pill\",\n  \"pilot\",\n  \"pink\",\n  \"pioneer\",\n  \"pipe\",\n  \"pistol\",\n  \"pitch\",\n  \"pizza\",\n  \"place\",\n  \"planet\",\n  \"plastic\",\n  \"plate\",\n  \"play\",\n  \"please\",\n  \"pledge\",\n  \"pluck\",\n  \"plug\",\n  \"plunge\",\n  \"poem\",\n  \"poet\",\n  \"point\",\n  \"polar\",\n  \"pole\",\n  \"police\",\n  \"pond\",\n  \"pony\",\n  \"pool\",\n  \"popular\",\n  \"portion\",\n  \"position\",\n  \"possible\",\n  \"post\",\n  \"potato\",\n  \"pottery\",\n  \"poverty\",\n  \"powder\",\n  \"power\",\n  \"practice\",\n  \"praise\",\n  \"predict\",\n  \"prefer\",\n  \"prepare\",\n  \"present\",\n  \"pretty\",\n  \"prevent\",\n  \"price\",\n  \"pride\",\n  \"primary\",\n  \"print\",\n  \"priority\",\n  \"prison\",\n  \"private\",\n  \"prize\",\n  \"problem\",\n  \"process\",\n  \"produce\",\n  \"profit\",\n  \"program\",\n  \"project\",\n  \"promote\",\n  \"proof\",\n  \"property\",\n  \"prosper\",\n  \"protect\",\n  \"proud\",\n  \"provide\",\n  \"public\",\n  \"pudding\",\n  \"pull\",\n  \"pulp\",\n  \"pulse\",\n  \"pumpkin\",\n  \"punch\",\n  \"pupil\",\n  \"puppy\",\n  \"purchase\",\n  \"purity\",\n  \"purpose\",\n  \"purse\",\n  \"push\",\n  \"put\",\n  \"puzzle\",\n  \"pyramid\",\n  \"quality\",\n  \"quantum\",\n  \"quarter\",\n  \"question\",\n  \"quick\",\n  \"quit\",\n  \"quiz\",\n  \"quote\",\n  \"rabbit\",\n  \"raccoon\",\n  \"race\",\n  \"rack\",\n  \"radar\",\n  \"radio\",\n  \"rail\",\n  \"rain\",\n  \"raise\",\n  \"rally\",\n  \"ramp\",\n  \"ranch\",\n  \"random\",\n  \"range\",\n  \"rapid\",\n  \"rare\",\n  \"rate\",\n  \"rather\",\n  \"raven\",\n  \"raw\",\n  \"razor\",\n  \"ready\",\n  \"real\",\n  \"reason\",\n  \"rebel\",\n  \"rebuild\",\n  \"recall\",\n  \"receive\",\n  \"recipe\",\n  \"record\",\n  \"recycle\",\n  \"reduce\",\n  \"reflect\",\n  \"reform\",\n  \"refuse\",\n  \"region\",\n  \"regret\",\n  \"regular\",\n  \"reject\",\n  \"relax\",\n  \"release\",\n  \"relief\",\n  \"rely\",\n  \"remain\",\n  \"remember\",\n  \"remind\",\n  \"remove\",\n  \"render\",\n  \"renew\",\n  \"rent\",\n  \"reopen\",\n  \"repair\",\n  \"repeat\",\n  \"replace\",\n  \"report\",\n  \"require\",\n  \"rescue\",\n  \"resemble\",\n  \"resist\",\n  \"resource\",\n  \"response\",\n  \"result\",\n  \"retire\",\n  \"retreat\",\n  \"return\",\n  \"reunion\",\n  \"reveal\",\n  \"review\",\n  \"reward\",\n  \"rhythm\",\n  \"rib\",\n  \"ribbon\",\n  \"rice\",\n  \"rich\",\n  \"ride\",\n  \"ridge\",\n  \"rifle\",\n  \"right\",\n  \"rigid\",\n  \"ring\",\n  \"riot\",\n  \"ripple\",\n  \"risk\",\n  \"ritual\",\n  \"rival\",\n  \"river\",\n  \"road\",\n  \"roast\",\n  \"robot\",\n  \"robust\",\n  \"rocket\",\n  \"romance\",\n  \"roof\",\n  \"rookie\",\n  \"room\",\n  \"rose\",\n  \"rotate\",\n  \"rough\",\n  \"round\",\n  \"route\",\n  \"royal\",\n  \"rubber\",\n  \"rude\",\n  \"rug\",\n  \"rule\",\n  \"run\",\n  \"runway\",\n  \"rural\",\n  \"sad\",\n  \"saddle\",\n  \"sadness\",\n  \"safe\",\n  \"sail\",\n  \"salad\",\n  \"salmon\",\n  \"salon\",\n  \"salt\",\n  \"salute\",\n  \"same\",\n  \"sample\",\n  \"sand\",\n  \"satisfy\",\n  \"satoshi\",\n  \"sauce\",\n  \"sausage\",\n  \"save\",\n  \"say\",\n  \"scale\",\n  \"scan\",\n  \"scare\",\n  \"scatter\",\n  \"scene\",\n  \"scheme\",\n  \"school\",\n  \"science\",\n  \"scissors\",\n  \"scorpion\",\n  \"scout\",\n  \"scrap\",\n  \"screen\",\n  \"script\",\n  \"scrub\",\n  \"sea\",\n  \"search\",\n  \"season\",\n  \"seat\",\n  \"second\",\n  \"secret\",\n  \"section\",\n  \"security\",\n  \"seed\",\n  \"seek\",\n  \"segment\",\n  \"select\",\n  \"sell\",\n  \"seminar\",\n  \"senior\",\n  \"sense\",\n  \"sentence\",\n  \"series\",\n  \"service\",\n  \"session\",\n  \"settle\",\n  \"setup\",\n  \"seven\",\n  \"shadow\",\n  \"shaft\",\n  \"shallow\",\n  \"share\",\n  \"shed\",\n  \"shell\",\n  \"sheriff\",\n  \"shield\",\n  \"shift\",\n  \"shine\",\n  \"ship\",\n  \"shiver\",\n  \"shock\",\n  \"shoe\",\n  \"shoot\",\n  \"shop\",\n  \"short\",\n  \"shoulder\",\n  \"shove\",\n  \"shrimp\",\n  \"shrug\",\n  \"shuffle\",\n  \"shy\",\n  \"sibling\",\n  \"sick\",\n  \"side\",\n  \"siege\",\n  \"sight\",\n  \"sign\",\n  \"silent\",\n  \"silk\",\n  \"silly\",\n  \"silver\",\n  \"similar\",\n  \"simple\",\n  \"since\",\n  \"sing\",\n  \"siren\",\n  \"sister\",\n  \"situate\",\n  \"six\",\n  \"size\",\n  \"skate\",\n  \"sketch\",\n  \"ski\",\n  \"skill\",\n  \"skin\",\n  \"skirt\",\n  \"skull\",\n  \"slab\",\n  \"slam\",\n  \"sleep\",\n  \"slender\",\n  \"slice\",\n  \"slide\",\n  \"slight\",\n  \"slim\",\n  \"slogan\",\n  \"slot\",\n  \"slow\",\n  \"slush\",\n  \"small\",\n  \"smart\",\n  \"smile\",\n  \"smoke\",\n  \"smooth\",\n  \"snack\",\n  \"snake\",\n  \"snap\",\n  \"sniff\",\n  \"snow\",\n  \"soap\",\n  \"soccer\",\n  \"social\",\n  \"sock\",\n  \"soda\",\n  \"soft\",\n  \"solar\",\n  \"soldier\",\n  \"solid\",\n  \"solution\",\n  \"solve\",\n  \"someone\",\n  \"song\",\n  \"soon\",\n  \"sorry\",\n  \"sort\",\n  \"soul\",\n  \"sound\",\n  \"soup\",\n  \"source\",\n  \"south\",\n  \"space\",\n  \"spare\",\n  \"spatial\",\n  \"spawn\",\n  \"speak\",\n  \"special\",\n  \"speed\",\n  \"spell\",\n  \"spend\",\n  \"sphere\",\n  \"spice\",\n  \"spider\",\n  \"spike\",\n  \"spin\",\n  \"spirit\",\n  \"split\",\n  \"spoil\",\n  \"sponsor\",\n  \"spoon\",\n  \"sport\",\n  \"spot\",\n  \"spray\",\n  \"spread\",\n  \"spring\",\n  \"spy\",\n  \"square\",\n  \"squeeze\",\n  \"squirrel\",\n  \"stable\",\n  \"stadium\",\n  \"staff\",\n  \"stage\",\n  \"stairs\",\n  \"stamp\",\n  \"stand\",\n  \"start\",\n  \"state\",\n  \"stay\",\n  \"steak\",\n  \"steel\",\n  \"stem\",\n  \"step\",\n  \"stereo\",\n  \"stick\",\n  \"still\",\n  \"sting\",\n  \"stock\",\n  \"stomach\",\n  \"stone\",\n  \"stool\",\n  \"story\",\n  \"stove\",\n  \"strategy\",\n  \"street\",\n  \"strike\",\n  \"strong\",\n  \"struggle\",\n  \"student\",\n  \"stuff\",\n  \"stumble\",\n  \"style\",\n  \"subject\",\n  \"submit\",\n  \"subway\",\n  \"success\",\n  \"such\",\n  \"sudden\",\n  \"suffer\",\n  \"sugar\",\n  \"suggest\",\n  \"suit\",\n  \"summer\",\n  \"sun\",\n  \"sunny\",\n  \"sunset\",\n  \"super\",\n  \"supply\",\n  \"supreme\",\n  \"sure\",\n  \"surface\",\n  \"surge\",\n  \"surprise\",\n  \"surround\",\n  \"survey\",\n  \"suspect\",\n  \"sustain\",\n  \"swallow\",\n  \"swamp\",\n  \"swap\",\n  \"swarm\",\n  \"swear\",\n  \"sweet\",\n  \"swift\",\n  \"swim\",\n  \"swing\",\n  \"switch\",\n  \"sword\",\n  \"symbol\",\n  \"symptom\",\n  \"syrup\",\n  \"system\",\n  \"table\",\n  \"tackle\",\n  \"tag\",\n  \"tail\",\n  \"talent\",\n  \"talk\",\n  \"tank\",\n  \"tape\",\n  \"target\",\n  \"task\",\n  \"taste\",\n  \"tattoo\",\n  \"taxi\",\n  \"teach\",\n  \"team\",\n  \"tell\",\n  \"ten\",\n  \"tenant\",\n  \"tennis\",\n  \"tent\",\n  \"term\",\n  \"test\",\n  \"text\",\n  \"thank\",\n  \"that\",\n  \"theme\",\n  \"then\",\n  \"theory\",\n  \"there\",\n  \"they\",\n  \"thing\",\n  \"this\",\n  \"thought\",\n  \"three\",\n  \"thrive\",\n  \"throw\",\n  \"thumb\",\n  \"thunder\",\n  \"ticket\",\n  \"tide\",\n  \"tiger\",\n  \"tilt\",\n  \"timber\",\n  \"time\",\n  \"tiny\",\n  \"tip\",\n  \"tired\",\n  \"tissue\",\n  \"title\",\n  \"toast\",\n  \"tobacco\",\n  \"today\",\n  \"toddler\",\n  \"toe\",\n  \"together\",\n  \"toilet\",\n  \"token\",\n  \"tomato\",\n  \"tomorrow\",\n  \"tone\",\n  \"tongue\",\n  \"tonight\",\n  \"tool\",\n  \"tooth\",\n  \"top\",\n  \"topic\",\n  \"topple\",\n  \"torch\",\n  \"tornado\",\n  \"tortoise\",\n  \"toss\",\n  \"total\",\n  \"tourist\",\n  \"toward\",\n  \"tower\",\n  \"town\",\n  \"toy\",\n  \"track\",\n  \"trade\",\n  \"traffic\",\n  \"tragic\",\n  \"train\",\n  \"transfer\",\n  \"trap\",\n  \"trash\",\n  \"travel\",\n  \"tray\",\n  \"treat\",\n  \"tree\",\n  \"trend\",\n  \"trial\",\n  \"tribe\",\n  \"trick\",\n  \"trigger\",\n  \"trim\",\n  \"trip\",\n  \"trophy\",\n  \"trouble\",\n  \"truck\",\n  \"true\",\n  \"truly\",\n  \"trumpet\",\n  \"trust\",\n  \"truth\",\n  \"try\",\n  \"tube\",\n  \"tuition\",\n  \"tumble\",\n  \"tuna\",\n  \"tunnel\",\n  \"turkey\",\n  \"turn\",\n  \"turtle\",\n  \"twelve\",\n  \"twenty\",\n  \"twice\",\n  \"twin\",\n  \"twist\",\n  \"two\",\n  \"type\",\n  \"typical\",\n  \"ugly\",\n  \"umbrella\",\n  \"unable\",\n  \"unaware\",\n  \"uncle\",\n  \"uncover\",\n  \"under\",\n  \"undo\",\n  \"unfair\",\n  \"unfold\",\n  \"unhappy\",\n  \"uniform\",\n  \"unique\",\n  \"unit\",\n  \"universe\",\n  \"unknown\",\n  \"unlock\",\n  \"until\",\n  \"unusual\",\n  \"unveil\",\n  \"update\",\n  \"upgrade\",\n  \"uphold\",\n  \"upon\",\n  \"upper\",\n  \"upset\",\n  \"urban\",\n  \"urge\",\n  \"usage\",\n  \"use\",\n  \"used\",\n  \"useful\",\n  \"useless\",\n  \"usual\",\n  \"utility\",\n  \"vacant\",\n  \"vacuum\",\n  \"vague\",\n  \"valid\",\n  \"valley\",\n  \"valve\",\n  \"van\",\n  \"vanish\",\n  \"vapor\",\n  \"various\",\n  \"vast\",\n  \"vault\",\n  \"vehicle\",\n  \"velvet\",\n  \"vendor\",\n  \"venture\",\n  \"venue\",\n  \"verb\",\n  \"verify\",\n  \"version\",\n  \"very\",\n  \"vessel\",\n  \"veteran\",\n  \"viable\",\n  \"vibrant\",\n  \"vicious\",\n  \"victory\",\n  \"video\",\n  \"view\",\n  \"village\",\n  \"vintage\",\n  \"violin\",\n  \"virtual\",\n  \"virus\",\n  \"visa\",\n  \"visit\",\n  \"visual\",\n  \"vital\",\n  \"vivid\",\n  \"vocal\",\n  \"voice\",\n  \"void\",\n  \"volcano\",\n  \"volume\",\n  \"vote\",\n  \"voyage\",\n  \"wage\",\n  \"wagon\",\n  \"wait\",\n  \"walk\",\n  \"wall\",\n  \"walnut\",\n  \"want\",\n  \"warfare\",\n  \"warm\",\n  \"warrior\",\n  \"wash\",\n  \"wasp\",\n  \"waste\",\n  \"water\",\n  \"wave\",\n  \"way\",\n  \"wealth\",\n  \"weapon\",\n  \"wear\",\n  \"weasel\",\n  \"weather\",\n  \"web\",\n  \"wedding\",\n  \"weekend\",\n  \"weird\",\n  \"welcome\",\n  \"west\",\n  \"wet\",\n  \"whale\",\n  \"what\",\n  \"wheat\",\n  \"wheel\",\n  \"when\",\n  \"where\",\n  \"whip\",\n  \"whisper\",\n  \"wide\",\n  \"width\",\n  \"wife\",\n  \"wild\",\n  \"will\",\n  \"win\",\n  \"window\",\n  \"wine\",\n  \"wing\",\n  \"wink\",\n  \"winner\",\n  \"winter\",\n  \"wire\",\n  \"wisdom\",\n  \"wise\",\n  \"wish\",\n  \"witness\",\n  \"wolf\",\n  \"woman\",\n  \"wonder\",\n  \"wood\",\n  \"wool\",\n  \"word\",\n  \"work\",\n  \"world\",\n  \"worry\",\n  \"worth\",\n  \"wrap\",\n  \"wreck\",\n  \"wrestle\",\n  \"wrist\",\n  \"write\",\n  \"wrong\",\n  \"yard\",\n  \"year\",\n  \"yellow\",\n  \"you\",\n  \"young\",\n  \"youth\",\n  \"zebra\",\n  \"zero\",\n  \"zone\",\n  \"zoo\"\n];\n\n// src/wordlists/index.ts\nvar Language = /* @__PURE__ */ ((Language2) => {\n  Language2[\"english\"] = \"english\";\n  return Language2;\n})(Language || {});\n\n// src/mnemonic/utils.ts\n\n\n\nfunction getLowerMask(bits) {\n  return (1 << bits) - 1;\n}\n__name(getLowerMask, \"getLowerMask\");\nfunction getUpperMask(bits) {\n  return (1 << bits) - 1 << 8 - bits;\n}\n__name(getUpperMask, \"getUpperMask\");\nfunction getWords(mnemonic) {\n  if (!Array.isArray(mnemonic)) {\n    return mnemonic.split(/\\s+/);\n  }\n  return mnemonic;\n}\n__name(getWords, \"getWords\");\nfunction getPhrase(mnemonic) {\n  if (Array.isArray(mnemonic)) {\n    return mnemonic.join(\" \");\n  }\n  return mnemonic;\n}\n__name(getPhrase, \"getPhrase\");\nfunction entropyToMnemonicIndices(entropy) {\n  const indices = [0];\n  let remainingBits = 11;\n  for (let i = 0; i < entropy.length; i += 1) {\n    if (remainingBits > 8) {\n      indices[indices.length - 1] <<= 8;\n      indices[indices.length - 1] |= entropy[i];\n      remainingBits -= 8;\n    } else {\n      indices[indices.length - 1] <<= remainingBits;\n      indices[indices.length - 1] |= entropy[i] >> 8 - remainingBits;\n      indices.push(entropy[i] & getLowerMask(8 - remainingBits));\n      remainingBits += 3;\n    }\n  }\n  const checksumBits = entropy.length / 4;\n  const checksum = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)((0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)(entropy))[0] & getUpperMask(checksumBits);\n  indices[indices.length - 1] <<= checksumBits;\n  indices[indices.length - 1] |= checksum >> 8 - checksumBits;\n  return indices;\n}\n__name(entropyToMnemonicIndices, \"entropyToMnemonicIndices\");\nfunction mnemonicWordsToEntropy(words, wordlist) {\n  const size = Math.ceil(11 * words.length / 8);\n  const entropy = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(new Uint8Array(size));\n  let offset = 0;\n  for (let i = 0; i < words.length; i += 1) {\n    const index = wordlist.indexOf(words[i].normalize(\"NFKD\"));\n    if (index === -1) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_MNEMONIC,\n        `Invalid mnemonic: the word '${words[i]}' is not found in the provided wordlist.`\n      );\n    }\n    for (let bit = 0; bit < 11; bit += 1) {\n      if (index & 1 << 10 - bit) {\n        entropy[offset >> 3] |= 1 << 7 - offset % 8;\n      }\n      offset += 1;\n    }\n  }\n  const entropyBits = 32 * words.length / 3;\n  const checksumBits = words.length / 3;\n  const checksumMask = getUpperMask(checksumBits);\n  const checksum = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)((0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)(entropy.slice(0, entropyBits / 8)))[0] & checksumMask;\n  if (checksum !== (entropy[entropy.length - 1] & checksumMask)) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_CHECKSUM,\n      \"Checksum validation failed for the provided mnemonic.\"\n    );\n  }\n  return entropy.slice(0, entropyBits / 8);\n}\n__name(mnemonicWordsToEntropy, \"mnemonicWordsToEntropy\");\n\n// src/mnemonic/mnemonic.ts\nvar MasterSecret = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.toUtf8Bytes)(\"Bitcoin seed\");\nvar MainnetPRV = \"0x0488ade4\";\nvar TestnetPRV = \"0x04358394\";\nvar MNEMONIC_SIZES = [12, 15, 18, 21, 24];\nfunction assertWordList(wordlist) {\n  if (wordlist.length !== 2048) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_WORD_LIST,\n      `Expected word list length of 2048, but got ${wordlist.length}.`\n    );\n  }\n}\n__name(assertWordList, \"assertWordList\");\nfunction assertEntropy(entropy) {\n  if (entropy.length % 4 !== 0 || entropy.length < 16 || entropy.length > 32) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_ENTROPY,\n      `Entropy should be between 16 and 32 bytes and a multiple of 4, but got ${entropy.length} bytes.`\n    );\n  }\n}\n__name(assertEntropy, \"assertEntropy\");\nfunction assertMnemonic(words) {\n  if (!MNEMONIC_SIZES.includes(words.length)) {\n    const errorMsg = `Invalid mnemonic size. Expected one of [${MNEMONIC_SIZES.join(\n      \", \"\n    )}] words, but got ${words.length}.`;\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_MNEMONIC, errorMsg);\n  }\n}\n__name(assertMnemonic, \"assertMnemonic\");\nvar Mnemonic = class _Mnemonic {\n  static {\n    __name(this, \"Mnemonic\");\n  }\n  wordlist;\n  /**\n   *\n   * @param wordlist - Provide a wordlist with the list of words used to generate the mnemonic phrase. The default value is the English list.\n   * @returns Mnemonic instance\n   */\n  constructor(wordlist = english) {\n    this.wordlist = wordlist;\n    assertWordList(this.wordlist);\n  }\n  /**\n   *\n   * @param phrase - Mnemonic phrase composed by words from the provided wordlist\n   * @returns Entropy hash\n   */\n  mnemonicToEntropy(phrase) {\n    return _Mnemonic.mnemonicToEntropy(phrase, this.wordlist);\n  }\n  /**\n   *\n   * @param entropy - Entropy source to the mnemonic phrase.\n   * @returns Mnemonic phrase\n   */\n  entropyToMnemonic(entropy) {\n    return _Mnemonic.entropyToMnemonic(entropy, this.wordlist);\n  }\n  /**\n   *\n   * @param phrase - Mnemonic phrase composed by words from the provided wordlist\n   * @param wordlist - Provide a wordlist with the list of words used to generate the mnemonic phrase. The default value is the English list.\n   * @returns Mnemonic phrase\n   */\n  static mnemonicToEntropy(phrase, wordlist = english) {\n    const words = getWords(phrase);\n    assertMnemonic(words);\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(mnemonicWordsToEntropy(words, wordlist));\n  }\n  /**\n   * @param entropy - Entropy source to the mnemonic phrase.\n   * @param testnet - Inform if should use testnet or mainnet prefix, default value is true (`mainnet`).\n   * @returns 64-byte array contains privateKey and chainCode as described on BIP39\n   */\n  static entropyToMnemonic(entropy, wordlist = english) {\n    const entropyBytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(entropy);\n    assertWordList(wordlist);\n    assertEntropy(entropyBytes);\n    return entropyToMnemonicIndices(entropyBytes).map((i) => wordlist[i]).join(\" \");\n  }\n  /**\n   * @param phrase - Mnemonic phrase composed by words from the provided wordlist\n   * @param passphrase - Add additional security to protect the generated seed with a memorized passphrase. `Note: if the owner forgot the passphrase, all wallets and accounts derive from the phrase will be lost.`\n   * @returns 64-byte array contains privateKey and chainCode as described on BIP39\n   */\n  static mnemonicToSeed(phrase, passphrase = \"\") {\n    assertMnemonic(getWords(phrase));\n    const phraseBytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.toUtf8Bytes)(getPhrase(phrase));\n    const salt = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.toUtf8Bytes)(`mnemonic${passphrase}`);\n    return (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.pbkdf2)(phraseBytes, salt, 2048, 64, \"sha512\");\n  }\n  /**\n   * @param phrase - Mnemonic phrase composed by words from the provided wordlist\n   * @param passphrase - Add additional security to protect the generated seed with a memorized passphrase. `Note: if the owner forgot the passphrase, all wallets and accounts derive from the phrase will be lost.`\n   * @returns 64-byte array contains privateKey and chainCode as described on BIP39\n   */\n  static mnemonicToMasterKeys(phrase, passphrase = \"\") {\n    const seed = _Mnemonic.mnemonicToSeed(phrase, passphrase);\n    return _Mnemonic.masterKeysFromSeed(seed);\n  }\n  /**\n   * Validates if given mnemonic is  valid\n   * @param phrase - Mnemonic phrase composed by words from the provided wordlist\n   * @returns true if phrase is a valid mnemonic\n   */\n  static isMnemonicValid(phrase) {\n    const words = getWords(phrase);\n    let i = 0;\n    try {\n      assertMnemonic(words);\n    } catch {\n      return false;\n    }\n    while (i < words.length) {\n      if (_Mnemonic.binarySearch(words[i]) === false) {\n        return false;\n      }\n      i += 1;\n    }\n    return true;\n  }\n  static binarySearch(target) {\n    const words = english;\n    let left = 0;\n    let right = words.length - 1;\n    while (left <= right) {\n      const mid = Math.floor((left + right) / 2);\n      if (words[mid] === target) {\n        return true;\n      }\n      if (target < words[mid]) {\n        right = mid - 1;\n      } else {\n        left = mid + 1;\n      }\n    }\n    return false;\n  }\n  /**\n   * @param seed - BIP39 seed\n   * @param testnet - Inform if should use testnet or mainnet prefix, the default value is true (`mainnet`).\n   * @returns 64-byte array contains privateKey and chainCode as described on BIP39\n   */\n  static masterKeysFromSeed(seed) {\n    const seedArray = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(seed);\n    if (seedArray.length < 16 || seedArray.length > 64) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_SEED,\n        `Seed length should be between 16 and 64 bytes, but received ${seedArray.length} bytes.`\n      );\n    }\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)((0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.computeHmac)(\"sha512\", MasterSecret, seedArray));\n  }\n  /**\n   * Get the extendKey as defined on BIP-32 from the provided seed\n   *\n   * @param seed - BIP39 seed\n   * @param testnet - Inform if should use testnet or mainnet prefix, default value is true (`mainnet`).\n   * @returns BIP-32 extended private key\n   */\n  static seedToExtendedKey(seed, testnet = false) {\n    const masterKey = _Mnemonic.masterKeysFromSeed(seed);\n    const prefix = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(testnet ? TestnetPRV : MainnetPRV);\n    const depth = \"0x00\";\n    const fingerprint = \"0x00000000\";\n    const index = \"0x00000000\";\n    const chainCode = masterKey.slice(32);\n    const privateKey = masterKey.slice(0, 32);\n    const extendedKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([\n      prefix,\n      depth,\n      fingerprint,\n      index,\n      chainCode,\n      (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([\"0x00\", privateKey])\n    ]);\n    const checksum = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.dataSlice)((0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)((0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)(extendedKey)), 0, 4);\n    return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.encodeBase58)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([extendedKey, checksum]));\n  }\n  /**\n   *  Create a new mnemonic using a randomly generated number as entropy.\n   *  As defined in BIP39, the entropy must be a multiple of 32 bits, and its size must be between 128 and 256 bits.\n   *  Therefore, the possible values for `strength` are 128, 160, 192, 224, and 256.\n   *  If not provided, the default entropy length will be set to 256 bits.\n   *  The return is a list of words that encodes the generated entropy.\n   *\n   *\n   * @param size - Number of bytes used as an entropy\n   * @param extraEntropy - Optional extra entropy to increase randomness\n   * @returns A randomly generated mnemonic\n   */\n  static generate(size = 32, extraEntropy = \"\") {\n    const entropy = extraEntropy ? (0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([(0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(size), (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(extraEntropy)])) : (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(size);\n    return _Mnemonic.entropyToMnemonic(entropy);\n  }\n};\nvar mnemonic_default = Mnemonic;\n\n// src/hdwallet/hdwallet.ts\nvar HARDENED_INDEX = 2147483648;\nvar MainnetPRV2 = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(\"0x0488ade4\");\nvar MainnetPUB = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(\"0x0488b21e\");\nvar TestnetPRV2 = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(\"0x04358394\");\nvar TestnetPUB = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(\"0x043587cf\");\nfunction base58check(data) {\n  return (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.encodeBase58)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([data, (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.dataSlice)((0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)((0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)(data)), 0, 4)]));\n}\n__name(base58check, \"base58check\");\nfunction getExtendedKeyPrefix(isPublic = false, testnet = false) {\n  if (isPublic) {\n    return testnet ? TestnetPUB : MainnetPUB;\n  }\n  return testnet ? TestnetPRV2 : MainnetPRV2;\n}\n__name(getExtendedKeyPrefix, \"getExtendedKeyPrefix\");\nfunction isPublicExtendedKey(extendedKey) {\n  return [MainnetPUB, TestnetPUB].includes((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(extendedKey.slice(0, 4)));\n}\n__name(isPublicExtendedKey, \"isPublicExtendedKey\");\nfunction isValidExtendedKey(extendedKey) {\n  return [MainnetPRV2, TestnetPRV2, MainnetPUB, TestnetPUB].includes(\n    (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(extendedKey.slice(0, 4))\n  );\n}\n__name(isValidExtendedKey, \"isValidExtendedKey\");\nfunction parsePath(path, depth = 0) {\n  const components = path.split(\"/\");\n  if (components.length === 0 || components[0] === \"m\" && depth !== 0) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR, `invalid path - ${path}`);\n  }\n  if (components[0] === \"m\") {\n    components.shift();\n  }\n  return components.map(\n    (p) => ~p.indexOf(`'`) ? parseInt(p, 10) + HARDENED_INDEX : parseInt(p, 10)\n  );\n}\n__name(parsePath, \"parsePath\");\nvar HDWallet = class _HDWallet {\n  static {\n    __name(this, \"HDWallet\");\n  }\n  depth = 0;\n  index = 0;\n  fingerprint = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(\"0x00000000\");\n  parentFingerprint = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(\"0x00000000\");\n  privateKey;\n  publicKey;\n  chainCode;\n  /**\n   * HDWallet is a implementation of the BIP-0044 and BIP-0032, Multi-Account Hierarchy for Deterministic Wallets\n   *\n   * @param config - Wallet configurations\n   */\n  constructor(config) {\n    if (config.privateKey) {\n      const signer = new Signer(config.privateKey);\n      this.publicKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(signer.compressedPublicKey);\n      this.privateKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(config.privateKey);\n    } else {\n      if (!config.publicKey) {\n        throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n          _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR,\n          \"Both public and private Key cannot be missing. At least one should be provided.\"\n        );\n      }\n      this.publicKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(config.publicKey);\n    }\n    this.parentFingerprint = config.parentFingerprint || this.parentFingerprint;\n    this.fingerprint = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.dataSlice)((0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.ripemd160)((0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)(this.publicKey)), 0, 4);\n    this.depth = config.depth || this.depth;\n    this.index = config.index || this.index;\n    this.chainCode = config.chainCode;\n  }\n  get extendedKey() {\n    return this.toExtendedKey();\n  }\n  /**\n   * Derive the current HDWallet instance navigating only on the index.\n   * `Ex.: m/44'/0 -> Ex.: m/44'/1 -> m/44'/2`. [Learn more](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)\n   *\n   * @param index - Index of the child HDWallet.\n   * @returns A new instance of HDWallet on the derived index\n   */\n  deriveIndex(index) {\n    const privateKey = this.privateKey && (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.privateKey);\n    const publicKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.publicKey);\n    const chainCode = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.chainCode);\n    const data = new Uint8Array(37);\n    if (index & HARDENED_INDEX) {\n      if (!privateKey) {\n        throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n          _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR,\n          \"Cannot derive a hardened index without a private Key.\"\n        );\n      }\n      data.set(privateKey, 1);\n    } else {\n      data.set((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(this.publicKey));\n    }\n    data.set((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toBytes)(index, 4), 33);\n    const bytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)((0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.computeHmac)(\"sha512\", chainCode, data));\n    const IL = bytes.slice(0, 32);\n    const IR = bytes.slice(32);\n    if (privateKey) {\n      const N = \"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\";\n      const ki = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.bn)(IL).add(privateKey).mod(N).toBytes(32);\n      return new _HDWallet({\n        privateKey: ki,\n        chainCode: IR,\n        index,\n        depth: this.depth + 1,\n        parentFingerprint: this.fingerprint\n      });\n    }\n    const signer = new Signer((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(IL));\n    const Ki = signer.addPoint(publicKey);\n    return new _HDWallet({\n      publicKey: Ki,\n      chainCode: IR,\n      index,\n      depth: this.depth + 1,\n      parentFingerprint: this.fingerprint\n    });\n  }\n  /**\n   * Derive the current HDWallet instance to the path. [Learn more](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki)\n   *\n   * @param path - The string representation of the child HDWallet. `Ex.: m/44'/0'/0'/0/0`\n   * @returns A new instance of HDWallet on the derived path\n   */\n  derivePath(path) {\n    const paths = parsePath(path, this.depth);\n    return paths.reduce((hdwallet, index) => hdwallet.deriveIndex(index), this);\n  }\n  /**\n   * Get the extendKey as defined on BIP-32 from the provided seed\n   *\n   * @param isPublic - enable to export public extendedKey, it not required when HDWallet didn't have the privateKey.\n   * @param testnet - Inform if should use testnet or mainnet prefix, default value is true (`mainnet`).\n   * @returns BIP-32 extended private key\n   */\n  toExtendedKey(isPublic = false, testnet = false) {\n    if (this.depth >= 256) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR,\n        `Exceeded max depth of 255. Current depth: ${this.depth}.`\n      );\n    }\n    const prefix = getExtendedKeyPrefix(this.privateKey == null || isPublic, testnet);\n    const depth = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(Uint8Array.from([this.depth]));\n    const parentFingerprint = this.parentFingerprint;\n    const index = (0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toHex)(this.index, 4);\n    const chainCode = this.chainCode;\n    const key = this.privateKey != null && !isPublic ? (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([\"0x00\", this.privateKey]) : this.publicKey;\n    const extendedKey = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([prefix, depth, parentFingerprint, index, chainCode, key]));\n    return base58check(extendedKey);\n  }\n  /**\n   * Create HDWallet instance from seed\n   *\n   * @param seed - Seed\n   * @returns A new instance of HDWallet\n   */\n  static fromSeed(seed) {\n    const masterKey = mnemonic_default.masterKeysFromSeed(seed);\n    return new _HDWallet({\n      chainCode: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(masterKey.slice(32)),\n      privateKey: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(masterKey.slice(0, 32))\n    });\n  }\n  static fromExtendedKey(extendedKey) {\n    const decoded = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)((0,_fuel_ts_math__WEBPACK_IMPORTED_MODULE_4__.toBytes)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.decodeBase58)(extendedKey)));\n    const bytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(decoded);\n    const validChecksum = base58check(bytes.slice(0, 78)) === extendedKey;\n    if (bytes.length !== 82 || !isValidExtendedKey(bytes)) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR, \"Provided key is not a valid extended key.\");\n    }\n    if (!validChecksum) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR, \"Provided key has an invalid checksum.\");\n    }\n    const depth = bytes[4];\n    const parentFingerprint = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytes.slice(5, 9));\n    const index = parseInt((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytes.slice(9, 13)).substring(2), 16);\n    const chainCode = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(bytes.slice(13, 45));\n    const key = bytes.slice(45, 78);\n    if (depth === 0 && parentFingerprint !== \"0x00000000\" || depth === 0 && index !== 0) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR,\n        \"Inconsistency detected: Depth is zero but fingerprint/index is non-zero.\"\n      );\n    }\n    if (isPublicExtendedKey(bytes)) {\n      if (key[0] !== 3) {\n        throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR, \"Invalid public extended key.\");\n      }\n      return new _HDWallet({\n        publicKey: key,\n        chainCode,\n        index,\n        depth,\n        parentFingerprint\n      });\n    }\n    if (key[0] !== 0) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.HD_WALLET_ERROR, \"Invalid private extended key.\");\n    }\n    return new _HDWallet({\n      privateKey: key.slice(1),\n      chainCode,\n      index,\n      depth,\n      parentFingerprint\n    });\n  }\n};\nvar hdwallet_default = HDWallet;\n\n// src/wallet/wallets.ts\nvar WalletLocked = class extends Account {\n  static {\n    __name(this, \"WalletLocked\");\n  }\n  /**\n   * Unlocks the wallet using the provided private key and returns an instance of WalletUnlocked.\n   *\n   * @param privateKey - The private key used to unlock the wallet.\n   * @returns An instance of WalletUnlocked.\n   */\n  unlock(privateKey) {\n    return new WalletUnlocked(privateKey, this._provider);\n  }\n};\nvar WalletUnlocked = class _WalletUnlocked extends BaseWalletUnlocked {\n  static {\n    __name(this, \"WalletUnlocked\");\n  }\n  /**\n   * Locks the wallet and returns an instance of WalletLocked.\n   *\n   * @returns An instance of WalletLocked.\n   */\n  lock() {\n    this.signer = () => new Signer(\"0x00\");\n    return new WalletLocked(this.address, this._provider);\n  }\n  /**\n   * Generate a new Wallet Unlocked with a random key pair.\n   *\n   * @param generateOptions - Options to customize the generation process (optional).\n   * @returns An instance of WalletUnlocked.\n   */\n  static generate(generateOptions) {\n    const privateKey = Signer.generatePrivateKey(generateOptions?.entropy);\n    return new _WalletUnlocked(privateKey, generateOptions?.provider);\n  }\n  /**\n   * Create a Wallet Unlocked from a seed.\n   *\n   * @param seed - The seed phrase.\n   * @param provider - A Provider instance (optional).\n   * @param path - The derivation path (optional).\n   * @returns An instance of WalletUnlocked.\n   */\n  static fromSeed(seed, path, provider) {\n    const hdWallet = hdwallet_default.fromSeed(seed);\n    const childWallet = hdWallet.derivePath(path || _WalletUnlocked.defaultPath);\n    return new _WalletUnlocked(childWallet.privateKey, provider);\n  }\n  /**\n   * Create a Wallet Unlocked from a mnemonic phrase.\n   *\n   * @param mnemonic - The mnemonic phrase.\n   * @param provider - A Provider instance (optional).\n   * @param path - The derivation path (optional).\n   * @param passphrase - The passphrase for the mnemonic (optional).\n   * @returns An instance of WalletUnlocked.\n   */\n  static fromMnemonic(mnemonic, path, passphrase, provider) {\n    const seed = mnemonic_default.mnemonicToSeed(mnemonic, passphrase);\n    const hdWallet = hdwallet_default.fromSeed(seed);\n    const childWallet = hdWallet.derivePath(path || _WalletUnlocked.defaultPath);\n    return new _WalletUnlocked(childWallet.privateKey, provider);\n  }\n  /**\n   * Create a Wallet Unlocked from an extended key.\n   *\n   * @param extendedKey - The extended key.\n   * @param provider - A Provider instance (optional).\n   * @returns An instance of WalletUnlocked.\n   */\n  static fromExtendedKey(extendedKey, provider) {\n    const hdWallet = hdwallet_default.fromExtendedKey(extendedKey);\n    return new _WalletUnlocked(hdWallet.privateKey, provider);\n  }\n  /**\n   * Create a Wallet Unlocked from an encrypted JSON.\n   *\n   * @param jsonWallet - The encrypted JSON keystore.\n   * @param password - The password to decrypt the JSON.\n   * @param provider - A Provider instance (optional).\n   * @returns An unlocked wallet instance.\n   */\n  static async fromEncryptedJson(jsonWallet, password, provider) {\n    const privateKey = await decryptKeystoreWallet(jsonWallet, password);\n    return new _WalletUnlocked(privateKey, provider);\n  }\n};\n\n// src/wallet/wallet.ts\nvar Wallet = class {\n  static {\n    __name(this, \"Wallet\");\n  }\n  /**\n   * Creates a locked wallet instance from an address and a provider.\n   *\n   * @param address - The address of the wallet.\n   * @param provider - A Provider instance (optional).\n   * @returns A locked wallet instance.\n   */\n  static fromAddress(address, provider) {\n    return new WalletLocked(address, provider);\n  }\n  /**\n   * Creates an unlocked wallet instance from a private key and a provider.\n   *\n   * @param privateKey - The private key of the wallet.\n   * @param provider - A Provider instance (optional).\n   * @returns An unlocked wallet instance.\n   */\n  static fromPrivateKey(privateKey, provider) {\n    return new WalletUnlocked(privateKey, provider);\n  }\n  /**\n   * Generate a new Wallet Unlocked with a random key pair.\n   *\n   * @param generateOptions - Options to customize the generation process (optional).\n   * @returns An unlocked wallet instance.\n   */\n  static generate = WalletUnlocked.generate;\n  /**\n   * Create a Wallet Unlocked from a seed.\n   *\n   * @param seed - The seed phrase.\n   * @param provider - A Provider instance (optional).\n   * @param path - The derivation path (optional).\n   * @returns An unlocked wallet instance.\n   */\n  static fromSeed = WalletUnlocked.fromSeed;\n  /**\n   * Create a Wallet Unlocked from a mnemonic phrase.\n   *\n   * @param mnemonic - The mnemonic phrase.\n   * @param provider - A Provider instance (optional).\n   * @param path - The derivation path (optional).\n   * @param passphrase - The passphrase for the mnemonic (optional).\n   * @returns An unlocked wallet instance.\n   */\n  static fromMnemonic = WalletUnlocked.fromMnemonic;\n  /**\n   * Create a Wallet Unlocked from an extended key.\n   *\n   * @param extendedKey - The extended key.\n   * @param provider - A Provider instance (optional).\n   * @returns An unlocked wallet instance.\n   */\n  static fromExtendedKey = WalletUnlocked.fromExtendedKey;\n  /**\n   * Create a Wallet Unlocked from an encrypted JSON.\n   *\n   * @param jsonWallet - The encrypted JSON keystore.\n   * @param password - The password to decrypt the JSON.\n   * @param provider - A Provider instance (optional).\n   * @returns An unlocked wallet instance.\n   */\n  static fromEncryptedJson = WalletUnlocked.fromEncryptedJson;\n};\n\n// src/wallet-manager/wallet-manager.ts\n\n\n\n\n\n// src/wallet-manager/storages/memory-storage.ts\nvar MemoryStorage = class {\n  static {\n    __name(this, \"MemoryStorage\");\n  }\n  storage = /* @__PURE__ */ new Map();\n  async getItem(key) {\n    const item = await this.storage.get(key);\n    return item;\n  }\n  async setItem(key, value) {\n    await this.storage.set(key, value);\n  }\n  async removeItem(key) {\n    await this.storage.delete(key);\n  }\n  async clear() {\n    await this.storage.clear();\n  }\n};\n\n// src/wallet-manager/vaults/mnemonic-vault.ts\n\n\nvar MnemonicVault = class {\n  static {\n    __name(this, \"MnemonicVault\");\n  }\n  static type = \"mnemonic\";\n  #secret;\n  pathKey = \"{}\";\n  rootPath = `m/44'/1179993420'/${this.pathKey}'/0/0`;\n  numberOfAccounts = 0;\n  constructor(options) {\n    this.#secret = options.secret || mnemonic_default.generate();\n    this.rootPath = options.rootPath || this.rootPath;\n    this.numberOfAccounts = options.numberOfAccounts || 1;\n  }\n  getDerivePath(index) {\n    if (this.rootPath.includes(this.pathKey)) {\n      return this.rootPath.replace(this.pathKey, String(index));\n    }\n    return `${this.rootPath}/${index}`;\n  }\n  serialize() {\n    return {\n      secret: this.#secret,\n      rootPath: this.rootPath,\n      numberOfAccounts: this.numberOfAccounts\n    };\n  }\n  getAccounts() {\n    const accounts = [];\n    let numberOfAccounts = 0;\n    do {\n      const wallet = Wallet.fromMnemonic(this.#secret, this.getDerivePath(numberOfAccounts));\n      accounts.push({\n        publicKey: wallet.publicKey,\n        address: wallet.address\n      });\n      numberOfAccounts += 1;\n    } while (numberOfAccounts < this.numberOfAccounts);\n    return accounts;\n  }\n  addAccount() {\n    this.numberOfAccounts += 1;\n    const wallet = Wallet.fromMnemonic(this.#secret, this.getDerivePath(this.numberOfAccounts - 1));\n    return {\n      publicKey: wallet.publicKey,\n      address: wallet.address\n    };\n  }\n  exportAccount(address) {\n    let numberOfAccounts = 0;\n    const ownerAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(address);\n    do {\n      const wallet = Wallet.fromMnemonic(this.#secret, this.getDerivePath(numberOfAccounts));\n      if (wallet.address.equals(ownerAddress)) {\n        return wallet.privateKey;\n      }\n      numberOfAccounts += 1;\n    } while (numberOfAccounts < this.numberOfAccounts);\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n      _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.WALLET_MANAGER_ERROR,\n      `Account with address '${address}' not found in derived wallets.`\n    );\n  }\n  getWallet(address) {\n    const privateKey = this.exportAccount(address);\n    return Wallet.fromPrivateKey(privateKey);\n  }\n};\n\n// src/wallet-manager/vaults/privatekey-vault.ts\n\n\nvar PrivateKeyVault = class {\n  static {\n    __name(this, \"PrivateKeyVault\");\n  }\n  static type = \"privateKey\";\n  #privateKeys = [];\n  /**\n   * If privateKey vault is initialized with a secretKey, it creates\n   * one account with the fallowing secret\n   */\n  constructor(options = {}) {\n    if (options.secret) {\n      this.#privateKeys = [options.secret];\n    } else {\n      this.#privateKeys = options.accounts || [Wallet.generate().privateKey];\n    }\n  }\n  serialize() {\n    return {\n      accounts: this.#privateKeys\n    };\n  }\n  getPublicAccount(privateKey) {\n    const wallet = Wallet.fromPrivateKey(privateKey);\n    return {\n      address: wallet.address,\n      publicKey: wallet.publicKey\n    };\n  }\n  getAccounts() {\n    return this.#privateKeys.map((pk) => this.getPublicAccount(pk));\n  }\n  addAccount() {\n    const wallet = Wallet.generate();\n    this.#privateKeys.push(wallet.privateKey);\n    return this.getPublicAccount(wallet.privateKey);\n  }\n  exportAccount(address) {\n    const ownerAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(address);\n    const privateKey = this.#privateKeys.find(\n      (pk) => Wallet.fromPrivateKey(pk).address.equals(ownerAddress)\n    );\n    if (!privateKey) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.WALLET_MANAGER_ERROR,\n        `No private key found for address '${address}'.`\n      );\n    }\n    return privateKey;\n  }\n  getWallet(address) {\n    const privateKey = this.exportAccount(address);\n    return Wallet.fromPrivateKey(privateKey);\n  }\n};\n\n// src/wallet-manager/wallet-manager.ts\nvar ERROR_MESSAGES = {\n  invalid_vault_type: \"The provided Vault type is invalid.\",\n  address_not_found: \"No private key found for address the specified wallet address.\",\n  vault_not_found: \"The specified vault was not found.\",\n  wallet_not_unlocked: \"The wallet is currently locked.\",\n  passphrase_not_match: \"The provided passphrase did not match the expected value.\"\n};\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.WALLET_MANAGER_ERROR, message);\n  }\n}\n__name(assert, \"assert\");\nvar WalletManager = class _WalletManager extends events__WEBPACK_IMPORTED_MODULE_17__.EventEmitter {\n  static {\n    __name(this, \"WalletManager\");\n  }\n  /**\n   * Vaults\n   *\n   * Vaults are responsible to store secret keys and return an `Wallet` instance,\n   * to interact with the network.\n   *\n   * Each vault has access to its own state\n   *\n   */\n  static Vaults = [MnemonicVault, PrivateKeyVault];\n  /**\n   * Storage\n   *\n   * Persistent encrypted data. `The default storage works only on memory`.\n   */\n  storage = new MemoryStorage();\n  /* Key name passed to the storage */\n  STORAGE_KEY = \"WalletManager\";\n  // `This variables are only accessible from inside the class`\n  #vaults = [];\n  #passphrase = \"\";\n  #isLocked = true;\n  constructor(options) {\n    super();\n    this.storage = options?.storage || this.storage;\n  }\n  get isLocked() {\n    return this.#isLocked;\n  }\n  /**\n   * Return the vault serialized object containing all the privateKeys,\n   * the format of the return depends on the Vault type.\n   */\n  exportVault(vaultId) {\n    assert(!this.#isLocked, ERROR_MESSAGES.wallet_not_unlocked);\n    const vaultState = this.#vaults.find((_, idx) => idx === vaultId);\n    assert(vaultState, ERROR_MESSAGES.vault_not_found);\n    return vaultState.vault.serialize();\n  }\n  /**\n   * List all vaults on the Wallet Manager, this function not return secret's\n   */\n  getVaults() {\n    return this.#vaults.map((v, idx) => ({\n      title: v.title,\n      type: v.type,\n      vaultId: idx\n    }));\n  }\n  /**\n   * List all accounts on the Wallet Manager not vault information is revealed\n   */\n  getAccounts() {\n    return this.#vaults.flatMap(\n      (vaultState, vaultId) => vaultState.vault.getAccounts().map((account) => ({ ...account, vaultId }))\n    );\n  }\n  /**\n   * Create a Wallet instance for the specific account\n   */\n  getWallet(address) {\n    const ownerAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(address);\n    const vaultState = this.#vaults.find(\n      (vs) => vs.vault.getAccounts().find((a) => a.address.equals(ownerAddress))\n    );\n    assert(vaultState, ERROR_MESSAGES.address_not_found);\n    return vaultState.vault.getWallet(ownerAddress);\n  }\n  /**\n   * Export specific account privateKey\n   */\n  exportPrivateKey(address) {\n    const ownerAddress = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(address);\n    assert(!this.#isLocked, ERROR_MESSAGES.wallet_not_unlocked);\n    const vaultState = this.#vaults.find(\n      (vs) => vs.vault.getAccounts().find((a) => a.address.equals(ownerAddress))\n    );\n    assert(vaultState, ERROR_MESSAGES.address_not_found);\n    return vaultState.vault.exportAccount(ownerAddress);\n  }\n  /**\n   * Add account to a selected vault or on the first vault as default.\n   * If not vaults are adds it will return error\n   */\n  async addAccount(options) {\n    await this.loadState();\n    const vaultState = this.#vaults[options?.vaultId || 0];\n    await assert(vaultState, ERROR_MESSAGES.vault_not_found);\n    const account = vaultState.vault.addAccount();\n    await this.saveState();\n    return account;\n  }\n  /**\n   * Remove vault by index, by remove the vault you also remove all accounts\n   * created by the vault.\n   */\n  async removeVault(index) {\n    this.#vaults.splice(index, 1);\n    await this.saveState();\n  }\n  /**\n   * Add Vault, the `vaultConfig.type` will look for the Vaults supported if\n   * didn't found it will throw.\n   */\n  async addVault(vaultConfig) {\n    await this.loadState();\n    const Vault2 = this.getVaultClass(vaultConfig.type);\n    const vault = new Vault2(vaultConfig);\n    this.#vaults = this.#vaults.concat({\n      title: vaultConfig.title,\n      type: vaultConfig.type,\n      vault\n    });\n    await this.saveState();\n  }\n  /**\n   * Lock wallet. It removes passphrase from class instance, encrypt and hide all address and\n   * secrets.\n   */\n  lock() {\n    this.#isLocked = true;\n    this.#vaults = [];\n    this.#passphrase = \"\";\n    this.emit(\"lock\");\n  }\n  /**\n   * Unlock wallet. It sets passphrase on WalletManger instance load all address from configured vaults.\n   * Vaults with secrets are not unlocked or instantiated on this moment.\n   */\n  async unlock(passphrase) {\n    this.#passphrase = passphrase;\n    this.#isLocked = false;\n    try {\n      await this.loadState();\n      this.emit(\"unlock\");\n    } catch (err) {\n      await this.lock();\n      throw err;\n    }\n  }\n  /**\n   * Update WalletManager encryption passphrase\n   */\n  async updatePassphrase(oldpass, newpass) {\n    const isLocked = this.#isLocked;\n    await this.unlock(oldpass);\n    this.#passphrase = newpass;\n    await this.saveState();\n    await this.loadState();\n    if (isLocked) {\n      await this.lock();\n    }\n  }\n  /**\n   * Retrieve and decrypt WalletManager state from storage\n   */\n  async loadState() {\n    await assert(!this.#isLocked, ERROR_MESSAGES.wallet_not_unlocked);\n    const data = await this.storage.getItem(this.STORAGE_KEY);\n    if (data) {\n      const state = await (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.decrypt)(this.#passphrase, JSON.parse(data));\n      this.#vaults = this.#deserializeVaults(state.vaults);\n    }\n  }\n  /**\n   * Store encrypted WalletManager state on storage\n   */\n  async saveState() {\n    await assert(!this.#isLocked, ERROR_MESSAGES.wallet_not_unlocked);\n    const encryptedData = await (0,_fuel_ts_crypto__WEBPACK_IMPORTED_MODULE_2__.encrypt)(this.#passphrase, {\n      vaults: this.#serializeVaults(this.#vaults)\n    });\n    await this.storage.setItem(this.STORAGE_KEY, JSON.stringify(encryptedData));\n    this.emit(\"update\");\n  }\n  /**\n   * Serialize all vaults to store\n   *\n   * `This is only accessible from inside the class`\n   */\n  #serializeVaults(vaults) {\n    return vaults.map(({ title, type, vault }) => ({\n      title,\n      type,\n      data: vault.serialize()\n    }));\n  }\n  /**\n   * Deserialize all vaults to state\n   *\n   * `This is only accessible from inside the class`\n   */\n  #deserializeVaults(vaults) {\n    return vaults.map(({ title, type, data: vaultConfig }) => {\n      const VaultClass = this.getVaultClass(type);\n      return {\n        title,\n        type,\n        vault: new VaultClass(vaultConfig)\n      };\n    });\n  }\n  /**\n   * Return a instantiable Class reference from `WalletManager.Vaults` supported list.\n   */\n  getVaultClass(type) {\n    const VaultClass = _WalletManager.Vaults.find((v) => v.type === type);\n    assert(VaultClass, ERROR_MESSAGES.invalid_vault_type);\n    return VaultClass;\n  }\n};\n\n// src/wallet-manager/types.ts\n\nvar Vault = class {\n  static {\n    __name(this, \"Vault\");\n  }\n  static type;\n  constructor(_options) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.NOT_IMPLEMENTED, \"Not implemented.\");\n  }\n  serialize() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.NOT_IMPLEMENTED, \"Not implemented.\");\n  }\n  getAccounts() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.NOT_IMPLEMENTED, \"Not implemented.\");\n  }\n  addAccount() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.NOT_IMPLEMENTED, \"Not implemented.\");\n  }\n  exportAccount(_address) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.NOT_IMPLEMENTED, \"Not implemented.\");\n  }\n  getWallet(_address) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.NOT_IMPLEMENTED, \"Not implemented.\");\n  }\n};\nvar StorageAbstract = class {\n  static {\n    __name(this, \"StorageAbstract\");\n  }\n};\n\n// src/predicate/predicate.ts\n\n\n\n\n\n// src/utils/deployScriptOrPredicate.ts\n\n\n\n// src/utils/predicate-script-loader-instructions.ts\n\n\n\n\nvar BLOB_ID_SIZE = 32;\nvar REG_ADDRESS_OF_DATA_AFTER_CODE = 16;\nvar REG_START_OF_LOADED_CODE = 17;\nvar REG_GENERAL_USE = 18;\nvar WORD_SIZE2 = 8;\nvar DATA_OFFSET_INDEX = 8;\nvar CONFIGURABLE_OFFSET_INDEX = 16;\nfunction getBytecodeDataOffset(bytecode) {\n  const [offset] = new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.BigNumberCoder(\"u64\").decode(bytecode, DATA_OFFSET_INDEX);\n  return offset.toNumber();\n}\n__name(getBytecodeDataOffset, \"getBytecodeDataOffset\");\nfunction getBytecodeConfigurableOffset(bytecode) {\n  const [offset] = new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.BigNumberCoder(\"u64\").decode(bytecode, CONFIGURABLE_OFFSET_INDEX);\n  return offset.toNumber();\n}\n__name(getBytecodeConfigurableOffset, \"getBytecodeConfigurableOffset\");\nfunction getBytecodeId(bytecode) {\n  const configurableOffset = getBytecodeConfigurableOffset(bytecode);\n  const byteCodeWithoutConfigurableSection = bytecode.slice(0, configurableOffset);\n  return (0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)(byteCodeWithoutConfigurableSection);\n}\n__name(getBytecodeId, \"getBytecodeId\");\nfunction getLegacyBlobId(bytecode) {\n  const dataOffset = getBytecodeDataOffset(bytecode);\n  const byteCodeWithoutDataSection = bytecode.slice(0, dataOffset);\n  return (0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.sha256)(byteCodeWithoutDataSection);\n}\n__name(getLegacyBlobId, \"getLegacyBlobId\");\nfunction getPredicateScriptLoaderInstructions(originalBinary, blobId) {\n  const { RegId, Instruction } = /*#__PURE__*/ (_fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15___namespace_cache || (_fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15___namespace_cache = __webpack_require__.t(_fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__, 2)));\n  const REG_PC = RegId.pc().to_u8();\n  const REG_SP = RegId.sp().to_u8();\n  const REG_IS = RegId.is().to_u8();\n  const getInstructions = /* @__PURE__ */ __name((numOfInstructions2) => [\n    // 1. Load the blob content into memory\n    // Find the start of the hardcoded blob ID, which is located after the loader code ends.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.move_(REG_ADDRESS_OF_DATA_AFTER_CODE, REG_PC),\n    // hold the address of the blob ID.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.addi(\n      REG_ADDRESS_OF_DATA_AFTER_CODE,\n      REG_ADDRESS_OF_DATA_AFTER_CODE,\n      numOfInstructions2 * Instruction.size()\n    ),\n    // The code is going to be loaded from the current value of SP onwards, save\n    // the location into REG_START_OF_LOADED_CODE so we can jump into it at the end.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.move_(REG_START_OF_LOADED_CODE, REG_SP),\n    // REG_GENERAL_USE to hold the size of the blob.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.bsiz(REG_GENERAL_USE, REG_ADDRESS_OF_DATA_AFTER_CODE),\n    // Push the blob contents onto the stack.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.ldc(REG_ADDRESS_OF_DATA_AFTER_CODE, 0, REG_GENERAL_USE, 1),\n    // Move on to the data section length\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.addi(REG_ADDRESS_OF_DATA_AFTER_CODE, REG_ADDRESS_OF_DATA_AFTER_CODE, BLOB_ID_SIZE),\n    // load the size of the data section into REG_GENERAL_USE\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.lw(REG_GENERAL_USE, REG_ADDRESS_OF_DATA_AFTER_CODE, 0),\n    // after we have read the length of the data section, we move the pointer to the actual\n    // data by skipping WORD_SIZE bytes.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.addi(REG_ADDRESS_OF_DATA_AFTER_CODE, REG_ADDRESS_OF_DATA_AFTER_CODE, WORD_SIZE2),\n    // load the data section of the executable\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.ldc(REG_ADDRESS_OF_DATA_AFTER_CODE, 0, REG_GENERAL_USE, 2),\n    // Jump into the memory where the contract is loaded.\n    // What follows is called _jmp_mem by the sway compiler.\n    // Subtract the address contained in IS because jmp will add it back.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.sub(REG_START_OF_LOADED_CODE, REG_START_OF_LOADED_CODE, REG_IS),\n    // jmp will multiply by 4, so we need to divide to cancel that out.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.divi(REG_START_OF_LOADED_CODE, REG_START_OF_LOADED_CODE, 4),\n    // Jump to the start of the contract we loaded.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.jmp(REG_START_OF_LOADED_CODE)\n  ], \"getInstructions\");\n  const getInstructionsNoDataSection = /* @__PURE__ */ __name((numOfInstructions2) => [\n    // 1. Load the blob content into memory\n    // Find the start of the hardcoded blob ID, which is located after the loader code ends.\n    // 1. Load the blob content into memory\n    // Find the start of the hardcoded blob ID, which is located after the loader code ends.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.move_(REG_ADDRESS_OF_DATA_AFTER_CODE, REG_PC),\n    // hold the address of the blob ID.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.addi(\n      REG_ADDRESS_OF_DATA_AFTER_CODE,\n      REG_ADDRESS_OF_DATA_AFTER_CODE,\n      numOfInstructions2 * Instruction.size()\n    ),\n    // The code is going to be loaded from the current value of SP onwards, save\n    // the location into REG_START_OF_LOADED_CODE so we can jump into it at the end.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.move_(REG_START_OF_LOADED_CODE, REG_SP),\n    // REG_GENERAL_USE to hold the size of the blob.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.bsiz(REG_GENERAL_USE, REG_ADDRESS_OF_DATA_AFTER_CODE),\n    // Push the blob contents onto the stack.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.ldc(REG_ADDRESS_OF_DATA_AFTER_CODE, 0, REG_GENERAL_USE, 1),\n    // Jump into the memory where the contract is loaded.\n    // What follows is called _jmp_mem by the sway compiler.\n    // Subtract the address contained in IS because jmp will add it back.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.sub(REG_START_OF_LOADED_CODE, REG_START_OF_LOADED_CODE, REG_IS),\n    // jmp will multiply by 4, so we need to divide to cancel that out.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.divi(REG_START_OF_LOADED_CODE, REG_START_OF_LOADED_CODE, 4),\n    // Jump to the start of the contract we loaded.\n    _fuels_vm_asm__WEBPACK_IMPORTED_MODULE_15__.jmp(REG_START_OF_LOADED_CODE)\n  ], \"getInstructionsNoDataSection\");\n  const offset = getBytecodeConfigurableOffset(originalBinary);\n  if (originalBinary.length < offset) {\n    throw new Error(\n      `Data section offset is out of bounds, offset: ${offset}, binary length: ${originalBinary.length}`\n    );\n  }\n  const configurableSection = originalBinary.slice(offset);\n  if (configurableSection.length > 0) {\n    const numOfInstructions2 = getInstructions(0).length;\n    if (numOfInstructions2 > 65535) {\n      throw new Error(\"Too many instructions, exceeding u16::MAX.\");\n    }\n    const instructionBytes2 = new Uint8Array(\n      getInstructions(numOfInstructions2).flatMap(\n        (instruction) => Array.from(instruction.to_bytes())\n      )\n    );\n    const blobBytes2 = new Uint8Array(blobId);\n    const dataSectionLenBytes = new Uint8Array(8);\n    const dataView = new DataView(dataSectionLenBytes.buffer);\n    dataView.setBigUint64(0, BigInt(configurableSection.length), false);\n    const loaderBytecode2 = new Uint8Array([\n      ...instructionBytes2,\n      ...blobBytes2,\n      ...dataSectionLenBytes\n    ]);\n    return {\n      loaderBytecode: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([loaderBytecode2, configurableSection]),\n      blobOffset: loaderBytecode2.length\n    };\n  }\n  const numOfInstructions = getInstructionsNoDataSection(0).length;\n  if (numOfInstructions > 65535) {\n    throw new Error(\"Too many instructions, exceeding u16::MAX.\");\n  }\n  const instructionBytes = new Uint8Array(\n    getInstructionsNoDataSection(numOfInstructions).flatMap(\n      (instruction) => Array.from(instruction.to_bytes())\n    )\n  );\n  const blobBytes = new Uint8Array(blobId);\n  const loaderBytecode = new Uint8Array([...instructionBytes, ...blobBytes]);\n  return { loaderBytecode };\n}\n__name(getPredicateScriptLoaderInstructions, \"getPredicateScriptLoaderInstructions\");\n\n// src/utils/deployScriptOrPredicate.ts\nasync function fundBlobTx(deployer, blobTxRequest) {\n  const { assembledRequest } = await deployer.provider.assembleTx({\n    request: blobTxRequest,\n    feePayerAccount: deployer,\n    accountCoinQuantities: []\n  });\n  return assembledRequest;\n}\n__name(fundBlobTx, \"fundBlobTx\");\nfunction adjustConfigurableOffsets(jsonAbi, configurableOffsetDiff) {\n  const { configurables: readOnlyConfigurables } = jsonAbi;\n  const configurables = [];\n  readOnlyConfigurables.forEach((config) => {\n    configurables.push({ ...config, offset: config.offset - configurableOffsetDiff });\n  });\n  return { ...jsonAbi, configurables };\n}\n__name(adjustConfigurableOffsets, \"adjustConfigurableOffsets\");\nasync function deployScriptOrPredicate({\n  deployer,\n  bytecode,\n  abi,\n  loaderInstanceCallback\n}) {\n  const blobId = getBytecodeId((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(bytecode));\n  const configurableOffset = getBytecodeConfigurableOffset((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(bytecode));\n  const byteCodeWithoutConfigurableSection = bytecode.slice(0, configurableOffset);\n  const blobTxRequest = new BlobTransactionRequest({\n    blobId,\n    witnessIndex: 0,\n    witnesses: [byteCodeWithoutConfigurableSection]\n  });\n  const { loaderBytecode, blobOffset } = getPredicateScriptLoaderInstructions(\n    (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(bytecode),\n    (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(blobId)\n  );\n  const newConfigurableOffsetDiff = byteCodeWithoutConfigurableSection.length - (blobOffset || 0);\n  const newAbi = adjustConfigurableOffsets(abi, newConfigurableOffsetDiff);\n  const blobExists = (await deployer.provider.getBlobs([blobId])).length > 0;\n  const loaderInstance = loaderInstanceCallback(loaderBytecode, newAbi);\n  if (blobExists) {\n    return {\n      waitForResult: /* @__PURE__ */ __name(() => Promise.resolve(loaderInstance), \"waitForResult\"),\n      blobId\n    };\n  }\n  const fundedBlobRequest = await fundBlobTx(deployer, blobTxRequest);\n  const waitForResult = /* @__PURE__ */ __name(async () => {\n    try {\n      const blobTx = await deployer.sendTransaction(fundedBlobRequest);\n      const result = await blobTx.waitForResult();\n      if (result.status !== \"success\" /* success */) {\n        throw new Error();\n      }\n    } catch (err) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.TRANSACTION_FAILED, \"Failed to deploy predicate chunk\");\n    }\n    return loaderInstance;\n  }, \"waitForResult\");\n  return {\n    waitForResult,\n    blobId\n  };\n}\n__name(deployScriptOrPredicate, \"deployScriptOrPredicate\");\n\n// src/predicate/utils/getPredicateRoot.ts\n\n\n\nvar getPredicateRoot = /* @__PURE__ */ __name((bytecode) => {\n  const chunkSize = 16 * 1024;\n  const bytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(bytecode);\n  const chunks = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.chunkAndPadBytes)(bytes, chunkSize);\n  const codeRoot = (0,_fuel_ts_merkle__WEBPACK_IMPORTED_MODULE_18__.calcRoot)(chunks.map((c) => (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(c)));\n  const predicateRoot = (0,_fuel_ts_hasher__WEBPACK_IMPORTED_MODULE_14__.hash)((0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.concat)([\"0x4655454C\", codeRoot]));\n  return predicateRoot;\n}, \"getPredicateRoot\");\n\n// src/predicate/predicate.ts\nvar Predicate = class _Predicate extends Account {\n  static {\n    __name(this, \"Predicate\");\n  }\n  bytes;\n  predicateData = [];\n  interface;\n  initialBytecode;\n  configurableConstants;\n  /**\n   * Creates an instance of the Predicate class.\n   *\n   * @param bytecode - The bytecode of the predicate.\n   * @param abi - The JSON ABI of the predicate.\n   * @param provider - The provider used to interact with the blockchain.\n   * @param data - The predicate input data (optional).\n   * @param configurableConstants - Optional configurable constants for the predicate.\n   */\n  constructor({\n    bytecode,\n    abi,\n    provider,\n    data,\n    configurableConstants\n  }) {\n    const { predicateBytes, predicateInterface } = _Predicate.processPredicateData(\n      bytecode,\n      abi,\n      configurableConstants\n    );\n    const address = new _fuel_ts_address__WEBPACK_IMPORTED_MODULE_1__.Address(getPredicateRoot(predicateBytes));\n    super(address, provider);\n    this.initialBytecode = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(bytecode);\n    this.bytes = predicateBytes;\n    this.interface = predicateInterface;\n    this.configurableConstants = configurableConstants;\n    if (data !== void 0 && data.length > 0) {\n      this.predicateData = data;\n    }\n  }\n  /**\n   * Populates the transaction data with predicate data.\n   *\n   * @param transactionRequestLike - The transaction request-like object.\n   * @returns The transaction request with predicate data.\n   */\n  populateTransactionPredicateData(transactionRequestLike) {\n    const request2 = transactionRequestify(transactionRequestLike);\n    const placeholderIndex = this.getIndexFromPlaceholderWitness(request2);\n    if (placeholderIndex !== -1) {\n      request2.removeWitness(placeholderIndex);\n    }\n    request2.inputs.filter(isRequestInputCoinOrMessage).forEach((input) => {\n      if (isRequestInputResourceFromOwner(input, this.address)) {\n        input.predicate = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this.bytes);\n        input.predicateData = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this.getPredicateData());\n        input.witnessIndex = 0;\n      }\n    });\n    return request2;\n  }\n  /**\n   * Sends a transaction with the populated predicate data.\n   *\n   * @param transactionRequestLike - The transaction request-like object.\n   * @returns A promise that resolves to the transaction response.\n   */\n  sendTransaction(transactionRequestLike) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    return super.sendTransaction(transactionRequest, { estimateTxDependencies: false });\n  }\n  /**\n   * Simulates a transaction with the populated predicate data.\n   *\n   * @param transactionRequestLike - The transaction request-like object.\n   * @returns A promise that resolves to the call result.\n   */\n  simulateTransaction(transactionRequestLike) {\n    const transactionRequest = transactionRequestify(transactionRequestLike);\n    return super.simulateTransaction(transactionRequest, { estimateTxDependencies: false });\n  }\n  /**\n   * Retrieves the properly encoded predicate data.\n   *\n   * @returns A Uint8Array containing the encoded predicate data. If no predicate data is available, returns an empty Uint8Array.\n   */\n  getPredicateData() {\n    if (!this.predicateData.length) {\n      return new Uint8Array();\n    }\n    const mainFn = this.interface?.functions.main;\n    return mainFn?.encodeArguments(this.predicateData) || new Uint8Array();\n  }\n  /**\n   * Creates a new Predicate instance from an existing Predicate instance.\n   * @param overrides - The data and configurable constants to override.\n   * @returns A new Predicate instance with the same bytecode, ABI and provider but with the ability to set the data and configurable constants.\n   */\n  toNewInstance(overrides = {}) {\n    return new _Predicate({\n      bytecode: this.initialBytecode,\n      abi: this.interface.jsonAbi,\n      provider: this.provider,\n      data: overrides.data ?? this.predicateData,\n      configurableConstants: overrides.configurableConstants ?? this.configurableConstants\n    });\n  }\n  /**\n   * Sets the predicate data.\n   *\n   * @param data - The data to be set for the predicate.\n   */\n  setData(data) {\n    this.predicateData = data;\n  }\n  /**\n   * Processes the predicate data and returns the altered bytecode and interface.\n   *\n   * @param bytes - The bytes of the predicate.\n   * @param jsonAbi - The JSON ABI of the predicate.\n   * @param configurableConstants - Optional configurable constants for the predicate.\n   * @returns An object containing the new predicate bytes and interface.\n   */\n  static processPredicateData(bytes, jsonAbi, configurableConstants) {\n    let predicateBytes = (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.arrayify)(bytes);\n    const abiInterface = new _fuel_ts_abi_coder__WEBPACK_IMPORTED_MODULE_0__.Interface(jsonAbi);\n    if (abiInterface.functions.main === void 0) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.ABI_MAIN_METHOD_MISSING,\n        'Cannot use ABI without \"main\" function.'\n      );\n    }\n    if (configurableConstants && Object.keys(configurableConstants).length) {\n      predicateBytes = _Predicate.setConfigurableConstants(\n        predicateBytes,\n        configurableConstants,\n        abiInterface\n      );\n    }\n    return {\n      predicateBytes,\n      predicateInterface: abiInterface\n    };\n  }\n  /**\n   * Retrieves resources satisfying the spend query for the account.\n   *\n   * @param quantities - IDs of coins to exclude.\n   * @param resourcesIdsToIgnore - IDs of resources to be excluded from the query.\n   * @returns A promise that resolves to an array of Resources.\n   */\n  async getResourcesToSpend(quantities, resourcesIdsToIgnore) {\n    const resources = await this.provider.getResourcesToSpend(\n      this.address,\n      quantities,\n      resourcesIdsToIgnore\n    );\n    return resources.map((resource) => ({\n      ...resource,\n      predicate: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this.bytes),\n      predicateData: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this.getPredicateData())\n    }));\n  }\n  /**\n   * Generates an array of fake resources based on the provided coins.\n   *\n   * @param coins - An array of `FakeResources` objects representing the coins.\n   * @returns An array of `Resource` objects with generated properties.\n   */\n  generateFakeResources(coins) {\n    return super.generateFakeResources(coins).map((coin) => ({\n      ...coin,\n      predicate: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this.bytes),\n      predicateData: (0,_fuel_ts_utils__WEBPACK_IMPORTED_MODULE_6__.hexlify)(this.getPredicateData())\n    }));\n  }\n  /**\n   * Sets the configurable constants for the predicate.\n   *\n   * @param bytes - The bytes of the predicate.\n   * @param configurableConstants - Configurable constants to be set.\n   * @param abiInterface - The ABI interface of the predicate.\n   * @returns The mutated bytes with the configurable constants set.\n   */\n  static setConfigurableConstants(bytes, configurableConstants, abiInterface) {\n    const mutatedBytes = bytes;\n    try {\n      if (Object.keys(abiInterface.configurables).length === 0) {\n        throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n          _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_CONFIGURABLE_CONSTANTS,\n          \"Predicate has no configurable constants to be set\"\n        );\n      }\n      Object.entries(configurableConstants).forEach(([key, value]) => {\n        if (!abiInterface?.configurables[key]) {\n          throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n            _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.CONFIGURABLE_NOT_FOUND,\n            `No configurable constant named '${key}' found in the Predicate`\n          );\n        }\n        const { offset } = abiInterface.configurables[key];\n        const encoded = abiInterface.encodeConfigurable(key, value);\n        mutatedBytes.set(encoded, offset);\n      });\n    } catch (err) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_CONFIGURABLE_CONSTANTS,\n        `Error setting configurable constants: ${err.message}.`\n      );\n    }\n    return mutatedBytes;\n  }\n  /**\n   * Returns the index of the witness placeholder that was added to this predicate.\n   * If no witness placeholder was added, it returns -1.\n   * @param request - The transaction request.\n   * @returns The index of the witness placeholder, or -1 if there is no witness placeholder.\n   */\n  getIndexFromPlaceholderWitness(request2) {\n    const predicateInputs = request2.inputs.filter(isRequestInputResource).filter((input) => isRequestInputResourceFromOwner(input, this.address));\n    let index = -1;\n    const hasEmptyPredicateInputs = predicateInputs.find((input) => !input.predicate);\n    if (hasEmptyPredicateInputs) {\n      index = hasEmptyPredicateInputs.witnessIndex;\n      const allInputsAreEmpty = predicateInputs.every((input) => !input.predicate);\n      if (!allInputsAreEmpty) {\n        const wasFilledInputAddedFirst = !!predicateInputs[0]?.predicate;\n        if (wasFilledInputAddedFirst) {\n          index = -1;\n        }\n      }\n    }\n    return index;\n  }\n  /**\n   *\n   * @param account - The account used to pay the deployment costs.\n   * @returns The _blobId_ and a _waitForResult_ callback that returns the deployed predicate\n   * once the blob deployment transaction finishes.\n   *\n   * The returned loader predicate will have the same configurable constants\n   * as the original predicate which was used to generate the loader predicate.\n   */\n  async deploy(account) {\n    return deployScriptOrPredicate({\n      deployer: account,\n      abi: this.interface.jsonAbi,\n      bytecode: this.bytes,\n      loaderInstanceCallback: /* @__PURE__ */ __name((loaderBytecode, newAbi) => new _Predicate({\n        bytecode: loaderBytecode,\n        abi: newAbi,\n        provider: this.provider,\n        data: this.predicateData\n      }), \"loaderInstanceCallback\")\n    });\n  }\n};\n\n// src/connectors/fuel.ts\n\n\n// src/connectors/fuel-connector.ts\n\n\n\n// src/connectors/types/connector-types.ts\nvar FuelConnectorMethods = /* @__PURE__ */ ((FuelConnectorMethods2) => {\n  FuelConnectorMethods2[\"ping\"] = \"ping\";\n  FuelConnectorMethods2[\"version\"] = \"version\";\n  FuelConnectorMethods2[\"connect\"] = \"connect\";\n  FuelConnectorMethods2[\"disconnect\"] = \"disconnect\";\n  FuelConnectorMethods2[\"isConnected\"] = \"isConnected\";\n  FuelConnectorMethods2[\"accounts\"] = \"accounts\";\n  FuelConnectorMethods2[\"currentAccount\"] = \"currentAccount\";\n  FuelConnectorMethods2[\"signTransaction\"] = \"signTransaction\";\n  FuelConnectorMethods2[\"signMessage\"] = \"signMessage\";\n  FuelConnectorMethods2[\"sendTransaction\"] = \"sendTransaction\";\n  FuelConnectorMethods2[\"assets\"] = \"assets\";\n  FuelConnectorMethods2[\"addAsset\"] = \"addAsset\";\n  FuelConnectorMethods2[\"addAssets\"] = \"addAssets\";\n  FuelConnectorMethods2[\"networks\"] = \"networks\";\n  FuelConnectorMethods2[\"currentNetwork\"] = \"currentNetwork\";\n  FuelConnectorMethods2[\"addNetwork\"] = \"addNetwork\";\n  FuelConnectorMethods2[\"selectNetwork\"] = \"selectNetwork\";\n  FuelConnectorMethods2[\"addABI\"] = \"addABI\";\n  FuelConnectorMethods2[\"getABI\"] = \"getABI\";\n  FuelConnectorMethods2[\"hasABI\"] = \"hasABI\";\n  return FuelConnectorMethods2;\n})(FuelConnectorMethods || {});\nvar FuelConnectorEventTypes = /* @__PURE__ */ ((FuelConnectorEventTypes2) => {\n  FuelConnectorEventTypes2[\"connectors\"] = \"connectors\";\n  FuelConnectorEventTypes2[\"currentConnector\"] = \"currentConnector\";\n  FuelConnectorEventTypes2[\"connection\"] = \"connection\";\n  FuelConnectorEventTypes2[\"accounts\"] = \"accounts\";\n  FuelConnectorEventTypes2[\"currentAccount\"] = \"currentAccount\";\n  FuelConnectorEventTypes2[\"networks\"] = \"networks\";\n  FuelConnectorEventTypes2[\"currentNetwork\"] = \"currentNetwork\";\n  FuelConnectorEventTypes2[\"assets\"] = \"assets\";\n  FuelConnectorEventTypes2[\"abis\"] = \"abis\";\n  return FuelConnectorEventTypes2;\n})(FuelConnectorEventTypes || {});\nvar FuelConnectorEventType = \"FuelConnector\";\n\n// src/connectors/types/local-storage.ts\nvar LocalStorage = class {\n  static {\n    __name(this, \"LocalStorage\");\n  }\n  storage;\n  constructor(localStorage) {\n    this.storage = localStorage;\n  }\n  async setItem(key, value) {\n    this.storage.setItem(key, value);\n  }\n  async getItem(key) {\n    return this.storage.getItem(key);\n  }\n  async removeItem(key) {\n    this.storage.removeItem(key);\n  }\n  async clear() {\n    this.storage.clear();\n  }\n};\n\n// src/connectors/fuel-connector.ts\nvar FuelConnector = class extends events__WEBPACK_IMPORTED_MODULE_17__.EventEmitter {\n  static {\n    __name(this, \"FuelConnector\");\n  }\n  name = \"\";\n  metadata = {};\n  connected = false;\n  installed = false;\n  external = true;\n  events = FuelConnectorEventTypes;\n  /**\n   * Should return true if the connector is loaded\n   * in less then one second.\n   *\n   * @returns Always true.\n   */\n  async ping() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return the current version of the connector\n   * and the network version that is compatible.\n   *\n   * @returns boolean - connection status.\n   */\n  async version() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return true if the connector is connected\n   * to any of the accounts available.\n   *\n   * @returns The connection status.\n   */\n  async isConnected() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return all the accounts authorized for the\n   * current connection.\n   *\n   * @returns The accounts addresses strings\n   */\n  async accounts() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should start the connection process and return\n   * true if the account authorize the connection.\n   *\n   * and return false if the user reject the connection.\n   *\n   * @emits accounts\n   * @returns boolean - connection status.\n   */\n  async connect() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should disconnect the current connection and\n   * return false if the disconnection was successful.\n   *\n   * @emits assets connection\n   * @returns The connection status.\n   */\n  async disconnect() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should start the sign message process and return\n   * the signed message.\n   *\n   * @param address - The address to sign the message\n   * @param message - The message to sign all text will be treated as text utf-8\n   *\n   * @returns Message signature\n   */\n  async signMessage(_address, _message) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should start the sign transaction process and return\n   * the signed transaction.\n   *\n   * @param address - The address to sign the transaction\n   * @param transaction - The transaction to sign\n   *\n   * @returns Transaction signature\n   */\n  async signTransaction(_address, _transaction, _params) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should start the send transaction process and return\n   * the transaction id submitted to the network.\n   *\n   * If the network is not available for the connection\n   * it should throw an error to avoid the transaction\n   * to be sent to the wrong network and lost.\n   *\n   * @param address - The address to sign the transaction\n   * @param transaction - The transaction to send\n   * @param params - Optional parameters to send the transaction\n   * @returns The transaction id or transaction response\n   */\n  async sendTransaction(_address, _transaction, _params) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return the current account selected inside the connector, if the account\n   * is authorized for the connection.\n   *\n   * If the account is not authorized it should return null.\n   *\n   * @returns The current account selected otherwise null.\n   */\n  async currentAccount() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should add the assets metadata to the connector and return true if the asset\n   * was added successfully.\n   *\n   * If the asset already exists it should throw an error.\n   *\n   * @emits assets\n   * @param assets - The assets to add the metadata to the connection.\n   * @throws Error if the asset already exists\n   * @returns True if the asset was added successfully\n   */\n  async addAssets(_assets) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should add the asset metadata to the connector and return true if the asset\n   * was added successfully.\n   *\n   * If the asset already exists it should throw an error.\n   *\n   * @emits assets\n   * @param asset - The asset to add the metadata to the connection.\n   * @throws Error if the asset already exists\n   * @returns True if the asset was added successfully\n   */\n  async addAsset(_asset) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return all the assets added to the connector. If a connection is already established.\n   *\n   * @returns Array of assets metadata from the connector vinculated to the all accounts from a specific Wallet.\n   */\n  async assets() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should start the add network process and return true if the network was added successfully.\n   *\n   * @emits networks\n   * @throws Error if the network already exists\n   * @param networkUrl - The URL of the network to be added.\n   * @returns Return true if the network was added successfully\n   */\n  async addNetwork(_networkUrl) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should start the select network process and return true if the network has change successfully.\n   *\n   * @emits networks\n   * @throws Error if the network already exists\n   * @param network - The network to be selected.\n   * @returns Return true if the network was added successfully\n   */\n  async selectNetwork(_network) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return all the networks available from the connector. If the connection is already established.\n   *\n   * @returns Return all the networks added to the connector.\n   */\n  async networks() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return the current network selected inside the connector. Even if the connection is not established.\n   *\n   * @returns Return the current network selected inside the connector.\n   */\n  async currentNetwork() {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should add the ABI to the connector and return true if the ABI was added successfully.\n   *\n   * @param contractId - The contract id to add the ABI.\n   * @param abi - The JSON ABI that represents a contract.\n   * @returns Return true if the ABI was added successfully.\n   */\n  async addABI(_contractId, _abi) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return the ABI from the connector vinculated to the all accounts from a specific Wallet.\n   *\n   * @param id - The contract id to get the ABI.\n   * @returns The ABI if it exists, otherwise return null.\n   */\n  async getABI(_id) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Should return true if the abi exists in the connector vinculated to the all accounts from a specific Wallet.\n   *\n   * @param id - The contract id to get the abi\n   * @returns Returns true if the abi exists or false if not.\n   */\n  async hasABI(_id) {\n    throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.NOT_IMPLEMENTED, \"Method not implemented.\");\n  }\n  /**\n   * Event listener for the connector.\n   *\n   * @param eventName - The event name to listen\n   * @param listener - The listener function\n   */\n  on(eventName, listener) {\n    super.on(eventName, listener);\n    return this;\n  }\n};\n\n// src/connectors/utils/cache.ts\nfunction cacheFor(fn, { cache: cache2, cacheTime, key }) {\n  return async (...args) => {\n    if (cache2[key] && cache2[key]?.value) {\n      return cache2[key]?.value;\n    }\n    clearTimeout(cache2[key]?.timeout);\n    const result = await fn(...args);\n    cache2[key] = {\n      timeout: Number(\n        setTimeout(() => {\n          cache2[key] = null;\n        }, cacheTime)\n      ),\n      value: result\n    };\n    return result;\n  };\n}\n__name(cacheFor, \"cacheFor\");\n\n// src/connectors/utils/dispatch-fuel-connector-event.ts\nfunction dispatchFuelConnectorEvent(connector) {\n  window.dispatchEvent(\n    new CustomEvent(FuelConnectorEventType, {\n      detail: connector\n    })\n  );\n}\n__name(dispatchFuelConnectorEvent, \"dispatchFuelConnectorEvent\");\n\n// src/connectors/utils/promises.ts\n\nfunction deferPromise() {\n  const defer = {};\n  defer.promise = new Promise((resolve, reject) => {\n    defer.reject = reject;\n    defer.resolve = resolve;\n  });\n  return defer;\n}\n__name(deferPromise, \"deferPromise\");\nasync function withTimeout(promise, timeout = 1050) {\n  const timeoutPromise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      reject(new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError.CODES.TIMEOUT_EXCEEDED, \"Promise timed out\"));\n    }, timeout);\n  });\n  return Promise.race([timeoutPromise, promise]);\n}\n__name(withTimeout, \"withTimeout\");\n\n// src/connectors/fuel.ts\nvar HAS_CONNECTOR_TIMEOUT = 2e3;\nvar PING_CACHE_TIME = 5e3;\nvar { warn } = console;\nvar Fuel = class _Fuel extends FuelConnector {\n  static {\n    __name(this, \"Fuel\");\n  }\n  static STORAGE_KEY = \"fuel-current-connector\";\n  static defaultConfig = {};\n  _storage = null;\n  _connectors = [];\n  _targetObject = null;\n  _unsubscribes = [];\n  _targetUnsubscribe = /* @__PURE__ */ __name(() => {\n  }, \"_targetUnsubscribe\");\n  _pingCache = {};\n  _currentConnector;\n  _initializationPromise = null;\n  constructor(config = _Fuel.defaultConfig) {\n    super();\n    this.setMaxListeners(1e3);\n    this._connectors = config.connectors ?? [];\n    this._targetObject = this.getTargetObject(config.targetObject);\n    this._storage = config.storage === void 0 ? this.getStorage() : config.storage;\n    this.setupMethods();\n    this._initializationPromise = this.initialize();\n  }\n  async initialize() {\n    try {\n      const connectResponse = this.setDefaultConnector();\n      this._targetUnsubscribe = this.setupConnectorListener();\n      await connectResponse;\n    } catch (error) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_PROVIDER, \"Error initializing Fuel Connector\");\n    }\n  }\n  async init() {\n    await this._initializationPromise;\n    return this;\n  }\n  /**\n   * Return the target object to listen for global events.\n   */\n  getTargetObject(targetObject) {\n    if (targetObject) {\n      return targetObject;\n    }\n    if (typeof window !== \"undefined\") {\n      return window;\n    }\n    if (typeof document !== \"undefined\") {\n      return document;\n    }\n    return null;\n  }\n  /**\n   * Return the storage used.\n   */\n  getStorage() {\n    if (typeof window !== \"undefined\") {\n      return new LocalStorage(window.localStorage);\n    }\n    return void 0;\n  }\n  /**\n   * Setup the default connector from the storage.\n   */\n  async setDefaultConnector() {\n    const connectorName = await this._storage?.getItem(_Fuel.STORAGE_KEY) || this._connectors[0]?.name;\n    if (connectorName) {\n      return this.selectConnector(connectorName, {\n        emitEvents: false\n      });\n    }\n    return void 0;\n  }\n  /**\n   * Start listener for all the events of the current\n   * connector and emit them to the Fuel instance\n   */\n  setupConnectorEvents(events) {\n    if (!this._currentConnector) {\n      return;\n    }\n    const currentConnector = this._currentConnector;\n    this._unsubscribes.map((unSub) => unSub());\n    this._unsubscribes = events.map((event) => {\n      const handler = /* @__PURE__ */ __name((...args) => this.emit(event, ...args), \"handler\");\n      currentConnector.on(event, handler);\n      return () => currentConnector.off(event, handler);\n    });\n  }\n  /**\n   * Call method from the current connector.\n   */\n  async callMethod(method, ...args) {\n    const hasConnector = await this.hasConnector();\n    await this.pingConnector();\n    if (!this._currentConnector || !hasConnector) {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(\n        _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.MISSING_CONNECTOR,\n        `No connector selected for calling ${method}. Use hasConnector before executing other methods.`\n      );\n    }\n    if (typeof this._currentConnector[method] === \"function\") {\n      return this._currentConnector[method](...args);\n    }\n    return void 0;\n  }\n  /**\n   * Create a method for each method proxy that is available on the Common interface\n   * and call the method from the current connector.\n   */\n  setupMethods() {\n    Object.values(FuelConnectorMethods).forEach((method) => {\n      this[method] = async (...args) => this.callMethod(method, ...args);\n    });\n  }\n  /**\n   * Fetch the status of a connector and set the installed and connected\n   * status.\n   */\n  async fetchConnectorStatus(connector) {\n    const requestTimestamp = Date.now();\n    const [isConnected, ping] = await Promise.allSettled([\n      withTimeout(connector.isConnected()),\n      withTimeout(this.pingConnector(connector))\n    ]);\n    const isStale = requestTimestamp < (connector._latestUpdate || 0);\n    if (!isStale) {\n      connector._latestUpdate = Date.now();\n      connector.installed = ping.status === \"fulfilled\" && ping.value;\n      connector.connected = isConnected.status === \"fulfilled\" && isConnected.value;\n    }\n    return {\n      installed: connector.installed,\n      connected: connector.connected\n    };\n  }\n  /**\n   * Fetch the status of all connectors and set the installed and connected\n   * status.\n   */\n  async fetchConnectorsStatus() {\n    return Promise.all(\n      this._connectors.map(async (connector) => this.fetchConnectorStatus(connector))\n    );\n  }\n  /**\n   * Fetch the status of a connector and set the installed and connected\n   * status. If no connector is provided it will ping the current connector.\n   */\n  async pingConnector(connector) {\n    const curConnector = connector || this._currentConnector;\n    if (!curConnector) {\n      return false;\n    }\n    try {\n      return await cacheFor(async () => withTimeout(curConnector.ping()), {\n        key: curConnector.name,\n        cache: this._pingCache,\n        cacheTime: PING_CACHE_TIME\n      })();\n    } catch {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_PROVIDER, \"Current connector is not available.\");\n    }\n  }\n  /**\n   * Setup a listener for the FuelConnector event and add the connector\n   * to the list of new connectors.\n   */\n  setupConnectorListener = /* @__PURE__ */ __name(() => {\n    const { _targetObject: targetObject } = this;\n    const eventName = FuelConnectorEventType;\n    if (targetObject?.on) {\n      targetObject.on(eventName, this.addConnector);\n      return () => {\n        targetObject.off?.(eventName, this.addConnector);\n      };\n    }\n    if (targetObject?.addEventListener) {\n      const handler = /* @__PURE__ */ __name((e) => {\n        this.addConnector(e.detail);\n      }, \"handler\");\n      targetObject.addEventListener(eventName, handler);\n      return () => {\n        targetObject.removeEventListener?.(eventName, handler);\n      };\n    }\n    return () => {\n    };\n  }, \"setupConnectorListener\");\n  /**\n   * Add a new connector to the list of connectors.\n   */\n  addConnector = /* @__PURE__ */ __name(async (connector) => {\n    if (!this.getConnector(connector)) {\n      this._connectors.push(connector);\n    }\n    await this.fetchConnectorStatus(connector);\n    this.emit(this.events.connectors, this._connectors);\n    if (!this._currentConnector) {\n      await this.selectConnector(connector.name, {\n        emitEvents: false\n      });\n    }\n  }, \"addConnector\");\n  triggerConnectorEvents = /* @__PURE__ */ __name(async () => {\n    const [isConnected, networks2, currentNetwork] = await Promise.all([\n      this.isConnected(),\n      this.networks(),\n      this.currentNetwork()\n    ]);\n    this.emit(this.events.connection, isConnected);\n    this.emit(this.events.networks, networks2);\n    this.emit(this.events.currentNetwork, currentNetwork);\n    if (isConnected) {\n      const [accounts, currentAccount] = await Promise.all([\n        this.accounts(),\n        this.currentAccount()\n      ]);\n      this.emit(this.events.accounts, accounts);\n      this.emit(this.events.currentAccount, currentAccount);\n    }\n  }, \"triggerConnectorEvents\");\n  /**\n   * Get a connector from the list of connectors.\n   */\n  getConnector = /* @__PURE__ */ __name((connector) => this._connectors.find((c) => {\n    const connectorName = typeof connector === \"string\" ? connector : connector.name;\n    return c.name === connectorName || c === connector;\n  }) || null, \"getConnector\");\n  /**\n   * Return the list of connectors with the status of installed and connected.\n   */\n  async connectors() {\n    await this.fetchConnectorsStatus();\n    return this._connectors;\n  }\n  /**\n   * Set the current connector to be used.\n   */\n  async selectConnector(connectorName, options = {\n    emitEvents: true\n  }) {\n    const connector = this.getConnector(connectorName);\n    if (!connector) {\n      return false;\n    }\n    if (this._currentConnector?.name === connectorName) {\n      return true;\n    }\n    const { installed } = await this.fetchConnectorStatus(connector);\n    if (installed) {\n      this._currentConnector = connector;\n      this.emit(this.events.currentConnector, connector);\n      this.setupConnectorEvents(Object.values(FuelConnectorEventTypes));\n      await this._storage?.setItem(_Fuel.STORAGE_KEY, connector.name);\n      if (options.emitEvents) {\n        this.triggerConnectorEvents();\n      }\n      return true;\n    }\n    return false;\n  }\n  /**\n   * Return the current selected connector.\n   */\n  currentConnector() {\n    return this._currentConnector;\n  }\n  /**\n   * Return true if any connector is available.\n   */\n  async hasConnector() {\n    if (this._currentConnector) {\n      return true;\n    }\n    const defer = deferPromise();\n    this.once(this.events.currentConnector, () => {\n      defer.resolve(true);\n    });\n    return withTimeout(defer.promise, HAS_CONNECTOR_TIMEOUT).then(() => true).catch(() => false);\n  }\n  async hasWallet() {\n    return this.hasConnector();\n  }\n  /**\n   * Return a Fuel Provider instance with extends features to work with\n   * connectors.\n   *\n   * @deprecated getProvider is deprecated and is going to be removed in the future, use getWallet instead.\n   */\n  async getProvider(providerOrNetwork) {\n    warn(\n      \"getProvider is deprecated and is going to be removed in the future, use getWallet instead.\"\n    );\n    return this._getProvider(providerOrNetwork);\n  }\n  /**\n   * Return a Fuel Provider instance with extends features to work with\n   * connectors.\n   */\n  async _getProvider(providerOrNetwork) {\n    let provider;\n    if (providerOrNetwork && \"getTransactionResponse\" in providerOrNetwork) {\n      provider = providerOrNetwork;\n    } else if (providerOrNetwork && \"chainId\" in providerOrNetwork && \"url\" in providerOrNetwork) {\n      provider = new Provider(providerOrNetwork.url);\n    } else if (!providerOrNetwork) {\n      const currentNetwork = await this.currentNetwork();\n      provider = new Provider(currentNetwork.url);\n    } else {\n      throw new _fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.FuelError(_fuel_ts_errors__WEBPACK_IMPORTED_MODULE_3__.ErrorCode.INVALID_PROVIDER, \"Provider is not valid.\");\n    }\n    return provider;\n  }\n  /**\n   * Return a Fuel Wallet Locked instance with extends features to work with\n   * connectors.\n   */\n  async getWallet(address, providerOrNetwork) {\n    const provider = await this._getProvider(providerOrNetwork);\n    return new Account(address, provider, this);\n  }\n  /**\n   * Remove all open listeners this is useful when you want to\n   * remove the Fuel instance and avoid memory leaks.\n   */\n  unsubscribe() {\n    this._unsubscribes.map((unSub) => unSub());\n    this._targetUnsubscribe();\n    this.removeAllListeners();\n  }\n  /**\n   * Clean all the data from the storage.\n   */\n  async clean() {\n    await this._storage?.removeItem(_Fuel.STORAGE_KEY);\n  }\n  /**\n   * Removes all listeners and cleans the storage.\n   */\n  async destroy() {\n    this.unsubscribe();\n    await this.clean();\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGZ1ZWwtdHMrYWNjb3VudEAwLjEwMS4xX3ZpdGVzdEAzLjIuNF9AdHlwZXMrZGVidWdANC4xLjEyX0B0eXBlcytub2RlQDI0LjcuMl9qaXRpQDIuNi4xX2YyMDRkYWExYjViZDBkOGY4MGFiMzk4ZGI3OWE4ZjUxL25vZGVfbW9kdWxlcy9AZnVlbC10cy9hY2NvdW50L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EsNERBQTRELDJCQUEyQjs7QUFFdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsVUFBVSw0QkFBNEI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsdURBQUc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsdURBQUc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx5Q0FBeUM7QUFDL0MsMkJBQTJCLHVEQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHlDQUF5QztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3lFO0FBQ1k7QUFDakM7QUFDbUI7QUFDZ0c7O0FBRXZLO0FBQ21GO0FBQ0U7QUFDakM7QUFDbUY7O0FBRXZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdCQUFnQjs7QUFFakI7QUFDcUY7QUFDakM7QUFDSTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0RBQVUsQ0FBQyx3REFBTztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix3REFBVTtBQUM1QjtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNB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Q0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3VEO0FBQ0o7QUFDa0M7QUFDL0M7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDdUQ7QUFDOEI7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGtDQUFrQyxhQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxjQUFjLEdBQUcsTUFBTTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIscURBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLGNBQWMsc0RBQVc7QUFDekIsTUFBTSxzREFBVztBQUNqQiwrQkFBK0IsUUFBUTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUN1RDtBQUM4QjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxREFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzREFBVztBQUMzQixRQUFRLHNEQUFXO0FBQ25CLDZDQUE2QyxRQUFRO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0RBQVcsQ0FBQyxzREFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQSxpREFBaUQsaURBQVk7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YscUJBQXFCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxREFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixxREFBUTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LGlEQUFhO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzREFBVyxDQUFDLHNEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0RBQVcsQ0FBQyxzREFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzREFBVyxDQUFDLHNEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzREFBVyxDQUFDLHNEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0RBQVcsQ0FBQyxzREFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxzREFBVyxDQUFDLHNEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNEQUFXLENBQUMsc0RBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0RBQVcsQ0FBQyxzREFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsK0JBQStCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOLGdCQUFnQixzREFBVyxDQUFDLHNEQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ01FO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy95b3VzdWtlL015UHJvamVjdC9teS1uZXh1cy1hcHAvbm9kZV9tb2R1bGVzLy5wbnBtL0BmdWVsLXRzK2FjY291bnRAMC4xMDEuMV92aXRlc3RAMy4yLjRfQHR5cGVzK2RlYnVnQDQuMS4xMl9AdHlwZXMrbm9kZUAyNC43LjJfaml0aUAyLjYuMV9mMjA0ZGFhMWI1YmQwZDhmODBhYjM5OGRiNzlhOGY1MS9ub2RlX21vZHVsZXMvQGZ1ZWwtdHMvYWNjb3VudC9kaXN0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fbmFtZSA9ICh0YXJnZXQsIHZhbHVlKSA9PiBfX2RlZlByb3AodGFyZ2V0LCBcIm5hbWVcIiwgeyB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xuXG4vLyBzcmMvcHJvdmlkZXJzL2NoYWlucy50c1xudmFyIENIQUlOX0lEUyA9IHtcbiAgZXRoOiB7XG4gICAgbWFpbm5ldDogMSxcbiAgICBzZXBvbGlhOiAxMTE1NTExMSxcbiAgICBmb3VuZHJ5OiAzMTMzN1xuICB9LFxuICBmdWVsOiB7XG4gICAgZGV2bmV0OiAwLFxuICAgIHRlc3RuZXQ6IDAsXG4gICAgbWFpbm5ldDogOTg4OVxuICB9XG59O1xuXG4vLyBzcmMvYXNzZXRzL3V0aWxzL25ldHdvcmsudHNcbnZhciBnZXREZWZhdWx0Q2hhaW5JZCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG5ldHdvcmtUeXBlKSA9PiB7XG4gIGlmIChuZXR3b3JrVHlwZSA9PT0gXCJldGhlcmV1bVwiKSB7XG4gICAgcmV0dXJuIENIQUlOX0lEUy5ldGguc2Vwb2xpYTtcbiAgfVxuICBpZiAobmV0d29ya1R5cGUgPT09IFwiZnVlbFwiKSB7XG4gICAgcmV0dXJuIENIQUlOX0lEUy5mdWVsLnRlc3RuZXQ7XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn0sIFwiZ2V0RGVmYXVsdENoYWluSWRcIik7XG52YXIgZ2V0QXNzZXROZXR3b3JrID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoe1xuICBhc3NldCxcbiAgY2hhaW5JZCxcbiAgbmV0d29ya1R5cGVcbn0pID0+IHtcbiAgY29uc3QgbmV0d29yayA9IGFzc2V0Lm5ldHdvcmtzLmZpbmQoXG4gICAgKGl0ZW0pID0+IGl0ZW0uY2hhaW5JZCA9PT0gY2hhaW5JZCAmJiBpdGVtLnR5cGUgPT09IG5ldHdvcmtUeXBlXG4gICk7XG4gIHJldHVybiBuZXR3b3JrO1xufSwgXCJnZXRBc3NldE5ldHdvcmtcIik7XG52YXIgZ2V0QXNzZXRXaXRoTmV0d29yayA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHtcbiAgYXNzZXQsXG4gIGNoYWluSWQsXG4gIG5ldHdvcmtUeXBlXG59KSA9PiB7XG4gIGNvbnN0IHsgbmV0d29ya3M6IF8sIC4uLmFzc2V0UmVzdCB9ID0gYXNzZXQ7XG4gIGNvbnN0IGNoYWluSWRUb1VzZSA9IGNoYWluSWQgPz8gZ2V0RGVmYXVsdENoYWluSWQobmV0d29ya1R5cGUpO1xuICBpZiAoY2hhaW5JZFRvVXNlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGNvbnN0IGFzc2V0TmV0d29yayA9IGdldEFzc2V0TmV0d29yayh7XG4gICAgYXNzZXQsXG4gICAgY2hhaW5JZDogY2hhaW5JZFRvVXNlLFxuICAgIG5ldHdvcmtUeXBlXG4gIH0pO1xuICBpZiAoIWFzc2V0TmV0d29yaykge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5hc3NldFJlc3QsXG4gICAgLi4uYXNzZXROZXR3b3JrXG4gIH07XG59LCBcImdldEFzc2V0V2l0aE5ldHdvcmtcIik7XG52YXIgZ2V0QXNzZXRFdGggPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChhc3NldCwgY2hhaW5JZCkgPT4gZ2V0QXNzZXRXaXRoTmV0d29yayh7XG4gIGFzc2V0LFxuICBuZXR3b3JrVHlwZTogXCJldGhlcmV1bVwiLFxuICBjaGFpbklkXG59KSwgXCJnZXRBc3NldEV0aFwiKTtcbnZhciBnZXRBc3NldEZ1ZWwgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChhc3NldCwgY2hhaW5JZCkgPT4gZ2V0QXNzZXRXaXRoTmV0d29yayh7XG4gIGFzc2V0LFxuICBuZXR3b3JrVHlwZTogXCJmdWVsXCIsXG4gIGNoYWluSWRcbn0pLCBcImdldEFzc2V0RnVlbFwiKTtcblxuLy8gc3JjL2Fzc2V0cy91dGlscy91cmwudHNcbnZhciBERUxJTUlURVJfUEFUSCA9IFwiL1wiO1xudmFyIHRyaW1SZWdleCA9IC9eXFwvfFxcLyQvZztcbnZhciB0cmltUGF0aCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhdGggPSBcIlwiKSA9PiBwYXRoLnJlcGxhY2UodHJpbVJlZ2V4LCBcIlwiKSwgXCJ0cmltUGF0aFwiKTtcbmZ1bmN0aW9uIHVybEpvaW4oYmFzZVVybCwgLi4ucGF0aHMpIHtcbiAgY29uc3QgaGFzQmFzZVVybCA9IGJhc2VVcmwgIT09IG51bGwgJiYgYmFzZVVybCAhPT0gdm9pZCAwO1xuICBjb25zdCByb290UGF0aCA9IGJhc2VVcmw/LlswXSA9PT0gXCIvXCIgJiYgYmFzZVVybC5sZW5ndGggPiAxO1xuICBjb25zdCBhbGxQYXRocyA9IFtiYXNlVXJsLCAuLi5wYXRoc10uZmlsdGVyKEJvb2xlYW4pLm1hcCh0cmltUGF0aCk7XG4gIGlmIChyb290UGF0aCAmJiBoYXNCYXNlVXJsKSB7XG4gICAgYWxsUGF0aHMudW5zaGlmdChcIlwiKTtcbiAgfVxuICByZXR1cm4gYWxsUGF0aHMuam9pbihERUxJTUlURVJfUEFUSCk7XG59XG5fX25hbWUodXJsSm9pbiwgXCJ1cmxKb2luXCIpO1xuXG4vLyBzcmMvYXNzZXRzL3V0aWxzL3Jlc29sdmVJY29uUGF0aHMudHNcbmZ1bmN0aW9uIHJlc29sdmVJY29uUGF0aHMoYXNzZXRzMiwgYmFzZVBhdGggPSBcIi4vXCIpIHtcbiAgcmV0dXJuIGFzc2V0czIubWFwKChhc3NldCkgPT4gKHtcbiAgICAuLi5hc3NldCxcbiAgICBpY29uOiB1cmxKb2luKGJhc2VQYXRoLCBhc3NldC5pY29uKVxuICB9KSk7XG59XG5fX25hbWUocmVzb2x2ZUljb25QYXRocywgXCJyZXNvbHZlSWNvblBhdGhzXCIpO1xuXG4vLyBzcmMvYXNzZXRzL3V0aWxzL2Z1ZWxBc3NldHNCYXNlVXJsLnRzXG52YXIgZnVlbEFzc2V0c0Jhc2VVcmwgPSBcImh0dHBzOi8vYXNzZXRzLmZ1ZWwubmV0d29yay9wcm92aWRlcnMvXCI7XG5cbi8vIHNyYy9hc3NldHMvYXNzZXRzLnRzXG52YXIgcmF3QXNzZXRzID0gW1xuICB7XG4gICAgbmFtZTogXCJFdGhlcmV1bVwiLFxuICAgIHN5bWJvbDogXCJFVEhcIixcbiAgICBpY29uOiBcImV0aC5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGguc2Vwb2xpYSxcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGguZm91bmRyeSxcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwuZGV2bmV0LFxuICAgICAgICBkZWNpbWFsczogOSxcbiAgICAgICAgYXNzZXRJZDogXCIweGY4ZjhiNjI4M2Q3ZmE1YjY3MmI1MzBjYmI4NGZjY2NiNGZmOGRjNDBmODE3NmVmNDU0NGRkYjFmMTk1MmFkMDdcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJmdWVsXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5mdWVsLnRlc3RuZXQsXG4gICAgICAgIGRlY2ltYWxzOiA5LFxuICAgICAgICBhc3NldElkOiBcIjB4ZjhmOGI2MjgzZDdmYTViNjcyYjUzMGNiYjg0ZmNjY2I0ZmY4ZGM0MGY4MTc2ZWY0NTQ0ZGRiMWYxOTUyYWQwN1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgZGVjaW1hbHM6IDksXG4gICAgICAgIGFzc2V0SWQ6IFwiMHhmOGY4YjYyODNkN2ZhNWI2NzJiNTMwY2JiODRmY2NjYjRmZjhkYzQwZjgxNzZlZjQ1NDRkZGIxZjE5NTJhZDA3XCJcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIldFVEhcIixcbiAgICBzeW1ib2w6IFwiV0VUSFwiLFxuICAgIGljb246IFwid2V0aC5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweEMwMmFhQTM5YjIyM0ZFOEQwQTBlNUM0RjI3ZUFEOTA4M0M3NTZDYzJcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweGEzOGE1YThiZWViMDhkOTU3NDRiYzdmNTg1MjgwNzNmNDA1MmIyNTRkZWY1OWViYTIwYzk5YzIwMmI1YWNhYTNcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIndlRVRIXCIsXG4gICAgc3ltYm9sOiBcIndlRVRIXCIsXG4gICAgaWNvbjogXCJ3ZUVUSC53ZWJwXCIsXG4gICAgbmV0d29ya3M6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJldGhlcmV1bVwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZXRoLm1haW5uZXQsXG4gICAgICAgIGFkZHJlc3M6IFwiMHhDZDVmRTIzQzg1ODIwRjdCNzJEMDkyNkZDOWIwNWI0M0UzNTliN2VlXCIsXG4gICAgICAgIGRlY2ltYWxzOiAxOFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJmdWVsXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5mdWVsLm1haW5uZXQsXG4gICAgICAgIGNvbnRyYWN0SWQ6IFwiMHg0ZWE2Y2NlZjEyMTVkOTQ3OWYxMDI0ZGZmNzBmYzA1NWNhNTM4MjE1ZDJjOGMzNDhiZWRkZmZkNTQ1ODNkMGU4XCIsXG4gICAgICAgIGFzc2V0SWQ6IFwiMHgyMzllZDZlMTJiN2NlNDA4OWVlMjQ1MjQ0ZTNiZjkwNjk5OWE2NDI5YzJhOWE0NDVhMWUxZmFmNTY5MTRhNGFiXCIsXG4gICAgICAgIGRlY2ltYWxzOiA5XG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJyc0VUSFwiLFxuICAgIHN5bWJvbDogXCJyc0VUSFwiLFxuICAgIGljb246IFwicnNFVEgud2VicFwiLFxuICAgIG5ldHdvcmtzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZXRoZXJldW1cIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmV0aC5tYWlubmV0LFxuICAgICAgICBhZGRyZXNzOiBcIjB4QTEyOTBkNjljNjVBNkZlNERGNzUyZjk1ODIzZmFlMjVjQjk5ZTVBN1wiLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZnVlbFwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZnVlbC5tYWlubmV0LFxuICAgICAgICBjb250cmFjdElkOiBcIjB4NGVhNmNjZWYxMjE1ZDk0NzlmMTAyNGRmZjcwZmMwNTVjYTUzODIxNWQyYzhjMzQ4YmVkZGZmZDU0NTgzZDBlOFwiLFxuICAgICAgICBhc3NldElkOiBcIjB4YmFlODBmN2ZiOGFhNmI5MGQ5YjAxZWY3MjZlYzg0N2NjNGY1OTQxOWM0ZDVmMmVhODhmZWM3ODVkMWIwZTg0OVwiLFxuICAgICAgICBkZWNpbWFsczogOVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwickVUSFwiLFxuICAgIHN5bWJvbDogXCJyRVRIXCIsXG4gICAgaWNvbjogXCJyZXRoLnN2Z1wiLFxuICAgIG5ldHdvcmtzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZXRoZXJldW1cIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmV0aC5tYWlubmV0LFxuICAgICAgICBhZGRyZXNzOiBcIjB4YWU3ODczNmNkNjE1ZjM3NGQzMDg1MTIzYTIxMDQ0OGU3NGZjNjM5M1wiLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZnVlbFwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZnVlbC5tYWlubmV0LFxuICAgICAgICBjb250cmFjdElkOiBcIjB4NGVhNmNjZWYxMjE1ZDk0NzlmMTAyNGRmZjcwZmMwNTVjYTUzODIxNWQyYzhjMzQ4YmVkZGZmZDU0NTgzZDBlOFwiLFxuICAgICAgICBhc3NldElkOiBcIjB4ZjNmOWEwZWQwY2U4ZWFjNWY4OWQ2YjgzZTQxYjM4NDgyMTJkNWI1ZjU2MTA4YzU0YTIwNWJiMjI4Y2EzMGMxNlwiLFxuICAgICAgICBkZWNpbWFsczogOVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwid2JFVEhcIixcbiAgICBzeW1ib2w6IFwid2JFVEhcIixcbiAgICBpY29uOiBcIndiZXRoLnBuZ1wiLFxuICAgIG5ldHdvcmtzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZXRoZXJldW1cIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmV0aC5tYWlubmV0LFxuICAgICAgICBhZGRyZXNzOiBcIjB4YTJFMzM1NjYxMDg0MDcwMUJEZjU2MTFhNTM5NzQ1MTBBZTI3RTJlMVwiLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZnVlbFwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZnVlbC5tYWlubmV0LFxuICAgICAgICBjb250cmFjdElkOiBcIjB4NGVhNmNjZWYxMjE1ZDk0NzlmMTAyNGRmZjcwZmMwNTVjYTUzODIxNWQyYzhjMzQ4YmVkZGZmZDU0NTgzZDBlOFwiLFxuICAgICAgICBhc3NldElkOiBcIjB4Nzg0M2M3NGJlZjkzNWU4MzdmMmJjZjY3YjVkNjRlY2I0NmRkNTNmZjg2Mzc1NTMwYjBjYWYzNjk5ZThmZmFmZVwiLFxuICAgICAgICBkZWNpbWFsczogOVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwicnN0RVRIXCIsXG4gICAgc3ltYm9sOiBcInJzdEVUSFwiLFxuICAgIGljb246IFwicnN0RVRILndlYnBcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweDdhNEVmZkQ4N0MyZjNDNTVDQTI1MTA4MGIxMzQzYjYwNWYzMjdFM2FcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDk2Mjc5MjI4NmZiYzliMWQ1ODYwYjQ1NTEzNjJhMTIyNDkzNjJjMjE1OTRjNzdhYmY0YjNmZTJiYmU4ZDk3N2FcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcImFtcGhyRVRIXCIsXG4gICAgc3ltYm9sOiBcImFtcGhyRVRIXCIsXG4gICAgaWNvbjogXCJhbXBockVUSC5wbmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweDVmRDEzMzU5QmExNUE4NEI3NmY3Rjg3NTY4MzA5MDQwMTc2MTY3Y2RcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDA1ZmM2MjNlNTdiZDdiYzEyNThlZmE4ZTRmNjJiMDVhZjU0NzFkNzNkZjZmMmMyZGMxMWVjYzgxMTM0YzRmMzZcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1hbnRhIG1CVENcIixcbiAgICBzeW1ib2w6IFwiTWFudGEgbUJUQ1wiLFxuICAgIGljb246IFwibWFudGEtbWJ0Yy5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweDQwNDEzODFlOTQ3Q0ZEM0Q0ODNkNjdhMjVDNmFhOURjOTI0MjUwYzVcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweGFmMzExMWEyNDhmZjdhMzIzOGNkZWVhODQ1YmIyZDQzY2YzODM1ZjFmNmI4YzlkMjgzNjA3MjhiNTViOWNlNWJcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1hbnRhIG1FVEhcIixcbiAgICBzeW1ib2w6IFwiTWFudGEgbUVUSFwiLFxuICAgIGljb246IFwibWFudGEtbWV0aC5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweDhDZEY1NTBDMDRCYzlCOUYxMDkzODM2ODM0OUM5YzgwNTFBNzcyYjZcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweGFmZDIxOWY1MTMzMTdiMTc1MDc4M2M2NTgxZjU1NTMwZDZjZjE4OWE1ODYzZmQxOGJkMWIzZmZjZWMxNzE0YjRcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1hbnRhIG1VU0RcIixcbiAgICBzeW1ib2w6IFwiTWFudGEgbVVTRFwiLFxuICAgIGljb246IFwibWFudGEtbXVzZC5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweDNmMjRFMWQ3YTk3Mzg2N2ZDMkEwM2ZFMTk5RTU1MDI1MTRFMGUxMUVcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDg5Y2I5NDAxZTU1ZDQ5YzMyNjk2NTRkZDFjZGZiMGU4MGU1NzgyM2E0YTdkYjk4YmE4ZmM1OTUzYjEyMGZlZjRcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcInB1bXBCVENcIixcbiAgICBzeW1ib2w6IFwicHVtcEJUQ1wiLFxuICAgIGljb246IFwicHVtcGJ0Yy53ZWJwXCIsXG4gICAgbmV0d29ya3M6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJldGhlcmV1bVwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZXRoLm1haW5uZXQsXG4gICAgICAgIGFkZHJlc3M6IFwiMHhmNDY5ZmJkMmFiY2Q2YjlkZThlMTY5ZDEyODIyNmMwZmM5MGEwMTJlXCIsXG4gICAgICAgIGRlY2ltYWxzOiA4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDBhYTVlYjJiYjk3Y2E5MTUyODhiNjUzYTI1MjkzNTVkNGRjNjZkZTJiMzc1MzMyMTNmMGU0YWVlZTNkMzQyMWZcIixcbiAgICAgICAgZGVjaW1hbHM6IDhcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkZCVENcIixcbiAgICBzeW1ib2w6IFwiRkJUQ1wiLFxuICAgIGljb246IFwiZmJ0Yy5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweGM5NmRlMjYwMThhNTRkNTFjMDk3MTYwNTY4NzUyYzRlM2JkNmMzNjRcIixcbiAgICAgICAgZGVjaW1hbHM6IDhcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZnVlbFwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZnVlbC5tYWlubmV0LFxuICAgICAgICBjb250cmFjdElkOiBcIjB4NGVhNmNjZWYxMjE1ZDk0NzlmMTAyNGRmZjcwZmMwNTVjYTUzODIxNWQyYzhjMzQ4YmVkZGZmZDU0NTgzZDBlOFwiLFxuICAgICAgICBhc3NldElkOiBcIjB4YjVlY2IwYTFlMDhlMmFiYmFiZjYyNGZmZWEwODlkZjkzMzM3Njg1NWY0NjhhZGUzNWM2Mzc1YjAwYzMzOTk2YVwiLFxuICAgICAgICBkZWNpbWFsczogOFxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiU29sdkJUQ1wiLFxuICAgIHN5bWJvbDogXCJTb2x2QlRDXCIsXG4gICAgaWNvbjogXCJzb2x2QlRDLndlYnBcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweDdhNTZlMWM1N2M3NDc1Y2NmNzQyYTE4MzJiMDI4ZjA0NTY2NTJmOTdcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDExODZhZmVhOWFmZmI4ODgwOWMyMTBlMTNlMjMzMGI1MjU4YzJjZWYwNGJiOGZmZjVlZmYzNzJiN2JkM2Y0MGZcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlNvbHZCVEMuQkJOXCIsXG4gICAgc3ltYm9sOiBcIlNvbHZCVEMuQkJOXCIsXG4gICAgaWNvbjogXCJTb2x2QlRDLkJCTi5wbmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweGQ5ZDkyMGFhNDBmNTc4YWI3OTQ0MjZmNWM5MGY2YzczMWQxNTlkZWZcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDdhNGYwODdjOTU3ZDMwMjE4MjIzYzJiYWFhYTM2NTM1NWM5Y2E4MWI2ZWE0OTAwNGNmYjE1OTBhNTM5OTIxNmZcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk1hbnRsZSBtRVRIXCIsXG4gICAgc3ltYm9sOiBcIk1hbnRsZSBtRVRIXCIsXG4gICAgaWNvbjogXCJtYW50bGUtbWV0aC5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweGQ1Rjc4MzhGNUM0NjFmZWZGN0ZFNDllYTVlYmFGNzcyOGJCMEFEZmFcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDY0MmE1ZGI1OWVjMzIzYzJmODQ2ZDRkNGNmM2U1OGQ3OGFmZjY0YWNjZjRmOGY2NDU1YmEwYWEzZWYwMDBhM2JcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcInNEQUlcIixcbiAgICBzeW1ib2w6IFwic0RBSVwiLFxuICAgIGljb246IFwic2RhaS5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweDgzZjIwZjQ0OTc1ZDAzYjFiMDllNjQ4MDliNzU3YzQ3Zjk0MmJlZWFcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDllNDZmOTE5ZmJmOTc4ZjNjYWQ3Y2QzNGNjYTk4MmQ1NjEzYWY2M2ZmOGFhYjZjMzc5ZTRmYWExNzk1NTI5NThcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlVTRFRcIixcbiAgICBzeW1ib2w6IFwiVVNEVFwiLFxuICAgIGljb246IFwidXNkdC5zdmdcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweGRBQzE3Rjk1OEQyZWU1MjNhMjIwNjIwNjk5NDU5N0MxM0Q4MzFlYzdcIixcbiAgICAgICAgZGVjaW1hbHM6IDZcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZnVlbFwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZnVlbC5tYWlubmV0LFxuICAgICAgICBjb250cmFjdElkOiBcIjB4NGVhNmNjZWYxMjE1ZDk0NzlmMTAyNGRmZjcwZmMwNTVjYTUzODIxNWQyYzhjMzQ4YmVkZGZmZDU0NTgzZDBlOFwiLFxuICAgICAgICBhc3NldElkOiBcIjB4YTAyNjVmYjVjMzJmNmU4ZGIzMTk3YWYzYzdlYjA1YzQ4YWUzNzM2MDViODE2NWI2ZjRhNTFjNWIwYmE0ODEyZVwiLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiVVNEQ1wiLFxuICAgIHN5bWJvbDogXCJVU0RDXCIsXG4gICAgaWNvbjogXCJ1c2RjLnN2Z1wiLFxuICAgIG5ldHdvcmtzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZXRoZXJldW1cIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmV0aC5tYWlubmV0LFxuICAgICAgICBhZGRyZXNzOiBcIjB4YTBiODY5OTFjNjIxOGIzNmMxZDE5ZDRhMmU5ZWIwY2UzNjA2ZWI0OFwiLFxuICAgICAgICBkZWNpbWFsczogNlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJmdWVsXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5mdWVsLm1haW5uZXQsXG4gICAgICAgIGNvbnRyYWN0SWQ6IFwiMHg0ZWE2Y2NlZjEyMTVkOTQ3OWYxMDI0ZGZmNzBmYzA1NWNhNTM4MjE1ZDJjOGMzNDhiZWRkZmZkNTQ1ODNkMGU4XCIsXG4gICAgICAgIGFzc2V0SWQ6IFwiMHgyODZjNDc5ZGE0MGRjOTUzYmRkYzNiYjRjNDUzYjYwOGJiYTJlMGFjNDgzYjA3N2JkNDc1MTc0MTE1Mzk1ZTZiXCIsXG4gICAgICAgIGRlY2ltYWxzOiA2XG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJVU0RlXCIsXG4gICAgc3ltYm9sOiBcIlVTRGVcIixcbiAgICBpY29uOiBcIlVTRGUuc3ZnXCIsXG4gICAgbmV0d29ya3M6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJldGhlcmV1bVwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZXRoLm1haW5uZXQsXG4gICAgICAgIGFkZHJlc3M6IFwiMHg0YzllZGQ1ODUyY2Q5MDVmMDg2Yzc1OWU4MzgzZTA5YmZmMWU2OGIzXCIsXG4gICAgICAgIGRlY2ltYWxzOiAxOFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJmdWVsXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5mdWVsLm1haW5uZXQsXG4gICAgICAgIGNvbnRyYWN0SWQ6IFwiMHg0ZWE2Y2NlZjEyMTVkOTQ3OWYxMDI0ZGZmNzBmYzA1NWNhNTM4MjE1ZDJjOGMzNDhiZWRkZmZkNTQ1ODNkMGU4XCIsXG4gICAgICAgIGFzc2V0SWQ6IFwiMHhiNjEzM2IyZWY5ZjYxNTNlYjg2OTEyNWQyM2RjZjIwZDFlNzM1MzMxYjVlNDFiMTVhNmE3YTZjZWM3MGU4NjUxXCIsXG4gICAgICAgIGRlY2ltYWxzOiA5XG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJzVVNEZVwiLFxuICAgIHN5bWJvbDogXCJzVVNEZVwiLFxuICAgIGljb246IFwic1VTRGUud2VicFwiLFxuICAgIG5ldHdvcmtzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZXRoZXJldW1cIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmV0aC5tYWlubmV0LFxuICAgICAgICBhZGRyZXNzOiBcIjB4OWQzOWE1ZGUzMGU1NzQ0M2JmZjJhODMwN2E0MjU2Yzg3OTdhMzQ5N1wiLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZnVlbFwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZnVlbC5tYWlubmV0LFxuICAgICAgICBjb250cmFjdElkOiBcIjB4NGVhNmNjZWYxMjE1ZDk0NzlmMTAyNGRmZjcwZmMwNTVjYTUzODIxNWQyYzhjMzQ4YmVkZGZmZDU0NTgzZDBlOFwiLFxuICAgICAgICBhc3NldElkOiBcIjB4ZDA1NTYzMDI1MTA0ZmMzNjQ5NmMxNWM3MDIxYWQ2YjMxMDM0YjBlODlhMzU2ZjRmODE4MDQ1ZDFmNDg4MDhiY1wiLFxuICAgICAgICBkZWNpbWFsczogOVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwicnNVU0RlXCIsXG4gICAgc3ltYm9sOiBcInJzVVNEZVwiLFxuICAgIGljb246IFwicnNVU0RlLnN2Z1wiLFxuICAgIG5ldHdvcmtzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZXRoZXJldW1cIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmV0aC5tYWlubmV0LFxuICAgICAgICBhZGRyZXNzOiBcIjB4ODJmNTEwNGIyM0ZGMkZBNTRDMjM0NUY4MjFkQWM5MzY5ZTlFMEIyNlwiLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZnVlbFwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZnVlbC5tYWlubmV0LFxuICAgICAgICBjb250cmFjdElkOiBcIjB4NGVhNmNjZWYxMjE1ZDk0NzlmMTAyNGRmZjcwZmMwNTVjYTUzODIxNWQyYzhjMzQ4YmVkZGZmZDU0NTgzZDBlOFwiLFxuICAgICAgICBhc3NldElkOiBcIjB4NzhkNDUyMmVjNjA3ZjZlOGVmYjY2ZWE0OTQzOWQxZWU0ODYyM2NmNzYzZjk2ODhhOGVhZGEwMjVkZWYwMzNkOVwiLFxuICAgICAgICBkZWNpbWFsczogOVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwid3N0RVRIXCIsXG4gICAgc3ltYm9sOiBcIndzdEVUSFwiLFxuICAgIGljb246IFwid3N0ZXRoLnN2Z1wiLFxuICAgIG5ldHdvcmtzOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZXRoZXJldW1cIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmV0aC5tYWlubmV0LFxuICAgICAgICBhZGRyZXNzOiBcIjB4N2YzOUM1ODFGNTk1QjUzYzVjYjE5YkQwYjNmOGRBNmM5MzVFMkNhMFwiLFxuICAgICAgICBkZWNpbWFsczogMThcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwiZnVlbFwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZnVlbC5tYWlubmV0LFxuICAgICAgICBjb250cmFjdElkOiBcIjB4NGVhNmNjZWYxMjE1ZDk0NzlmMTAyNGRmZjcwZmMwNTVjYTUzODIxNWQyYzhjMzQ4YmVkZGZmZDU0NTgzZDBlOFwiLFxuICAgICAgICBhc3NldElkOiBcIjB4MWE3ODE1Y2M5Zjc1ZGI1YzI0YTViMDgxNGJmYjcwNmJiOWZlNDg1MzMzZTk4MjU0MDE1ZGU4ZjQ4Zjg0YzY3YlwiLFxuICAgICAgICBkZWNpbWFsczogOVxuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiZXpFVEhcIixcbiAgICBzeW1ib2w6IFwiZXpFVEhcIixcbiAgICBpY29uOiBcImV6ZXRoLndlYnBcIixcbiAgICBuZXR3b3JrczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcImV0aGVyZXVtXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5ldGgubWFpbm5ldCxcbiAgICAgICAgYWRkcmVzczogXCIweGJmNTQ5NUVmZTVEQjljZTAwZjgwMzY0QzhCNDIzNTY3ZTU4ZDIxMTBcIixcbiAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiBcImZ1ZWxcIixcbiAgICAgICAgY2hhaW5JZDogQ0hBSU5fSURTLmZ1ZWwubWFpbm5ldCxcbiAgICAgICAgY29udHJhY3RJZDogXCIweDRlYTZjY2VmMTIxNWQ5NDc5ZjEwMjRkZmY3MGZjMDU1Y2E1MzgyMTVkMmM4YzM0OGJlZGRmZmQ1NDU4M2QwZThcIixcbiAgICAgICAgYXNzZXRJZDogXCIweDkxYjM1NTllZGIyNjE5Y2RlOGZmYjJhYTdiM2MzYmU5N2VmZDc5NGVhNDY3MDBkYjcwOTJhYmVlZTYyMjgxYjBcIixcbiAgICAgICAgZGVjaW1hbHM6IDlcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcInB6RVRIXCIsXG4gICAgc3ltYm9sOiBcInB6RVRIXCIsXG4gICAgaWNvbjogXCJwekVUSC53ZWJwXCIsXG4gICAgbmV0d29ya3M6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJldGhlcmV1bVwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZXRoLm1haW5uZXQsXG4gICAgICAgIGFkZHJlc3M6IFwiMHg4Yzk1MzJhNjBlMGU3YzZiYmQyYjJjMTMwM2Y2M2FjZTFjM2U5ODExXCIsXG4gICAgICAgIGRlY2ltYWxzOiAxOFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJmdWVsXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5mdWVsLm1haW5uZXQsXG4gICAgICAgIGNvbnRyYWN0SWQ6IFwiMHg0ZWE2Y2NlZjEyMTVkOTQ3OWYxMDI0ZGZmNzBmYzA1NWNhNTM4MjE1ZDJjOGMzNDhiZWRkZmZkNTQ1ODNkMGU4XCIsXG4gICAgICAgIGFzc2V0SWQ6IFwiMHgxNDkzZDRlYzgyMTI0ZGU4ZjliNjI1NjgyZGU2OWRjY2NkYTc5ZTg4MmI4OWE1NWE4YzczN2IxMmRlNjdiZDY4XCIsXG4gICAgICAgIGRlY2ltYWxzOiA5XG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJSZTdMUlRcIixcbiAgICBzeW1ib2w6IFwiUmU3TFJUXCIsXG4gICAgaWNvbjogXCJSZTdMUlQucG5nXCIsXG4gICAgbmV0d29ya3M6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJldGhlcmV1bVwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZXRoLm1haW5uZXQsXG4gICAgICAgIGFkZHJlc3M6IFwiMHg4NDYzMWMwZDAwODFGRGU1NkRlQjcyRjZERTc3YWJCYkY2QTlmOTNhXCIsXG4gICAgICAgIGRlY2ltYWxzOiAxOFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJmdWVsXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5mdWVsLm1haW5uZXQsXG4gICAgICAgIGNvbnRyYWN0SWQ6IFwiMHg0ZWE2Y2NlZjEyMTVkOTQ3OWYxMDI0ZGZmNzBmYzA1NWNhNTM4MjE1ZDJjOGMzNDhiZWRkZmZkNTQ1ODNkMGU4XCIsXG4gICAgICAgIGFzc2V0SWQ6IFwiMHhmMmZjNjQ4YzIzYTVkYjI0NjEwYTFjZjY5NmFjYzRmMGY2ZDlhN2Q2MDI4ZGQ5OTQ0OTY0YWIyM2Y2ZTM1OTk1XCIsXG4gICAgICAgIGRlY2ltYWxzOiA5XG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJzdGVha0xSVFwiLFxuICAgIHN5bWJvbDogXCJzdGVha0xSVFwiLFxuICAgIGljb246IFwic3RlYWtMUlQucG5nXCIsXG4gICAgbmV0d29ya3M6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJldGhlcmV1bVwiLFxuICAgICAgICBjaGFpbklkOiBDSEFJTl9JRFMuZXRoLm1haW5uZXQsXG4gICAgICAgIGFkZHJlc3M6IFwiMHhCRUVGNjlBYzc4NzA3Nzc1OThBMDRCMmJkNDc3MWM3MTIxMkU2YUJjXCIsXG4gICAgICAgIGRlY2ltYWxzOiAxOFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJmdWVsXCIsXG4gICAgICAgIGNoYWluSWQ6IENIQUlOX0lEUy5mdWVsLm1haW5uZXQsXG4gICAgICAgIGNvbnRyYWN0SWQ6IFwiMHg0ZWE2Y2NlZjEyMTVkOTQ3OWYxMDI0ZGZmNzBmYzA1NWNhNTM4MjE1ZDJjOGMzNDhiZWRkZmZkNTQ1ODNkMGU4XCIsXG4gICAgICAgIGFzc2V0SWQ6IFwiMHg0ZmM4YWM5ZjEwMWRmMDdlMmMyZGVjNGE1M2M4YzQyYzQzOWJkYmU1ZTM2ZWEyZDg2M2E2MWZmNjBhZmFmYzMwXCIsXG4gICAgICAgIGRlY2ltYWxzOiA5XG4gICAgICB9XG4gICAgXVxuICB9XG5dO1xudmFyIGFzc2V0cyA9IHJlc29sdmVJY29uUGF0aHMocmF3QXNzZXRzLCBmdWVsQXNzZXRzQmFzZVVybCk7XG5cbi8vIHNyYy9hc3NldHMvYXNzZXQtYXBpLnRzXG52YXIgbmV0d29ya3MgPSB7XG4gIG1haW5uZXQ6IFwiaHR0cHM6Ly9tYWlubmV0LWV4cGxvcmVyLmZ1ZWwubmV0d29ya1wiLFxuICB0ZXN0bmV0OiBcImh0dHBzOi8vZXhwbG9yZXItaW5kZXhlci10ZXN0bmV0LmZ1ZWwubmV0d29ya1wiXG59O1xudmFyIHJlcXVlc3QgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jICh1cmwsIHNsdWcpID0+IHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt1cmx9JHtzbHVnfWAsIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgfVxuICB9KTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59LCBcInJlcXVlc3RcIik7XG52YXIgYnVpbGRRdWVyeVN0cmluZyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmFtZXRlcnMpID0+IHtcbiAgY29uc3QgcXVlcnkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIE9iamVjdC5lbnRyaWVzKHBhcmFtZXRlcnMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHF1ZXJ5LnNldChrZXksIHZhbHVlLnRvU3RyaW5nKCkpO1xuICB9KTtcbiAgcmV0dXJuIHF1ZXJ5LnNpemUgPiAwID8gYD8ke3F1ZXJ5LnRvU3RyaW5nKCl9YCA6IFwiXCI7XG59LCBcImJ1aWxkUXVlcnlTdHJpbmdcIik7XG52YXIgZ2V0QXNzZXRCeUlkID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgob3B0cykgPT4ge1xuICBjb25zdCB7IG5ldHdvcmsgPSBcIm1haW5uZXRcIiwgYXNzZXRJZCB9ID0gb3B0cztcbiAgY29uc3QgdXJsID0gbmV0d29ya3NbbmV0d29ya107XG4gIHJldHVybiByZXF1ZXN0KHVybCwgYC9hc3NldHMvJHthc3NldElkfWApO1xufSwgXCJnZXRBc3NldEJ5SWRcIik7XG52YXIgZ2V0QXNzZXRzQnlPd25lciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKG9wdHMpID0+IHtcbiAgY29uc3QgeyBuZXR3b3JrID0gXCJtYWlubmV0XCIsIG93bmVyLCBwYWdpbmF0aW9uID0geyBsYXN0OiAxMCB9IH0gPSBvcHRzO1xuICBjb25zdCB1cmwgPSBuZXR3b3Jrc1tuZXR3b3JrXTtcbiAgY29uc3QgeyBsYXN0IH0gPSBwYWdpbmF0aW9uO1xuICBjb25zdCBxdWVyeVN0cmluZyA9IGJ1aWxkUXVlcnlTdHJpbmcoeyBsYXN0IH0pO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QodXJsLCBgL2FjY291bnRzLyR7b3duZXJ9L2Fzc2V0cyR7cXVlcnlTdHJpbmd9YCk7XG4gIGlmICghcmVzcG9uc2UpIHtcbiAgICByZXR1cm4geyBkYXRhOiBbXSwgcGFnZUluZm86IHsgY291bnQ6IDAgfSB9O1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn0sIFwiZ2V0QXNzZXRzQnlPd25lclwiKTtcblxuLy8gc3JjL2FjY291bnQudHNcbmltcG9ydCB7IFVUWE9fSURfTEVOIGFzIFVUWE9fSURfTEVOMyB9IGZyb20gXCJAZnVlbC10cy9hYmktY29kZXJcIjtcbmltcG9ydCB7IEFkZHJlc3MgYXMgQWRkcmVzczQgfSBmcm9tIFwiQGZ1ZWwtdHMvYWRkcmVzc1wiO1xuaW1wb3J0IHsgcmFuZG9tQnl0ZXMgYXMgcmFuZG9tQnl0ZXMyIH0gZnJvbSBcIkBmdWVsLXRzL2NyeXB0b1wiO1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTE5LCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yMjEgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBibiBhcyBibjIxIH0gZnJvbSBcIkBmdWVsLXRzL21hdGhcIjtcbmltcG9ydCB7IElucHV0VHlwZSBhcyBJbnB1dFR5cGU4LCBPdXRwdXRUeXBlIGFzIE91dHB1dFR5cGU5IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgYXMgYXJyYXlpZnkxNiwgaGV4bGlmeSBhcyBoZXhsaWZ5MTgsIGlzRGVmaW5lZCBhcyBpc0RlZmluZWQ0IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5pbXBvcnQgeyBjbG9uZSBhcyBjbG9uZTkgfSBmcm9tIFwicmFtZGFcIjtcblxuLy8gc3JjL3Byb3ZpZGVycy9jb2luLXF1YW50aXR5LnRzXG5pbXBvcnQgeyBibiB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBoZXhsaWZ5IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG52YXIgY29pblF1YW50aXR5ZnkgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjb2luUXVhbnRpdHlMaWtlKSA9PiB7XG4gIGxldCBhc3NldElkO1xuICBsZXQgYW1vdW50O1xuICBsZXQgbWF4O1xuICBpZiAoQXJyYXkuaXNBcnJheShjb2luUXVhbnRpdHlMaWtlKSkge1xuICAgIGFtb3VudCA9IGNvaW5RdWFudGl0eUxpa2VbMF07XG4gICAgYXNzZXRJZCA9IGNvaW5RdWFudGl0eUxpa2VbMV07XG4gICAgbWF4ID0gY29pblF1YW50aXR5TGlrZVsyXSA/PyB2b2lkIDA7XG4gIH0gZWxzZSB7XG4gICAgYW1vdW50ID0gY29pblF1YW50aXR5TGlrZS5hbW91bnQ7XG4gICAgYXNzZXRJZCA9IGNvaW5RdWFudGl0eUxpa2UuYXNzZXRJZDtcbiAgICBtYXggPSBjb2luUXVhbnRpdHlMaWtlLm1heCA/PyB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhc3NldElkOiBoZXhsaWZ5KGFzc2V0SWQpLFxuICAgIGFtb3VudDogYm4oYW1vdW50KSxcbiAgICBtYXg6IG1heCA/IGJuKG1heCkgOiB2b2lkIDBcbiAgfTtcbn0sIFwiY29pblF1YW50aXR5ZnlcIik7XG52YXIgYWRkQW1vdW50VG9Db2luUXVhbnRpdGllcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmFtcykgPT4ge1xuICBjb25zdCB7IGFtb3VudCwgYXNzZXRJZCB9ID0gcGFyYW1zO1xuICBjb25zdCBjb2luUXVhbnRpdGllcyA9IFsuLi5wYXJhbXMuY29pblF1YW50aXRpZXNdO1xuICBjb25zdCBhc3NldElkeCA9IGNvaW5RdWFudGl0aWVzLmZpbmRJbmRleCgoY29pblF1YW50aXR5KSA9PiBjb2luUXVhbnRpdHkuYXNzZXRJZCA9PT0gYXNzZXRJZCk7XG4gIGlmIChhc3NldElkeCAhPT0gLTEpIHtcbiAgICBjb2luUXVhbnRpdGllc1thc3NldElkeF0uYW1vdW50ID0gY29pblF1YW50aXRpZXNbYXNzZXRJZHhdLmFtb3VudC5hZGQoYW1vdW50KTtcbiAgfSBlbHNlIHtcbiAgICBjb2luUXVhbnRpdGllcy5wdXNoKHsgYXNzZXRJZCwgYW1vdW50IH0pO1xuICB9XG4gIHJldHVybiBjb2luUXVhbnRpdGllcztcbn0sIFwiYWRkQW1vdW50VG9Db2luUXVhbnRpdGllc1wiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy9wcm92aWRlci50c1xuaW1wb3J0IHsgQWRkcmVzcyBhcyBBZGRyZXNzMiwgaXNCMjU2IH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3NcIjtcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGUxNywgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjE5IH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgYm4gYXMgYm4xOCB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBJbnB1dE1lc3NhZ2VDb2RlciBhcyBJbnB1dE1lc3NhZ2VDb2RlcjIsIFRyYW5zYWN0aW9uQ29kZXIgYXMgVHJhbnNhY3Rpb25Db2RlcjYsIFRyYW5zYWN0aW9uVHlwZSBhcyBUcmFuc2FjdGlvblR5cGUxMSB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IGFycmF5aWZ5IGFzIGFycmF5aWZ5MTIsIGhleGxpZnkgYXMgaGV4bGlmeTE3LCBEYXRlVGltZSBhcyBEYXRlVGltZTIsIGlzRGVmaW5lZCBhcyBpc0RlZmluZWQzLCBzbGVlcCBhcyBzbGVlcDIgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcbmltcG9ydCB7IGNoZWNrRnVlbENvcmVWZXJzaW9uQ29tcGF0aWJpbGl0eSwgdmVyc2lvbnMgfSBmcm9tIFwiQGZ1ZWwtdHMvdmVyc2lvbnNcIjtcbmltcG9ydCB7IEdyYXBoUUxDbGllbnQgfSBmcm9tIFwiZ3JhcGhxbC1yZXF1ZXN0XCI7XG5pbXBvcnQgZ3FsMiBmcm9tIFwiZ3JhcGhxbC10YWdcIjtcbmltcG9ydCB7IGNsb25lIGFzIGNsb25lOCB9IGZyb20gXCJyYW1kYVwiO1xuXG4vLyBzcmMvcHJvdmlkZXJzL19fZ2VuZXJhdGVkX18vb3BlcmF0aW9ucy50c1xuaW1wb3J0IGdxbCBmcm9tIFwiZ3JhcGhxbC10YWdcIjtcbnZhciBJbnB1dENvaW5GcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBJbnB1dENvaW5GcmFnbWVudCBvbiBJbnB1dENvaW4ge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIHV0eG9JZFxuICBvd25lclxuICBhbW91bnRcbiAgYXNzZXRJZFxuICB0eFBvaW50ZXJcbiAgY29pbldpdG5lc3NJbmRleDogd2l0bmVzc0luZGV4XG4gIHByZWRpY2F0ZUdhc1VzZWRcbiAgcHJlZGljYXRlXG4gIHByZWRpY2F0ZURhdGFcbn1cbiAgICBgO1xudmFyIElucHV0TWVzc2FnZUZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IElucHV0TWVzc2FnZUZyYWdtZW50IG9uIElucHV0TWVzc2FnZSB7XG4gIHR5cGU6IF9fdHlwZW5hbWVcbiAgc2VuZGVyXG4gIHJlY2lwaWVudFxuICBhbW91bnRcbiAgbm9uY2VcbiAgbWVzc2FnZVdpdG5lc3NJbmRleDogd2l0bmVzc0luZGV4XG4gIHByZWRpY2F0ZUdhc1VzZWRcbiAgZGF0YVxuICBwcmVkaWNhdGVcbiAgcHJlZGljYXRlRGF0YVxufVxuICAgIGA7XG52YXIgSW5wdXRDb250cmFjdEZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IElucHV0Q29udHJhY3RGcmFnbWVudCBvbiBJbnB1dENvbnRyYWN0IHtcbiAgdHlwZTogX190eXBlbmFtZVxuICB1dHhvSWRcbiAgYmFsYW5jZVJvb3RcbiAgc3RhdGVSb290XG4gIHR4UG9pbnRlclxuICBjb250cmFjdElkXG59XG4gICAgYDtcbnZhciBPdXRwdXRDb2luRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgT3V0cHV0Q29pbkZyYWdtZW50IG9uIENvaW5PdXRwdXQge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIHRvXG4gIGFtb3VudFxuICBhc3NldElkXG59XG4gICAgYDtcbnZhciBPdXRwdXRDb250cmFjdEZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IE91dHB1dENvbnRyYWN0RnJhZ21lbnQgb24gQ29udHJhY3RPdXRwdXQge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIGlucHV0SW5kZXhcbiAgYmFsYW5jZVJvb3RcbiAgc3RhdGVSb290XG59XG4gICAgYDtcbnZhciBPdXRwdXRDaGFuZ2VGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBPdXRwdXRDaGFuZ2VGcmFnbWVudCBvbiBDaGFuZ2VPdXRwdXQge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIHRvXG4gIGFtb3VudFxuICBhc3NldElkXG59XG4gICAgYDtcbnZhciBPdXRwdXRWYXJpYWJsZUZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IE91dHB1dFZhcmlhYmxlRnJhZ21lbnQgb24gVmFyaWFibGVPdXRwdXQge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIHRvXG4gIGFtb3VudFxuICBhc3NldElkXG59XG4gICAgYDtcbnZhciBPdXRwdXRDb250cmFjdENyZWF0ZWRGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBPdXRwdXRDb250cmFjdENyZWF0ZWRGcmFnbWVudCBvbiBDb250cmFjdENyZWF0ZWQge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIGNvbnRyYWN0XG4gIHN0YXRlUm9vdFxufVxuICAgIGA7XG52YXIgU3VibWl0dGVkU3RhdHVzRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgU3VibWl0dGVkU3RhdHVzRnJhZ21lbnQgb24gU3VibWl0dGVkU3RhdHVzIHtcbiAgdHlwZTogX190eXBlbmFtZVxuICB0aW1lXG59XG4gICAgYDtcbnZhciBSZWNlaXB0RnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgcmVjZWlwdEZyYWdtZW50IG9uIFJlY2VpcHQge1xuICBpZFxuICBwY1xuICBpc1xuICB0b1xuICB0b0FkZHJlc3NcbiAgYW1vdW50XG4gIGFzc2V0SWRcbiAgZ2FzXG4gIHBhcmFtMVxuICBwYXJhbTJcbiAgdmFsXG4gIHB0clxuICBkaWdlc3RcbiAgcmVhc29uXG4gIHJhXG4gIHJiXG4gIHJjXG4gIHJkXG4gIGxlblxuICByZWNlaXB0VHlwZVxuICByZXN1bHRcbiAgZ2FzVXNlZFxuICBkYXRhXG4gIHNlbmRlclxuICByZWNpcGllbnRcbiAgbm9uY2VcbiAgY29udHJhY3RJZFxuICBzdWJJZFxufVxuICAgIGA7XG52YXIgU3VjY2Vzc1N0YXR1c0ZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IFN1Y2Nlc3NTdGF0dXNGcmFnbWVudCBvbiBTdWNjZXNzU3RhdHVzIHtcbiAgdHlwZTogX190eXBlbmFtZVxuICB0aW1lXG4gIHByb2dyYW1TdGF0ZSB7XG4gICAgcmV0dXJuVHlwZVxuICAgIGRhdGFcbiAgfVxuICByZWNlaXB0cyB7XG4gICAgLi4ucmVjZWlwdEZyYWdtZW50XG4gIH1cbiAgdG90YWxHYXNcbiAgdG90YWxGZWVcbn1cbiAgICAke1JlY2VpcHRGcmFnbWVudERvY31gO1xudmFyIFN1Y2Nlc3NTdGF0dXNXaXRoQmxvY2tJZEZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IFN1Y2Nlc3NTdGF0dXNXaXRoQmxvY2tJZEZyYWdtZW50IG9uIFN1Y2Nlc3NTdGF0dXMge1xuICAuLi5TdWNjZXNzU3RhdHVzRnJhZ21lbnRcbiAgYmxvY2sge1xuICAgIGlkXG4gIH1cbn1cbiAgICAke1N1Y2Nlc3NTdGF0dXNGcmFnbWVudERvY31gO1xudmFyIE1hbGxlYWJsZVRyYW5zYWN0aW9uRmllbGRzRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgbWFsbGVhYmxlVHJhbnNhY3Rpb25GaWVsZHNGcmFnbWVudCBvbiBUcmFuc2FjdGlvbiB7XG4gIHJlY2VpcHRzUm9vdFxuICBpbnB1dHMge1xuICAgIHR5cGU6IF9fdHlwZW5hbWVcbiAgICAuLi4gb24gSW5wdXRDb2luIHtcbiAgICAgIHR4UG9pbnRlclxuICAgIH1cbiAgICAuLi4gb24gSW5wdXRDb250cmFjdCB7XG4gICAgICB0eFBvaW50ZXJcbiAgICB9XG4gIH1cbiAgb3V0cHV0cyB7XG4gICAgdHlwZTogX190eXBlbmFtZVxuICAgIC4uLiBvbiBDb2luT3V0cHV0IHtcbiAgICAgIHRvXG4gICAgICBhbW91bnRcbiAgICAgIGFzc2V0SWRcbiAgICB9XG4gICAgLi4uIG9uIENvbnRyYWN0T3V0cHV0IHtcbiAgICAgIGlucHV0SW5kZXhcbiAgICAgIGJhbGFuY2VSb290XG4gICAgICBzdGF0ZVJvb3RcbiAgICB9XG4gICAgLi4uIG9uIENoYW5nZU91dHB1dCB7XG4gICAgICB0b1xuICAgICAgYW1vdW50XG4gICAgICBhc3NldElkXG4gICAgfVxuICAgIC4uLiBvbiBWYXJpYWJsZU91dHB1dCB7XG4gICAgICB0b1xuICAgICAgYW1vdW50XG4gICAgICBhc3NldElkXG4gICAgfVxuICAgIC4uLiBvbiBDb250cmFjdENyZWF0ZWQge1xuICAgICAgY29udHJhY3RcbiAgICAgIHN0YXRlUm9vdFxuICAgIH1cbiAgfVxufVxuICAgIGA7XG52YXIgRmFpbHVyZVN0YXR1c0ZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IEZhaWx1cmVTdGF0dXNGcmFnbWVudCBvbiBGYWlsdXJlU3RhdHVzIHtcbiAgdHlwZTogX190eXBlbmFtZVxuICB0b3RhbEdhc1xuICB0b3RhbEZlZVxuICB0aW1lXG4gIHJlYXNvblxuICByZWNlaXB0cyB7XG4gICAgLi4ucmVjZWlwdEZyYWdtZW50XG4gIH1cbn1cbiAgICAke1JlY2VpcHRGcmFnbWVudERvY31gO1xudmFyIEZhaWx1cmVTdGF0dXNXaXRoQmxvY2tJZEZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IEZhaWx1cmVTdGF0dXNXaXRoQmxvY2tJZEZyYWdtZW50IG9uIEZhaWx1cmVTdGF0dXMge1xuICAuLi5GYWlsdXJlU3RhdHVzRnJhZ21lbnRcbiAgYmxvY2sge1xuICAgIGlkXG4gIH1cbn1cbiAgICAke0ZhaWx1cmVTdGF0dXNGcmFnbWVudERvY31gO1xudmFyIFNxdWVlemVkT3V0U3RhdHVzRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgU3F1ZWV6ZWRPdXRTdGF0dXNGcmFnbWVudCBvbiBTcXVlZXplZE91dFN0YXR1cyB7XG4gIHR5cGU6IF9fdHlwZW5hbWVcbiAgcmVhc29uXG59XG4gICAgYDtcbnZhciBQcmVjb25maXJtYXRpb25TdWNjZXNzU3RhdHVzRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgUHJlY29uZmlybWF0aW9uU3VjY2Vzc1N0YXR1c0ZyYWdtZW50IG9uIFByZWNvbmZpcm1hdGlvblN1Y2Nlc3NTdGF0dXMge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIHRvdGFsR2FzXG4gIHRvdGFsRmVlXG4gIHJlc29sdmVkT3V0cHV0cyB7XG4gICAgdXR4b0lkXG4gICAgb3V0cHV0IHtcbiAgICAgIHR5cGU6IF9fdHlwZW5hbWVcbiAgICAgIC4uLiBvbiBDb2luT3V0cHV0IHtcbiAgICAgICAgdG9cbiAgICAgICAgYW1vdW50XG4gICAgICAgIGFzc2V0SWRcbiAgICAgIH1cbiAgICAgIC4uLiBvbiBDb250cmFjdE91dHB1dCB7XG4gICAgICAgIGlucHV0SW5kZXhcbiAgICAgICAgYmFsYW5jZVJvb3RcbiAgICAgICAgc3RhdGVSb290XG4gICAgICB9XG4gICAgICAuLi4gb24gQ2hhbmdlT3V0cHV0IHtcbiAgICAgICAgdG9cbiAgICAgICAgYW1vdW50XG4gICAgICAgIGFzc2V0SWRcbiAgICAgIH1cbiAgICAgIC4uLiBvbiBWYXJpYWJsZU91dHB1dCB7XG4gICAgICAgIHRvXG4gICAgICAgIGFtb3VudFxuICAgICAgICBhc3NldElkXG4gICAgICB9XG4gICAgICAuLi4gb24gQ29udHJhY3RDcmVhdGVkIHtcbiAgICAgICAgY29udHJhY3RcbiAgICAgICAgc3RhdGVSb290XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByZWNvbmZpcm1hdGlvblJlY2VpcHRzOiByZWNlaXB0cyB7XG4gICAgLi4ucmVjZWlwdEZyYWdtZW50XG4gIH1cbn1cbiAgICAke1JlY2VpcHRGcmFnbWVudERvY31gO1xudmFyIFByZWNvbmZpcm1hdGlvbkZhaWx1cmVTdGF0dXNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBQcmVjb25maXJtYXRpb25GYWlsdXJlU3RhdHVzRnJhZ21lbnQgb24gUHJlY29uZmlybWF0aW9uRmFpbHVyZVN0YXR1cyB7XG4gIHR5cGU6IF9fdHlwZW5hbWVcbiAgcmVhc29uXG4gIHRvdGFsR2FzXG4gIHRvdGFsRmVlXG4gIHJlc29sdmVkT3V0cHV0cyB7XG4gICAgdXR4b0lkXG4gICAgb3V0cHV0IHtcbiAgICAgIHR5cGU6IF9fdHlwZW5hbWVcbiAgICAgIC4uLiBvbiBDb2luT3V0cHV0IHtcbiAgICAgICAgdG9cbiAgICAgICAgYW1vdW50XG4gICAgICAgIGFzc2V0SWRcbiAgICAgIH1cbiAgICAgIC4uLiBvbiBDb250cmFjdE91dHB1dCB7XG4gICAgICAgIGlucHV0SW5kZXhcbiAgICAgICAgYmFsYW5jZVJvb3RcbiAgICAgICAgc3RhdGVSb290XG4gICAgICB9XG4gICAgICAuLi4gb24gQ2hhbmdlT3V0cHV0IHtcbiAgICAgICAgdG9cbiAgICAgICAgYW1vdW50XG4gICAgICAgIGFzc2V0SWRcbiAgICAgIH1cbiAgICAgIC4uLiBvbiBWYXJpYWJsZU91dHB1dCB7XG4gICAgICAgIHRvXG4gICAgICAgIGFtb3VudFxuICAgICAgICBhc3NldElkXG4gICAgICB9XG4gICAgICAuLi4gb24gQ29udHJhY3RDcmVhdGVkIHtcbiAgICAgICAgY29udHJhY3RcbiAgICAgICAgc3RhdGVSb290XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByZWNvbmZpcm1hdGlvblJlY2VpcHRzOiByZWNlaXB0cyB7XG4gICAgLi4ucmVjZWlwdEZyYWdtZW50XG4gIH1cbn1cbiAgICAke1JlY2VpcHRGcmFnbWVudERvY31gO1xudmFyIFRyYW5zYWN0aW9uU3RhdHVzU3Vic2NyaXB0aW9uRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgdHJhbnNhY3Rpb25TdGF0dXNTdWJzY3JpcHRpb25GcmFnbWVudCBvbiBUcmFuc2FjdGlvblN0YXR1cyB7XG4gIC4uLiBvbiBTdWJtaXR0ZWRTdGF0dXMge1xuICAgIC4uLlN1Ym1pdHRlZFN0YXR1c0ZyYWdtZW50XG4gIH1cbiAgLi4uIG9uIFN1Y2Nlc3NTdGF0dXMge1xuICAgIC4uLlN1Y2Nlc3NTdGF0dXNXaXRoQmxvY2tJZEZyYWdtZW50XG4gICAgdHJhbnNhY3Rpb24ge1xuICAgICAgLi4ubWFsbGVhYmxlVHJhbnNhY3Rpb25GaWVsZHNGcmFnbWVudFxuICAgIH1cbiAgfVxuICAuLi4gb24gRmFpbHVyZVN0YXR1cyB7XG4gICAgLi4uRmFpbHVyZVN0YXR1c1dpdGhCbG9ja0lkRnJhZ21lbnRcbiAgICB0cmFuc2FjdGlvbiB7XG4gICAgICAuLi5tYWxsZWFibGVUcmFuc2FjdGlvbkZpZWxkc0ZyYWdtZW50XG4gICAgfVxuICB9XG4gIC4uLiBvbiBTcXVlZXplZE91dFN0YXR1cyB7XG4gICAgLi4uU3F1ZWV6ZWRPdXRTdGF0dXNGcmFnbWVudFxuICB9XG4gIC4uLiBvbiBQcmVjb25maXJtYXRpb25TdWNjZXNzU3RhdHVzIHtcbiAgICAuLi5QcmVjb25maXJtYXRpb25TdWNjZXNzU3RhdHVzRnJhZ21lbnRcbiAgfVxuICAuLi4gb24gUHJlY29uZmlybWF0aW9uRmFpbHVyZVN0YXR1cyB7XG4gICAgLi4uUHJlY29uZmlybWF0aW9uRmFpbHVyZVN0YXR1c0ZyYWdtZW50XG4gIH1cbn1cbiAgICAke1N1Ym1pdHRlZFN0YXR1c0ZyYWdtZW50RG9jfVxuJHtTdWNjZXNzU3RhdHVzV2l0aEJsb2NrSWRGcmFnbWVudERvY31cbiR7TWFsbGVhYmxlVHJhbnNhY3Rpb25GaWVsZHNGcmFnbWVudERvY31cbiR7RmFpbHVyZVN0YXR1c1dpdGhCbG9ja0lkRnJhZ21lbnREb2N9XG4ke1NxdWVlemVkT3V0U3RhdHVzRnJhZ21lbnREb2N9XG4ke1ByZWNvbmZpcm1hdGlvblN1Y2Nlc3NTdGF0dXNGcmFnbWVudERvY31cbiR7UHJlY29uZmlybWF0aW9uRmFpbHVyZVN0YXR1c0ZyYWdtZW50RG9jfWA7XG52YXIgVHJhbnNhY3Rpb25TdGF0dXNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCB0cmFuc2FjdGlvblN0YXR1c0ZyYWdtZW50IG9uIFRyYW5zYWN0aW9uU3RhdHVzIHtcbiAgLi4uIG9uIFN1Ym1pdHRlZFN0YXR1cyB7XG4gICAgLi4uU3VibWl0dGVkU3RhdHVzRnJhZ21lbnRcbiAgfVxuICAuLi4gb24gU3VjY2Vzc1N0YXR1cyB7XG4gICAgLi4uU3VjY2Vzc1N0YXR1c0ZyYWdtZW50XG4gIH1cbiAgLi4uIG9uIEZhaWx1cmVTdGF0dXMge1xuICAgIC4uLkZhaWx1cmVTdGF0dXNGcmFnbWVudFxuICB9XG4gIC4uLiBvbiBTcXVlZXplZE91dFN0YXR1cyB7XG4gICAgLi4uU3F1ZWV6ZWRPdXRTdGF0dXNGcmFnbWVudFxuICB9XG59XG4gICAgJHtTdWJtaXR0ZWRTdGF0dXNGcmFnbWVudERvY31cbiR7U3VjY2Vzc1N0YXR1c0ZyYWdtZW50RG9jfVxuJHtGYWlsdXJlU3RhdHVzRnJhZ21lbnREb2N9XG4ke1NxdWVlemVkT3V0U3RhdHVzRnJhZ21lbnREb2N9YDtcbnZhciBUcmFuc2FjdGlvbkZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IHRyYW5zYWN0aW9uRnJhZ21lbnQgb24gVHJhbnNhY3Rpb24ge1xuICBpZFxuICByYXdQYXlsb2FkXG4gIHN0YXR1cyB7XG4gICAgLi4udHJhbnNhY3Rpb25TdGF0dXNGcmFnbWVudFxuICB9XG59XG4gICAgJHtUcmFuc2FjdGlvblN0YXR1c0ZyYWdtZW50RG9jfWA7XG52YXIgVHJhbnNhY3Rpb25SYXdQYXlsb2FkRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgdHJhbnNhY3Rpb25SYXdQYXlsb2FkRnJhZ21lbnQgb24gVHJhbnNhY3Rpb24ge1xuICBpZFxuICByYXdQYXlsb2FkXG59XG4gICAgYDtcbnZhciBJbnB1dEVzdGltYXRlUHJlZGljYXRlc0ZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IGlucHV0RXN0aW1hdGVQcmVkaWNhdGVzRnJhZ21lbnQgb24gSW5wdXQge1xuICAuLi4gb24gSW5wdXRDb2luIHtcbiAgICBwcmVkaWNhdGVHYXNVc2VkXG4gIH1cbiAgLi4uIG9uIElucHV0TWVzc2FnZSB7XG4gICAgcHJlZGljYXRlR2FzVXNlZFxuICB9XG59XG4gICAgYDtcbnZhciBUcmFuc2FjdGlvbkVzdGltYXRlUHJlZGljYXRlc0ZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IHRyYW5zYWN0aW9uRXN0aW1hdGVQcmVkaWNhdGVzRnJhZ21lbnQgb24gVHJhbnNhY3Rpb24ge1xuICBpbnB1dHMge1xuICAgIC4uLmlucHV0RXN0aW1hdGVQcmVkaWNhdGVzRnJhZ21lbnRcbiAgfVxufVxuICAgICR7SW5wdXRFc3RpbWF0ZVByZWRpY2F0ZXNGcmFnbWVudERvY31gO1xudmFyIERyeVJ1bkZhaWx1cmVBc3NlbWJsZVR4RnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgZHJ5UnVuRmFpbHVyZUFzc2VtYmxlVHhGcmFnbWVudCBvbiBEcnlSdW5GYWlsdXJlU3RhdHVzIHtcbiAgdHlwZTogX190eXBlbmFtZVxuICByZWFzb25cbiAgcmVjZWlwdHMge1xuICAgIC4uLnJlY2VpcHRGcmFnbWVudFxuICB9XG59XG4gICAgJHtSZWNlaXB0RnJhZ21lbnREb2N9YDtcbnZhciBEcnlSdW5TdWNjZXNzQXNzZW1ibGVUeEZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IGRyeVJ1blN1Y2Nlc3NBc3NlbWJsZVR4RnJhZ21lbnQgb24gRHJ5UnVuU3VjY2Vzc1N0YXR1cyB7XG4gIHR5cGU6IF9fdHlwZW5hbWVcbiAgcmVjZWlwdHMge1xuICAgIC4uLnJlY2VpcHRGcmFnbWVudFxuICB9XG59XG4gICAgJHtSZWNlaXB0RnJhZ21lbnREb2N9YDtcbnZhciBEcnlSdW5GYWlsdXJlU3RhdHVzRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgZHJ5UnVuRmFpbHVyZVN0YXR1c0ZyYWdtZW50IG9uIERyeVJ1bkZhaWx1cmVTdGF0dXMge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIHRvdGFsR2FzXG4gIHRvdGFsRmVlXG4gIHJlYXNvblxuICBwcm9ncmFtU3RhdGUge1xuICAgIHJldHVyblR5cGVcbiAgICBkYXRhXG4gIH1cbn1cbiAgICBgO1xudmFyIERyeVJ1blN1Y2Nlc3NTdGF0dXNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBkcnlSdW5TdWNjZXNzU3RhdHVzRnJhZ21lbnQgb24gRHJ5UnVuU3VjY2Vzc1N0YXR1cyB7XG4gIHR5cGU6IF9fdHlwZW5hbWVcbiAgdG90YWxHYXNcbiAgdG90YWxGZWVcbiAgcHJvZ3JhbVN0YXRlIHtcbiAgICByZXR1cm5UeXBlXG4gICAgZGF0YVxuICB9XG59XG4gICAgYDtcbnZhciBEcnlSdW5UcmFuc2FjdGlvblN0YXR1c0ZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IGRyeVJ1blRyYW5zYWN0aW9uU3RhdHVzRnJhZ21lbnQgb24gRHJ5UnVuVHJhbnNhY3Rpb25TdGF0dXMge1xuICAuLi4gb24gRHJ5UnVuRmFpbHVyZVN0YXR1cyB7XG4gICAgLi4uZHJ5UnVuRmFpbHVyZVN0YXR1c0ZyYWdtZW50XG4gIH1cbiAgLi4uIG9uIERyeVJ1blN1Y2Nlc3NTdGF0dXMge1xuICAgIC4uLmRyeVJ1blN1Y2Nlc3NTdGF0dXNGcmFnbWVudFxuICB9XG59XG4gICAgJHtEcnlSdW5GYWlsdXJlU3RhdHVzRnJhZ21lbnREb2N9XG4ke0RyeVJ1blN1Y2Nlc3NTdGF0dXNGcmFnbWVudERvY31gO1xudmFyIERyeVJ1blRyYW5zYWN0aW9uRXhlY3V0aW9uU3RhdHVzRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgZHJ5UnVuVHJhbnNhY3Rpb25FeGVjdXRpb25TdGF0dXNGcmFnbWVudCBvbiBEcnlSdW5UcmFuc2FjdGlvbkV4ZWN1dGlvblN0YXR1cyB7XG4gIGlkXG4gIHN0YXR1cyB7XG4gICAgLi4uZHJ5UnVuVHJhbnNhY3Rpb25TdGF0dXNGcmFnbWVudFxuICB9XG4gIHJlY2VpcHRzIHtcbiAgICAuLi5yZWNlaXB0RnJhZ21lbnRcbiAgfVxufVxuICAgICR7RHJ5UnVuVHJhbnNhY3Rpb25TdGF0dXNGcmFnbWVudERvY31cbiR7UmVjZWlwdEZyYWdtZW50RG9jfWA7XG52YXIgQmxvY2tGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBibG9ja0ZyYWdtZW50IG9uIEJsb2NrIHtcbiAgaWRcbiAgaGVpZ2h0XG4gIGhlYWRlciB7XG4gICAgdGltZVxuICAgIGRhSGVpZ2h0XG4gICAgc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uXG4gICAgdHJhbnNhY3Rpb25zQ291bnRcbiAgICB0cmFuc2FjdGlvbnNSb290XG4gICAgbWVzc2FnZU91dGJveFJvb3RcbiAgICBldmVudEluYm94Um9vdFxuICAgIHByZXZSb290XG4gICAgYXBwbGljYXRpb25IYXNoXG4gIH1cbiAgdHJhbnNhY3Rpb25zIHtcbiAgICBpZFxuICB9XG59XG4gICAgYDtcbnZhciBDb2luRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgY29pbkZyYWdtZW50IG9uIENvaW4ge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIHV0eG9JZFxuICBhbW91bnRcbiAgYXNzZXRJZFxuICBibG9ja0NyZWF0ZWRcbiAgdHhDcmVhdGVkSWR4XG59XG4gICAgYDtcbnZhciBNZXNzYWdlQ29pbkZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IG1lc3NhZ2VDb2luRnJhZ21lbnQgb24gTWVzc2FnZUNvaW4ge1xuICB0eXBlOiBfX3R5cGVuYW1lXG4gIHNlbmRlclxuICByZWNpcGllbnRcbiAgbm9uY2VcbiAgYW1vdW50XG4gIGFzc2V0SWRcbiAgZGFIZWlnaHRcbn1cbiAgICBgO1xudmFyIE1lc3NhZ2VGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBtZXNzYWdlRnJhZ21lbnQgb24gTWVzc2FnZSB7XG4gIGFtb3VudFxuICBzZW5kZXJcbiAgcmVjaXBpZW50XG4gIGRhdGFcbiAgZGFIZWlnaHRcbn1cbiAgICBgO1xudmFyIEdldE1lc3NhZ2VGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBnZXRNZXNzYWdlRnJhZ21lbnQgb24gTWVzc2FnZSB7XG4gIC4uLm1lc3NhZ2VGcmFnbWVudFxuICBub25jZVxufVxuICAgICR7TWVzc2FnZUZyYWdtZW50RG9jfWA7XG52YXIgTWVzc2FnZVByb29mRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgbWVzc2FnZVByb29mRnJhZ21lbnQgb24gTWVzc2FnZVByb29mIHtcbiAgbWVzc2FnZVByb29mIHtcbiAgICBwcm9vZlNldFxuICAgIHByb29mSW5kZXhcbiAgfVxuICBibG9ja1Byb29mIHtcbiAgICBwcm9vZlNldFxuICAgIHByb29mSW5kZXhcbiAgfVxuICBtZXNzYWdlQmxvY2tIZWFkZXIge1xuICAgIHZlcnNpb25cbiAgICBpZFxuICAgIGRhSGVpZ2h0XG4gICAgY29uc2Vuc3VzUGFyYW1ldGVyc1ZlcnNpb25cbiAgICBzdGF0ZVRyYW5zaXRpb25CeXRlY29kZVZlcnNpb25cbiAgICB0cmFuc2FjdGlvbnNDb3VudFxuICAgIG1lc3NhZ2VSZWNlaXB0Q291bnRcbiAgICB0cmFuc2FjdGlvbnNSb290XG4gICAgbWVzc2FnZU91dGJveFJvb3RcbiAgICBldmVudEluYm94Um9vdFxuICAgIGhlaWdodFxuICAgIHByZXZSb290XG4gICAgdGltZVxuICAgIGFwcGxpY2F0aW9uSGFzaFxuICB9XG4gIGNvbW1pdEJsb2NrSGVhZGVyIHtcbiAgICB2ZXJzaW9uXG4gICAgaWRcbiAgICBkYUhlaWdodFxuICAgIGNvbnNlbnN1c1BhcmFtZXRlcnNWZXJzaW9uXG4gICAgc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uXG4gICAgdHJhbnNhY3Rpb25zQ291bnRcbiAgICBtZXNzYWdlUmVjZWlwdENvdW50XG4gICAgdHJhbnNhY3Rpb25zUm9vdFxuICAgIG1lc3NhZ2VPdXRib3hSb290XG4gICAgZXZlbnRJbmJveFJvb3RcbiAgICBoZWlnaHRcbiAgICBwcmV2Um9vdFxuICAgIHRpbWVcbiAgICBhcHBsaWNhdGlvbkhhc2hcbiAgfVxuICBzZW5kZXJcbiAgcmVjaXBpZW50XG4gIGFtb3VudFxuICBkYXRhXG59XG4gICAgYDtcbnZhciBUeFBhcmFtZXRlcnNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBUeFBhcmFtZXRlcnNGcmFnbWVudCBvbiBUeFBhcmFtZXRlcnMge1xuICB2ZXJzaW9uXG4gIG1heElucHV0c1xuICBtYXhPdXRwdXRzXG4gIG1heFdpdG5lc3Nlc1xuICBtYXhHYXNQZXJUeFxuICBtYXhTaXplXG4gIG1heEJ5dGVjb2RlU3Vic2VjdGlvbnNcbn1cbiAgICBgO1xudmFyIFByZWRpY2F0ZVBhcmFtZXRlcnNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBQcmVkaWNhdGVQYXJhbWV0ZXJzRnJhZ21lbnQgb24gUHJlZGljYXRlUGFyYW1ldGVycyB7XG4gIHZlcnNpb25cbiAgbWF4UHJlZGljYXRlTGVuZ3RoXG4gIG1heFByZWRpY2F0ZURhdGFMZW5ndGhcbiAgbWF4R2FzUGVyUHJlZGljYXRlXG4gIG1heE1lc3NhZ2VEYXRhTGVuZ3RoXG59XG4gICAgYDtcbnZhciBTY3JpcHRQYXJhbWV0ZXJzRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgU2NyaXB0UGFyYW1ldGVyc0ZyYWdtZW50IG9uIFNjcmlwdFBhcmFtZXRlcnMge1xuICB2ZXJzaW9uXG4gIG1heFNjcmlwdExlbmd0aFxuICBtYXhTY3JpcHREYXRhTGVuZ3RoXG59XG4gICAgYDtcbnZhciBDb250cmFjdFBhcmFtZXRlcnNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBDb250cmFjdFBhcmFtZXRlcnNGcmFnbWVudCBvbiBDb250cmFjdFBhcmFtZXRlcnMge1xuICB2ZXJzaW9uXG4gIGNvbnRyYWN0TWF4U2l6ZVxuICBtYXhTdG9yYWdlU2xvdHNcbn1cbiAgICBgO1xudmFyIEZlZVBhcmFtZXRlcnNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBGZWVQYXJhbWV0ZXJzRnJhZ21lbnQgb24gRmVlUGFyYW1ldGVycyB7XG4gIHZlcnNpb25cbiAgZ2FzUHJpY2VGYWN0b3JcbiAgZ2FzUGVyQnl0ZVxufVxuICAgIGA7XG52YXIgRGVwZW5kZW50Q29zdEZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IERlcGVuZGVudENvc3RGcmFnbWVudCBvbiBEZXBlbmRlbnRDb3N0IHtcbiAgLi4uIG9uIExpZ2h0T3BlcmF0aW9uIHtcbiAgICB0eXBlOiBfX3R5cGVuYW1lXG4gICAgYmFzZVxuICAgIHVuaXRzUGVyR2FzXG4gIH1cbiAgLi4uIG9uIEhlYXZ5T3BlcmF0aW9uIHtcbiAgICB0eXBlOiBfX3R5cGVuYW1lXG4gICAgYmFzZVxuICAgIGdhc1BlclVuaXRcbiAgfVxufVxuICAgIGA7XG52YXIgR2FzQ29zdHNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBHYXNDb3N0c0ZyYWdtZW50IG9uIEdhc0Nvc3RzIHtcbiAgY29udHJhY3RSb290IHtcbiAgICAuLi5EZXBlbmRlbnRDb3N0RnJhZ21lbnRcbiAgfVxuICBzdGF0ZVJvb3Qge1xuICAgIC4uLkRlcGVuZGVudENvc3RGcmFnbWVudFxuICB9XG4gIHZtSW5pdGlhbGl6YXRpb24ge1xuICAgIC4uLkRlcGVuZGVudENvc3RGcmFnbWVudFxuICB9XG4gIHMyNTYge1xuICAgIC4uLkRlcGVuZGVudENvc3RGcmFnbWVudFxuICB9XG4gIGVjcjFcbiAgbmV3U3RvcmFnZVBlckJ5dGVcbn1cbiAgICAke0RlcGVuZGVudENvc3RGcmFnbWVudERvY31gO1xudmFyIENvbnNlbnN1c1BhcmFtZXRlcnNGcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBjb25zZW5zdXNQYXJhbWV0ZXJzRnJhZ21lbnQgb24gQ29uc2Vuc3VzUGFyYW1ldGVycyB7XG4gIHZlcnNpb25cbiAgdHhQYXJhbXMge1xuICAgIC4uLlR4UGFyYW1ldGVyc0ZyYWdtZW50XG4gIH1cbiAgcHJlZGljYXRlUGFyYW1zIHtcbiAgICAuLi5QcmVkaWNhdGVQYXJhbWV0ZXJzRnJhZ21lbnRcbiAgfVxuICBzY3JpcHRQYXJhbXMge1xuICAgIC4uLlNjcmlwdFBhcmFtZXRlcnNGcmFnbWVudFxuICB9XG4gIGNvbnRyYWN0UGFyYW1zIHtcbiAgICAuLi5Db250cmFjdFBhcmFtZXRlcnNGcmFnbWVudFxuICB9XG4gIGZlZVBhcmFtcyB7XG4gICAgLi4uRmVlUGFyYW1ldGVyc0ZyYWdtZW50XG4gIH1cbiAgZ2FzQ29zdHMge1xuICAgIC4uLkdhc0Nvc3RzRnJhZ21lbnRcbiAgfVxuICBiYXNlQXNzZXRJZFxuICBjaGFpbklkXG59XG4gICAgJHtUeFBhcmFtZXRlcnNGcmFnbWVudERvY31cbiR7UHJlZGljYXRlUGFyYW1ldGVyc0ZyYWdtZW50RG9jfVxuJHtTY3JpcHRQYXJhbWV0ZXJzRnJhZ21lbnREb2N9XG4ke0NvbnRyYWN0UGFyYW1ldGVyc0ZyYWdtZW50RG9jfVxuJHtGZWVQYXJhbWV0ZXJzRnJhZ21lbnREb2N9XG4ke0dhc0Nvc3RzRnJhZ21lbnREb2N9YDtcbnZhciBDaGFpbkluZm9GcmFnbWVudERvYyA9IGdxbGBcbiAgICBmcmFnbWVudCBjaGFpbkluZm9GcmFnbWVudCBvbiBDaGFpbkluZm8ge1xuICBuYW1lXG4gIGRhSGVpZ2h0XG4gIGNvbnNlbnN1c1BhcmFtZXRlcnMge1xuICAgIC4uLmNvbnNlbnN1c1BhcmFtZXRlcnNGcmFnbWVudFxuICB9XG4gIGxhdGVzdEJsb2NrIHtcbiAgICBoZWFkZXIge1xuICAgICAgY29uc2Vuc3VzUGFyYW1ldGVyc1ZlcnNpb25cbiAgICB9XG4gIH1cbn1cbiAgICAke0NvbnNlbnN1c1BhcmFtZXRlcnNGcmFnbWVudERvY31gO1xudmFyIENvbnRyYWN0QmFsYW5jZUZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IGNvbnRyYWN0QmFsYW5jZUZyYWdtZW50IG9uIENvbnRyYWN0QmFsYW5jZSB7XG4gIGNvbnRyYWN0XG4gIGFtb3VudFxuICBhc3NldElkXG59XG4gICAgYDtcbnZhciBQYWdlSW5mb0ZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IHBhZ2VJbmZvRnJhZ21lbnQgb24gUGFnZUluZm8ge1xuICBoYXNQcmV2aW91c1BhZ2VcbiAgaGFzTmV4dFBhZ2VcbiAgc3RhcnRDdXJzb3JcbiAgZW5kQ3Vyc29yXG59XG4gICAgYDtcbnZhciBOb2RlSW5mb0ZyYWdtZW50RG9jID0gZ3FsYFxuICAgIGZyYWdtZW50IG5vZGVJbmZvRnJhZ21lbnQgb24gTm9kZUluZm8ge1xuICB1dHhvVmFsaWRhdGlvblxuICB2bUJhY2t0cmFjZVxuICBtYXhUeFxuICBtYXhEZXB0aFxuICBub2RlVmVyc2lvblxuICBpbmRleGF0aW9uIHtcbiAgICBiYWxhbmNlc1xuICAgIGNvaW5zVG9TcGVuZFxuICAgIGFzc2V0TWV0YWRhdGFcbiAgfVxufVxuICAgIGA7XG52YXIgUmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzRnJhZ21lbnREb2MgPSBncWxgXG4gICAgZnJhZ21lbnQgcmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzRnJhZ21lbnQgb24gUmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzIHtcbiAgLi4uIG9uIFJlbGF5ZWRUcmFuc2FjdGlvbkZhaWxlZCB7XG4gICAgYmxvY2tIZWlnaHRcbiAgICBmYWlsdXJlXG4gIH1cbn1cbiAgICBgO1xudmFyIEdldFZlcnNpb25Eb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRWZXJzaW9uIHtcbiAgbm9kZUluZm8ge1xuICAgIG5vZGVWZXJzaW9uXG4gIH1cbn1cbiAgICBgO1xudmFyIEdldE5vZGVJbmZvRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0Tm9kZUluZm8ge1xuICBub2RlSW5mbyB7XG4gICAgLi4ubm9kZUluZm9GcmFnbWVudFxuICB9XG59XG4gICAgJHtOb2RlSW5mb0ZyYWdtZW50RG9jfWA7XG52YXIgR2V0Q2hhaW5Eb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRDaGFpbiB7XG4gIGNoYWluIHtcbiAgICAuLi5jaGFpbkluZm9GcmFnbWVudFxuICB9XG59XG4gICAgJHtDaGFpbkluZm9GcmFnbWVudERvY31gO1xudmFyIEdldENoYWluQW5kTm9kZUluZm9Eb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRDaGFpbkFuZE5vZGVJbmZvIHtcbiAgY2hhaW4ge1xuICAgIC4uLmNoYWluSW5mb0ZyYWdtZW50XG4gIH1cbiAgbm9kZUluZm8ge1xuICAgIC4uLm5vZGVJbmZvRnJhZ21lbnRcbiAgfVxufVxuICAgICR7Q2hhaW5JbmZvRnJhZ21lbnREb2N9XG4ke05vZGVJbmZvRnJhZ21lbnREb2N9YDtcbnZhciBHZXRUcmFuc2FjdGlvbkRvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGdldFRyYW5zYWN0aW9uKCR0cmFuc2FjdGlvbklkOiBUcmFuc2FjdGlvbklkISkge1xuICB0cmFuc2FjdGlvbihpZDogJHRyYW5zYWN0aW9uSWQpIHtcbiAgICAuLi50cmFuc2FjdGlvbkZyYWdtZW50XG4gIH1cbn1cbiAgICAke1RyYW5zYWN0aW9uRnJhZ21lbnREb2N9YDtcbnZhciBHZXRUcmFuc2FjdGlvbldpdGhSZWNlaXB0c0RvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGdldFRyYW5zYWN0aW9uV2l0aFJlY2VpcHRzKCR0cmFuc2FjdGlvbklkOiBUcmFuc2FjdGlvbklkISkge1xuICB0cmFuc2FjdGlvbihpZDogJHRyYW5zYWN0aW9uSWQpIHtcbiAgICBpZFxuICAgIHJhd1BheWxvYWRcbiAgICBzdGF0dXMge1xuICAgICAgLi4uIG9uIFN1Ym1pdHRlZFN0YXR1cyB7XG4gICAgICAgIC4uLlN1Ym1pdHRlZFN0YXR1c0ZyYWdtZW50XG4gICAgICB9XG4gICAgICAuLi4gb24gU3VjY2Vzc1N0YXR1cyB7XG4gICAgICAgIC4uLlN1Y2Nlc3NTdGF0dXNXaXRoQmxvY2tJZEZyYWdtZW50XG4gICAgICB9XG4gICAgICAuLi4gb24gRmFpbHVyZVN0YXR1cyB7XG4gICAgICAgIC4uLkZhaWx1cmVTdGF0dXNXaXRoQmxvY2tJZEZyYWdtZW50XG4gICAgICB9XG4gICAgICAuLi4gb24gU3F1ZWV6ZWRPdXRTdGF0dXMge1xuICAgICAgICAuLi5TcXVlZXplZE91dFN0YXR1c0ZyYWdtZW50XG4gICAgICB9XG4gICAgICAuLi4gb24gUHJlY29uZmlybWF0aW9uU3VjY2Vzc1N0YXR1cyB7XG4gICAgICAgIC4uLlByZWNvbmZpcm1hdGlvblN1Y2Nlc3NTdGF0dXNGcmFnbWVudFxuICAgICAgfVxuICAgICAgLi4uIG9uIFByZWNvbmZpcm1hdGlvbkZhaWx1cmVTdGF0dXMge1xuICAgICAgICAuLi5QcmVjb25maXJtYXRpb25GYWlsdXJlU3RhdHVzRnJhZ21lbnRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiAgICAke1N1Ym1pdHRlZFN0YXR1c0ZyYWdtZW50RG9jfVxuJHtTdWNjZXNzU3RhdHVzV2l0aEJsb2NrSWRGcmFnbWVudERvY31cbiR7RmFpbHVyZVN0YXR1c1dpdGhCbG9ja0lkRnJhZ21lbnREb2N9XG4ke1NxdWVlemVkT3V0U3RhdHVzRnJhZ21lbnREb2N9XG4ke1ByZWNvbmZpcm1hdGlvblN1Y2Nlc3NTdGF0dXNGcmFnbWVudERvY31cbiR7UHJlY29uZmlybWF0aW9uRmFpbHVyZVN0YXR1c0ZyYWdtZW50RG9jfWA7XG52YXIgR2V0VHJhbnNhY3Rpb25zRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0VHJhbnNhY3Rpb25zKCRhZnRlcjogU3RyaW5nLCAkYmVmb3JlOiBTdHJpbmcsICRmaXJzdDogSW50LCAkbGFzdDogSW50KSB7XG4gIHRyYW5zYWN0aW9ucyhhZnRlcjogJGFmdGVyLCBiZWZvcmU6ICRiZWZvcmUsIGZpcnN0OiAkZmlyc3QsIGxhc3Q6ICRsYXN0KSB7XG4gICAgZWRnZXMge1xuICAgICAgbm9kZSB7XG4gICAgICAgIHJhd1BheWxvYWRcbiAgICAgIH1cbiAgICB9XG4gICAgcGFnZUluZm8ge1xuICAgICAgLi4ucGFnZUluZm9GcmFnbWVudFxuICAgIH1cbiAgfVxufVxuICAgICR7UGFnZUluZm9GcmFnbWVudERvY31gO1xudmFyIEdldFRyYW5zYWN0aW9uc0J5T3duZXJEb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRUcmFuc2FjdGlvbnNCeU93bmVyKCRvd25lcjogQWRkcmVzcyEsICRhZnRlcjogU3RyaW5nLCAkYmVmb3JlOiBTdHJpbmcsICRmaXJzdDogSW50LCAkbGFzdDogSW50KSB7XG4gIHRyYW5zYWN0aW9uc0J5T3duZXIoXG4gICAgb3duZXI6ICRvd25lclxuICAgIGFmdGVyOiAkYWZ0ZXJcbiAgICBiZWZvcmU6ICRiZWZvcmVcbiAgICBmaXJzdDogJGZpcnN0XG4gICAgbGFzdDogJGxhc3RcbiAgKSB7XG4gICAgcGFnZUluZm8ge1xuICAgICAgLi4ucGFnZUluZm9GcmFnbWVudFxuICAgIH1cbiAgICBlZGdlcyB7XG4gICAgICBub2RlIHtcbiAgICAgICAgLi4udHJhbnNhY3Rpb25GcmFnbWVudFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuICAgICR7UGFnZUluZm9GcmFnbWVudERvY31cbiR7VHJhbnNhY3Rpb25GcmFnbWVudERvY31gO1xudmFyIEVzdGltYXRlUHJlZGljYXRlc0RvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGVzdGltYXRlUHJlZGljYXRlcygkZW5jb2RlZFRyYW5zYWN0aW9uOiBIZXhTdHJpbmchKSB7XG4gIGVzdGltYXRlUHJlZGljYXRlcyh0eDogJGVuY29kZWRUcmFuc2FjdGlvbikge1xuICAgIC4uLnRyYW5zYWN0aW9uRXN0aW1hdGVQcmVkaWNhdGVzRnJhZ21lbnRcbiAgfVxufVxuICAgICR7VHJhbnNhY3Rpb25Fc3RpbWF0ZVByZWRpY2F0ZXNGcmFnbWVudERvY31gO1xudmFyIEVzdGltYXRlUHJlZGljYXRlc0FuZEdhc1ByaWNlRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZXN0aW1hdGVQcmVkaWNhdGVzQW5kR2FzUHJpY2UoJGVuY29kZWRUcmFuc2FjdGlvbjogSGV4U3RyaW5nISwgJGJsb2NrSG9yaXpvbjogVTMyISkge1xuICBlc3RpbWF0ZVByZWRpY2F0ZXModHg6ICRlbmNvZGVkVHJhbnNhY3Rpb24pIHtcbiAgICAuLi50cmFuc2FjdGlvbkVzdGltYXRlUHJlZGljYXRlc0ZyYWdtZW50XG4gIH1cbiAgZXN0aW1hdGVHYXNQcmljZShibG9ja0hvcml6b246ICRibG9ja0hvcml6b24pIHtcbiAgICBnYXNQcmljZVxuICB9XG59XG4gICAgJHtUcmFuc2FjdGlvbkVzdGltYXRlUHJlZGljYXRlc0ZyYWdtZW50RG9jfWA7XG52YXIgR2V0TGF0ZXN0QmxvY2tEb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRMYXRlc3RCbG9jayB7XG4gIGNoYWluIHtcbiAgICBsYXRlc3RCbG9jayB7XG4gICAgICAuLi5ibG9ja0ZyYWdtZW50XG4gICAgfVxuICB9XG59XG4gICAgJHtCbG9ja0ZyYWdtZW50RG9jfWA7XG52YXIgR2V0TGF0ZXN0QmxvY2tIZWlnaHREb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRMYXRlc3RCbG9ja0hlaWdodCB7XG4gIGNoYWluIHtcbiAgICBsYXRlc3RCbG9jayB7XG4gICAgICBoZWlnaHRcbiAgICB9XG4gIH1cbn1cbiAgICBgO1xudmFyIEdldEJsb2NrRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0QmxvY2soJGJsb2NrSWQ6IEJsb2NrSWQsICRoZWlnaHQ6IFUzMikge1xuICBibG9jayhpZDogJGJsb2NrSWQsIGhlaWdodDogJGhlaWdodCkge1xuICAgIC4uLmJsb2NrRnJhZ21lbnRcbiAgfVxufVxuICAgICR7QmxvY2tGcmFnbWVudERvY31gO1xudmFyIEdldEJsb2NrV2l0aFRyYW5zYWN0aW9uc0RvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGdldEJsb2NrV2l0aFRyYW5zYWN0aW9ucygkYmxvY2tJZDogQmxvY2tJZCwgJGJsb2NrSGVpZ2h0OiBVMzIpIHtcbiAgYmxvY2soaWQ6ICRibG9ja0lkLCBoZWlnaHQ6ICRibG9ja0hlaWdodCkge1xuICAgIC4uLmJsb2NrRnJhZ21lbnRcbiAgICB0cmFuc2FjdGlvbnMge1xuICAgICAgLi4udHJhbnNhY3Rpb25SYXdQYXlsb2FkRnJhZ21lbnRcbiAgICB9XG4gIH1cbn1cbiAgICAke0Jsb2NrRnJhZ21lbnREb2N9XG4ke1RyYW5zYWN0aW9uUmF3UGF5bG9hZEZyYWdtZW50RG9jfWA7XG52YXIgR2V0QmxvY2tzRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0QmxvY2tzKCRhZnRlcjogU3RyaW5nLCAkYmVmb3JlOiBTdHJpbmcsICRmaXJzdDogSW50LCAkbGFzdDogSW50KSB7XG4gIGJsb2NrcyhhZnRlcjogJGFmdGVyLCBiZWZvcmU6ICRiZWZvcmUsIGZpcnN0OiAkZmlyc3QsIGxhc3Q6ICRsYXN0KSB7XG4gICAgcGFnZUluZm8ge1xuICAgICAgLi4ucGFnZUluZm9GcmFnbWVudFxuICAgIH1cbiAgICBlZGdlcyB7XG4gICAgICBub2RlIHtcbiAgICAgICAgLi4uYmxvY2tGcmFnbWVudFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuICAgICR7UGFnZUluZm9GcmFnbWVudERvY31cbiR7QmxvY2tGcmFnbWVudERvY31gO1xudmFyIEdldENvaW5Eb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRDb2luKCRjb2luSWQ6IFV0eG9JZCEpIHtcbiAgY29pbih1dHhvSWQ6ICRjb2luSWQpIHtcbiAgICAuLi5jb2luRnJhZ21lbnRcbiAgICBvd25lclxuICB9XG59XG4gICAgJHtDb2luRnJhZ21lbnREb2N9YDtcbnZhciBHZXRDb2luc0RvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGdldENvaW5zKCRmaWx0ZXI6IENvaW5GaWx0ZXJJbnB1dCEsICRhZnRlcjogU3RyaW5nLCAkYmVmb3JlOiBTdHJpbmcsICRmaXJzdDogSW50LCAkbGFzdDogSW50KSB7XG4gIGNvaW5zKFxuICAgIGZpbHRlcjogJGZpbHRlclxuICAgIGFmdGVyOiAkYWZ0ZXJcbiAgICBiZWZvcmU6ICRiZWZvcmVcbiAgICBmaXJzdDogJGZpcnN0XG4gICAgbGFzdDogJGxhc3RcbiAgKSB7XG4gICAgcGFnZUluZm8ge1xuICAgICAgLi4ucGFnZUluZm9GcmFnbWVudFxuICAgIH1cbiAgICBlZGdlcyB7XG4gICAgICBub2RlIHtcbiAgICAgICAgLi4uY29pbkZyYWdtZW50XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4gICAgJHtQYWdlSW5mb0ZyYWdtZW50RG9jfVxuJHtDb2luRnJhZ21lbnREb2N9YDtcbnZhciBHZXRDb2luc1RvU3BlbmREb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRDb2luc1RvU3BlbmQoJG93bmVyOiBBZGRyZXNzISwgJHF1ZXJ5UGVyQXNzZXQ6IFtTcGVuZFF1ZXJ5RWxlbWVudElucHV0IV0hLCAkZXhjbHVkZWRJZHM6IEV4Y2x1ZGVJbnB1dCkge1xuICBjb2luc1RvU3BlbmQoXG4gICAgb3duZXI6ICRvd25lclxuICAgIHF1ZXJ5UGVyQXNzZXQ6ICRxdWVyeVBlckFzc2V0XG4gICAgZXhjbHVkZWRJZHM6ICRleGNsdWRlZElkc1xuICApIHtcbiAgICAuLi5jb2luRnJhZ21lbnRcbiAgICAuLi5tZXNzYWdlQ29pbkZyYWdtZW50XG4gIH1cbn1cbiAgICAke0NvaW5GcmFnbWVudERvY31cbiR7TWVzc2FnZUNvaW5GcmFnbWVudERvY31gO1xudmFyIEdldENvbnRyYWN0RG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0Q29udHJhY3QoJGNvbnRyYWN0SWQ6IENvbnRyYWN0SWQhKSB7XG4gIGNvbnRyYWN0KGlkOiAkY29udHJhY3RJZCkge1xuICAgIGJ5dGVjb2RlXG4gICAgaWRcbiAgfVxufVxuICAgIGA7XG52YXIgR2V0Q29udHJhY3RCYWxhbmNlRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0Q29udHJhY3RCYWxhbmNlKCRjb250cmFjdDogQ29udHJhY3RJZCEsICRhc3NldDogQXNzZXRJZCEpIHtcbiAgY29udHJhY3RCYWxhbmNlKGNvbnRyYWN0OiAkY29udHJhY3QsIGFzc2V0OiAkYXNzZXQpIHtcbiAgICAuLi5jb250cmFjdEJhbGFuY2VGcmFnbWVudFxuICB9XG59XG4gICAgJHtDb250cmFjdEJhbGFuY2VGcmFnbWVudERvY31gO1xudmFyIEdldEJhbGFuY2VEb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRCYWxhbmNlKCRvd25lcjogQWRkcmVzcyEsICRhc3NldElkOiBBc3NldElkISkge1xuICBiYWxhbmNlKG93bmVyOiAkb3duZXIsIGFzc2V0SWQ6ICRhc3NldElkKSB7XG4gICAgYW1vdW50XG4gIH1cbn1cbiAgICBgO1xudmFyIEdldEJhbGFuY2VWMkRvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGdldEJhbGFuY2VWMigkb3duZXI6IEFkZHJlc3MhLCAkYXNzZXRJZDogQXNzZXRJZCEpIHtcbiAgYmFsYW5jZShvd25lcjogJG93bmVyLCBhc3NldElkOiAkYXNzZXRJZCkge1xuICAgIGFtb3VudFUxMjhcbiAgfVxufVxuICAgIGA7XG52YXIgR2V0TGF0ZXN0R2FzUHJpY2VEb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRMYXRlc3RHYXNQcmljZSB7XG4gIGxhdGVzdEdhc1ByaWNlIHtcbiAgICBnYXNQcmljZVxuICB9XG59XG4gICAgYDtcbnZhciBFc3RpbWF0ZUdhc1ByaWNlRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZXN0aW1hdGVHYXNQcmljZSgkYmxvY2tIb3Jpem9uOiBVMzIhKSB7XG4gIGVzdGltYXRlR2FzUHJpY2UoYmxvY2tIb3Jpem9uOiAkYmxvY2tIb3Jpem9uKSB7XG4gICAgZ2FzUHJpY2VcbiAgfVxufVxuICAgIGA7XG52YXIgR2V0QmFsYW5jZXNEb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRCYWxhbmNlcygkZmlsdGVyOiBCYWxhbmNlRmlsdGVySW5wdXQhLCAkYWZ0ZXI6IFN0cmluZywgJGJlZm9yZTogU3RyaW5nLCAkZmlyc3Q6IEludCwgJGxhc3Q6IEludCkge1xuICBiYWxhbmNlcyhcbiAgICBmaWx0ZXI6ICRmaWx0ZXJcbiAgICBhZnRlcjogJGFmdGVyXG4gICAgYmVmb3JlOiAkYmVmb3JlXG4gICAgZmlyc3Q6ICRmaXJzdFxuICAgIGxhc3Q6ICRsYXN0XG4gICkge1xuICAgIGVkZ2VzIHtcbiAgICAgIG5vZGUge1xuICAgICAgICBhc3NldElkXG4gICAgICAgIGFtb3VudFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuICAgIGA7XG52YXIgR2V0QmFsYW5jZXNWMkRvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGdldEJhbGFuY2VzVjIoJGZpbHRlcjogQmFsYW5jZUZpbHRlcklucHV0ISwgJGFmdGVyOiBTdHJpbmcsICRiZWZvcmU6IFN0cmluZywgJGZpcnN0OiBJbnQsICRsYXN0OiBJbnQsICRzdXBwb3J0c1BhZ2luYXRpb246IEJvb2xlYW4hKSB7XG4gIGJhbGFuY2VzKFxuICAgIGZpbHRlcjogJGZpbHRlclxuICAgIGFmdGVyOiAkYWZ0ZXJcbiAgICBiZWZvcmU6ICRiZWZvcmVcbiAgICBmaXJzdDogJGZpcnN0XG4gICAgbGFzdDogJGxhc3RcbiAgKSB7XG4gICAgcGFnZUluZm8gQGluY2x1ZGUoaWY6ICRzdXBwb3J0c1BhZ2luYXRpb24pIHtcbiAgICAgIC4uLnBhZ2VJbmZvRnJhZ21lbnRcbiAgICB9XG4gICAgZWRnZXMge1xuICAgICAgbm9kZSB7XG4gICAgICAgIGFzc2V0SWRcbiAgICAgICAgYW1vdW50VTEyOFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuICAgICR7UGFnZUluZm9GcmFnbWVudERvY31gO1xudmFyIEdldE1lc3NhZ2VzRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0TWVzc2FnZXMoJG93bmVyOiBBZGRyZXNzISwgJGFmdGVyOiBTdHJpbmcsICRiZWZvcmU6IFN0cmluZywgJGZpcnN0OiBJbnQsICRsYXN0OiBJbnQpIHtcbiAgbWVzc2FnZXMoXG4gICAgb3duZXI6ICRvd25lclxuICAgIGFmdGVyOiAkYWZ0ZXJcbiAgICBiZWZvcmU6ICRiZWZvcmVcbiAgICBmaXJzdDogJGZpcnN0XG4gICAgbGFzdDogJGxhc3RcbiAgKSB7XG4gICAgcGFnZUluZm8ge1xuICAgICAgLi4ucGFnZUluZm9GcmFnbWVudFxuICAgIH1cbiAgICBlZGdlcyB7XG4gICAgICBub2RlIHtcbiAgICAgICAgLi4uZ2V0TWVzc2FnZUZyYWdtZW50XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4gICAgJHtQYWdlSW5mb0ZyYWdtZW50RG9jfVxuJHtHZXRNZXNzYWdlRnJhZ21lbnREb2N9YDtcbnZhciBEYUNvbXByZXNzZWRCbG9ja0RvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGRhQ29tcHJlc3NlZEJsb2NrKCRoZWlnaHQ6IFUzMiEpIHtcbiAgZGFDb21wcmVzc2VkQmxvY2soaGVpZ2h0OiAkaGVpZ2h0KSB7XG4gICAgYnl0ZXNcbiAgfVxufVxuICAgIGA7XG52YXIgR2V0TWVzc2FnZVByb29mRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0TWVzc2FnZVByb29mKCR0cmFuc2FjdGlvbklkOiBUcmFuc2FjdGlvbklkISwgJG5vbmNlOiBOb25jZSEsICRjb21taXRCbG9ja0lkOiBCbG9ja0lkLCAkY29tbWl0QmxvY2tIZWlnaHQ6IFUzMikge1xuICBtZXNzYWdlUHJvb2YoXG4gICAgdHJhbnNhY3Rpb25JZDogJHRyYW5zYWN0aW9uSWRcbiAgICBub25jZTogJG5vbmNlXG4gICAgY29tbWl0QmxvY2tJZDogJGNvbW1pdEJsb2NrSWRcbiAgICBjb21taXRCbG9ja0hlaWdodDogJGNvbW1pdEJsb2NrSGVpZ2h0XG4gICkge1xuICAgIC4uLm1lc3NhZ2VQcm9vZkZyYWdtZW50XG4gIH1cbn1cbiAgICAke01lc3NhZ2VQcm9vZkZyYWdtZW50RG9jfWA7XG52YXIgR2V0TWVzc2FnZVN0YXR1c0RvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGdldE1lc3NhZ2VTdGF0dXMoJG5vbmNlOiBOb25jZSEpIHtcbiAgbWVzc2FnZVN0YXR1cyhub25jZTogJG5vbmNlKSB7XG4gICAgc3RhdGVcbiAgfVxufVxuICAgIGA7XG52YXIgR2V0UmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0UmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzKCRyZWxheWVkVHJhbnNhY3Rpb25JZDogUmVsYXllZFRyYW5zYWN0aW9uSWQhKSB7XG4gIHJlbGF5ZWRUcmFuc2FjdGlvblN0YXR1cyhpZDogJHJlbGF5ZWRUcmFuc2FjdGlvbklkKSB7XG4gICAgLi4ucmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzRnJhZ21lbnRcbiAgfVxufVxuICAgICR7UmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzRnJhZ21lbnREb2N9YDtcbnZhciBHZXRBc3NldERldGFpbHNEb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRBc3NldERldGFpbHMoJGFzc2V0SWQ6IEFzc2V0SWQhKSB7XG4gIGFzc2V0RGV0YWlscyhpZDogJGFzc2V0SWQpIHtcbiAgICBzdWJJZFxuICAgIGNvbnRyYWN0SWRcbiAgICB0b3RhbFN1cHBseVxuICB9XG59XG4gICAgYDtcbnZhciBBc3NlbWJsZVR4RG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgYXNzZW1ibGVUeCgkdHg6IEhleFN0cmluZyEsICRibG9ja0hvcml6b246IFUzMiEsICRyZXF1aXJlZEJhbGFuY2VzOiBbUmVxdWlyZWRCYWxhbmNlIV0hLCAkZmVlQWRkcmVzc0luZGV4OiBVMTYhLCAkZXhjbHVkZUlucHV0OiBFeGNsdWRlSW5wdXQsICRlc3RpbWF0ZVByZWRpY2F0ZXM6IEJvb2xlYW4sICRyZXNlcnZlR2FzOiBVNjQpIHtcbiAgYXNzZW1ibGVUeChcbiAgICB0eDogJHR4XG4gICAgYmxvY2tIb3Jpem9uOiAkYmxvY2tIb3Jpem9uXG4gICAgcmVxdWlyZWRCYWxhbmNlczogJHJlcXVpcmVkQmFsYW5jZXNcbiAgICBmZWVBZGRyZXNzSW5kZXg6ICRmZWVBZGRyZXNzSW5kZXhcbiAgICBleGNsdWRlSW5wdXQ6ICRleGNsdWRlSW5wdXRcbiAgICBlc3RpbWF0ZVByZWRpY2F0ZXM6ICRlc3RpbWF0ZVByZWRpY2F0ZXNcbiAgICByZXNlcnZlR2FzOiAkcmVzZXJ2ZUdhc1xuICApIHtcbiAgICB0cmFuc2FjdGlvbiB7XG4gICAgICBpZFxuICAgICAgaW5wdXRzIHtcbiAgICAgICAgLi4uIG9uIElucHV0Q29pbiB7XG4gICAgICAgICAgLi4uSW5wdXRDb2luRnJhZ21lbnRcbiAgICAgICAgfVxuICAgICAgICAuLi4gb24gSW5wdXRDb250cmFjdCB7XG4gICAgICAgICAgLi4uSW5wdXRDb250cmFjdEZyYWdtZW50XG4gICAgICAgIH1cbiAgICAgICAgLi4uIG9uIElucHV0TWVzc2FnZSB7XG4gICAgICAgICAgLi4uSW5wdXRNZXNzYWdlRnJhZ21lbnRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb3V0cHV0cyB7XG4gICAgICAgIC4uLiBvbiBDb2luT3V0cHV0IHtcbiAgICAgICAgICAuLi5PdXRwdXRDb2luRnJhZ21lbnRcbiAgICAgICAgfVxuICAgICAgICAuLi4gb24gQ29udHJhY3RPdXRwdXQge1xuICAgICAgICAgIC4uLk91dHB1dENvbnRyYWN0RnJhZ21lbnRcbiAgICAgICAgfVxuICAgICAgICAuLi4gb24gQ2hhbmdlT3V0cHV0IHtcbiAgICAgICAgICAuLi5PdXRwdXRDaGFuZ2VGcmFnbWVudFxuICAgICAgICB9XG4gICAgICAgIC4uLiBvbiBWYXJpYWJsZU91dHB1dCB7XG4gICAgICAgICAgLi4uT3V0cHV0VmFyaWFibGVGcmFnbWVudFxuICAgICAgICB9XG4gICAgICAgIC4uLiBvbiBDb250cmFjdENyZWF0ZWQge1xuICAgICAgICAgIC4uLk91dHB1dENvbnRyYWN0Q3JlYXRlZEZyYWdtZW50XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvbGljaWVzIHtcbiAgICAgICAgdGlwXG4gICAgICAgIHdpdG5lc3NMaW1pdFxuICAgICAgICBtYXR1cml0eVxuICAgICAgICBtYXhGZWVcbiAgICAgIH1cbiAgICAgIHdpdG5lc3Nlc1xuICAgICAgc2NyaXB0R2FzTGltaXRcbiAgICB9XG4gICAgc3RhdHVzIHtcbiAgICAgIC4uLiBvbiBEcnlSdW5GYWlsdXJlU3RhdHVzIHtcbiAgICAgICAgLi4uZHJ5UnVuRmFpbHVyZUFzc2VtYmxlVHhGcmFnbWVudFxuICAgICAgfVxuICAgICAgLi4uIG9uIERyeVJ1blN1Y2Nlc3NTdGF0dXMge1xuICAgICAgICAuLi5kcnlSdW5TdWNjZXNzQXNzZW1ibGVUeEZyYWdtZW50XG4gICAgICB9XG4gICAgfVxuICAgIGdhc1ByaWNlXG4gIH1cbn1cbiAgICAke0lucHV0Q29pbkZyYWdtZW50RG9jfVxuJHtJbnB1dENvbnRyYWN0RnJhZ21lbnREb2N9XG4ke0lucHV0TWVzc2FnZUZyYWdtZW50RG9jfVxuJHtPdXRwdXRDb2luRnJhZ21lbnREb2N9XG4ke091dHB1dENvbnRyYWN0RnJhZ21lbnREb2N9XG4ke091dHB1dENoYW5nZUZyYWdtZW50RG9jfVxuJHtPdXRwdXRWYXJpYWJsZUZyYWdtZW50RG9jfVxuJHtPdXRwdXRDb250cmFjdENyZWF0ZWRGcmFnbWVudERvY31cbiR7RHJ5UnVuRmFpbHVyZUFzc2VtYmxlVHhGcmFnbWVudERvY31cbiR7RHJ5UnVuU3VjY2Vzc0Fzc2VtYmxlVHhGcmFnbWVudERvY31gO1xudmFyIERyeVJ1bkRvY3VtZW50ID0gZ3FsYFxuICAgIHF1ZXJ5IGRyeVJ1bigkZW5jb2RlZFRyYW5zYWN0aW9uczogW0hleFN0cmluZyFdISwgJHV0eG9WYWxpZGF0aW9uOiBCb29sZWFuLCAkZ2FzUHJpY2U6IFU2NCkge1xuICBkcnlSdW4oXG4gICAgdHhzOiAkZW5jb2RlZFRyYW5zYWN0aW9uc1xuICAgIHV0eG9WYWxpZGF0aW9uOiAkdXR4b1ZhbGlkYXRpb25cbiAgICBnYXNQcmljZTogJGdhc1ByaWNlXG4gICkge1xuICAgIC4uLmRyeVJ1blRyYW5zYWN0aW9uRXhlY3V0aW9uU3RhdHVzRnJhZ21lbnRcbiAgfVxufVxuICAgICR7RHJ5UnVuVHJhbnNhY3Rpb25FeGVjdXRpb25TdGF0dXNGcmFnbWVudERvY31gO1xudmFyIFN1Ym1pdERvY3VtZW50ID0gZ3FsYFxuICAgIG11dGF0aW9uIHN1Ym1pdCgkZW5jb2RlZFRyYW5zYWN0aW9uOiBIZXhTdHJpbmchKSB7XG4gIHN1Ym1pdCh0eDogJGVuY29kZWRUcmFuc2FjdGlvbikge1xuICAgIGlkXG4gIH1cbn1cbiAgICBgO1xudmFyIFByb2R1Y2VCbG9ja3NEb2N1bWVudCA9IGdxbGBcbiAgICBtdXRhdGlvbiBwcm9kdWNlQmxvY2tzKCRzdGFydFRpbWVzdGFtcDogVGFpNjRUaW1lc3RhbXAsICRibG9ja3NUb1Byb2R1Y2U6IFUzMiEpIHtcbiAgcHJvZHVjZUJsb2NrcyhcbiAgICBibG9ja3NUb1Byb2R1Y2U6ICRibG9ja3NUb1Byb2R1Y2VcbiAgICBzdGFydFRpbWVzdGFtcDogJHN0YXJ0VGltZXN0YW1wXG4gIClcbn1cbiAgICBgO1xudmFyIEdldE1lc3NhZ2VCeU5vbmNlRG9jdW1lbnQgPSBncWxgXG4gICAgcXVlcnkgZ2V0TWVzc2FnZUJ5Tm9uY2UoJG5vbmNlOiBOb25jZSEpIHtcbiAgbWVzc2FnZShub25jZTogJG5vbmNlKSB7XG4gICAgLi4ubWVzc2FnZUZyYWdtZW50XG4gIH1cbn1cbiAgICAke01lc3NhZ2VGcmFnbWVudERvY31gO1xudmFyIElzVXNlckFjY291bnREb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBpc1VzZXJBY2NvdW50KCRibG9iSWQ6IEJsb2JJZCEsICRjb250cmFjdElkOiBDb250cmFjdElkISwgJHRyYW5zYWN0aW9uSWQ6IFRyYW5zYWN0aW9uSWQhKSB7XG4gIGJsb2IoaWQ6ICRibG9iSWQpIHtcbiAgICBpZFxuICB9XG4gIGNvbnRyYWN0KGlkOiAkY29udHJhY3RJZCkge1xuICAgIGlkXG4gIH1cbiAgdHJhbnNhY3Rpb24oaWQ6ICR0cmFuc2FjdGlvbklkKSB7XG4gICAgaWRcbiAgfVxufVxuICAgIGA7XG52YXIgR2V0Q29uc2Vuc3VzUGFyYW1ldGVyc1ZlcnNpb25Eb2N1bWVudCA9IGdxbGBcbiAgICBxdWVyeSBnZXRDb25zZW5zdXNQYXJhbWV0ZXJzVmVyc2lvbiB7XG4gIGNoYWluIHtcbiAgICBsYXRlc3RCbG9jayB7XG4gICAgICBoZWFkZXIge1xuICAgICAgICBjb25zZW5zdXNQYXJhbWV0ZXJzVmVyc2lvblxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuICAgIGA7XG52YXIgU3VibWl0QW5kQXdhaXRTdGF0dXNEb2N1bWVudCA9IGdxbGBcbiAgICBzdWJzY3JpcHRpb24gc3VibWl0QW5kQXdhaXRTdGF0dXMoJGVuY29kZWRUcmFuc2FjdGlvbjogSGV4U3RyaW5nISwgJGVzdGltYXRlUHJlZGljYXRlczogQm9vbGVhbiwgJGluY2x1ZGVQcmVDb25maXJtYXRpb246IEJvb2xlYW4pIHtcbiAgc3VibWl0QW5kQXdhaXRTdGF0dXMoXG4gICAgdHg6ICRlbmNvZGVkVHJhbnNhY3Rpb25cbiAgICBlc3RpbWF0ZVByZWRpY2F0ZXM6ICRlc3RpbWF0ZVByZWRpY2F0ZXNcbiAgICBpbmNsdWRlUHJlY29uZmlybWF0aW9uOiAkaW5jbHVkZVByZUNvbmZpcm1hdGlvblxuICApIHtcbiAgICAuLi50cmFuc2FjdGlvblN0YXR1c1N1YnNjcmlwdGlvbkZyYWdtZW50XG4gIH1cbn1cbiAgICAke1RyYW5zYWN0aW9uU3RhdHVzU3Vic2NyaXB0aW9uRnJhZ21lbnREb2N9YDtcbnZhciBTdGF0dXNDaGFuZ2VEb2N1bWVudCA9IGdxbGBcbiAgICBzdWJzY3JpcHRpb24gc3RhdHVzQ2hhbmdlKCR0cmFuc2FjdGlvbklkOiBUcmFuc2FjdGlvbklkISwgJGluY2x1ZGVQcmVDb25maXJtYXRpb246IEJvb2xlYW4pIHtcbiAgc3RhdHVzQ2hhbmdlKFxuICAgIGlkOiAkdHJhbnNhY3Rpb25JZFxuICAgIGluY2x1ZGVQcmVjb25maXJtYXRpb246ICRpbmNsdWRlUHJlQ29uZmlybWF0aW9uXG4gICkge1xuICAgIC4uLnRyYW5zYWN0aW9uU3RhdHVzU3Vic2NyaXB0aW9uRnJhZ21lbnRcbiAgfVxufVxuICAgICR7VHJhbnNhY3Rpb25TdGF0dXNTdWJzY3JpcHRpb25GcmFnbWVudERvY31gO1xuZnVuY3Rpb24gZ2V0U2RrKHJlcXVlc3Rlcikge1xuICByZXR1cm4ge1xuICAgIGdldFZlcnNpb24odmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldFZlcnNpb25Eb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldE5vZGVJbmZvKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXROb2RlSW5mb0RvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0Q2hhaW4odmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldENoYWluRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRDaGFpbkFuZE5vZGVJbmZvKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRDaGFpbkFuZE5vZGVJbmZvRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRUcmFuc2FjdGlvbih2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoR2V0VHJhbnNhY3Rpb25Eb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldFRyYW5zYWN0aW9uV2l0aFJlY2VpcHRzKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRUcmFuc2FjdGlvbldpdGhSZWNlaXB0c0RvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0VHJhbnNhY3Rpb25zKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRUcmFuc2FjdGlvbnNEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldFRyYW5zYWN0aW9uc0J5T3duZXIodmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldFRyYW5zYWN0aW9uc0J5T3duZXJEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGVzdGltYXRlUHJlZGljYXRlcyh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoRXN0aW1hdGVQcmVkaWNhdGVzRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBlc3RpbWF0ZVByZWRpY2F0ZXNBbmRHYXNQcmljZSh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoRXN0aW1hdGVQcmVkaWNhdGVzQW5kR2FzUHJpY2VEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldExhdGVzdEJsb2NrKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRMYXRlc3RCbG9ja0RvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0TGF0ZXN0QmxvY2tIZWlnaHQodmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldExhdGVzdEJsb2NrSGVpZ2h0RG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRCbG9jayh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoR2V0QmxvY2tEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldEJsb2NrV2l0aFRyYW5zYWN0aW9ucyh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoR2V0QmxvY2tXaXRoVHJhbnNhY3Rpb25zRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRCbG9ja3ModmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldEJsb2Nrc0RvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0Q29pbih2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoR2V0Q29pbkRvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0Q29pbnModmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldENvaW5zRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRDb2luc1RvU3BlbmQodmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldENvaW5zVG9TcGVuZERvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0Q29udHJhY3QodmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldENvbnRyYWN0RG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRDb250cmFjdEJhbGFuY2UodmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldENvbnRyYWN0QmFsYW5jZURvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0QmFsYW5jZSh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoR2V0QmFsYW5jZURvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0QmFsYW5jZVYyKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRCYWxhbmNlVjJEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldExhdGVzdEdhc1ByaWNlKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRMYXRlc3RHYXNQcmljZURvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZXN0aW1hdGVHYXNQcmljZSh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoRXN0aW1hdGVHYXNQcmljZURvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0QmFsYW5jZXModmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldEJhbGFuY2VzRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRCYWxhbmNlc1YyKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRCYWxhbmNlc1YyRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRNZXNzYWdlcyh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoR2V0TWVzc2FnZXNEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGRhQ29tcHJlc3NlZEJsb2NrKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihEYUNvbXByZXNzZWRCbG9ja0RvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZ2V0TWVzc2FnZVByb29mKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRNZXNzYWdlUHJvb2ZEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldE1lc3NhZ2VTdGF0dXModmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldE1lc3NhZ2VTdGF0dXNEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldFJlbGF5ZWRUcmFuc2FjdGlvblN0YXR1cyh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoR2V0UmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRBc3NldERldGFpbHModmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKEdldEFzc2V0RGV0YWlsc0RvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgYXNzZW1ibGVUeCh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoQXNzZW1ibGVUeERvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgZHJ5UnVuKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihEcnlSdW5Eb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHN1Ym1pdCh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoU3VibWl0RG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBwcm9kdWNlQmxvY2tzKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihQcm9kdWNlQmxvY2tzRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBnZXRNZXNzYWdlQnlOb25jZSh2YXJpYWJsZXMsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0ZXIoR2V0TWVzc2FnZUJ5Tm9uY2VEb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGlzVXNlckFjY291bnQodmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKElzVXNlckFjY291bnREb2N1bWVudCwgdmFyaWFibGVzLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGdldENvbnNlbnN1c1BhcmFtZXRlcnNWZXJzaW9uKHZhcmlhYmxlcywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RlcihHZXRDb25zZW5zdXNQYXJhbWV0ZXJzVmVyc2lvbkRvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgc3VibWl0QW5kQXdhaXRTdGF0dXModmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKFN1Ym1pdEFuZEF3YWl0U3RhdHVzRG9jdW1lbnQsIHZhcmlhYmxlcywgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBzdGF0dXNDaGFuZ2UodmFyaWFibGVzLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdGVyKFN0YXR1c0NoYW5nZURvY3VtZW50LCB2YXJpYWJsZXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfTtcbn1cbl9fbmFtZShnZXRTZGssIFwiZ2V0U2RrXCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL2Fzc2VtYmxlLXR4LWhlbHBlcnMudHNcbmltcG9ydCB7IEZ1ZWxFcnJvciwgRXJyb3JDb2RlIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgYm4gYXMgYm4yIH0gZnJvbSBcIkBmdWVsLXRzL21hdGhcIjtcbmltcG9ydCB7IFRyYW5zYWN0aW9uVHlwZSB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IGhleGxpZnkgYXMgaGV4bGlmeTIsIGlzRGVmaW5lZCB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xudmFyIHJlc29sdmVBY2NvdW50Rm9yQXNzZW1ibGVUeFBhcmFtcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGFjY291bnQpID0+IHtcbiAgY29uc3QgYXNzZW1ibGVUeEFjY291bnQgPSB7fTtcbiAgY29uc3QgYWNjb3VudElzUHJlZGljYXRlID0gXCJieXRlc1wiIGluIGFjY291bnQ7XG4gIGlmIChhY2NvdW50SXNQcmVkaWNhdGUpIHtcbiAgICBhc3NlbWJsZVR4QWNjb3VudC5wcmVkaWNhdGUgPSB7XG4gICAgICBwcmVkaWNhdGU6IGhleGxpZnkyKGFjY291bnQuYnl0ZXMpLFxuICAgICAgcHJlZGljYXRlQWRkcmVzczogYWNjb3VudC5hZGRyZXNzLnRvQjI1NigpLFxuICAgICAgcHJlZGljYXRlRGF0YTogaGV4bGlmeTIoYWNjb3VudC5nZXRQcmVkaWNhdGVEYXRhKCkpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlbWJsZVR4QWNjb3VudC5hZGRyZXNzID0gYWNjb3VudC5hZGRyZXNzLnRvQjI1NigpO1xuICB9XG4gIHJldHVybiBhc3NlbWJsZVR4QWNjb3VudDtcbn0sIFwicmVzb2x2ZUFjY291bnRGb3JBc3NlbWJsZVR4UGFyYW1zXCIpO1xudmFyIHNldEFuZFZhbGlkYXRlR2FzQW5kRmVlRm9yQXNzZW1ibGVkVHggPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJhbXMpID0+IHtcbiAgY29uc3QgeyBnYXNQcmljZSwgdHJhbnNhY3Rpb25SZXF1ZXN0LCBzZXRHYXNMaW1pdCwgc2V0TWF4RmVlLCBwcm92aWRlciB9ID0gcGFyYW1zO1xuICBjb25zdCBnYXNMaW1pdFNwZWNpZmllZCA9IGlzRGVmaW5lZChzZXRHYXNMaW1pdCk7XG4gIGNvbnN0IG1heEZlZVNwZWNpZmllZCA9IGlzRGVmaW5lZChzZXRNYXhGZWUpO1xuICBjb25zdCBpc1NjcmlwdFR4ID0gdHJhbnNhY3Rpb25SZXF1ZXN0LnR5cGUgPT09IFRyYW5zYWN0aW9uVHlwZS5TY3JpcHQ7XG4gIGlmIChnYXNMaW1pdFNwZWNpZmllZCAmJiBpc1NjcmlwdFR4KSB7XG4gICAgY29uc3QgcmVxdWlyZWRHYXNMaW1pdCA9IHRyYW5zYWN0aW9uUmVxdWVzdC5nYXNMaW1pdDtcbiAgICBpZiAoYm4yKHNldEdhc0xpbWl0KS5sdChibjIocmVxdWlyZWRHYXNMaW1pdCkpKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yKFxuICAgICAgICBFcnJvckNvZGUuR0FTX0xJTUlUX1RPT19MT1csXG4gICAgICAgIGBHYXMgbGltaXQgJyR7c2V0R2FzTGltaXR9JyBpcyBsb3dlciB0aGFuIHRoZSByZXF1aXJlZDogJyR7cmVxdWlyZWRHYXNMaW1pdH0nLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHRyYW5zYWN0aW9uUmVxdWVzdC5nYXNMaW1pdCA9IGJuMihzZXRHYXNMaW1pdCk7XG4gIH1cbiAgaWYgKG1heEZlZVNwZWNpZmllZCkge1xuICAgIGNvbnN0IHJlcXVpcmVkTWF4RmVlID0gdHJhbnNhY3Rpb25SZXF1ZXN0Lm1heEZlZTtcbiAgICBpZiAoYm4yKHNldE1heEZlZSkubHQocmVxdWlyZWRNYXhGZWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yKFxuICAgICAgICBFcnJvckNvZGUuTUFYX0ZFRV9UT09fTE9XLFxuICAgICAgICBgTWF4IGZlZSAnJHtzZXRNYXhGZWV9JyBpcyBsb3dlciB0aGFuIHRoZSByZXF1aXJlZDogJyR7cmVxdWlyZWRNYXhGZWV9Jy5gXG4gICAgICApO1xuICAgIH1cbiAgICB0cmFuc2FjdGlvblJlcXVlc3QubWF4RmVlID0gYm4yKHNldE1heEZlZSk7XG4gIH1cbiAgaWYgKGdhc0xpbWl0U3BlY2lmaWVkICYmICFtYXhGZWVTcGVjaWZpZWQpIHtcbiAgICBjb25zdCB7IG1heEZlZTogZmVlRm9yR2FzUHJpY2UgfSA9IGF3YWl0IHByb3ZpZGVyLmVzdGltYXRlVHhHYXNBbmRGZWUoe1xuICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0LFxuICAgICAgZ2FzUHJpY2VcbiAgICB9KTtcbiAgICB0cmFuc2FjdGlvblJlcXVlc3QubWF4RmVlID0gZmVlRm9yR2FzUHJpY2U7XG4gIH1cbiAgcmV0dXJuIHRyYW5zYWN0aW9uUmVxdWVzdDtcbn0sIFwic2V0QW5kVmFsaWRhdGVHYXNBbmRGZWVGb3JBc3NlbWJsZWRUeFwiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy9mdWVsLWdyYXBocWwtc3Vic2NyaWJlci50c1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTMsIEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3IzIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgcHJpbnQgfSBmcm9tIFwiZ3JhcGhxbFwiO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3V0aWxzL2hhbmRsZS1ncWwtZXJyb3ItbWVzc2FnZS50c1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTIsIEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3IyIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xudmFyIGdxbEVycm9yTWVzc2FnZSA9IHtcbiAgUlBDX0NPTlNJU1RFTkNZOiAvVGhlIHJlcXVpcmVkIGZ1ZWwgYmxvY2sgaGVpZ2h0IGlzIGhpZ2hlciB0aGFuIHRoZSBjdXJyZW50IGJsb2NrIGhlaWdodC4gUmVxdWlyZWQ6IFxcZCssIEN1cnJlbnQ6IFxcZCsvLFxuICBOT1RfRU5PVUdIX0NPSU5TX01BWF9DT0lOUzogL3RoZSB0YXJnZXQgY2Fubm90IGJlIG1ldCBkdWUgdG8gbm8gY29pbnMgYXZhaWxhYmxlIG9yIGV4Y2VlZGluZyB0aGUgXFxkKyBjb2luIGxpbWl0Li8sXG4gIEFTU0VUX05PVF9GT1VORDogL3Jlc291cmNlIHdhcyBub3QgZm91bmQgaW4gdGFibGUvLFxuICBNVUxUSVBMRV9DSEFOR0VfUE9MSUNJRVM6IC9UaGUgYXNzZXQgKFthLWZBLUYwLTldezY0fSkgaGFzIG11bHRpcGxlIGNoYW5nZSBwb2xpY2llcy8sXG4gIERVUExJQ0FURV9DSEFOR0VfT1VUUFVUX0FDQ09VTlQ6IC9yZXF1aXJlZCBiYWxhbmNlcyBjb250YWluIGR1cGxpY2F0ZSBcXChhc3NldCwgYWNjb3VudFxcKSBwYWlyLyxcbiAgSU5TVUZGSUNJRU5UX0ZFRV9BTU9VTlQ6IC9JbnN1ZmZpY2llbnRGZWVBbW91bnQgeyBleHBlY3RlZDogKFxcZCspLCBwcm92aWRlZDogKFxcZCspIH0vXG59O1xudmFyIG1hcEdxbEVycm9yTWVzc2FnZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGVycm9yKSA9PiB7XG4gIGlmIChncWxFcnJvck1lc3NhZ2UuTk9UX0VOT1VHSF9DT0lOU19NQVhfQ09JTlMudGVzdChlcnJvci5tZXNzYWdlKSkge1xuICAgIHJldHVybiBuZXcgRnVlbEVycm9yMihcbiAgICAgIEVycm9yQ29kZTIuSU5TVUZGSUNJRU5UX0ZVTkRTX09SX01BWF9DT0lOUyxcbiAgICAgIGBJbnN1ZmZpY2llbnQgZnVuZHMgb3IgdG9vIG1hbnkgc21hbGwgdmFsdWUgY29pbnMuIENvbnNpZGVyIGNvbWJpbmluZyBVVFhPcy5gLFxuICAgICAge30sXG4gICAgICBlcnJvclxuICAgICk7XG4gIH1cbiAgaWYgKGdxbEVycm9yTWVzc2FnZS5NVUxUSVBMRV9DSEFOR0VfUE9MSUNJRVMudGVzdChlcnJvci5tZXNzYWdlKSkge1xuICAgIGNvbnN0IG1hdGNoID0gZXJyb3IubWVzc2FnZS5tYXRjaCgvYXNzZXQgKFthLWZBLUYwLTldezY0fSkvKTtcbiAgICBjb25zdCBhc3NldElkID0gbWF0Y2g/LlsxXSB8fCBcIlwiO1xuICAgIHJldHVybiBuZXcgRnVlbEVycm9yMihcbiAgICAgIEVycm9yQ29kZTIuQ0hBTkdFX09VVFBVVF9DT0xMSVNJT04sXG4gICAgICBgT3V0cHV0Q2hhbmdlIGFkZHJlc3MgZm9yIGFzc2V0IDB4JHthc3NldElkfSBkaWZmZXJzIGJldHdlZW4gdHJhbnNhY3Rpb24gcmVxdWVzdCBhbmQgYXNzZW1ibGVUeCBwYXJhbWV0ZXJzLmAsXG4gICAgICB7fSxcbiAgICAgIGVycm9yXG4gICAgKTtcbiAgfVxuICBpZiAoZ3FsRXJyb3JNZXNzYWdlLkRVUExJQ0FURV9DSEFOR0VfT1VUUFVUX0FDQ09VTlQudGVzdChlcnJvci5tZXNzYWdlKSkge1xuICAgIHJldHVybiBuZXcgRnVlbEVycm9yMihcbiAgICAgIEVycm9yQ29kZTIuRFVQTElDQVRFX0NIQU5HRV9PVVRQVVRfQUNDT1VOVCxcbiAgICAgIGBUaGUgcGFyYW1ldGVyICdhY2NvdW50Q29pblF1YW50aXRpZXMnIG9mIGFzc2VtYmxlVHggY29udGFpbnMgZHVwbGljYXRlIGVudHJpZXMgZm9yIHRoZSBzYW1lIGFzc2V0SWQgd2l0aCBkaWZmZXJlbnQgJ2NoYW5nZU91dHB1dEFjY291bnQnLmAsXG4gICAgICB7fSxcbiAgICAgIGVycm9yXG4gICAgKTtcbiAgfVxuICBpZiAoZ3FsRXJyb3JNZXNzYWdlLkFTU0VUX05PVF9GT1VORC50ZXN0KGVycm9yLm1lc3NhZ2UpKSB7XG4gICAgcmV0dXJuIG5ldyBGdWVsRXJyb3IyKFxuICAgICAgRXJyb3JDb2RlMi5BU1NFVF9OT1RfRk9VTkQsXG4gICAgICBgQXNzZXQgbm90IGZvdW5kIGZvciBnaXZlbiBhc3NldCBpZC5gLFxuICAgICAge30sXG4gICAgICBlcnJvclxuICAgICk7XG4gIH1cbiAgaWYgKGdxbEVycm9yTWVzc2FnZS5SUENfQ09OU0lTVEVOQ1kudGVzdChlcnJvci5tZXNzYWdlKSkge1xuICAgIHJldHVybiBuZXcgRnVlbEVycm9yMihFcnJvckNvZGUyLlJQQ19DT05TSVNURU5DWSwgZXJyb3IubWVzc2FnZSwge30sIGVycm9yKTtcbiAgfVxuICBpZiAoZ3FsRXJyb3JNZXNzYWdlLklOU1VGRklDSUVOVF9GRUVfQU1PVU5ULnRlc3QoZXJyb3IubWVzc2FnZSkpIHtcbiAgICBjb25zdCBtYXRjaCA9IGVycm9yLm1lc3NhZ2UubWF0Y2goZ3FsRXJyb3JNZXNzYWdlLklOU1VGRklDSUVOVF9GRUVfQU1PVU5UKTtcbiAgICByZXR1cm4gbmV3IEZ1ZWxFcnJvcjIoRXJyb3JDb2RlMi5GVU5EU19UT09fTE9XLCBtYXRjaD8uWzBdIHx8IGVycm9yLm1lc3NhZ2UsIHt9LCBlcnJvcik7XG4gIH1cbiAgcmV0dXJuIG5ldyBGdWVsRXJyb3IyKEVycm9yQ29kZTIuSU5WQUxJRF9SRVFVRVNULCBlcnJvci5tZXNzYWdlLCB7fSwgZXJyb3IpO1xufSwgXCJtYXBHcWxFcnJvck1lc3NhZ2VcIik7XG52YXIgbWFwR3FsRXJyb3JXaXRoSW5jb21wYXRpYmxlTm9kZVZlcnNpb24gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChlcnJvciwgaW5jb21wYXRpYmxlTm9kZVZlcnNpb25NZXNzYWdlKSA9PiB7XG4gIGlmICghaW5jb21wYXRpYmxlTm9kZVZlcnNpb25NZXNzYWdlKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIHJldHVybiBuZXcgRnVlbEVycm9yMihcbiAgICBlcnJvci5jb2RlLFxuICAgIGAke2Vycm9yLm1lc3NhZ2V9XG5cbiR7aW5jb21wYXRpYmxlTm9kZVZlcnNpb25NZXNzYWdlfWAsXG4gICAgZXJyb3IubWV0YWRhdGEsXG4gICAgZXJyb3IucmF3RXJyb3JcbiAgKTtcbn0sIFwibWFwR3FsRXJyb3JXaXRoSW5jb21wYXRpYmxlTm9kZVZlcnNpb25cIik7XG52YXIgYXNzZXJ0R3FsUmVzcG9uc2VIYXNOb0Vycm9ycyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGVycm9ycywgaW5jb21wYXRpYmxlTm9kZVZlcnNpb25NZXNzYWdlID0gZmFsc2UpID0+IHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGVycm9ycykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbWFwcGVkRXJyb3JzID0gZXJyb3JzLm1hcChtYXBHcWxFcnJvck1lc3NhZ2UpO1xuICBpZiAobWFwcGVkRXJyb3JzLmxlbmd0aCA9PT0gMSkge1xuICAgIHRocm93IG1hcEdxbEVycm9yV2l0aEluY29tcGF0aWJsZU5vZGVWZXJzaW9uKG1hcHBlZEVycm9yc1swXSwgaW5jb21wYXRpYmxlTm9kZVZlcnNpb25NZXNzYWdlKTtcbiAgfVxuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBtYXBwZWRFcnJvcnMubWFwKChlcnIpID0+IGVyci5tZXNzYWdlKS5qb2luKFwiXFxuXCIpO1xuICB0aHJvdyBtYXBHcWxFcnJvcldpdGhJbmNvbXBhdGlibGVOb2RlVmVyc2lvbihcbiAgICBuZXcgRnVlbEVycm9yMihFcnJvckNvZGUyLklOVkFMSURfUkVRVUVTVCwgZXJyb3JNZXNzYWdlLCB7fSwgbWFwcGVkRXJyb3JzKSxcbiAgICBpbmNvbXBhdGlibGVOb2RlVmVyc2lvbk1lc3NhZ2VcbiAgKTtcbn0sIFwiYXNzZXJ0R3FsUmVzcG9uc2VIYXNOb0Vycm9yc1wiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy9mdWVsLWdyYXBocWwtc3Vic2NyaWJlci50c1xudmFyIEZ1ZWxHcmFwaHFsU3Vic2NyaWJlciA9IGNsYXNzIF9GdWVsR3JhcGhxbFN1YnNjcmliZXIge1xuICBjb25zdHJ1Y3RvcihzdHJlYW0sIG9uRXZlbnQpIHtcbiAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICB0aGlzLm9uRXZlbnQgPSBvbkV2ZW50O1xuICB9XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiRnVlbEdyYXBocWxTdWJzY3JpYmVyXCIpO1xuICB9XG4gIHN0YXRpYyBpbmNvbXBhdGlibGVOb2RlVmVyc2lvbk1lc3NhZ2UgPSBmYWxzZTtcbiAgc3RhdGljIHRleHREZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIHN0YXRpYyBhc3luYyBjcmVhdGUob3B0aW9ucykge1xuICAgIGNvbnN0IHsgdXJsLCBxdWVyeSwgdmFyaWFibGVzLCBmZXRjaEZuLCBvcGVyYXRpb25OYW1lLCBvbkV2ZW50IH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hGbihgJHt1cmx9LXN1YmAsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHF1ZXJ5OiBwcmludChxdWVyeSksXG4gICAgICAgIHZhcmlhYmxlcyxcbiAgICAgICAgb3BlcmF0aW9uTmFtZVxuICAgICAgfSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBBY2NlcHQ6IFwidGV4dC9ldmVudC1zdHJlYW1cIlxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IFtlcnJvclJlYWRlciwgcmVzdWx0UmVhZGVyXSA9IHJlc3BvbnNlLmJvZHkudGVlKCkubWFwKChzdHJlYW0pID0+IHN0cmVhbS5nZXRSZWFkZXIoKSk7XG4gICAgYXdhaXQgbmV3IF9GdWVsR3JhcGhxbFN1YnNjcmliZXIoZXJyb3JSZWFkZXIpLm5leHQoKTtcbiAgICByZXR1cm4gbmV3IF9GdWVsR3JhcGhxbFN1YnNjcmliZXIocmVzdWx0UmVhZGVyLCBvbkV2ZW50KTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgd2lsbCB0YWtlIGEgc3RyZWFtIHJlYWRlciBhbmQgcGFyc2UgdGhlIGV2ZW50IGZyb20gdGhlIHN0cmVhbS5cbiAgICpcbiAgICogQHBhcmFtIHJlYWRlciAtIFRoZSByZWFkZXIgb2YgdGhlIFNTRSBzdHJlYW1cbiAgICogQHBhcmFtIHBhcnNpbmdMZWZ0b3ZlciAtIFRoZSBsZWZ0b3ZlciBzdHJpbmcgZnJvbSBwYXJzaW5nIHRoZSBwcmV2aW91cyBldmVudFxuICAgKiBAcmV0dXJucyBUaGUgZXZlbnQgcGFyc2VkIGFzIGEgZnVsbCBHcmFwaFFMIHJlc3BvbnNlLCB3aGV0aGVyIHRoZSBzdHJlYW0gaXMgZG9uZSBhbmQgdGhlIGxlZnRvdmVyIHN0cmluZyBhZnRlciBwYXJzaW5nXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgcmVhZEV2ZW50KHJlYWRlciwgcGFyc2luZ0xlZnRvdmVyID0gXCJcIikge1xuICAgIGxldCB0ZXh0ID0gcGFyc2luZ0xlZnRvdmVyO1xuICAgIGNvbnN0IHJlZ2V4ID0gL2RhdGE6LipcXG5cXG4vZztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgbWF0Y2hlcyA9IFsuLi50ZXh0Lm1hdGNoQWxsKHJlZ2V4KV0uZmxhdE1hcCgobWF0Y2gpID0+IG1hdGNoKTtcbiAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBldmVudCA9IEpTT04ucGFyc2UobWF0Y2hlc1swXS5yZXBsYWNlKC9eZGF0YTovLCBcIlwiKSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICBwYXJzaW5nTGVmdG92ZXI6IHRleHQucmVwbGFjZShtYXRjaGVzWzBdLCBcIlwiKVxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMyhcbiAgICAgICAgICAgIEVycm9yQ29kZTMuU1RSRUFNX1BBUlNJTkdfRVJST1IsXG4gICAgICAgICAgICBgRXJyb3Igd2hpbGUgcGFyc2luZyBzdHJlYW0gZGF0YSByZXNwb25zZTogJHt0ZXh0fWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgcmV0dXJuIHsgZXZlbnQ6IHZvaWQgMCwgZG9uZSwgcGFyc2luZ0xlZnRvdmVyOiBcIlwiIH07XG4gICAgICB9XG4gICAgICBjb25zdCBkZWNvZGVkID0gX0Z1ZWxHcmFwaHFsU3Vic2NyaWJlci50ZXh0RGVjb2Rlci5kZWNvZGUodmFsdWUpLnJlcGxhY2UoXCI6a2VlcC1hbGl2ZS10ZXh0XFxuXFxuXCIsIFwiXCIpO1xuICAgICAgdGV4dCArPSBkZWNvZGVkO1xuICAgIH1cbiAgfVxuICBldmVudHMgPSBbXTtcbiAgcGFyc2luZ0xlZnRvdmVyID0gXCJcIjtcbiAgLyoqXG4gICAqIEdldHMgYXV0b21hdGljYWxseSBjYWxsZWQgd2hlbiBpdGVyYXRpbmcgaW4gYSBgZm9yLWF3YWl0LW9mYCBsb29wLlxuICAgKiBJdCBjYW4gYWxzbyBiZSBjYWxsZWQgbWFudWFsbHkuXG4gICAqXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0dlbmVyYXRvci9uZXh0XG4gICAqL1xuICBhc3luYyBuZXh0KCkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBuZXh0RXZlbnQgPSB0aGlzLmV2ZW50cy5zaGlmdCgpO1xuICAgICAgaWYgKG5leHRFdmVudCkge1xuICAgICAgICB0aGlzLm9uRXZlbnQ/LihuZXh0RXZlbnQpO1xuICAgICAgICBhc3NlcnRHcWxSZXNwb25zZUhhc05vRXJyb3JzKFxuICAgICAgICAgIG5leHRFdmVudC5lcnJvcnMsXG4gICAgICAgICAgX0Z1ZWxHcmFwaHFsU3Vic2NyaWJlci5pbmNvbXBhdGlibGVOb2RlVmVyc2lvbk1lc3NhZ2VcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG5leHRFdmVudC5kYXRhLCBkb25lOiBmYWxzZSB9O1xuICAgICAgfVxuICAgICAgY29uc3QgeyBldmVudCwgZG9uZSwgcGFyc2luZ0xlZnRvdmVyIH0gPSBhd2FpdCBfRnVlbEdyYXBocWxTdWJzY3JpYmVyLnJlYWRFdmVudChcbiAgICAgICAgdGhpcy5zdHJlYW0sXG4gICAgICAgIHRoaXMucGFyc2luZ0xlZnRvdmVyXG4gICAgICApO1xuICAgICAgdGhpcy5wYXJzaW5nTGVmdG92ZXIgPSBwYXJzaW5nTGVmdG92ZXI7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICB9XG4gICAgICB0aGlzLmV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgY2FsbGVkIHdoZW4gYGJyZWFrYCBpcyBjYWxsZWQgaW4gYSBgZm9yLWF3YWl0LW9mYCBsb29wLlxuICAgKi9cbiAgcmV0dXJuKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBkb25lOiB0cnVlLCB2YWx1ZTogdm9pZCAwIH0pO1xuICB9XG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbi8vIHNyYy9wcm92aWRlcnMvcmVzb3VyY2UtY2FjaGUudHNcbmltcG9ydCB7IEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3IxMywgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTExIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgaGV4bGlmeSBhcyBoZXhsaWZ5MTUgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1yZXF1ZXN0L2lucHV0LnRzXG5pbXBvcnQgeyBCWVRFU18zMiwgVVRYT19JRF9MRU4gfSBmcm9tIFwiQGZ1ZWwtdHMvYWJpLWNvZGVyXCI7XG5pbXBvcnQgeyBaZXJvQnl0ZXMzMiB9IGZyb20gXCJAZnVlbC10cy9hZGRyZXNzL2NvbmZpZ3NcIjtcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGU0LCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yNCB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbmltcG9ydCB7IGJuIGFzIGJuMywgdG9OdW1iZXIgfSBmcm9tIFwiQGZ1ZWwtdHMvbWF0aFwiO1xuaW1wb3J0IHsgSW5wdXRUeXBlIH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgYXJyYXlpZnksIGhleGxpZnkgYXMgaGV4bGlmeTMgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcbnZhciBpbnB1dGlmeSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHZhbHVlKSA9PiB7XG4gIGNvbnN0IHsgdHlwZSB9ID0gdmFsdWU7XG4gIHN3aXRjaCAodmFsdWUudHlwZSkge1xuICAgIGNhc2UgSW5wdXRUeXBlLkNvaW46IHtcbiAgICAgIGNvbnN0IHByZWRpY2F0ZSA9IGFycmF5aWZ5KHZhbHVlLnByZWRpY2F0ZSA/PyBcIjB4XCIpO1xuICAgICAgY29uc3QgcHJlZGljYXRlRGF0YSA9IGFycmF5aWZ5KHZhbHVlLnByZWRpY2F0ZURhdGEgPz8gXCIweFwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IElucHV0VHlwZS5Db2luLFxuICAgICAgICB0eElEOiBoZXhsaWZ5MyhhcnJheWlmeSh2YWx1ZS5pZCkuc2xpY2UoMCwgQllURVNfMzIpKSxcbiAgICAgICAgb3V0cHV0SW5kZXg6IHRvTnVtYmVyKGFycmF5aWZ5KHZhbHVlLmlkKS5zbGljZShCWVRFU18zMiwgVVRYT19JRF9MRU4pKSxcbiAgICAgICAgb3duZXI6IGhleGxpZnkzKHZhbHVlLm93bmVyKSxcbiAgICAgICAgYW1vdW50OiBibjModmFsdWUuYW1vdW50KSxcbiAgICAgICAgYXNzZXRJZDogaGV4bGlmeTModmFsdWUuYXNzZXRJZCksXG4gICAgICAgIHR4UG9pbnRlcjoge1xuICAgICAgICAgIGJsb2NrSGVpZ2h0OiB0b051bWJlcihhcnJheWlmeSh2YWx1ZS50eFBvaW50ZXIpLnNsaWNlKDAsIDgpKSxcbiAgICAgICAgICB0eEluZGV4OiB0b051bWJlcihhcnJheWlmeSh2YWx1ZS50eFBvaW50ZXIpLnNsaWNlKDgsIDE2KSlcbiAgICAgICAgfSxcbiAgICAgICAgd2l0bmVzc0luZGV4OiB2YWx1ZS53aXRuZXNzSW5kZXgsXG4gICAgICAgIHByZWRpY2F0ZUdhc1VzZWQ6IGJuMyh2YWx1ZS5wcmVkaWNhdGVHYXNVc2VkKSxcbiAgICAgICAgcHJlZGljYXRlTGVuZ3RoOiBibjMocHJlZGljYXRlLmxlbmd0aCksXG4gICAgICAgIHByZWRpY2F0ZURhdGFMZW5ndGg6IGJuMyhwcmVkaWNhdGVEYXRhLmxlbmd0aCksXG4gICAgICAgIHByZWRpY2F0ZTogaGV4bGlmeTMocHJlZGljYXRlKSxcbiAgICAgICAgcHJlZGljYXRlRGF0YTogaGV4bGlmeTMocHJlZGljYXRlRGF0YSlcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgSW5wdXRUeXBlLkNvbnRyYWN0OiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBJbnB1dFR5cGUuQ29udHJhY3QsXG4gICAgICAgIHR4SUQ6IGhleGxpZnkzKHZhbHVlLnR4SUQgfHwgWmVyb0J5dGVzMzIpLFxuICAgICAgICBvdXRwdXRJbmRleDogMCxcbiAgICAgICAgYmFsYW5jZVJvb3Q6IFplcm9CeXRlczMyLFxuICAgICAgICBzdGF0ZVJvb3Q6IFplcm9CeXRlczMyLFxuICAgICAgICB0eFBvaW50ZXI6IHtcbiAgICAgICAgICBibG9ja0hlaWdodDogdG9OdW1iZXIoYXJyYXlpZnkodmFsdWUudHhQb2ludGVyKS5zbGljZSgwLCA4KSksXG4gICAgICAgICAgdHhJbmRleDogdG9OdW1iZXIoYXJyYXlpZnkodmFsdWUudHhQb2ludGVyKS5zbGljZSg4LCAxNikpXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyYWN0SUQ6IGhleGxpZnkzKHZhbHVlLmNvbnRyYWN0SWQpXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIElucHV0VHlwZS5NZXNzYWdlOiB7XG4gICAgICBjb25zdCBwcmVkaWNhdGUgPSBhcnJheWlmeSh2YWx1ZS5wcmVkaWNhdGUgPz8gXCIweFwiKTtcbiAgICAgIGNvbnN0IHByZWRpY2F0ZURhdGEgPSBhcnJheWlmeSh2YWx1ZS5wcmVkaWNhdGVEYXRhID8/IFwiMHhcIik7XG4gICAgICBjb25zdCBkYXRhID0gYXJyYXlpZnkodmFsdWUuZGF0YSA/PyBcIjB4XCIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogSW5wdXRUeXBlLk1lc3NhZ2UsXG4gICAgICAgIHNlbmRlcjogaGV4bGlmeTModmFsdWUuc2VuZGVyKSxcbiAgICAgICAgcmVjaXBpZW50OiBoZXhsaWZ5Myh2YWx1ZS5yZWNpcGllbnQpLFxuICAgICAgICBhbW91bnQ6IGJuMyh2YWx1ZS5hbW91bnQpLFxuICAgICAgICBub25jZTogaGV4bGlmeTModmFsdWUubm9uY2UpLFxuICAgICAgICB3aXRuZXNzSW5kZXg6IHZhbHVlLndpdG5lc3NJbmRleCxcbiAgICAgICAgcHJlZGljYXRlR2FzVXNlZDogYm4zKHZhbHVlLnByZWRpY2F0ZUdhc1VzZWQpLFxuICAgICAgICBwcmVkaWNhdGVMZW5ndGg6IGJuMyhwcmVkaWNhdGUubGVuZ3RoKSxcbiAgICAgICAgcHJlZGljYXRlRGF0YUxlbmd0aDogYm4zKHByZWRpY2F0ZURhdGEubGVuZ3RoKSxcbiAgICAgICAgcHJlZGljYXRlOiBoZXhsaWZ5MyhwcmVkaWNhdGUpLFxuICAgICAgICBwcmVkaWNhdGVEYXRhOiBoZXhsaWZ5MyhwcmVkaWNhdGVEYXRhKSxcbiAgICAgICAgZGF0YTogaGV4bGlmeTMoZGF0YSksXG4gICAgICAgIGRhdGFMZW5ndGg6IGRhdGEubGVuZ3RoXG4gICAgICB9O1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yNChcbiAgICAgICAgRXJyb3JDb2RlNC5JTlZBTElEX1RSQU5TQUNUSU9OX0lOUFVULFxuICAgICAgICBgSW52YWxpZCB0cmFuc2FjdGlvbiBpbnB1dCB0eXBlOiAke3R5cGV9LmBcbiAgICAgICk7XG4gICAgfVxuICB9XG59LCBcImlucHV0aWZ5XCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXJlcXVlc3Qvb3V0cHV0LnRzXG5pbXBvcnQgeyBaZXJvQnl0ZXMzMiBhcyBaZXJvQnl0ZXMzMjIgfSBmcm9tIFwiQGZ1ZWwtdHMvYWRkcmVzcy9jb25maWdzXCI7XG5pbXBvcnQgeyBFcnJvckNvZGUgYXMgRXJyb3JDb2RlNSwgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjUgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBibiBhcyBibjQgfSBmcm9tIFwiQGZ1ZWwtdHMvbWF0aFwiO1xuaW1wb3J0IHsgT3V0cHV0VHlwZSB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IGhleGxpZnkgYXMgaGV4bGlmeTQgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcbnZhciBvdXRwdXRpZnkgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCh2YWx1ZSkgPT4ge1xuICBjb25zdCB7IHR5cGUgfSA9IHZhbHVlO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIE91dHB1dFR5cGUuQ29pbjoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogT3V0cHV0VHlwZS5Db2luLFxuICAgICAgICB0bzogaGV4bGlmeTQodmFsdWUudG8pLFxuICAgICAgICBhbW91bnQ6IGJuNCh2YWx1ZS5hbW91bnQpLFxuICAgICAgICBhc3NldElkOiBoZXhsaWZ5NCh2YWx1ZS5hc3NldElkKVxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBPdXRwdXRUeXBlLkNvbnRyYWN0OiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBPdXRwdXRUeXBlLkNvbnRyYWN0LFxuICAgICAgICBpbnB1dEluZGV4OiB2YWx1ZS5pbnB1dEluZGV4LFxuICAgICAgICBiYWxhbmNlUm9vdDogWmVyb0J5dGVzMzIyLFxuICAgICAgICBzdGF0ZVJvb3Q6IFplcm9CeXRlczMyMlxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBPdXRwdXRUeXBlLkNoYW5nZToge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogT3V0cHV0VHlwZS5DaGFuZ2UsXG4gICAgICAgIHRvOiBoZXhsaWZ5NCh2YWx1ZS50byksXG4gICAgICAgIGFtb3VudDogYm40KDApLFxuICAgICAgICBhc3NldElkOiBoZXhsaWZ5NCh2YWx1ZS5hc3NldElkKVxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBPdXRwdXRUeXBlLlZhcmlhYmxlOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBPdXRwdXRUeXBlLlZhcmlhYmxlLFxuICAgICAgICB0bzogaGV4bGlmeTQodmFsdWUudG8gfHwgWmVyb0J5dGVzMzIyKSxcbiAgICAgICAgYW1vdW50OiBibjQodmFsdWUuYW1vdW50KSxcbiAgICAgICAgYXNzZXRJZDogaGV4bGlmeTQodmFsdWUuYXNzZXRJZCB8fCBaZXJvQnl0ZXMzMjIpXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIE91dHB1dFR5cGUuQ29udHJhY3RDcmVhdGVkOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBPdXRwdXRUeXBlLkNvbnRyYWN0Q3JlYXRlZCxcbiAgICAgICAgY29udHJhY3RJZDogaGV4bGlmeTQodmFsdWUuY29udHJhY3RJZCksXG4gICAgICAgIHN0YXRlUm9vdDogaGV4bGlmeTQodmFsdWUuc3RhdGVSb290KVxuICAgICAgfTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjUoXG4gICAgICAgIEVycm9yQ29kZTUuSU5WQUxJRF9UUkFOU0FDVElPTl9JTlBVVCxcbiAgICAgICAgYEludmFsaWQgdHJhbnNhY3Rpb24gb3V0cHV0IHR5cGU6ICR7dHlwZX0uYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn0sIFwib3V0cHV0aWZ5XCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXJlcXVlc3QvdHJhbnNhY3Rpb24tcmVxdWVzdC50c1xuaW1wb3J0IHsgVVRYT19JRF9MRU4gYXMgVVRYT19JRF9MRU4yIH0gZnJvbSBcIkBmdWVsLXRzL2FiaS1jb2RlclwiO1xuaW1wb3J0IHsgQWRkcmVzcywgYWRkcmVzc2lmeSB9IGZyb20gXCJAZnVlbC10cy9hZGRyZXNzXCI7XG5pbXBvcnQgeyBaZXJvQnl0ZXMzMiBhcyBaZXJvQnl0ZXMzMjQgfSBmcm9tIFwiQGZ1ZWwtdHMvYWRkcmVzcy9jb25maWdzXCI7XG5pbXBvcnQgeyByYW5kb21CeXRlcyB9IGZyb20gXCJAZnVlbC10cy9jcnlwdG9cIjtcbmltcG9ydCB7IEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3IxMCB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbmltcG9ydCB7IGJuIGFzIGJuOSB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQge1xuICBQb2xpY3lUeXBlLFxuICBUcmFuc2FjdGlvbkNvZGVyLFxuICBJbnB1dFR5cGUgYXMgSW5wdXRUeXBlNCxcbiAgT3V0cHV0VHlwZSBhcyBPdXRwdXRUeXBlNCxcbiAgVHJhbnNhY3Rpb25UeXBlIGFzIFRyYW5zYWN0aW9uVHlwZTJcbn0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgY29uY2F0LCBoZXhsaWZ5IGFzIGhleGxpZnk5LCBpc0RlZmluZWQgYXMgaXNEZWZpbmVkMiB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xuXG4vLyBzcmMvcHJvdmlkZXJzL21lc3NhZ2UudHNcbnZhciBpc01lc3NhZ2VDb2luID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgobWVzc2FnZSkgPT4gIShcImRhdGFcIiBpbiBtZXNzYWdlKSwgXCJpc01lc3NhZ2VDb2luXCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3Jlc291cmNlLnRzXG52YXIgaXNSYXdDb2luID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocmVzb3VyY2UpID0+IFwidXR4b0lkXCIgaW4gcmVzb3VyY2UsIFwiaXNSYXdDb2luXCIpO1xudmFyIGlzUmF3TWVzc2FnZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlc291cmNlKSA9PiBcInJlY2lwaWVudFwiIGluIHJlc291cmNlLCBcImlzUmF3TWVzc2FnZVwiKTtcbnZhciBpc0NvaW4gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChyZXNvdXJjZSkgPT4gXCJpZFwiIGluIHJlc291cmNlLCBcImlzQ29pblwiKTtcbnZhciBpc01lc3NhZ2UgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChyZXNvdXJjZSkgPT4gXCJyZWNpcGllbnRcIiBpbiByZXNvdXJjZSwgXCJpc01lc3NhZ2VcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdXRpbHMvcmVjZWlwdHMudHNcbmltcG9ydCB7IFJlY2VpcHRUeXBlIGFzIFJlY2VpcHRUeXBlMiB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IEZBSUxFRF9UUkFOU0ZFUl9UT19BRERSRVNTX1NJR05BTCB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnMvY29uZmlnc1wiO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3V0aWxzL3NlcmlhbGl6YXRpb24udHNcbmltcG9ydCB7IFplcm9CeXRlczMyIGFzIFplcm9CeXRlczMyMyB9IGZyb20gXCJAZnVlbC10cy9hZGRyZXNzL2NvbmZpZ3NcIjtcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGU2LCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yNiB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbmltcG9ydCB7IGJuIGFzIGJuNSB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQge1xuICBnZXRNaW50ZWRBc3NldElkLFxuICBJbnB1dE1lc3NhZ2VDb2RlcixcbiAgSW5wdXRUeXBlIGFzIElucHV0VHlwZTIsXG4gIE91dHB1dFR5cGUgYXMgT3V0cHV0VHlwZTIsXG4gIFJlY2VpcHRUeXBlXG59IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IGhleGxpZnkgYXMgaGV4bGlmeTUsIGFycmF5aWZ5IGFzIGFycmF5aWZ5MiwgYXNzZXJ0VW5yZWFjaGFibGUgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcbnZhciBkZXNlcmlhbGl6ZUNoYWluID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY2hhaW4pID0+IHtcbiAgY29uc3QgeyBuYW1lLCBkYUhlaWdodCwgY29uc2Vuc3VzUGFyYW1ldGVycywgbGF0ZXN0QmxvY2sgfSA9IGNoYWluO1xuICBjb25zdCB7XG4gICAgY29udHJhY3RQYXJhbXMsXG4gICAgZmVlUGFyYW1zLFxuICAgIHByZWRpY2F0ZVBhcmFtcyxcbiAgICBzY3JpcHRQYXJhbXMsXG4gICAgdHhQYXJhbXMsXG4gICAgZ2FzQ29zdHMsXG4gICAgYmFzZUFzc2V0SWQsXG4gICAgY2hhaW5JZCxcbiAgICB2ZXJzaW9uXG4gIH0gPSBjb25zZW5zdXNQYXJhbWV0ZXJzO1xuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgYmFzZUNoYWluSGVpZ2h0OiBibjUoZGFIZWlnaHQpLFxuICAgIGNvbnNlbnN1c1BhcmFtZXRlcnM6IHtcbiAgICAgIHZlcnNpb24sXG4gICAgICBjaGFpbklkOiBibjUoY2hhaW5JZCksXG4gICAgICBiYXNlQXNzZXRJZCxcbiAgICAgIGZlZVBhcmFtZXRlcnM6IHtcbiAgICAgICAgdmVyc2lvbjogZmVlUGFyYW1zLnZlcnNpb24sXG4gICAgICAgIGdhc1BlckJ5dGU6IGJuNShmZWVQYXJhbXMuZ2FzUGVyQnl0ZSksXG4gICAgICAgIGdhc1ByaWNlRmFjdG9yOiBibjUoZmVlUGFyYW1zLmdhc1ByaWNlRmFjdG9yKVxuICAgICAgfSxcbiAgICAgIGNvbnRyYWN0UGFyYW1ldGVyczoge1xuICAgICAgICB2ZXJzaW9uOiBjb250cmFjdFBhcmFtcy52ZXJzaW9uLFxuICAgICAgICBjb250cmFjdE1heFNpemU6IGJuNShjb250cmFjdFBhcmFtcy5jb250cmFjdE1heFNpemUpLFxuICAgICAgICBtYXhTdG9yYWdlU2xvdHM6IGJuNShjb250cmFjdFBhcmFtcy5tYXhTdG9yYWdlU2xvdHMpXG4gICAgICB9LFxuICAgICAgdHhQYXJhbWV0ZXJzOiB7XG4gICAgICAgIHZlcnNpb246IHR4UGFyYW1zLnZlcnNpb24sXG4gICAgICAgIG1heElucHV0czogYm41KHR4UGFyYW1zLm1heElucHV0cyksXG4gICAgICAgIG1heE91dHB1dHM6IGJuNSh0eFBhcmFtcy5tYXhPdXRwdXRzKSxcbiAgICAgICAgbWF4V2l0bmVzc2VzOiBibjUodHhQYXJhbXMubWF4V2l0bmVzc2VzKSxcbiAgICAgICAgbWF4R2FzUGVyVHg6IGJuNSh0eFBhcmFtcy5tYXhHYXNQZXJUeCksXG4gICAgICAgIG1heFNpemU6IGJuNSh0eFBhcmFtcy5tYXhTaXplKSxcbiAgICAgICAgbWF4Qnl0ZWNvZGVTdWJzZWN0aW9uczogYm41KHR4UGFyYW1zLm1heEJ5dGVjb2RlU3Vic2VjdGlvbnMpXG4gICAgICB9LFxuICAgICAgcHJlZGljYXRlUGFyYW1ldGVyczoge1xuICAgICAgICB2ZXJzaW9uOiBwcmVkaWNhdGVQYXJhbXMudmVyc2lvbixcbiAgICAgICAgbWF4UHJlZGljYXRlTGVuZ3RoOiBibjUocHJlZGljYXRlUGFyYW1zLm1heFByZWRpY2F0ZUxlbmd0aCksXG4gICAgICAgIG1heFByZWRpY2F0ZURhdGFMZW5ndGg6IGJuNShwcmVkaWNhdGVQYXJhbXMubWF4UHJlZGljYXRlRGF0YUxlbmd0aCksXG4gICAgICAgIG1heEdhc1BlclByZWRpY2F0ZTogYm41KHByZWRpY2F0ZVBhcmFtcy5tYXhHYXNQZXJQcmVkaWNhdGUpLFxuICAgICAgICBtYXhNZXNzYWdlRGF0YUxlbmd0aDogYm41KHByZWRpY2F0ZVBhcmFtcy5tYXhNZXNzYWdlRGF0YUxlbmd0aClcbiAgICAgIH0sXG4gICAgICBzY3JpcHRQYXJhbWV0ZXJzOiB7XG4gICAgICAgIHZlcnNpb246IHNjcmlwdFBhcmFtcy52ZXJzaW9uLFxuICAgICAgICBtYXhTY3JpcHRMZW5ndGg6IGJuNShzY3JpcHRQYXJhbXMubWF4U2NyaXB0TGVuZ3RoKSxcbiAgICAgICAgbWF4U2NyaXB0RGF0YUxlbmd0aDogYm41KHNjcmlwdFBhcmFtcy5tYXhTY3JpcHREYXRhTGVuZ3RoKVxuICAgICAgfSxcbiAgICAgIGdhc0Nvc3RzXG4gICAgfSxcbiAgICBsYXRlc3RCbG9ja1xuICB9O1xufSwgXCJkZXNlcmlhbGl6ZUNoYWluXCIpO1xudmFyIHNlcmlhbGl6ZUNoYWluID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY2hhaW4pID0+IHtcbiAgY29uc3QgeyBuYW1lLCBiYXNlQ2hhaW5IZWlnaHQsIGNvbnNlbnN1c1BhcmFtZXRlcnMsIGxhdGVzdEJsb2NrIH0gPSBjaGFpbjtcbiAgY29uc3Qge1xuICAgIGNvbnRyYWN0UGFyYW1ldGVycyxcbiAgICBmZWVQYXJhbWV0ZXJzLFxuICAgIHByZWRpY2F0ZVBhcmFtZXRlcnMsXG4gICAgc2NyaXB0UGFyYW1ldGVycyxcbiAgICB0eFBhcmFtZXRlcnMsXG4gICAgZ2FzQ29zdHMsXG4gICAgYmFzZUFzc2V0SWQsXG4gICAgY2hhaW5JZCxcbiAgICB2ZXJzaW9uXG4gIH0gPSBjb25zZW5zdXNQYXJhbWV0ZXJzO1xuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgZGFIZWlnaHQ6IGJhc2VDaGFpbkhlaWdodC50b1N0cmluZygpLFxuICAgIGNvbnNlbnN1c1BhcmFtZXRlcnM6IHtcbiAgICAgIHZlcnNpb24sXG4gICAgICBjaGFpbklkOiBjaGFpbklkLnRvU3RyaW5nKCksXG4gICAgICBiYXNlQXNzZXRJZCxcbiAgICAgIGZlZVBhcmFtczoge1xuICAgICAgICB2ZXJzaW9uOiBmZWVQYXJhbWV0ZXJzLnZlcnNpb24sXG4gICAgICAgIGdhc1BlckJ5dGU6IGZlZVBhcmFtZXRlcnMuZ2FzUGVyQnl0ZS50b1N0cmluZygpLFxuICAgICAgICBnYXNQcmljZUZhY3RvcjogZmVlUGFyYW1ldGVycy5nYXNQcmljZUZhY3Rvci50b1N0cmluZygpXG4gICAgICB9LFxuICAgICAgY29udHJhY3RQYXJhbXM6IHtcbiAgICAgICAgdmVyc2lvbjogY29udHJhY3RQYXJhbWV0ZXJzLnZlcnNpb24sXG4gICAgICAgIGNvbnRyYWN0TWF4U2l6ZTogY29udHJhY3RQYXJhbWV0ZXJzLmNvbnRyYWN0TWF4U2l6ZS50b1N0cmluZygpLFxuICAgICAgICBtYXhTdG9yYWdlU2xvdHM6IGNvbnRyYWN0UGFyYW1ldGVycy5tYXhTdG9yYWdlU2xvdHMudG9TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIHR4UGFyYW1zOiB7XG4gICAgICAgIHZlcnNpb246IHR4UGFyYW1ldGVycy52ZXJzaW9uLFxuICAgICAgICBtYXhJbnB1dHM6IHR4UGFyYW1ldGVycy5tYXhJbnB1dHMudG9TdHJpbmcoKSxcbiAgICAgICAgbWF4T3V0cHV0czogdHhQYXJhbWV0ZXJzLm1heE91dHB1dHMudG9TdHJpbmcoKSxcbiAgICAgICAgbWF4V2l0bmVzc2VzOiB0eFBhcmFtZXRlcnMubWF4V2l0bmVzc2VzLnRvU3RyaW5nKCksXG4gICAgICAgIG1heEdhc1BlclR4OiB0eFBhcmFtZXRlcnMubWF4R2FzUGVyVHgudG9TdHJpbmcoKSxcbiAgICAgICAgbWF4U2l6ZTogdHhQYXJhbWV0ZXJzLm1heFNpemUudG9TdHJpbmcoKSxcbiAgICAgICAgbWF4Qnl0ZWNvZGVTdWJzZWN0aW9uczogdHhQYXJhbWV0ZXJzLm1heEJ5dGVjb2RlU3Vic2VjdGlvbnMudG9TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIHByZWRpY2F0ZVBhcmFtczoge1xuICAgICAgICB2ZXJzaW9uOiBwcmVkaWNhdGVQYXJhbWV0ZXJzLnZlcnNpb24sXG4gICAgICAgIG1heFByZWRpY2F0ZUxlbmd0aDogcHJlZGljYXRlUGFyYW1ldGVycy5tYXhQcmVkaWNhdGVMZW5ndGgudG9TdHJpbmcoKSxcbiAgICAgICAgbWF4UHJlZGljYXRlRGF0YUxlbmd0aDogcHJlZGljYXRlUGFyYW1ldGVycy5tYXhQcmVkaWNhdGVEYXRhTGVuZ3RoLnRvU3RyaW5nKCksXG4gICAgICAgIG1heEdhc1BlclByZWRpY2F0ZTogcHJlZGljYXRlUGFyYW1ldGVycy5tYXhHYXNQZXJQcmVkaWNhdGUudG9TdHJpbmcoKSxcbiAgICAgICAgbWF4TWVzc2FnZURhdGFMZW5ndGg6IHByZWRpY2F0ZVBhcmFtZXRlcnMubWF4TWVzc2FnZURhdGFMZW5ndGgudG9TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIHNjcmlwdFBhcmFtczoge1xuICAgICAgICB2ZXJzaW9uOiBzY3JpcHRQYXJhbWV0ZXJzLnZlcnNpb24sXG4gICAgICAgIG1heFNjcmlwdExlbmd0aDogc2NyaXB0UGFyYW1ldGVycy5tYXhTY3JpcHRMZW5ndGgudG9TdHJpbmcoKSxcbiAgICAgICAgbWF4U2NyaXB0RGF0YUxlbmd0aDogc2NyaXB0UGFyYW1ldGVycy5tYXhTY3JpcHREYXRhTGVuZ3RoLnRvU3RyaW5nKClcbiAgICAgIH0sXG4gICAgICBnYXNDb3N0c1xuICAgIH0sXG4gICAgbGF0ZXN0QmxvY2tcbiAgfTtcbn0sIFwic2VyaWFsaXplQ2hhaW5cIik7XG52YXIgZGVzZXJpYWxpemVOb2RlSW5mbyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG5vZGVJbmZvKSA9PiB7XG4gIGNvbnN0IHsgbWF4RGVwdGgsIG1heFR4LCBub2RlVmVyc2lvbiwgdXR4b1ZhbGlkYXRpb24sIHZtQmFja3RyYWNlLCBpbmRleGF0aW9uIH0gPSBub2RlSW5mbztcbiAgcmV0dXJuIHtcbiAgICBtYXhEZXB0aDogYm41KG1heERlcHRoKSxcbiAgICBtYXhUeDogYm41KG1heFR4KSxcbiAgICBub2RlVmVyc2lvbixcbiAgICB1dHhvVmFsaWRhdGlvbixcbiAgICB2bUJhY2t0cmFjZSxcbiAgICBpbmRleGF0aW9uXG4gIH07XG59LCBcImRlc2VyaWFsaXplTm9kZUluZm9cIik7XG52YXIgc2VyaWFsaXplTm9kZUluZm8gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChub2RlSW5mbykgPT4ge1xuICBjb25zdCB7IG1heERlcHRoLCBtYXhUeCwgbm9kZVZlcnNpb24sIHV0eG9WYWxpZGF0aW9uLCB2bUJhY2t0cmFjZSwgaW5kZXhhdGlvbiB9ID0gbm9kZUluZm87XG4gIHJldHVybiB7XG4gICAgbWF4RGVwdGg6IG1heERlcHRoLnRvU3RyaW5nKCksXG4gICAgbWF4VHg6IG1heFR4LnRvU3RyaW5nKCksXG4gICAgbm9kZVZlcnNpb24sXG4gICAgdXR4b1ZhbGlkYXRpb24sXG4gICAgdm1CYWNrdHJhY2UsXG4gICAgaW5kZXhhdGlvblxuICB9O1xufSwgXCJzZXJpYWxpemVOb2RlSW5mb1wiKTtcbnZhciBkZXNlcmlhbGl6ZVByb3ZpZGVyQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjYWNoZTIpID0+ICh7XG4gIGNvbnNlbnN1c1BhcmFtZXRlcnNUaW1lc3RhbXA6IGNhY2hlMi5jb25zZW5zdXNQYXJhbWV0ZXJzVGltZXN0YW1wLFxuICBjaGFpbjogZGVzZXJpYWxpemVDaGFpbihjYWNoZTIuY2hhaW4pLFxuICBub2RlSW5mbzogZGVzZXJpYWxpemVOb2RlSW5mbyhjYWNoZTIubm9kZUluZm8pXG59KSwgXCJkZXNlcmlhbGl6ZVByb3ZpZGVyQ2FjaGVcIik7XG52YXIgc2VyaWFsaXplUHJvdmlkZXJDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHByb3ZpZGVyKSA9PiAoe1xuICBjb25zZW5zdXNQYXJhbWV0ZXJzVGltZXN0YW1wOiBwcm92aWRlci5jb25zZW5zdXNQYXJhbWV0ZXJzVGltZXN0YW1wLFxuICBjaGFpbjogc2VyaWFsaXplQ2hhaW4oYXdhaXQgcHJvdmlkZXIuZ2V0Q2hhaW4oKSksXG4gIG5vZGVJbmZvOiBzZXJpYWxpemVOb2RlSW5mbyhhd2FpdCBwcm92aWRlci5nZXROb2RlKCkpXG59KSwgXCJzZXJpYWxpemVQcm92aWRlckNhY2hlXCIpO1xudmFyIGhleE9yWmVybyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGhleCkgPT4gaGV4IHx8IFplcm9CeXRlczMyMywgXCJoZXhPclplcm9cIik7XG52YXIgZGVzZXJpYWxpemVSZWNlaXB0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocmVjZWlwdCkgPT4ge1xuICBjb25zdCB7IHJlY2VpcHRUeXBlIH0gPSByZWNlaXB0O1xuICBzd2l0Y2ggKHJlY2VpcHRUeXBlKSB7XG4gICAgY2FzZSBcIkNBTExcIiAvKiBDYWxsICovOiB7XG4gICAgICBjb25zdCBpZCA9IGhleE9yWmVybyhyZWNlaXB0LmlkIHx8IHJlY2VpcHQuY29udHJhY3RJZCk7XG4gICAgICBjb25zdCBjYWxsUmVjZWlwdCA9IHtcbiAgICAgICAgdHlwZTogUmVjZWlwdFR5cGUuQ2FsbCxcbiAgICAgICAgaWQsXG4gICAgICAgIHRvOiBoZXhPclplcm8ocmVjZWlwdD8udG8pLFxuICAgICAgICBhbW91bnQ6IGJuNShyZWNlaXB0LmFtb3VudCksXG4gICAgICAgIGFzc2V0SWQ6IGhleE9yWmVybyhyZWNlaXB0LmFzc2V0SWQpLFxuICAgICAgICBnYXM6IGJuNShyZWNlaXB0LmdhcyksXG4gICAgICAgIHBhcmFtMTogYm41KHJlY2VpcHQucGFyYW0xKSxcbiAgICAgICAgcGFyYW0yOiBibjUocmVjZWlwdC5wYXJhbTIpLFxuICAgICAgICBwYzogYm41KHJlY2VpcHQucGMpLFxuICAgICAgICBpczogYm41KHJlY2VpcHQuaXMpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNhbGxSZWNlaXB0O1xuICAgIH1cbiAgICBjYXNlIFwiUkVUVVJOXCIgLyogUmV0dXJuICovOiB7XG4gICAgICBjb25zdCByZXR1cm5SZWNlaXB0ID0ge1xuICAgICAgICB0eXBlOiBSZWNlaXB0VHlwZS5SZXR1cm4sXG4gICAgICAgIGlkOiBoZXhPclplcm8ocmVjZWlwdC5pZCB8fCByZWNlaXB0LmNvbnRyYWN0SWQpLFxuICAgICAgICB2YWw6IGJuNShyZWNlaXB0LnZhbCksXG4gICAgICAgIHBjOiBibjUocmVjZWlwdC5wYyksXG4gICAgICAgIGlzOiBibjUocmVjZWlwdC5pcylcbiAgICAgIH07XG4gICAgICByZXR1cm4gcmV0dXJuUmVjZWlwdDtcbiAgICB9XG4gICAgY2FzZSBcIlJFVFVSTl9EQVRBXCIgLyogUmV0dXJuRGF0YSAqLzoge1xuICAgICAgY29uc3QgcmV0dXJuRGF0YVJlY2VpcHQgPSB7XG4gICAgICAgIHR5cGU6IFJlY2VpcHRUeXBlLlJldHVybkRhdGEsXG4gICAgICAgIGlkOiBoZXhPclplcm8ocmVjZWlwdC5pZCB8fCByZWNlaXB0LmNvbnRyYWN0SWQpLFxuICAgICAgICBwdHI6IGJuNShyZWNlaXB0LnB0ciksXG4gICAgICAgIGxlbjogYm41KHJlY2VpcHQubGVuKSxcbiAgICAgICAgZGlnZXN0OiBoZXhPclplcm8ocmVjZWlwdC5kaWdlc3QpLFxuICAgICAgICBwYzogYm41KHJlY2VpcHQucGMpLFxuICAgICAgICBkYXRhOiBoZXhPclplcm8ocmVjZWlwdC5kYXRhKSxcbiAgICAgICAgaXM6IGJuNShyZWNlaXB0LmlzKVxuICAgICAgfTtcbiAgICAgIHJldHVybiByZXR1cm5EYXRhUmVjZWlwdDtcbiAgICB9XG4gICAgY2FzZSBcIlBBTklDXCIgLyogUGFuaWMgKi86IHtcbiAgICAgIGNvbnN0IHBhbmljUmVjZWlwdCA9IHtcbiAgICAgICAgdHlwZTogUmVjZWlwdFR5cGUuUGFuaWMsXG4gICAgICAgIGlkOiBoZXhPclplcm8ocmVjZWlwdC5pZCksXG4gICAgICAgIHJlYXNvbjogYm41KHJlY2VpcHQucmVhc29uKSxcbiAgICAgICAgcGM6IGJuNShyZWNlaXB0LnBjKSxcbiAgICAgICAgaXM6IGJuNShyZWNlaXB0LmlzKSxcbiAgICAgICAgY29udHJhY3RJZDogaGV4T3JaZXJvKHJlY2VpcHQuY29udHJhY3RJZClcbiAgICAgIH07XG4gICAgICByZXR1cm4gcGFuaWNSZWNlaXB0O1xuICAgIH1cbiAgICBjYXNlIFwiUkVWRVJUXCIgLyogUmV2ZXJ0ICovOiB7XG4gICAgICBjb25zdCByZXZlcnRSZWNlaXB0ID0ge1xuICAgICAgICB0eXBlOiBSZWNlaXB0VHlwZS5SZXZlcnQsXG4gICAgICAgIGlkOiBoZXhPclplcm8ocmVjZWlwdC5pZCB8fCByZWNlaXB0LmNvbnRyYWN0SWQpLFxuICAgICAgICB2YWw6IGJuNShyZWNlaXB0LnJhKSxcbiAgICAgICAgcGM6IGJuNShyZWNlaXB0LnBjKSxcbiAgICAgICAgaXM6IGJuNShyZWNlaXB0LmlzKVxuICAgICAgfTtcbiAgICAgIHJldHVybiByZXZlcnRSZWNlaXB0O1xuICAgIH1cbiAgICBjYXNlIFwiTE9HXCIgLyogTG9nICovOiB7XG4gICAgICBjb25zdCByYSA9IGJuNShyZWNlaXB0LnJhKTtcbiAgICAgIGNvbnN0IHJiID0gYm41KHJlY2VpcHQucmIpO1xuICAgICAgY29uc3QgcmMgPSBibjUocmVjZWlwdC5yYyk7XG4gICAgICBjb25zdCByZCA9IGJuNShyZWNlaXB0LnJkKTtcbiAgICAgIGNvbnN0IGxvZ1JlY2VpcHQgPSB7XG4gICAgICAgIHR5cGU6IFJlY2VpcHRUeXBlLkxvZyxcbiAgICAgICAgaWQ6IGhleE9yWmVybyhyZWNlaXB0LmlkIHx8IHJlY2VpcHQuY29udHJhY3RJZCksXG4gICAgICAgIHJhLFxuICAgICAgICByYixcbiAgICAgICAgcmMsXG4gICAgICAgIHJkLFxuICAgICAgICBwYzogYm41KHJlY2VpcHQucGMpLFxuICAgICAgICBpczogYm41KHJlY2VpcHQuaXMpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGxvZ1JlY2VpcHQ7XG4gICAgfVxuICAgIGNhc2UgXCJMT0dfREFUQVwiIC8qIExvZ0RhdGEgKi86IHtcbiAgICAgIGNvbnN0IHJhID0gYm41KHJlY2VpcHQucmEpO1xuICAgICAgY29uc3QgcmIgPSBibjUocmVjZWlwdC5yYik7XG4gICAgICBjb25zdCBsb2dEYXRhUmVjZWlwdCA9IHtcbiAgICAgICAgdHlwZTogUmVjZWlwdFR5cGUuTG9nRGF0YSxcbiAgICAgICAgaWQ6IGhleE9yWmVybyhyZWNlaXB0LmlkIHx8IHJlY2VpcHQuY29udHJhY3RJZCksXG4gICAgICAgIHJhLFxuICAgICAgICByYixcbiAgICAgICAgcHRyOiBibjUocmVjZWlwdC5wdHIpLFxuICAgICAgICBsZW46IGJuNShyZWNlaXB0LmxlbiksXG4gICAgICAgIGRpZ2VzdDogaGV4T3JaZXJvKHJlY2VpcHQuZGlnZXN0KSxcbiAgICAgICAgcGM6IGJuNShyZWNlaXB0LnBjKSxcbiAgICAgICAgZGF0YTogaGV4T3JaZXJvKHJlY2VpcHQuZGF0YSksXG4gICAgICAgIGlzOiBibjUocmVjZWlwdC5pcylcbiAgICAgIH07XG4gICAgICByZXR1cm4gbG9nRGF0YVJlY2VpcHQ7XG4gICAgfVxuICAgIGNhc2UgXCJUUkFOU0ZFUlwiIC8qIFRyYW5zZmVyICovOiB7XG4gICAgICBjb25zdCBpZCA9IGhleE9yWmVybyhyZWNlaXB0LmlkIHx8IHJlY2VpcHQuY29udHJhY3RJZCk7XG4gICAgICBjb25zdCB0cmFuc2ZlclJlY2VpcHQgPSB7XG4gICAgICAgIHR5cGU6IFJlY2VpcHRUeXBlLlRyYW5zZmVyLFxuICAgICAgICBpZCxcbiAgICAgICAgdG86IGhleE9yWmVybyhyZWNlaXB0LnRvQWRkcmVzcyB8fCByZWNlaXB0Py50byksXG4gICAgICAgIGFtb3VudDogYm41KHJlY2VpcHQuYW1vdW50KSxcbiAgICAgICAgYXNzZXRJZDogaGV4T3JaZXJvKHJlY2VpcHQuYXNzZXRJZCksXG4gICAgICAgIHBjOiBibjUocmVjZWlwdC5wYyksXG4gICAgICAgIGlzOiBibjUocmVjZWlwdC5pcylcbiAgICAgIH07XG4gICAgICByZXR1cm4gdHJhbnNmZXJSZWNlaXB0O1xuICAgIH1cbiAgICBjYXNlIFwiVFJBTlNGRVJfT1VUXCIgLyogVHJhbnNmZXJPdXQgKi86IHtcbiAgICAgIGNvbnN0IGlkID0gaGV4T3JaZXJvKHJlY2VpcHQuaWQgfHwgcmVjZWlwdC5jb250cmFjdElkKTtcbiAgICAgIGNvbnN0IHRyYW5zZmVyT3V0UmVjZWlwdCA9IHtcbiAgICAgICAgdHlwZTogUmVjZWlwdFR5cGUuVHJhbnNmZXJPdXQsXG4gICAgICAgIGlkLFxuICAgICAgICB0bzogaGV4T3JaZXJvKHJlY2VpcHQudG9BZGRyZXNzIHx8IHJlY2VpcHQudG8pLFxuICAgICAgICBhbW91bnQ6IGJuNShyZWNlaXB0LmFtb3VudCksXG4gICAgICAgIGFzc2V0SWQ6IGhleE9yWmVybyhyZWNlaXB0LmFzc2V0SWQpLFxuICAgICAgICBwYzogYm41KHJlY2VpcHQucGMpLFxuICAgICAgICBpczogYm41KHJlY2VpcHQuaXMpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRyYW5zZmVyT3V0UmVjZWlwdDtcbiAgICB9XG4gICAgY2FzZSBcIlNDUklQVF9SRVNVTFRcIiAvKiBTY3JpcHRSZXN1bHQgKi86IHtcbiAgICAgIGNvbnN0IHNjcmlwdFJlc3VsdFJlY2VpcHQgPSB7XG4gICAgICAgIHR5cGU6IFJlY2VpcHRUeXBlLlNjcmlwdFJlc3VsdCxcbiAgICAgICAgcmVzdWx0OiBibjUocmVjZWlwdC5yZXN1bHQpLFxuICAgICAgICBnYXNVc2VkOiBibjUocmVjZWlwdC5nYXNVc2VkKVxuICAgICAgfTtcbiAgICAgIHJldHVybiBzY3JpcHRSZXN1bHRSZWNlaXB0O1xuICAgIH1cbiAgICBjYXNlIFwiTUVTU0FHRV9PVVRcIiAvKiBNZXNzYWdlT3V0ICovOiB7XG4gICAgICBjb25zdCBzZW5kZXIgPSBoZXhPclplcm8ocmVjZWlwdC5zZW5kZXIpO1xuICAgICAgY29uc3QgcmVjaXBpZW50ID0gaGV4T3JaZXJvKHJlY2VpcHQucmVjaXBpZW50KTtcbiAgICAgIGNvbnN0IG5vbmNlID0gaGV4T3JaZXJvKHJlY2VpcHQubm9uY2UpO1xuICAgICAgY29uc3QgYW1vdW50ID0gYm41KHJlY2VpcHQuYW1vdW50KTtcbiAgICAgIGNvbnN0IGRhdGEgPSByZWNlaXB0LmRhdGEgPyBhcnJheWlmeTIocmVjZWlwdC5kYXRhKSA6IFVpbnQ4QXJyYXkuZnJvbShbXSk7XG4gICAgICBjb25zdCBkaWdlc3QgPSBoZXhPclplcm8ocmVjZWlwdC5kaWdlc3QpO1xuICAgICAgY29uc3QgbGVuID0gYm41KHJlY2VpcHQubGVuKS50b051bWJlcigpO1xuICAgICAgY29uc3QgbWVzc2FnZUlkID0gSW5wdXRNZXNzYWdlQ29kZXIuZ2V0TWVzc2FnZUlkKHtcbiAgICAgICAgc2VuZGVyLFxuICAgICAgICByZWNpcGllbnQsXG4gICAgICAgIG5vbmNlLFxuICAgICAgICBhbW91bnQsXG4gICAgICAgIGRhdGE6IGhleGxpZnk1KGRhdGEpXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlY2VpcHRNZXNzYWdlT3V0ID0ge1xuICAgICAgICB0eXBlOiBSZWNlaXB0VHlwZS5NZXNzYWdlT3V0LFxuICAgICAgICBzZW5kZXIsXG4gICAgICAgIHJlY2lwaWVudCxcbiAgICAgICAgYW1vdW50LFxuICAgICAgICBub25jZSxcbiAgICAgICAgbGVuLFxuICAgICAgICBkYXRhLFxuICAgICAgICBkaWdlc3QsXG4gICAgICAgIG1lc3NhZ2VJZFxuICAgICAgfTtcbiAgICAgIHJldHVybiByZWNlaXB0TWVzc2FnZU91dDtcbiAgICB9XG4gICAgY2FzZSBcIk1JTlRcIiAvKiBNaW50ICovOiB7XG4gICAgICBjb25zdCBjb250cmFjdElkID0gaGV4T3JaZXJvKHJlY2VpcHQuaWQgfHwgcmVjZWlwdC5jb250cmFjdElkKTtcbiAgICAgIGNvbnN0IHN1YklkID0gaGV4T3JaZXJvKHJlY2VpcHQuc3ViSWQpO1xuICAgICAgY29uc3QgYXNzZXRJZCA9IGdldE1pbnRlZEFzc2V0SWQoY29udHJhY3RJZCwgc3ViSWQpO1xuICAgICAgY29uc3QgbWludFJlY2VpcHQgPSB7XG4gICAgICAgIHR5cGU6IFJlY2VpcHRUeXBlLk1pbnQsXG4gICAgICAgIHN1YklkLFxuICAgICAgICBjb250cmFjdElkLFxuICAgICAgICBhc3NldElkLFxuICAgICAgICB2YWw6IGJuNShyZWNlaXB0LnZhbCksXG4gICAgICAgIHBjOiBibjUocmVjZWlwdC5wYyksXG4gICAgICAgIGlzOiBibjUocmVjZWlwdC5pcylcbiAgICAgIH07XG4gICAgICByZXR1cm4gbWludFJlY2VpcHQ7XG4gICAgfVxuICAgIGNhc2UgXCJCVVJOXCIgLyogQnVybiAqLzoge1xuICAgICAgY29uc3QgY29udHJhY3RJZCA9IGhleE9yWmVybyhyZWNlaXB0LmlkIHx8IHJlY2VpcHQuY29udHJhY3RJZCk7XG4gICAgICBjb25zdCBzdWJJZCA9IGhleE9yWmVybyhyZWNlaXB0LnN1YklkKTtcbiAgICAgIGNvbnN0IGFzc2V0SWQgPSBnZXRNaW50ZWRBc3NldElkKGNvbnRyYWN0SWQsIHN1YklkKTtcbiAgICAgIGNvbnN0IGJ1cm5SZWNlaXB0ID0ge1xuICAgICAgICB0eXBlOiBSZWNlaXB0VHlwZS5CdXJuLFxuICAgICAgICBzdWJJZCxcbiAgICAgICAgY29udHJhY3RJZCxcbiAgICAgICAgYXNzZXRJZCxcbiAgICAgICAgdmFsOiBibjUocmVjZWlwdC52YWwpLFxuICAgICAgICBwYzogYm41KHJlY2VpcHQucGMpLFxuICAgICAgICBpczogYm41KHJlY2VpcHQuaXMpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGJ1cm5SZWNlaXB0O1xuICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjYoRXJyb3JDb2RlNi5JTlZBTElEX1JFQ0VJUFRfVFlQRSwgYEludmFsaWQgcmVjZWlwdCB0eXBlOiAke3JlY2VpcHRUeXBlfS5gKTtcbiAgfVxufSwgXCJkZXNlcmlhbGl6ZVJlY2VpcHRcIik7XG52YXIgZGVzZXJpYWxpemVJbnB1dCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGlucHV0KSA9PiB7XG4gIGxldCBwYXJzZWRJbnB1dDtcbiAgc3dpdGNoIChpbnB1dC50eXBlKSB7XG4gICAgY2FzZSBcIklucHV0Q29pblwiOlxuICAgICAgcGFyc2VkSW5wdXQgPSB7XG4gICAgICAgIHR5cGU6IElucHV0VHlwZTIuQ29pbixcbiAgICAgICAgaWQ6IGlucHV0LnV0eG9JZCxcbiAgICAgICAgYW1vdW50OiBibjUoaW5wdXQuYW1vdW50KSxcbiAgICAgICAgYXNzZXRJZDogaW5wdXQuYXNzZXRJZCxcbiAgICAgICAgb3duZXI6IGlucHV0Lm93bmVyLFxuICAgICAgICB0eFBvaW50ZXI6IGAweCR7aW5wdXQudHhQb2ludGVyfWAsXG4gICAgICAgIHdpdG5lc3NJbmRleDogTnVtYmVyKGlucHV0LmNvaW5XaXRuZXNzSW5kZXgpLFxuICAgICAgICBwcmVkaWNhdGU6IGlucHV0LnByZWRpY2F0ZSxcbiAgICAgICAgcHJlZGljYXRlRGF0YTogaW5wdXQucHJlZGljYXRlRGF0YSxcbiAgICAgICAgcHJlZGljYXRlR2FzVXNlZDogYm41KGlucHV0LnByZWRpY2F0ZUdhc1VzZWQpXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIklucHV0TWVzc2FnZVwiOlxuICAgICAgcGFyc2VkSW5wdXQgPSB7XG4gICAgICAgIHR5cGU6IElucHV0VHlwZTIuTWVzc2FnZSxcbiAgICAgICAgbm9uY2U6IGlucHV0Lm5vbmNlLFxuICAgICAgICBhbW91bnQ6IGJuNShpbnB1dC5hbW91bnQpLFxuICAgICAgICByZWNpcGllbnQ6IGlucHV0LnJlY2lwaWVudCxcbiAgICAgICAgc2VuZGVyOiBpbnB1dC5zZW5kZXIsXG4gICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgIHdpdG5lc3NJbmRleDogTnVtYmVyKGlucHV0Lm1lc3NhZ2VXaXRuZXNzSW5kZXgpLFxuICAgICAgICBwcmVkaWNhdGU6IGlucHV0LnByZWRpY2F0ZSxcbiAgICAgICAgcHJlZGljYXRlRGF0YTogaW5wdXQucHJlZGljYXRlRGF0YSxcbiAgICAgICAgcHJlZGljYXRlR2FzVXNlZDogYm41KGlucHV0LnByZWRpY2F0ZUdhc1VzZWQpXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIklucHV0Q29udHJhY3RcIjpcbiAgICAgIHBhcnNlZElucHV0ID0ge1xuICAgICAgICB0eXBlOiBJbnB1dFR5cGUyLkNvbnRyYWN0LFxuICAgICAgICBjb250cmFjdElkOiBpbnB1dC5jb250cmFjdElkLFxuICAgICAgICB0eFBvaW50ZXI6IGAweCR7aW5wdXQudHhQb2ludGVyfWAsXG4gICAgICAgIHR4SUQ6IGhleGxpZnk1KGFycmF5aWZ5MihpbnB1dC51dHhvSWQpLnNsaWNlKDAsIDMyKSlcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYXNzZXJ0VW5yZWFjaGFibGUoaW5wdXQpO1xuICB9XG4gIHJldHVybiBwYXJzZWRJbnB1dDtcbn0sIFwiZGVzZXJpYWxpemVJbnB1dFwiKTtcbnZhciBkZXNlcmlhbGl6ZU91dHB1dCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG91dHB1dCkgPT4ge1xuICBsZXQgcGFyc2VkT3V0cHV0O1xuICBzd2l0Y2ggKG91dHB1dC50eXBlKSB7XG4gICAgY2FzZSBcIkNvaW5PdXRwdXRcIjpcbiAgICAgIHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgdHlwZTogT3V0cHV0VHlwZTIuQ29pbixcbiAgICAgICAgYW1vdW50OiBibjUob3V0cHV0LmFtb3VudCksXG4gICAgICAgIGFzc2V0SWQ6IG91dHB1dC5hc3NldElkLFxuICAgICAgICB0bzogb3V0cHV0LnRvXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNvbnRyYWN0T3V0cHV0XCI6XG4gICAgICBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIHR5cGU6IE91dHB1dFR5cGUyLkNvbnRyYWN0LFxuICAgICAgICBpbnB1dEluZGV4OiBOdW1iZXIob3V0cHV0LmlucHV0SW5kZXgpXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNoYW5nZU91dHB1dFwiOlxuICAgICAgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICB0eXBlOiBPdXRwdXRUeXBlMi5DaGFuZ2UsXG4gICAgICAgIGFzc2V0SWQ6IG91dHB1dC5hc3NldElkLFxuICAgICAgICB0bzogb3V0cHV0LnRvXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIkNvbnRyYWN0Q3JlYXRlZFwiOlxuICAgICAgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICB0eXBlOiBPdXRwdXRUeXBlMi5Db250cmFjdENyZWF0ZWQsXG4gICAgICAgIHN0YXRlUm9vdDogb3V0cHV0LnN0YXRlUm9vdCxcbiAgICAgICAgY29udHJhY3RJZDogb3V0cHV0LmNvbnRyYWN0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlZhcmlhYmxlT3V0cHV0XCI6XG4gICAgICBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIHR5cGU6IE91dHB1dFR5cGUyLlZhcmlhYmxlLFxuICAgICAgICBhbW91bnQ6IGJuNShvdXRwdXQuYW1vdW50KSxcbiAgICAgICAgYXNzZXRJZDogb3V0cHV0LmFzc2V0SWQsXG4gICAgICAgIHRvOiBvdXRwdXQudG9cbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYXNzZXJ0VW5yZWFjaGFibGUob3V0cHV0KTtcbiAgfVxuICByZXR1cm4gcGFyc2VkT3V0cHV0O1xufSwgXCJkZXNlcmlhbGl6ZU91dHB1dFwiKTtcbnZhciBkZXNlcmlhbGl6ZVByb2Nlc3NlZFR4T3V0cHV0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgob3V0cHV0KSA9PiB7XG4gIGxldCBwYXJzZWRPdXRwdXQ7XG4gIHN3aXRjaCAob3V0cHV0LnR5cGUpIHtcbiAgICBjYXNlIFwiQ29pbk91dHB1dFwiOlxuICAgICAgcGFyc2VkT3V0cHV0ID0ge1xuICAgICAgICB0eXBlOiBPdXRwdXRUeXBlMi5Db2luLFxuICAgICAgICBhbW91bnQ6IGJuNShvdXRwdXQuYW1vdW50KSxcbiAgICAgICAgYXNzZXRJZDogb3V0cHV0LmFzc2V0SWQsXG4gICAgICAgIHRvOiBvdXRwdXQudG9cbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiQ29udHJhY3RPdXRwdXRcIjpcbiAgICAgIHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgdHlwZTogT3V0cHV0VHlwZTIuQ29udHJhY3QsXG4gICAgICAgIGlucHV0SW5kZXg6IE51bWJlcihvdXRwdXQuaW5wdXRJbmRleCksXG4gICAgICAgIGJhbGFuY2VSb290OiBvdXRwdXQuYmFsYW5jZVJvb3QsXG4gICAgICAgIHN0YXRlUm9vdDogb3V0cHV0LnN0YXRlUm9vdFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJDaGFuZ2VPdXRwdXRcIjpcbiAgICAgIHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgdHlwZTogT3V0cHV0VHlwZTIuQ2hhbmdlLFxuICAgICAgICBhc3NldElkOiBvdXRwdXQuYXNzZXRJZCxcbiAgICAgICAgdG86IG91dHB1dC50byxcbiAgICAgICAgYW1vdW50OiBibjUob3V0cHV0LmFtb3VudClcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiQ29udHJhY3RDcmVhdGVkXCI6XG4gICAgICBwYXJzZWRPdXRwdXQgPSB7XG4gICAgICAgIHR5cGU6IE91dHB1dFR5cGUyLkNvbnRyYWN0Q3JlYXRlZCxcbiAgICAgICAgc3RhdGVSb290OiBvdXRwdXQuc3RhdGVSb290LFxuICAgICAgICBjb250cmFjdElkOiBvdXRwdXQuY29udHJhY3RcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiVmFyaWFibGVPdXRwdXRcIjpcbiAgICAgIHBhcnNlZE91dHB1dCA9IHtcbiAgICAgICAgdHlwZTogT3V0cHV0VHlwZTIuVmFyaWFibGUsXG4gICAgICAgIGFtb3VudDogYm41KG91dHB1dC5hbW91bnQpLFxuICAgICAgICBhc3NldElkOiBvdXRwdXQuYXNzZXRJZCxcbiAgICAgICAgdG86IG91dHB1dC50b1xuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBhc3NlcnRVbnJlYWNoYWJsZShvdXRwdXQpO1xuICB9XG4gIHJldHVybiBwYXJzZWRPdXRwdXQ7XG59LCBcImRlc2VyaWFsaXplUHJvY2Vzc2VkVHhPdXRwdXRcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdXRpbHMvcmVjZWlwdHMudHNcbnZhciBkb2VzUmVjZWlwdEhhdmVNaXNzaW5nT3V0cHV0VmFyaWFibGVzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocmVjZWlwdCkgPT4gcmVjZWlwdC50eXBlID09PSBSZWNlaXB0VHlwZTIuUmV2ZXJ0ICYmIHJlY2VpcHQudmFsLnRvU3RyaW5nKFwiaGV4XCIpID09PSBGQUlMRURfVFJBTlNGRVJfVE9fQUREUkVTU19TSUdOQUwsIFwiZG9lc1JlY2VpcHRIYXZlTWlzc2luZ091dHB1dFZhcmlhYmxlc1wiKTtcbnZhciBkb2VzUmVjZWlwdEhhdmVNaXNzaW5nQ29udHJhY3RJZCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlY2VpcHQpID0+IHJlY2VpcHQudHlwZSA9PT0gUmVjZWlwdFR5cGUyLlBhbmljICYmIHJlY2VpcHQuY29udHJhY3RJZCAhPT0gXCIweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIiwgXCJkb2VzUmVjZWlwdEhhdmVNaXNzaW5nQ29udHJhY3RJZFwiKTtcbnZhciBnZXRSZWNlaXB0c1dpdGhNaXNzaW5nRGF0YSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlY2VpcHRzKSA9PiByZWNlaXB0cy5yZWR1Y2UoXG4gIChtZW1vLCByZWNlaXB0KSA9PiB7XG4gICAgaWYgKGRvZXNSZWNlaXB0SGF2ZU1pc3NpbmdPdXRwdXRWYXJpYWJsZXMocmVjZWlwdCkpIHtcbiAgICAgIG1lbW8ubWlzc2luZ091dHB1dFZhcmlhYmxlcy5wdXNoKHJlY2VpcHQpO1xuICAgIH1cbiAgICBpZiAoZG9lc1JlY2VpcHRIYXZlTWlzc2luZ0NvbnRyYWN0SWQocmVjZWlwdCkpIHtcbiAgICAgIG1lbW8ubWlzc2luZ091dHB1dENvbnRyYWN0SWRzLnB1c2gocmVjZWlwdCk7XG4gICAgfVxuICAgIHJldHVybiBtZW1vO1xuICB9LFxuICB7XG4gICAgbWlzc2luZ091dHB1dFZhcmlhYmxlczogW10sXG4gICAgbWlzc2luZ091dHB1dENvbnRyYWN0SWRzOiBbXVxuICB9XG4pLCBcImdldFJlY2VpcHRzV2l0aE1pc3NpbmdEYXRhXCIpO1xudmFyIGFzc2VtYmxlUmVjZWlwdEJ5VHlwZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGdxbFJlY2VpcHQpID0+IGRlc2VyaWFsaXplUmVjZWlwdChncWxSZWNlaXB0KSwgXCJhc3NlbWJsZVJlY2VpcHRCeVR5cGVcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdXRpbHMvYmxvY2stZXhwbG9yZXIudHNcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGU3LCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yNyB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbnZhciBERUZBVUxUX0JMT0NLX0VYUExPUkVSX1VSTCA9IFwiaHR0cHM6Ly9hcHAuZnVlbC5uZXR3b3JrXCI7XG52YXIgZ2V0UGF0aEZyb21JbnB1dCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGtleSwgdmFsdWUpID0+IHtcbiAgY29uc3QgcGF0aE1hcCA9IHtcbiAgICBhZGRyZXNzOiBgYWRkcmVzc2AsXG4gICAgdHhJZDogYHRyYW5zYWN0aW9uYCxcbiAgICBibG9ja051bWJlcjogYGJsb2NrYFxuICB9O1xuICBjb25zdCBwYXRoID0gcGF0aE1hcFtrZXldIHx8IGtleTtcbiAgcmV0dXJuIGAke3BhdGh9LyR7dmFsdWV9YDtcbn0sIFwiZ2V0UGF0aEZyb21JbnB1dFwiKTtcbnZhciBidWlsZEJsb2NrRXhwbG9yZXJVcmwgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgeyBibG9ja0V4cGxvcmVyVXJsLCBwYXRoLCBwcm92aWRlclVybCwgYWRkcmVzcywgdHhJZCwgYmxvY2tOdW1iZXIgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGV4cGxvcmVyVXJsID0gYmxvY2tFeHBsb3JlclVybCB8fCBERUZBVUxUX0JMT0NLX0VYUExPUkVSX1VSTDtcbiAgY29uc3QgY3VzdG9tSW5wdXRQYXJhbXMgPSBbXG4gICAge1xuICAgICAga2V5OiBcImFkZHJlc3NcIixcbiAgICAgIHZhbHVlOiBhZGRyZXNzXG4gICAgfSxcbiAgICB7XG4gICAgICBrZXk6IFwidHhJZFwiLFxuICAgICAgdmFsdWU6IHR4SWRcbiAgICB9LFxuICAgIHtcbiAgICAgIGtleTogXCJibG9ja051bWJlclwiLFxuICAgICAgdmFsdWU6IGJsb2NrTnVtYmVyXG4gICAgfVxuICBdO1xuICBjb25zdCBkZWZpbmVkVmFsdWVzID0gY3VzdG9tSW5wdXRQYXJhbXMuZmlsdGVyKChwYXJhbSkgPT4gISFwYXJhbS52YWx1ZSkubWFwKCh7IGtleSwgdmFsdWUgfSkgPT4gKHtcbiAgICBrZXksXG4gICAgdmFsdWVcbiAgfSkpO1xuICBjb25zdCBoYXNBbnlEZWZpbmVkVmFsdWVzID0gZGVmaW5lZFZhbHVlcy5sZW5ndGggPiAwO1xuICBpZiAoZGVmaW5lZFZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjcoXG4gICAgICBFcnJvckNvZGU3LkVSUk9SX0JVSUxESU5HX0JMT0NLX0VYUExPUkVSX1VSTCxcbiAgICAgIGBPbmx5IG9uZSBvZiB0aGUgZm9sbG93aW5nIGNhbiBiZSBwYXNzZWQgaW4gdG8gYnVpbGRCbG9ja0V4cGxvcmVyVXJsOiAke2N1c3RvbUlucHV0UGFyYW1zLm1hcCgocGFyYW0pID0+IHBhcmFtLmtleSkuam9pbihcIiwgXCIpfS5gXG4gICAgKTtcbiAgfVxuICBpZiAocGF0aCAmJiBkZWZpbmVkVmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBpbnB1dEtleXMgPSBjdXN0b21JbnB1dFBhcmFtcy5tYXAoKHsga2V5IH0pID0+IGtleSkuam9pbihcIiwgXCIpO1xuICAgIHRocm93IG5ldyBGdWVsRXJyb3I3KFxuICAgICAgRXJyb3JDb2RlNy5FUlJPUl9CVUlMRElOR19CTE9DS19FWFBMT1JFUl9VUkwsXG4gICAgICBgWW91IGNhbm5vdCBwYXNzIGluIGEgcGF0aCB0byAnYnVpbGRCbG9ja0V4cGxvcmVyVXJsJyBhbG9uZyB3aXRoIGFueSBvZiB0aGUgZm9sbG93aW5nOiAke2lucHV0S2V5c30uYFxuICAgICk7XG4gIH1cbiAgY29uc3QgcGF0aEdlbmVyYXRlZEZyb21JbnB1dFBhcmFtcyA9IGhhc0FueURlZmluZWRWYWx1ZXMgPyBnZXRQYXRoRnJvbUlucHV0KFxuICAgIGRlZmluZWRWYWx1ZXNbMF0ua2V5LFxuICAgIGRlZmluZWRWYWx1ZXNbMF0udmFsdWVcbiAgKSA6IFwiXCI7XG4gIGNvbnN0IHRyaW1TbGFzaGVzID0gL15cXC98XFwvJC9nbTtcbiAgY29uc3QgY2xlYW5QYXRoID0gcGF0aCA/IHBhdGgucmVwbGFjZSh0cmltU2xhc2hlcywgXCJcIikgOiBwYXRoR2VuZXJhdGVkRnJvbUlucHV0UGFyYW1zO1xuICBjb25zdCBjbGVhbkJsb2NrRXhwbG9yZXJVcmwgPSBleHBsb3JlclVybC5yZXBsYWNlKHRyaW1TbGFzaGVzLCBcIlwiKTtcbiAgY29uc3QgY2xlYW5Qcm92aWRlclVybCA9IHByb3ZpZGVyVXJsPy5yZXBsYWNlKHRyaW1TbGFzaGVzLCBcIlwiKTtcbiAgY29uc3QgZW5jb2RlZFByb3ZpZGVyVXJsID0gY2xlYW5Qcm92aWRlclVybCA/IGVuY29kZVVSSUNvbXBvbmVudChjbGVhblByb3ZpZGVyVXJsKSA6IHZvaWQgMDtcbiAgY29uc3QgcHJvdG9jb2wgPSBjbGVhbkJsb2NrRXhwbG9yZXJVcmwubWF0Y2goL15odHRwcz86XFwvXFwvLykgPyBcIlwiIDogXCJodHRwczovL1wiO1xuICBjb25zdCBwcm92aWRlclVybFByb3RvY29sID0gY2xlYW5Qcm92aWRlclVybD8ubWF0Y2goL15odHRwcz86XFwvXFwvLykgPyBcIlwiIDogXCJodHRwczovL1wiO1xuICBjb25zdCB1cmwgPSBgJHtwcm90b2NvbH0ke2NsZWFuQmxvY2tFeHBsb3JlclVybH0vJHtjbGVhblBhdGh9JHtlbmNvZGVkUHJvdmlkZXJVcmwgPyBgP3Byb3ZpZGVyVXJsPSR7cHJvdmlkZXJVcmxQcm90b2NvbH0ke2VuY29kZWRQcm92aWRlclVybH1gIDogXCJcIn1gO1xuICByZXR1cm4gdXJsO1xufSwgXCJidWlsZEJsb2NrRXhwbG9yZXJVcmxcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdXRpbHMvZ2FzLnRzXG5pbXBvcnQgeyBibiBhcyBibjYgfSBmcm9tIFwiQGZ1ZWwtdHMvbWF0aFwiO1xuaW1wb3J0IHsgUmVjZWlwdFR5cGUgYXMgUmVjZWlwdFR5cGUzIH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgYXMgYXJyYXlpZnkzIH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG52YXIgZ2V0R2FzVXNlZEZyb21SZWNlaXB0cyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlY2VpcHRzKSA9PiB7XG4gIGNvbnN0IHNjcmlwdFJlc3VsdCA9IHJlY2VpcHRzLmZpbHRlcihcbiAgICAocmVjZWlwdCkgPT4gcmVjZWlwdC50eXBlID09PSBSZWNlaXB0VHlwZTMuU2NyaXB0UmVzdWx0XG4gICk7XG4gIGNvbnN0IGdhc1VzZWQgPSBzY3JpcHRSZXN1bHQucmVkdWNlKChwcmV2LCByZWNlaXB0KSA9PiBwcmV2LmFkZChyZWNlaXB0Lmdhc1VzZWQpLCBibjYoMCkpO1xuICByZXR1cm4gZ2FzVXNlZDtcbn0sIFwiZ2V0R2FzVXNlZEZyb21SZWNlaXB0c1wiKTtcbmZ1bmN0aW9uIHJlc29sdmVHYXNEZXBlbmRlbnRDb3N0cyhieXRlU2l6ZSwgZ2FzRGVwZW5kZW50Q29zdCkge1xuICBjb25zdCBiYXNlID0gYm42KGdhc0RlcGVuZGVudENvc3QuYmFzZSk7XG4gIGxldCBkZXBlbmRlbnRWYWx1ZSA9IGJuNigwKTtcbiAgaWYgKFwidW5pdHNQZXJHYXNcIiBpbiBnYXNEZXBlbmRlbnRDb3N0KSB7XG4gICAgZGVwZW5kZW50VmFsdWUgPSBibjYoYnl0ZVNpemUpLmRpdihibjYoZ2FzRGVwZW5kZW50Q29zdC51bml0c1BlckdhcykpO1xuICB9IGVsc2Uge1xuICAgIGRlcGVuZGVudFZhbHVlID0gYm42KGJ5dGVTaXplKS5tdWwoYm42KGdhc0RlcGVuZGVudENvc3QuZ2FzUGVyVW5pdCkpO1xuICB9XG4gIHJldHVybiBiYXNlLmFkZChkZXBlbmRlbnRWYWx1ZSk7XG59XG5fX25hbWUocmVzb2x2ZUdhc0RlcGVuZGVudENvc3RzLCBcInJlc29sdmVHYXNEZXBlbmRlbnRDb3N0c1wiKTtcbmZ1bmN0aW9uIGdhc1VzZWRCeUlucHV0cyhpbnB1dHMsIHR4Qnl0ZXNTaXplLCBnYXNDb3N0cykge1xuICBjb25zdCB3aXRuZXNzQ2FjaGUgPSBbXTtcbiAgY29uc3QgY2hhcmdlYWJsZUlucHV0cyA9IGlucHV0cy5maWx0ZXIoKGlucHV0KSA9PiB7XG4gICAgY29uc3QgaXNDb2luT3JNZXNzYWdlID0gXCJvd25lclwiIGluIGlucHV0IHx8IFwic2VuZGVyXCIgaW4gaW5wdXQ7XG4gICAgaWYgKGlzQ29pbk9yTWVzc2FnZSkge1xuICAgICAgaWYgKFwicHJlZGljYXRlXCIgaW4gaW5wdXQgJiYgaW5wdXQucHJlZGljYXRlICYmIGlucHV0LnByZWRpY2F0ZSAhPT0gXCIweFwiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCF3aXRuZXNzQ2FjaGUuaW5jbHVkZXMoaW5wdXQud2l0bmVzc0luZGV4KSkge1xuICAgICAgICB3aXRuZXNzQ2FjaGUucHVzaChpbnB1dC53aXRuZXNzSW5kZXgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgY29uc3Qgdm1Jbml0aWFsaXphdGlvbkNvc3QgPSByZXNvbHZlR2FzRGVwZW5kZW50Q29zdHModHhCeXRlc1NpemUsIGdhc0Nvc3RzLnZtSW5pdGlhbGl6YXRpb24pO1xuICBjb25zdCB0b3RhbEdhcyA9IGNoYXJnZWFibGVJbnB1dHMucmVkdWNlKCh0b3RhbCwgaW5wdXQpID0+IHtcbiAgICBpZiAoXCJwcmVkaWNhdGVcIiBpbiBpbnB1dCAmJiBpbnB1dC5wcmVkaWNhdGUgJiYgaW5wdXQucHJlZGljYXRlICE9PSBcIjB4XCIpIHtcbiAgICAgIHJldHVybiB0b3RhbC5hZGQoXG4gICAgICAgIHZtSW5pdGlhbGl6YXRpb25Db3N0LmFkZChyZXNvbHZlR2FzRGVwZW5kZW50Q29zdHMoYXJyYXlpZnkzKGlucHV0LnByZWRpY2F0ZSkubGVuZ3RoLCBnYXNDb3N0cy5jb250cmFjdFJvb3QpKS5hZGQoYm42KGlucHV0LnByZWRpY2F0ZUdhc1VzZWQpKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsLmFkZChnYXNDb3N0cy5lY3IxKTtcbiAgfSwgYm42KDApKTtcbiAgcmV0dXJuIHRvdGFsR2FzO1xufVxuX19uYW1lKGdhc1VzZWRCeUlucHV0cywgXCJnYXNVc2VkQnlJbnB1dHNcIik7XG5mdW5jdGlvbiBnZXRNaW5HYXMocGFyYW1zKSB7XG4gIGNvbnN0IHsgZ2FzQ29zdHMsIGdhc1BlckJ5dGUsIGlucHV0cywgbWV0YWRhdGFHYXMsIHR4Qnl0ZXNTaXplIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHZtSW5pdEdhcyA9IHJlc29sdmVHYXNEZXBlbmRlbnRDb3N0cyh0eEJ5dGVzU2l6ZSwgZ2FzQ29zdHMudm1Jbml0aWFsaXphdGlvbik7XG4gIGNvbnN0IGJ5dGVzR2FzID0gYm42KHR4Qnl0ZXNTaXplKS5tdWwoZ2FzUGVyQnl0ZSk7XG4gIGNvbnN0IGlucHV0c0dhcyA9IGdhc1VzZWRCeUlucHV0cyhpbnB1dHMsIHR4Qnl0ZXNTaXplLCBnYXNDb3N0cyk7XG4gIGNvbnN0IG1pbkdhcyA9IHZtSW5pdEdhcy5hZGQoYnl0ZXNHYXMpLmFkZChpbnB1dHNHYXMpLmFkZChtZXRhZGF0YUdhcykubWF4VTY0KCk7XG4gIHJldHVybiBtaW5HYXM7XG59XG5fX25hbWUoZ2V0TWluR2FzLCBcImdldE1pbkdhc1wiKTtcbmZ1bmN0aW9uIGdldE1heEdhcyhwYXJhbXMpIHtcbiAgY29uc3Qge1xuICAgIGdhc1BlckJ5dGUsXG4gICAgd2l0bmVzc2VzTGVuZ3RoLFxuICAgIHdpdG5lc3NMaW1pdCxcbiAgICBtaW5HYXMsXG4gICAgZ2FzTGltaXQgPSBibjYoMCksXG4gICAgbWF4R2FzUGVyVHhcbiAgfSA9IHBhcmFtcztcbiAgbGV0IHJlbWFpbmluZ0FsbG93ZWRXaXRuZXNzR2FzID0gYm42KDApO1xuICBpZiAod2l0bmVzc0xpbWl0Py5ndCgwKSAmJiB3aXRuZXNzTGltaXQuZ3RlKHdpdG5lc3Nlc0xlbmd0aCkpIHtcbiAgICByZW1haW5pbmdBbGxvd2VkV2l0bmVzc0dhcyA9IGJuNih3aXRuZXNzTGltaXQpLnN1Yih3aXRuZXNzZXNMZW5ndGgpLm11bChnYXNQZXJCeXRlKTtcbiAgfVxuICBjb25zdCBtYXhHYXMgPSByZW1haW5pbmdBbGxvd2VkV2l0bmVzc0dhcy5hZGQobWluR2FzKS5hZGQoZ2FzTGltaXQpO1xuICByZXR1cm4gbWF4R2FzLmd0ZShtYXhHYXNQZXJUeCkgPyBtYXhHYXNQZXJUeCA6IG1heEdhcztcbn1cbl9fbmFtZShnZXRNYXhHYXMsIFwiZ2V0TWF4R2FzXCIpO1xuZnVuY3Rpb24gY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeENyZWF0ZSh7XG4gIGdhc0Nvc3RzLFxuICBzdGF0ZVJvb3RTaXplLFxuICB0eEJ5dGVzU2l6ZSxcbiAgY29udHJhY3RCeXRlc1NpemVcbn0pIHtcbiAgY29uc3QgY29udHJhY3RSb290R2FzID0gcmVzb2x2ZUdhc0RlcGVuZGVudENvc3RzKGNvbnRyYWN0Qnl0ZXNTaXplLCBnYXNDb3N0cy5jb250cmFjdFJvb3QpO1xuICBjb25zdCBzdGF0ZVJvb3RHYXMgPSByZXNvbHZlR2FzRGVwZW5kZW50Q29zdHMoc3RhdGVSb290U2l6ZSwgZ2FzQ29zdHMuc3RhdGVSb290KTtcbiAgY29uc3QgdHhJZEdhcyA9IHJlc29sdmVHYXNEZXBlbmRlbnRDb3N0cyh0eEJ5dGVzU2l6ZSwgZ2FzQ29zdHMuczI1Nik7XG4gIGNvbnN0IGNvbnRyYWN0SWRJbnB1dFNpemUgPSBibjYoNCArIDMyICsgMzIgKyAzMik7XG4gIGNvbnN0IGNvbnRyYWN0SWRHYXMgPSByZXNvbHZlR2FzRGVwZW5kZW50Q29zdHMoY29udHJhY3RJZElucHV0U2l6ZSwgZ2FzQ29zdHMuczI1Nik7XG4gIGNvbnN0IG1ldGFkYXRhR2FzID0gY29udHJhY3RSb290R2FzLmFkZChzdGF0ZVJvb3RHYXMpLmFkZCh0eElkR2FzKS5hZGQoY29udHJhY3RJZEdhcyk7XG4gIHJldHVybiBtZXRhZGF0YUdhcy5tYXhVNjQoKTtcbn1cbl9fbmFtZShjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4Q3JlYXRlLCBcImNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhDcmVhdGVcIik7XG5mdW5jdGlvbiBjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4U2NyaXB0KHtcbiAgZ2FzQ29zdHMsXG4gIHR4Qnl0ZXNTaXplXG59KSB7XG4gIHJldHVybiByZXNvbHZlR2FzRGVwZW5kZW50Q29zdHModHhCeXRlc1NpemUsIGdhc0Nvc3RzLnMyNTYpO1xufVxuX19uYW1lKGNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhTY3JpcHQsIFwiY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeFNjcmlwdFwiKTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhCbG9iKHtcbiAgZ2FzQ29zdHMsXG4gIHR4Qnl0ZXNTaXplLFxuICB3aXRuZXNzQnl0ZXNTaXplXG59KSB7XG4gIGNvbnN0IHR4SWQgPSByZXNvbHZlR2FzRGVwZW5kZW50Q29zdHModHhCeXRlc1NpemUsIGdhc0Nvc3RzLnMyNTYpO1xuICBjb25zdCBibG9iTGVuID0gcmVzb2x2ZUdhc0RlcGVuZGVudENvc3RzKHdpdG5lc3NCeXRlc1NpemUsIGdhc0Nvc3RzLnMyNTYpO1xuICByZXR1cm4gdHhJZC5hZGQoYmxvYkxlbik7XG59XG5fX25hbWUoY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeEJsb2IsIFwiY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeEJsb2JcIik7XG5mdW5jdGlvbiBjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4VXBncmFkZSh7XG4gIGdhc0Nvc3RzLFxuICB0eEJ5dGVzU2l6ZSxcbiAgY29uc2Vuc3VzU2l6ZVxufSkge1xuICBjb25zdCB0eElkID0gcmVzb2x2ZUdhc0RlcGVuZGVudENvc3RzKHR4Qnl0ZXNTaXplLCBnYXNDb3N0cy5zMjU2KTtcbiAgaWYgKGNvbnNlbnN1c1NpemUpIHtcbiAgICBjb25zdCBjb25zZW5zdXNMZW4gPSByZXNvbHZlR2FzRGVwZW5kZW50Q29zdHMoY29uc2Vuc3VzU2l6ZSwgZ2FzQ29zdHMuczI1Nik7XG4gICAgdHhJZC5hZGQoY29uc2Vuc3VzTGVuKTtcbiAgfVxuICByZXR1cm4gdHhJZDtcbn1cbl9fbmFtZShjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4VXBncmFkZSwgXCJjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4VXBncmFkZVwiKTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhVcGxvYWQoe1xuICBnYXNDb3N0cyxcbiAgdHhCeXRlc1NpemUsXG4gIHN1YnNlY3Rpb25TaXplLFxuICBzdWJzZWN0aW9uc1NpemVcbn0pIHtcbiAgY29uc3QgdHhJZCA9IHJlc29sdmVHYXNEZXBlbmRlbnRDb3N0cyh0eEJ5dGVzU2l6ZSwgZ2FzQ29zdHMuczI1Nik7XG4gIGNvbnN0IHN1YnNlY3Rpb25MZW4gPSByZXNvbHZlR2FzRGVwZW5kZW50Q29zdHMoc3Vic2VjdGlvblNpemUsIGdhc0Nvc3RzLnMyNTYpO1xuICB0eElkLmFkZChzdWJzZWN0aW9uTGVuKTtcbiAgY29uc3Qgc3Vic2VjdGlvbnNMZW4gPSByZXNvbHZlR2FzRGVwZW5kZW50Q29zdHMoc3Vic2VjdGlvbnNTaXplLCBnYXNDb3N0cy5zdGF0ZVJvb3QpO1xuICB0eElkLmFkZChzdWJzZWN0aW9uc0xlbik7XG4gIHJldHVybiB0eElkO1xufVxuX19uYW1lKGNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhVcGxvYWQsIFwiY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeFVwbG9hZFwiKTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZU1pbkdhc0ZvclR4VXBsb2FkKHtcbiAgZ2FzQ29zdHMsXG4gIGJhc2VNaW5HYXMsXG4gIHN1YnNlY3Rpb25TaXplXG59KSB7XG4gIGNvbnN0IGFkZGl0aW9uYWxTdG9yYWdlUGVyQnl0ZSA9IGJuNihnYXNDb3N0cy5uZXdTdG9yYWdlUGVyQnl0ZSkubXVsKHN1YnNlY3Rpb25TaXplKTtcbiAgcmV0dXJuIGJuNihiYXNlTWluR2FzKS5hZGQoYWRkaXRpb25hbFN0b3JhZ2VQZXJCeXRlKTtcbn1cbl9fbmFtZShjYWxjdWxhdGVNaW5HYXNGb3JUeFVwbG9hZCwgXCJjYWxjdWxhdGVNaW5HYXNGb3JUeFVwbG9hZFwiKTtcbnZhciBjYWxjdWxhdGVHYXNGZWUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChwYXJhbXMpID0+IHtcbiAgY29uc3QgeyBnYXMsIGdhc1ByaWNlLCBwcmljZUZhY3RvciwgdGlwIH0gPSBwYXJhbXM7XG4gIHJldHVybiBnYXMubXVsKGdhc1ByaWNlKS5kaXYocHJpY2VGYWN0b3IpLmFkZChibjYodGlwKSk7XG59LCBcImNhbGN1bGF0ZUdhc0ZlZVwiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy91dGlscy9qc29uLnRzXG5pbXBvcnQgeyBoZXhsaWZ5IGFzIGhleGxpZnk2IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5pbXBvcnQgeyBjbG9uZSB9IGZyb20gXCJyYW1kYVwiO1xuZnVuY3Rpb24gbm9ybWFsaXplKG9iamVjdCkge1xuICBPYmplY3Qua2V5cyhvYmplY3QpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIHN3aXRjaCAob2JqZWN0W2tleV0/LmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIGNhc2UgXCJVaW50OEFycmF5XCI6XG4gICAgICAgIG9iamVjdFtrZXldID0gaGV4bGlmeTYob2JqZWN0W2tleV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBcnJheVwiOlxuICAgICAgICBvYmplY3Rba2V5XSA9IG5vcm1hbGl6ZShvYmplY3Rba2V5XSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkJOXCI6XG4gICAgICAgIG9iamVjdFtrZXldID0gb2JqZWN0W2tleV0udG9IZXgoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiQWRkcmVzc1wiOlxuICAgICAgICBvYmplY3Rba2V5XSA9IG9iamVjdFtrZXldLnRvQjI1NigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICAgICAgb2JqZWN0W2tleV0gPSBub3JtYWxpemUob2JqZWN0W2tleV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmplY3Q7XG59XG5fX25hbWUobm9ybWFsaXplLCBcIm5vcm1hbGl6ZVwiKTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZUpTT04ocm9vdCkge1xuICByZXR1cm4gbm9ybWFsaXplKGNsb25lKHJvb3QpKTtcbn1cbl9fbmFtZShub3JtYWxpemVKU09OLCBcIm5vcm1hbGl6ZUpTT05cIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdXRpbHMvZXh0cmFjdC10eC1lcnJvci50c1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTgsIEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3I4IH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgYm4gYXMgYm43IH0gZnJvbSBcIkBmdWVsLXRzL21hdGhcIjtcbmltcG9ydCB7IFJlY2VpcHRUeXBlIGFzIFJlY2VpcHRUeXBlNCB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7XG4gIEZBSUxFRF9SRVFVSVJFX1NJR05BTCxcbiAgRkFJTEVEX0FTU0VSVF9FUV9TSUdOQUwsXG4gIEZBSUxFRF9BU1NFUlRfTkVfU0lHTkFMLFxuICBGQUlMRURfQVNTRVJUX1NJR05BTCxcbiAgRkFJTEVEX1RSQU5TRkVSX1RPX0FERFJFU1NfU0lHTkFMIGFzIEZBSUxFRF9UUkFOU0ZFUl9UT19BRERSRVNTX1NJR05BTDIsXG4gIFBBTklDX1JFQVNPTlMsXG4gIFBBTklDX0RPQ19VUkxcbn0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9ucy9jb25maWdzXCI7XG52YXIgYXNzZW1ibGVQYW5pY0Vycm9yID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3RhdHVzUmVhc29uLCBtZXRhZGF0YSkgPT4ge1xuICBsZXQgZXJyb3JNZXNzYWdlID0gYFRoZSB0cmFuc2FjdGlvbiByZXZlcnRlZCB3aXRoIHJlYXNvbjogXCIke3N0YXR1c1JlYXNvbn1cIi5gO1xuICBpZiAoUEFOSUNfUkVBU09OUy5pbmNsdWRlcyhzdGF0dXNSZWFzb24pKSB7XG4gICAgZXJyb3JNZXNzYWdlID0gYCR7ZXJyb3JNZXNzYWdlfVxuXG5Zb3UgY2FuIHJlYWQgbW9yZSBhYm91dCB0aGlzIGVycm9yIGF0OlxuXG4ke1BBTklDX0RPQ19VUkx9I3ZhcmlhbnQuJHtzdGF0dXNSZWFzb259YDtcbiAgfVxuICByZXR1cm4gbmV3IEZ1ZWxFcnJvcjgoRXJyb3JDb2RlOC5TQ1JJUFRfUkVWRVJURUQsIGVycm9yTWVzc2FnZSwge1xuICAgIC4uLm1ldGFkYXRhLFxuICAgIHJlYXNvbjogc3RhdHVzUmVhc29uXG4gIH0pO1xufSwgXCJhc3NlbWJsZVBhbmljRXJyb3JcIik7XG52YXIgc3RyaW5naWZ5ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgob2JqKSA9PiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpLCBcInN0cmluZ2lmeVwiKTtcbnZhciBhc3NlbWJsZVJldmVydEVycm9yID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocmVjZWlwdHMsIGxvZ3MsIG1ldGFkYXRhKSA9PiB7XG4gIGxldCBlcnJvck1lc3NhZ2UgPSBcIlRoZSB0cmFuc2FjdGlvbiByZXZlcnRlZCB3aXRoIGFuIHVua25vd24gcmVhc29uLlwiO1xuICBjb25zdCByZXZlcnRSZWNlaXB0ID0gcmVjZWlwdHMuZmluZCgoeyB0eXBlIH0pID0+IHR5cGUgPT09IFJlY2VpcHRUeXBlNC5SZXZlcnQpO1xuICBsZXQgcmVhc29uID0gXCJcIjtcbiAgaWYgKHJldmVydFJlY2VpcHQpIHtcbiAgICBjb25zdCByZWFzb25IZXggPSBibjcocmV2ZXJ0UmVjZWlwdC52YWwpLnRvSGV4KCk7XG4gICAgY29uc3QgbGFzdExvZyA9IGxvZ3NbbG9ncy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBsYXN0QnV0T25lTG9nID0gbG9nc1tsb2dzLmxlbmd0aCAtIDJdO1xuICAgIHN3aXRjaCAocmVhc29uSGV4KSB7XG4gICAgICBjYXNlIEZBSUxFRF9SRVFVSVJFX1NJR05BTDoge1xuICAgICAgICByZWFzb24gPSBcInJlcXVpcmVcIjtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYFRoZSB0cmFuc2FjdGlvbiByZXZlcnRlZCBiZWNhdXNlIGEgXCJyZXF1aXJlXCIgc3RhdGVtZW50IGhhcyB0aHJvd24gJHtsb2dzLmxlbmd0aCA/IHN0cmluZ2lmeShsYXN0TG9nKSA6IFwiYW4gZXJyb3IuXCJ9LmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBGQUlMRURfQVNTRVJUX0VRX1NJR05BTDoge1xuICAgICAgICBjb25zdCBzdWZmaXggPSBsb2dzLmxlbmd0aCA+PSAyID8gYCBjb21wYXJpbmcgJHtzdHJpbmdpZnkobGFzdExvZyl9IGFuZCAke3N0cmluZ2lmeShsYXN0QnV0T25lTG9nKX0uYCA6IFwiLlwiO1xuICAgICAgICByZWFzb24gPSBcImFzc2VydF9lcVwiO1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBgVGhlIHRyYW5zYWN0aW9uIHJldmVydGVkIGJlY2F1c2Ugb2YgYW4gXCJhc3NlcnRfZXFcIiBzdGF0ZW1lbnQke3N1ZmZpeH1gO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgRkFJTEVEX0FTU0VSVF9ORV9TSUdOQUw6IHtcbiAgICAgICAgY29uc3Qgc3VmZml4ID0gbG9ncy5sZW5ndGggPj0gMiA/IGAgY29tcGFyaW5nICR7c3RyaW5naWZ5KGxhc3RCdXRPbmVMb2cpfSBhbmQgJHtzdHJpbmdpZnkobGFzdExvZyl9LmAgOiBcIi5cIjtcbiAgICAgICAgcmVhc29uID0gXCJhc3NlcnRfbmVcIjtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYFRoZSB0cmFuc2FjdGlvbiByZXZlcnRlZCBiZWNhdXNlIG9mIGFuIFwiYXNzZXJ0X25lXCIgc3RhdGVtZW50JHtzdWZmaXh9YDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIEZBSUxFRF9BU1NFUlRfU0lHTkFMOlxuICAgICAgICByZWFzb24gPSBcImFzc2VydFwiO1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBgVGhlIHRyYW5zYWN0aW9uIHJldmVydGVkIGJlY2F1c2UgYW4gXCJhc3NlcnRcIiBzdGF0ZW1lbnQgZmFpbGVkIHRvIGV2YWx1YXRlIHRvIHRydWUuYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZBSUxFRF9UUkFOU0ZFUl9UT19BRERSRVNTX1NJR05BTDI6XG4gICAgICAgIHJlYXNvbiA9IFwiTWlzc2luZ091dHB1dFZhcmlhYmxlXCI7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBUaGUgdHJhbnNhY3Rpb24gcmV2ZXJ0ZWQgYmVjYXVzZSBpdCdzIG1pc3NpbmcgYW4gXCJPdXRwdXRWYXJpYWJsZVwiLmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjgoXG4gICAgICAgICAgRXJyb3JDb2RlOC5VTktOT1dOLFxuICAgICAgICAgIGBUaGUgdHJhbnNhY3Rpb24gcmV2ZXJ0ZWQgd2l0aCBhbiB1bmtub3duIHJlYXNvbjogJHtyZXZlcnRSZWNlaXB0LnZhbH1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLm1ldGFkYXRhLFxuICAgICAgICAgICAgcmVhc29uOiBcInVua25vd25cIlxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBGdWVsRXJyb3I4KEVycm9yQ29kZTguU0NSSVBUX1JFVkVSVEVELCBlcnJvck1lc3NhZ2UsIHtcbiAgICAuLi5tZXRhZGF0YSxcbiAgICByZWFzb25cbiAgfSk7XG59LCBcImFzc2VtYmxlUmV2ZXJ0RXJyb3JcIik7XG52YXIgZXh0cmFjdFR4RXJyb3IgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChwYXJhbXMpID0+IHtcbiAgY29uc3QgeyByZWNlaXB0cywgc3RhdHVzUmVhc29uLCBsb2dzLCBncm91cGVkTG9ncyB9ID0gcGFyYW1zO1xuICBjb25zdCBpc1BhbmljID0gcmVjZWlwdHMuc29tZSgoeyB0eXBlIH0pID0+IHR5cGUgPT09IFJlY2VpcHRUeXBlNC5QYW5pYyk7XG4gIGNvbnN0IGlzUmV2ZXJ0ID0gcmVjZWlwdHMuc29tZSgoeyB0eXBlIH0pID0+IHR5cGUgPT09IFJlY2VpcHRUeXBlNC5SZXZlcnQpO1xuICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICBsb2dzLFxuICAgIGdyb3VwZWRMb2dzLFxuICAgIHJlY2VpcHRzLFxuICAgIHBhbmljOiBpc1BhbmljLFxuICAgIHJldmVydDogaXNSZXZlcnQsXG4gICAgcmVhc29uOiBcIlwiXG4gIH07XG4gIGlmIChpc1BhbmljKSB7XG4gICAgcmV0dXJuIGFzc2VtYmxlUGFuaWNFcnJvcihzdGF0dXNSZWFzb24sIG1ldGFkYXRhKTtcbiAgfVxuICByZXR1cm4gYXNzZW1ibGVSZXZlcnRFcnJvcihyZWNlaXB0cywgbG9ncywgbWV0YWRhdGEpO1xufSwgXCJleHRyYWN0VHhFcnJvclwiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy91dGlscy9tZXJnZS1xdWFudGl0aWVzLnRzXG52YXIgbWVyZ2VRdWFudGl0aWVzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoLi4uY29pblF1YW50aXRpZXMpID0+IHtcbiAgY29uc3QgcmVzdWx0TWFwID0ge307XG4gIGZ1bmN0aW9uIGFkZFRvTWFwKHsgYW1vdW50LCBhc3NldElkIH0pIHtcbiAgICBpZiAocmVzdWx0TWFwW2Fzc2V0SWRdKSB7XG4gICAgICByZXN1bHRNYXBbYXNzZXRJZF0gPSByZXN1bHRNYXBbYXNzZXRJZF0uYWRkKGFtb3VudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdE1hcFthc3NldElkXSA9IGFtb3VudDtcbiAgICB9XG4gIH1cbiAgX19uYW1lKGFkZFRvTWFwLCBcImFkZFRvTWFwXCIpO1xuICBjb2luUXVhbnRpdGllcy5mb3JFYWNoKChhcnIpID0+IGFyci5mb3JFYWNoKGFkZFRvTWFwKSk7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhyZXN1bHRNYXApLm1hcCgoW2Fzc2V0SWQsIGFtb3VudF0pID0+ICh7IGFzc2V0SWQsIGFtb3VudCB9KSk7XG59LCBcIm1lcmdlUXVhbnRpdGllc1wiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1yZXF1ZXN0L2Vycm9ycy50c1xudmFyIENoYW5nZU91dHB1dENvbGxpc2lvbkVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiQ2hhbmdlT3V0cHV0Q29sbGlzaW9uRXJyb3JcIik7XG4gIH1cbiAgbmFtZSA9IFwiQ2hhbmdlT3V0cHV0Q29sbGlzaW9uRXJyb3JcIjtcbiAgbWVzc2FnZSA9ICdBIENoYW5nZU91dHB1dCB3aXRoIHRoZSBzYW1lIFwiYXNzZXRJZFwiIGFscmVhZHkgZXhpc3RzIGZvciBhIGRpZmZlcmVudCBcInRvXCIgYWRkcmVzcyc7XG59O1xudmFyIE5vV2l0bmVzc0F0SW5kZXhFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihpbmRleCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgIHRoaXMubWVzc2FnZSA9IGBXaXRuZXNzIGF0IGluZGV4IFwiJHtpbmRleH1cIiB3YXMgbm90IGZvdW5kYDtcbiAgfVxuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIk5vV2l0bmVzc0F0SW5kZXhFcnJvclwiKTtcbiAgfVxuICBuYW1lID0gXCJOb1dpdG5lc3NBdEluZGV4RXJyb3JcIjtcbn07XG52YXIgTm9XaXRuZXNzQnlPd25lckVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG93bmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgdGhpcy5tZXNzYWdlID0gYEEgd2l0bmVzcyBmb3IgdGhlIGdpdmVuIG93bmVyIFwiJHtvd25lcn1cIiB3YXMgbm90IGZvdW5kYDtcbiAgfVxuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIk5vV2l0bmVzc0J5T3duZXJFcnJvclwiKTtcbiAgfVxuICBuYW1lID0gXCJOb1dpdG5lc3NCeU93bmVyRXJyb3JcIjtcbn07XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVxdWVzdC9oZWxwZXJzLnRzXG5pbXBvcnQgeyBFcnJvckNvZGUgYXMgRXJyb3JDb2RlOSwgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjkgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBibiBhcyBibjggfSBmcm9tIFwiQGZ1ZWwtdHMvbWF0aFwiO1xuaW1wb3J0IHsgSW5wdXRUeXBlIGFzIElucHV0VHlwZTMsIE91dHB1dFR5cGUgYXMgT3V0cHV0VHlwZTMgfSBmcm9tIFwiQGZ1ZWwtdHMvdHJhbnNhY3Rpb25zXCI7XG5pbXBvcnQgeyBoZXhsaWZ5IGFzIGhleGxpZnk3IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG52YXIgaXNSZXF1ZXN0SW5wdXRDb2luID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoaW5wdXQpID0+IGlucHV0LnR5cGUgPT09IElucHV0VHlwZTMuQ29pbiwgXCJpc1JlcXVlc3RJbnB1dENvaW5cIik7XG52YXIgaXNSZXF1ZXN0SW5wdXRNZXNzYWdlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoaW5wdXQpID0+IGlucHV0LnR5cGUgPT09IElucHV0VHlwZTMuTWVzc2FnZSwgXCJpc1JlcXVlc3RJbnB1dE1lc3NhZ2VcIik7XG52YXIgaXNSZXF1ZXN0SW5wdXRNZXNzYWdlV2l0aG91dERhdGEgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChpbnB1dCkgPT4gaW5wdXQudHlwZSA9PT0gSW5wdXRUeXBlMy5NZXNzYWdlICYmIGJuOChpbnB1dC5kYXRhKS5pc1plcm8oKSwgXCJpc1JlcXVlc3RJbnB1dE1lc3NhZ2VXaXRob3V0RGF0YVwiKTtcbnZhciBpc1JlcXVlc3RJbnB1dENvaW5Pck1lc3NhZ2UgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChpbnB1dCkgPT4gaXNSZXF1ZXN0SW5wdXRDb2luKGlucHV0KSB8fCBpc1JlcXVlc3RJbnB1dE1lc3NhZ2UoaW5wdXQpLCBcImlzUmVxdWVzdElucHV0Q29pbk9yTWVzc2FnZVwiKTtcbnZhciBpc1JlcXVlc3RJbnB1dFJlc291cmNlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoaW5wdXQpID0+IGlzUmVxdWVzdElucHV0Q29pbihpbnB1dCkgfHwgaXNSZXF1ZXN0SW5wdXRNZXNzYWdlV2l0aG91dERhdGEoaW5wdXQpLCBcImlzUmVxdWVzdElucHV0UmVzb3VyY2VcIik7XG52YXIgZ2V0UmVxdWVzdElucHV0UmVzb3VyY2VPd25lciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGlucHV0KSA9PiBpc1JlcXVlc3RJbnB1dENvaW4oaW5wdXQpID8gaW5wdXQub3duZXIgOiBpbnB1dC5yZWNpcGllbnQsIFwiZ2V0UmVxdWVzdElucHV0UmVzb3VyY2VPd25lclwiKTtcbnZhciBpc1JlcXVlc3RJbnB1dFJlc291cmNlRnJvbU93bmVyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoaW5wdXQsIG93bmVyKSA9PiBnZXRSZXF1ZXN0SW5wdXRSZXNvdXJjZU93bmVyKGlucHV0KSA9PT0gb3duZXIudG9CMjU2KCksIFwiaXNSZXF1ZXN0SW5wdXRSZXNvdXJjZUZyb21Pd25lclwiKTtcbnZhciBpc1ByZWRpY2F0ZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGlucHV0KSA9PiBpc1JlcXVlc3RJbnB1dENvaW5Pck1lc3NhZ2UoaW5wdXQpICYmICEhaW5wdXQucHJlZGljYXRlICYmIGhleGxpZnk3KGlucHV0LnByZWRpY2F0ZSkgIT09IFwiMHhcIiwgXCJpc1ByZWRpY2F0ZVwiKTtcbnZhciBnZXRBc3NldEFtb3VudEluUmVxdWVzdElucHV0cyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGlucHV0cywgYXNzZXRJZCwgYmFzZUFzc2V0KSA9PiBpbnB1dHMuZmlsdGVyKGlzUmVxdWVzdElucHV0UmVzb3VyY2UpLnJlZHVjZSgoYWNjLCBpbnB1dCkgPT4ge1xuICBpZiAoaXNSZXF1ZXN0SW5wdXRDb2luKGlucHV0KSAmJiBpbnB1dC5hc3NldElkID09PSBhc3NldElkKSB7XG4gICAgcmV0dXJuIGFjYy5hZGQoaW5wdXQuYW1vdW50KTtcbiAgfVxuICBpZiAoaXNSZXF1ZXN0SW5wdXRNZXNzYWdlKGlucHV0KSAmJiBhc3NldElkID09PSBiYXNlQXNzZXQpIHtcbiAgICByZXR1cm4gYWNjLmFkZChpbnB1dC5hbW91bnQpO1xuICB9XG4gIHJldHVybiBhY2M7XG59LCBibjgoMCkpLCBcImdldEFzc2V0QW1vdW50SW5SZXF1ZXN0SW5wdXRzXCIpO1xudmFyIGNhY2hlUmVxdWVzdElucHV0c1Jlc291cmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGlucHV0cykgPT4gaW5wdXRzLmZpbHRlcihpc1JlcXVlc3RJbnB1dFJlc291cmNlKS5yZWR1Y2UoXG4gIChjYWNoZTIsIGlucHV0KSA9PiB7XG4gICAgaWYgKGlzUmVxdWVzdElucHV0Q29pbihpbnB1dCkpIHtcbiAgICAgIGNhY2hlMi51dHhvcy5wdXNoKGlucHV0LmlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGUyLm1lc3NhZ2VzLnB1c2goaW5wdXQubm9uY2UpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGUyO1xuICB9LFxuICB7XG4gICAgdXR4b3M6IFtdLFxuICAgIG1lc3NhZ2VzOiBbXVxuICB9XG4pLCBcImNhY2hlUmVxdWVzdElucHV0c1Jlc291cmNlc1wiKTtcbnZhciBjYWNoZVJlcXVlc3RJbnB1dHNSZXNvdXJjZXNGcm9tT3duZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChpbnB1dHMsIG93bmVyKSA9PiBpbnB1dHMucmVkdWNlKFxuICAoYWNjLCBpbnB1dCkgPT4ge1xuICAgIGlmIChpc1JlcXVlc3RJbnB1dENvaW4oaW5wdXQpICYmIGlucHV0Lm93bmVyID09PSBvd25lci50b0IyNTYoKSkge1xuICAgICAgYWNjLnV0eG9zLnB1c2goaW5wdXQuaWQpO1xuICAgIH0gZWxzZSBpZiAoaXNSZXF1ZXN0SW5wdXRNZXNzYWdlKGlucHV0KSAmJiBpbnB1dC5yZWNpcGllbnQgPT09IG93bmVyLnRvQjI1NigpKSB7XG4gICAgICBhY2MubWVzc2FnZXMucHVzaChpbnB1dC5ub25jZSk7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sXG4gIHtcbiAgICB1dHhvczogW10sXG4gICAgbWVzc2FnZXM6IFtdXG4gIH1cbiksIFwiY2FjaGVSZXF1ZXN0SW5wdXRzUmVzb3VyY2VzRnJvbU93bmVyXCIpO1xudmFyIGdldEJ1cm5hYmxlQXNzZXRDb3VudCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGJhc2VBc3NldElkLCB0cmFuc2FjdGlvblJlcXVlc3QpID0+IHtcbiAgY29uc3QgeyBpbnB1dHMsIG91dHB1dHMgfSA9IHRyYW5zYWN0aW9uUmVxdWVzdDtcbiAgY29uc3QgY29pbklucHV0cyA9IG5ldyBTZXQoaW5wdXRzLmZpbHRlcihpc1JlcXVlc3RJbnB1dENvaW4pLm1hcCgoaW5wdXQpID0+IGlucHV0LmFzc2V0SWQpKTtcbiAgaWYgKGlucHV0cy5zb21lKChpKSA9PiBpc1JlcXVlc3RJbnB1dE1lc3NhZ2UoaSkgJiYgYm44KGkuYW1vdW50KS5ndCgwKSkpIHtcbiAgICBjb2luSW5wdXRzLmFkZChiYXNlQXNzZXRJZCk7XG4gIH1cbiAgY29uc3QgY2hhbmdlT3V0cHV0cyA9IG5ldyBTZXQoXG4gICAgb3V0cHV0cy5maWx0ZXIoKG91dHB1dCkgPT4gb3V0cHV0LnR5cGUgPT09IE91dHB1dFR5cGUzLkNoYW5nZSkubWFwKChvdXRwdXQpID0+IG91dHB1dC5hc3NldElkKVxuICApO1xuICBjb25zdCBkaWZmZXJlbmNlID0gbmV3IFNldChbLi4uY29pbklucHV0c10uZmlsdGVyKCh4KSA9PiAhY2hhbmdlT3V0cHV0cy5oYXMoeCkpKTtcbiAgcmV0dXJuIGRpZmZlcmVuY2Uuc2l6ZTtcbn0sIFwiZ2V0QnVybmFibGVBc3NldENvdW50XCIpO1xudmFyIHZhbGlkYXRlVHJhbnNhY3Rpb25Gb3JBc3NldEJ1cm4gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChiYXNlQXNzZXRJZCwgdHJhbnNhY3Rpb25SZXF1ZXN0LCBlbmFibGVBc3NldEJ1cm4gPSBmYWxzZSkgPT4ge1xuICBpZiAoZW5hYmxlQXNzZXRCdXJuID09PSB0cnVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChnZXRCdXJuYWJsZUFzc2V0Q291bnQoYmFzZUFzc2V0SWQsIHRyYW5zYWN0aW9uUmVxdWVzdCkgPD0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBtZXNzYWdlID0gW1xuICAgIFwiQXNzZXQgYnVybiBkZXRlY3RlZC5cIixcbiAgICBcIkFkZCB0aGUgcmVsZXZhbnQgY2hhbmdlIG91dHB1dHMgdG8gdGhlIHRyYW5zYWN0aW9uIHRvIGF2b2lkIGJ1cm5pbmcgYXNzZXRzLlwiLFxuICAgIFwiT3IgZW5hYmxlIGFzc2V0IGJ1cm4sIHVwb24gc2VuZGluZyB0aGUgdHJhbnNhY3Rpb24uXCJcbiAgXS5qb2luKFwiXFxuXCIpO1xuICB0aHJvdyBuZXcgRnVlbEVycm9yOShFcnJvckNvZGU5LkFTU0VUX0JVUk5fREVURUNURUQsIG1lc3NhZ2UpO1xufSwgXCJ2YWxpZGF0ZVRyYW5zYWN0aW9uRm9yQXNzZXRCdXJuXCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXJlcXVlc3Qvd2l0bmVzcy50c1xuaW1wb3J0IHsgYXJyYXlpZnkgYXMgYXJyYXlpZnk0LCBoZXhsaWZ5IGFzIGhleGxpZnk4IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG52YXIgd2l0bmVzc2lmeSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHZhbHVlKSA9PiB7XG4gIGNvbnN0IGRhdGEgPSBhcnJheWlmeTQodmFsdWUpO1xuICByZXR1cm4ge1xuICAgIGRhdGE6IGhleGxpZnk4KGRhdGEpLFxuICAgIGRhdGFMZW5ndGg6IGRhdGEubGVuZ3RoXG4gIH07XG59LCBcIndpdG5lc3NpZnlcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVxdWVzdC90cmFuc2FjdGlvbi1yZXF1ZXN0LnRzXG52YXIgQmFzZVRyYW5zYWN0aW9uUmVxdWVzdCA9IGNsYXNzIF9CYXNlVHJhbnNhY3Rpb25SZXF1ZXN0IHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJCYXNlVHJhbnNhY3Rpb25SZXF1ZXN0XCIpO1xuICB9XG4gIC8qKiBHYXMgcHJpY2UgZm9yIHRyYW5zYWN0aW9uICovXG4gIHRpcDtcbiAgLyoqIEJsb2NrIHVudGlsIHdoaWNoIHR4IGNhbm5vdCBiZSBpbmNsdWRlZCAqL1xuICBtYXR1cml0eTtcbiAgLyoqIFRoZSBibG9jayBudW1iZXIgYWZ0ZXIgd2hpY2ggdGhlIHRyYW5zYWN0aW9uIGlzIG5vIGxvbmdlciB2YWxpZC4gKi9cbiAgZXhwaXJhdGlvbjtcbiAgLyoqIFRoZSBtYXhpbXVtIGZlZSBwYXlhYmxlIGJ5IHRoaXMgdHJhbnNhY3Rpb24gdXNpbmcgQkFTRV9BU1NFVC4gKi9cbiAgbWF4RmVlO1xuICAvKiogVGhlIG1heGltdW0gYW1vdW50IG9mIHdpdG5lc3MgZGF0YSBhbGxvd2VkIGZvciB0aGUgdHJhbnNhY3Rpb24gKi9cbiAgd2l0bmVzc0xpbWl0O1xuICAvKiogTGlzdCBvZiBpbnB1dHMgKi9cbiAgaW5wdXRzID0gW107XG4gIC8qKiBMaXN0IG9mIG91dHB1dHMgKi9cbiAgb3V0cHV0cyA9IFtdO1xuICAvKiogTGlzdCBvZiB3aXRuZXNzZXMgKi9cbiAgd2l0bmVzc2VzID0gW107XG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBmbGFnID0geyBzdGF0ZTogdm9pZCAwLCB0cmFuc2FjdGlvbklkOiB2b2lkIDAsIHN1bW1hcnk6IHZvaWQgMCB9O1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGluaXRpYWxpemluZyBhIGJhc2UgdHJhbnNhY3Rpb24gcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIGJhc2VUcmFuc2FjdGlvblJlcXVlc3QgLSBPcHRpb25hbCBvYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIHRvIGluaXRpYWxpemUgdGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgdGlwLFxuICAgIG1hdHVyaXR5LFxuICAgIGV4cGlyYXRpb24sXG4gICAgbWF4RmVlLFxuICAgIHdpdG5lc3NMaW1pdCxcbiAgICBpbnB1dHMsXG4gICAgb3V0cHV0cyxcbiAgICB3aXRuZXNzZXMsXG4gICAgZmxhZ1xuICB9ID0ge30pIHtcbiAgICB0aGlzLnRpcCA9IHRpcCA/IGJuOSh0aXApIDogdm9pZCAwO1xuICAgIHRoaXMubWF0dXJpdHkgPSBtYXR1cml0eSAmJiBtYXR1cml0eSA+IDAgPyBtYXR1cml0eSA6IHZvaWQgMDtcbiAgICB0aGlzLmV4cGlyYXRpb24gPSBleHBpcmF0aW9uICYmIGV4cGlyYXRpb24gPiAwID8gZXhwaXJhdGlvbiA6IHZvaWQgMDtcbiAgICB0aGlzLndpdG5lc3NMaW1pdCA9IGlzRGVmaW5lZDIod2l0bmVzc0xpbWl0KSA/IGJuOSh3aXRuZXNzTGltaXQpIDogdm9pZCAwO1xuICAgIHRoaXMubWF4RmVlID0gYm45KG1heEZlZSk7XG4gICAgdGhpcy5pbnB1dHMgPSBpbnB1dHMgPz8gW107XG4gICAgdGhpcy5vdXRwdXRzID0gb3V0cHV0cyA/PyBbXTtcbiAgICB0aGlzLndpdG5lc3NlcyA9IHdpdG5lc3NlcyA/PyBbXTtcbiAgICB0aGlzLmZsYWcgPSBmbGFnID8/IHsgc3RhdGU6IHZvaWQgMCwgdHJhbnNhY3Rpb25JZDogdm9pZCAwLCBzdW1tYXJ5OiB2b2lkIDAgfTtcbiAgfVxuICBzdGF0aWMgZ2V0UG9saWN5TWV0YShyZXEpIHtcbiAgICBsZXQgcG9saWN5VHlwZXMgPSAwO1xuICAgIGNvbnN0IHBvbGljaWVzID0gW107XG4gICAgY29uc3QgeyB0aXAsIHdpdG5lc3NMaW1pdCwgbWF0dXJpdHksIGV4cGlyYXRpb24gfSA9IHJlcTtcbiAgICBpZiAoYm45KHRpcCkuZ3QoMCkpIHtcbiAgICAgIHBvbGljeVR5cGVzICs9IFBvbGljeVR5cGUuVGlwO1xuICAgICAgcG9saWNpZXMucHVzaCh7IGRhdGE6IGJuOSh0aXApLCB0eXBlOiBQb2xpY3lUeXBlLlRpcCB9KTtcbiAgICB9XG4gICAgaWYgKGlzRGVmaW5lZDIod2l0bmVzc0xpbWl0KSAmJiBibjkod2l0bmVzc0xpbWl0KS5ndGUoMCkpIHtcbiAgICAgIHBvbGljeVR5cGVzICs9IFBvbGljeVR5cGUuV2l0bmVzc0xpbWl0O1xuICAgICAgcG9saWNpZXMucHVzaCh7IGRhdGE6IGJuOSh3aXRuZXNzTGltaXQpLCB0eXBlOiBQb2xpY3lUeXBlLldpdG5lc3NMaW1pdCB9KTtcbiAgICB9XG4gICAgaWYgKG1hdHVyaXR5ICYmIG1hdHVyaXR5ID4gMCkge1xuICAgICAgcG9saWN5VHlwZXMgKz0gUG9saWN5VHlwZS5NYXR1cml0eTtcbiAgICAgIHBvbGljaWVzLnB1c2goeyBkYXRhOiBtYXR1cml0eSwgdHlwZTogUG9saWN5VHlwZS5NYXR1cml0eSB9KTtcbiAgICB9XG4gICAgcG9saWN5VHlwZXMgKz0gUG9saWN5VHlwZS5NYXhGZWU7XG4gICAgcG9saWNpZXMucHVzaCh7IGRhdGE6IHJlcS5tYXhGZWUsIHR5cGU6IFBvbGljeVR5cGUuTWF4RmVlIH0pO1xuICAgIGlmIChleHBpcmF0aW9uICYmIGV4cGlyYXRpb24gPiAwKSB7XG4gICAgICBwb2xpY3lUeXBlcyArPSBQb2xpY3lUeXBlLkV4cGlyYXRpb247XG4gICAgICBwb2xpY2llcy5wdXNoKHsgZGF0YTogZXhwaXJhdGlvbiwgdHlwZTogUG9saWN5VHlwZS5FeHBpcmF0aW9uIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcG9saWN5VHlwZXMsXG4gICAgICBwb2xpY2llc1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCB0byBvYnRhaW4gdGhlIGJhc2UgdHJhbnNhY3Rpb24gZGV0YWlscy5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIGJhc2UgdHJhbnNhY3Rpb24gZGV0YWlscy5cbiAgICovXG4gIGdldEJhc2VUcmFuc2FjdGlvbigpIHtcbiAgICBjb25zdCBpbnB1dHMgPSB0aGlzLmlucHV0cz8ubWFwKGlucHV0aWZ5KSA/PyBbXTtcbiAgICBjb25zdCBvdXRwdXRzID0gdGhpcy5vdXRwdXRzPy5tYXAob3V0cHV0aWZ5KSA/PyBbXTtcbiAgICBjb25zdCB3aXRuZXNzZXMgPSB0aGlzLndpdG5lc3Nlcz8ubWFwKHdpdG5lc3NpZnkpID8/IFtdO1xuICAgIGNvbnN0IHsgcG9saWN5VHlwZXMsIHBvbGljaWVzIH0gPSBfQmFzZVRyYW5zYWN0aW9uUmVxdWVzdC5nZXRQb2xpY3lNZXRhKHRoaXMpO1xuICAgIHJldHVybiB7XG4gICAgICBwb2xpY3lUeXBlcyxcbiAgICAgIGlucHV0cyxcbiAgICAgIG91dHB1dHMsXG4gICAgICBwb2xpY2llcyxcbiAgICAgIHdpdG5lc3NlcyxcbiAgICAgIGlucHV0c0NvdW50OiBpbnB1dHMubGVuZ3RoLFxuICAgICAgb3V0cHV0c0NvdW50OiBvdXRwdXRzLmxlbmd0aCxcbiAgICAgIHdpdG5lc3Nlc0NvdW50OiB3aXRuZXNzZXMubGVuZ3RoXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgdGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gYSBieXRlIGFycmF5LlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgdHJhbnNhY3Rpb24gYnl0ZXMuXG4gICAqL1xuICB0b1RyYW5zYWN0aW9uQnl0ZXMoKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbkNvZGVyKCkuZW5jb2RlKHRoaXMudG9UcmFuc2FjdGlvbigpKTtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKlxuICAgKiBQdXNoZXMgYW4gaW5wdXQgdG8gdGhlIGxpc3Qgd2l0aG91dCBhbnkgc2lkZSBlZmZlY3RzIGFuZCByZXR1cm5zIHRoZSBpbmRleFxuICAgKi9cbiAgcHVzaElucHV0KGlucHV0KSB7XG4gICAgdGhpcy5pbnB1dHMucHVzaChpbnB1dCk7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzLmxlbmd0aCAtIDE7XG4gIH1cbiAgLyoqXG4gICAqIEBoaWRkZW5cbiAgICpcbiAgICogUHVzaGVzIGFuIG91dHB1dCB0byB0aGUgbGlzdCB3aXRob3V0IGFueSBzaWRlIGVmZmVjdHMgYW5kIHJldHVybnMgdGhlIGluZGV4XG4gICAqL1xuICBwdXNoT3V0cHV0KG91dHB1dCkge1xuICAgIHRoaXMub3V0cHV0cy5wdXNoKG91dHB1dCk7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0cy5sZW5ndGggLSAxO1xuICB9XG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqXG4gICAqIFB1c2hlcyBhIHdpdG5lc3MgdG8gdGhlIGxpc3QgYW5kIHJldHVybnMgdGhlIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSBzaWduYXR1cmUgLSBUaGUgc2lnbmF0dXJlIHRvIGFkZCB0byB0aGUgd2l0bmVzcy5cbiAgICogQHJldHVybnMgVGhlIGluZGV4IG9mIHRoZSBjcmVhdGVkIHdpdG5lc3MuXG4gICAqL1xuICBhZGRXaXRuZXNzKHNpZ25hdHVyZSkge1xuICAgIHRoaXMud2l0bmVzc2VzLnB1c2goc2lnbmF0dXJlKTtcbiAgICByZXR1cm4gdGhpcy53aXRuZXNzZXMubGVuZ3RoIC0gMTtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKlxuICAgKiBDcmVhdGVzIGFuIGVtcHR5IHdpdG5lc3Mgd2l0aG91dCBhbnkgc2lkZSBlZmZlY3RzIGFuZCByZXR1cm5zIHRoZSBpbmRleFxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgaW5kZXggb2YgdGhlIGNyZWF0ZWQgd2l0bmVzcy5cbiAgICovXG4gIGFkZEVtcHR5V2l0bmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRXaXRuZXNzKGNvbmNhdChbWmVyb0J5dGVzMzI0LCBaZXJvQnl0ZXMzMjRdKSk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHdpdG5lc3MgZm9yIGEgZ2l2ZW4gb3duZXIgYW5kIHNpZ25hdHVyZS5cbiAgICpcbiAgICogQHBhcmFtIGFkZHJlc3MgLSBUaGUgYWRkcmVzcyB0byBnZXQgdGhlIGNvaW4gaW5wdXQgd2l0bmVzcyBpbmRleCBmb3IuXG4gICAqIEBwYXJhbSBzaWduYXR1cmUgLSBUaGUgc2lnbmF0dXJlIHRvIHVwZGF0ZSB0aGUgd2l0bmVzcyB3aXRoLlxuICAgKi9cbiAgdXBkYXRlV2l0bmVzc0J5T3duZXIoYWRkcmVzcywgc2lnbmF0dXJlKSB7XG4gICAgY29uc3Qgb3duZXJBZGRyZXNzID0gbmV3IEFkZHJlc3MoYWRkcmVzcyk7XG4gICAgY29uc3Qgd2l0bmVzc0luZGV4ID0gdGhpcy5nZXRDb2luSW5wdXRXaXRuZXNzSW5kZXhCeU93bmVyKG93bmVyQWRkcmVzcyk7XG4gICAgaWYgKHR5cGVvZiB3aXRuZXNzSW5kZXggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMudXBkYXRlV2l0bmVzcyh3aXRuZXNzSW5kZXgsIHNpZ25hdHVyZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIGFuIGV4aXN0aW5nIHdpdG5lc3Mgd2l0aG91dCBhbnkgc2lkZSBlZmZlY3RzLlxuICAgKlxuICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgaW5kZXggb2YgdGhlIHdpdG5lc3MgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gd2l0bmVzcyAtIFRoZSBuZXcgd2l0bmVzcy5cbiAgICogQHRocm93cyBJZiB0aGUgd2l0bmVzcyBkb2VzIG5vdCBleGlzdC5cbiAgICovXG4gIHVwZGF0ZVdpdG5lc3MoaW5kZXgsIHdpdG5lc3MpIHtcbiAgICBpZiAoIXRoaXMud2l0bmVzc2VzW2luZGV4XSkge1xuICAgICAgdGhyb3cgbmV3IE5vV2l0bmVzc0F0SW5kZXhFcnJvcihpbmRleCk7XG4gICAgfVxuICAgIHRoaXMud2l0bmVzc2VzW2luZGV4XSA9IHdpdG5lc3M7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0byBhZGQgYW4gZXh0ZXJuYWwgc2lnbmF0dXJlIHRvIHRoZSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGFjY291bnQgLSBUaGUgYWNjb3VudC9zIHRvIHNpZ24gdG8gdGhlIHRyYW5zYWN0aW9uLlxuICAgKiBAcmV0dXJucyBUaGUgdHJhbnNhY3Rpb24gd2l0aCB0aGUgc2lnbmF0dXJlIHdpdG5lc3MgYWRkZWQuXG4gICAqL1xuICBhc3luYyBhZGRBY2NvdW50V2l0bmVzc2VzKGFjY291bnQpIHtcbiAgICBjb25zdCBhY2NvdW50cyA9IEFycmF5LmlzQXJyYXkoYWNjb3VudCkgPyBhY2NvdW50IDogW2FjY291bnRdO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgYWNjb3VudHMubWFwKGFzeW5jIChhY2MpID0+IHtcbiAgICAgICAgdGhpcy5hZGRXaXRuZXNzKGF3YWl0IGFjYy5zaWduVHJhbnNhY3Rpb24odGhpcykpO1xuICAgICAgfSlcbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb2luIGlucHV0cyBmb3IgYSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIGNvaW4gaW5wdXRzLlxuICAgKi9cbiAgZ2V0Q29pbklucHV0cygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHMuZmlsdGVyKFxuICAgICAgKGlucHV0KSA9PiBpbnB1dC50eXBlID09PSBJbnB1dFR5cGU0LkNvaW5cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjb2luIG91dHB1dHMgZm9yIGEgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBjb2luIG91dHB1dHMuXG4gICAqL1xuICBnZXRDb2luT3V0cHV0cygpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRwdXRzLmZpbHRlcihcbiAgICAgIChvdXRwdXQpID0+IG91dHB1dC50eXBlID09PSBPdXRwdXRUeXBlNC5Db2luXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgY2hhbmdlIG91dHB1dHMgZm9yIGEgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBjaGFuZ2Ugb3V0cHV0cy5cbiAgICovXG4gIGdldENoYW5nZU91dHB1dHMoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0cHV0cy5maWx0ZXIoXG4gICAgICAob3V0cHV0KSA9PiBvdXRwdXQudHlwZSA9PT0gT3V0cHV0VHlwZTQuQ2hhbmdlXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKlxuICAgKiBSZXR1cm5zIHRoZSB3aXRuZXNzSW5kZXggb2YgdGhlIGZvdW5kIENvaW5JbnB1dC5cbiAgICovXG4gIGdldENvaW5JbnB1dFdpdG5lc3NJbmRleEJ5T3duZXIob3duZXIpIHtcbiAgICBjb25zdCBvd25lckFkZHJlc3MgPSBhZGRyZXNzaWZ5KG93bmVyKTtcbiAgICBjb25zdCBmb3VuZCA9IHRoaXMuaW5wdXRzLmZpbmQoKGlucHV0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGlucHV0LnR5cGUpIHtcbiAgICAgICAgY2FzZSBJbnB1dFR5cGU0LkNvaW46XG4gICAgICAgICAgcmV0dXJuIGhleGxpZnk5KGlucHV0Lm93bmVyKSA9PT0gb3duZXJBZGRyZXNzLnRvQjI1NigpO1xuICAgICAgICBjYXNlIElucHV0VHlwZTQuTWVzc2FnZTpcbiAgICAgICAgICByZXR1cm4gaGV4bGlmeTkoaW5wdXQucmVjaXBpZW50KSA9PT0gb3duZXJBZGRyZXNzLnRvQjI1NigpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmQ/LndpdG5lc3NJbmRleDtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHNpbmdsZSBjb2luIGlucHV0IHRvIHRoZSB0cmFuc2FjdGlvbiBhbmQgYSBjaGFuZ2Ugb3V0cHV0IGZvciB0aGUgcmVsYXRlZFxuICAgKiBhc3NldElkLCBpZiBvbmUgaXQgd2FzIG5vdCBhZGRlZCB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSBjb2luIC0gQ29pbiByZXNvdXJjZS5cbiAgICovXG4gIGFkZENvaW5JbnB1dChjb2luKSB7XG4gICAgY29uc3QgeyBhc3NldElkLCBvd25lciwgYW1vdW50LCBpZCwgcHJlZGljYXRlLCBwcmVkaWNhdGVEYXRhIH0gPSBjb2luO1xuICAgIGxldCB3aXRuZXNzSW5kZXg7XG4gICAgaWYgKGNvaW4ucHJlZGljYXRlKSB7XG4gICAgICB3aXRuZXNzSW5kZXggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aXRuZXNzSW5kZXggPSB0aGlzLmdldENvaW5JbnB1dFdpdG5lc3NJbmRleEJ5T3duZXIob3duZXIpO1xuICAgICAgaWYgKHR5cGVvZiB3aXRuZXNzSW5kZXggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgd2l0bmVzc0luZGV4ID0gdGhpcy5hZGRFbXB0eVdpdG5lc3MoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW5wdXQgPSB7XG4gICAgICBpZCxcbiAgICAgIHR5cGU6IElucHV0VHlwZTQuQ29pbixcbiAgICAgIG93bmVyOiBvd25lci50b0IyNTYoKSxcbiAgICAgIGFtb3VudCxcbiAgICAgIGFzc2V0SWQsXG4gICAgICB0eFBvaW50ZXI6IFwiMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgd2l0bmVzc0luZGV4LFxuICAgICAgcHJlZGljYXRlLFxuICAgICAgcHJlZGljYXRlRGF0YVxuICAgIH07XG4gICAgdGhpcy5wdXNoSW5wdXQoaW5wdXQpO1xuICAgIHRoaXMuYWRkQ2hhbmdlT3V0cHV0KG93bmVyLCBhc3NldElkKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHNpbmdsZSBtZXNzYWdlIGlucHV0IHRvIHRoZSB0cmFuc2FjdGlvbiBhbmQgYSBjaGFuZ2Ugb3V0cHV0IGZvciB0aGVcbiAgICogYXNzZXQgYWdhaW5zdCB0aGUgbWVzc2FnZVxuICAgKlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE1lc3NhZ2UgcmVzb3VyY2UuXG4gICAqL1xuICBhZGRNZXNzYWdlSW5wdXQobWVzc2FnZSkge1xuICAgIGNvbnN0IHsgcmVjaXBpZW50LCBzZW5kZXIsIGFtb3VudCwgcHJlZGljYXRlLCBub25jZSwgcHJlZGljYXRlRGF0YSB9ID0gbWVzc2FnZTtcbiAgICBsZXQgd2l0bmVzc0luZGV4O1xuICAgIGlmIChtZXNzYWdlLnByZWRpY2F0ZSkge1xuICAgICAgd2l0bmVzc0luZGV4ID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2l0bmVzc0luZGV4ID0gdGhpcy5nZXRDb2luSW5wdXRXaXRuZXNzSW5kZXhCeU93bmVyKHJlY2lwaWVudCk7XG4gICAgICBpZiAodHlwZW9mIHdpdG5lc3NJbmRleCAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICB3aXRuZXNzSW5kZXggPSB0aGlzLmFkZEVtcHR5V2l0bmVzcygpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbnB1dCA9IHtcbiAgICAgIG5vbmNlLFxuICAgICAgdHlwZTogSW5wdXRUeXBlNC5NZXNzYWdlLFxuICAgICAgc2VuZGVyOiBzZW5kZXIudG9CMjU2KCksXG4gICAgICByZWNpcGllbnQ6IHJlY2lwaWVudC50b0IyNTYoKSxcbiAgICAgIGRhdGE6IGlzTWVzc2FnZUNvaW4obWVzc2FnZSkgPyBcIjB4XCIgOiBtZXNzYWdlLmRhdGEsXG4gICAgICBhbW91bnQsXG4gICAgICB3aXRuZXNzSW5kZXgsXG4gICAgICBwcmVkaWNhdGUsXG4gICAgICBwcmVkaWNhdGVEYXRhXG4gICAgfTtcbiAgICB0aGlzLnB1c2hJbnB1dChpbnB1dCk7XG4gICAgaWYgKGlzTWVzc2FnZUNvaW4obWVzc2FnZSkpIHtcbiAgICAgIHRoaXMuYWRkQ2hhbmdlT3V0cHV0KHJlY2lwaWVudCwgbWVzc2FnZS5hc3NldElkKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBzaW5nbGUgcmVzb3VyY2UgdG8gdGhlIHRyYW5zYWN0aW9uIGJ5IGFkZGluZyBhIGNvaW4vbWVzc2FnZSBpbnB1dCBhbmQgYVxuICAgKiBjaGFuZ2Ugb3V0cHV0IGZvciB0aGUgcmVsYXRlZCBhc3NldElkLCBpZiBvbmUgaXQgd2FzIG5vdCBhZGRlZCB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBhZGQuXG4gICAqIEByZXR1cm5zIFRoaXMgdHJhbnNhY3Rpb24uXG4gICAqL1xuICBhZGRSZXNvdXJjZShyZXNvdXJjZSkge1xuICAgIGlmIChpc0NvaW4ocmVzb3VyY2UpKSB7XG4gICAgICB0aGlzLmFkZENvaW5JbnB1dChyZXNvdXJjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkTWVzc2FnZUlucHV0KHJlc291cmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgbXVsdGlwbGUgcmVzb3VyY2VzIHRvIHRoZSB0cmFuc2FjdGlvbiBieSBhZGRpbmcgY29pbi9tZXNzYWdlIGlucHV0cyBhbmQgY2hhbmdlXG4gICAqIG91dHB1dHMgZnJvbSB0aGUgcmVsYXRlZCBhc3NldElkcy5cbiAgICpcbiAgICogQHBhcmFtIHJlc291cmNlcyAtIFRoZSByZXNvdXJjZXMgdG8gYWRkLlxuICAgKiBAcmV0dXJucyBUaGlzIHRyYW5zYWN0aW9uLlxuICAgKi9cbiAgYWRkUmVzb3VyY2VzKHJlc291cmNlcykge1xuICAgIHJlc291cmNlcy5mb3JFYWNoKChyZXNvdXJjZSkgPT4gdGhpcy5hZGRSZXNvdXJjZShyZXNvdXJjZSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgY29pbiBvdXRwdXQgdG8gdGhlIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdG8gLSBBZGRyZXNzIG9mIHRoZSBvd25lci5cbiAgICogQHBhcmFtIGFtb3VudCAtIEFtb3VudCBvZiBjb2luLlxuICAgKiBAcGFyYW0gYXNzZXRJZCAtIEFzc2V0IElEIG9mIGNvaW4uXG4gICAqL1xuICBhZGRDb2luT3V0cHV0KHRvLCBhbW91bnQsIGFzc2V0SWQpIHtcbiAgICB0aGlzLnB1c2hPdXRwdXQoe1xuICAgICAgdHlwZTogT3V0cHV0VHlwZTQuQ29pbixcbiAgICAgIHRvOiBhZGRyZXNzaWZ5KHRvKS50b0IyNTYoKSxcbiAgICAgIGFtb3VudCxcbiAgICAgIGFzc2V0SWRcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkcyBtdWx0aXBsZSBjb2luIG91dHB1dHMgdG8gdGhlIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdG8gLSBBZGRyZXNzIG9mIHRoZSBkZXN0aW5hdGlvbi5cbiAgICogQHBhcmFtIHF1YW50aXRpZXMgLSBRdWFudGl0aWVzIG9mIGNvaW5zLlxuICAgKi9cbiAgYWRkQ29pbk91dHB1dHModG8sIHF1YW50aXRpZXMpIHtcbiAgICBxdWFudGl0aWVzLm1hcChjb2luUXVhbnRpdHlmeSkuZm9yRWFjaCgocXVhbnRpdHkpID0+IHtcbiAgICAgIHRoaXMucHVzaE91dHB1dCh7XG4gICAgICAgIHR5cGU6IE91dHB1dFR5cGU0LkNvaW4sXG4gICAgICAgIHRvOiBhZGRyZXNzaWZ5KHRvKS50b0IyNTYoKSxcbiAgICAgICAgYW1vdW50OiBxdWFudGl0eS5hbW91bnQsXG4gICAgICAgIGFzc2V0SWQ6IHF1YW50aXR5LmFzc2V0SWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgY2hhbmdlIG91dHB1dCB0byB0aGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB0byAtIEFkZHJlc3Mgb2YgdGhlIG93bmVyLlxuICAgKiBAcGFyYW0gYXNzZXRJZCAtIEFzc2V0IElEIG9mIGNvaW4uXG4gICAqL1xuICBhZGRDaGFuZ2VPdXRwdXQodG8sIGFzc2V0SWQpIHtcbiAgICBjb25zdCBjaGFuZ2VPdXRwdXQgPSB0aGlzLmdldENoYW5nZU91dHB1dHMoKS5maW5kKFxuICAgICAgKG91dHB1dCkgPT4gaGV4bGlmeTkob3V0cHV0LmFzc2V0SWQpID09PSBhc3NldElkXG4gICAgKTtcbiAgICBpZiAoIWNoYW5nZU91dHB1dCkge1xuICAgICAgdGhpcy5wdXNoT3V0cHV0KHtcbiAgICAgICAgdHlwZTogT3V0cHV0VHlwZTQuQ2hhbmdlLFxuICAgICAgICB0bzogYWRkcmVzc2lmeSh0bykudG9CMjU2KCksXG4gICAgICAgIGFzc2V0SWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKi9cbiAgYnl0ZVNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9UcmFuc2FjdGlvbkJ5dGVzKCkubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBtZXRhZGF0YUdhcyhfZ2FzQ29zdHMpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMTAoRnVlbEVycm9yMTAuQ09ERVMuTk9UX0lNUExFTUVOVEVELCBcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKi9cbiAgY2FsY3VsYXRlTWluR2FzKGNoYWluSW5mbykge1xuICAgIGNvbnN0IHsgY29uc2Vuc3VzUGFyYW1ldGVycyB9ID0gY2hhaW5JbmZvO1xuICAgIGNvbnN0IHtcbiAgICAgIGdhc0Nvc3RzLFxuICAgICAgZmVlUGFyYW1ldGVyczogeyBnYXNQZXJCeXRlIH1cbiAgICB9ID0gY29uc2Vuc3VzUGFyYW1ldGVycztcbiAgICByZXR1cm4gZ2V0TWluR2FzKHtcbiAgICAgIGdhc1BlckJ5dGUsXG4gICAgICBnYXNDb3N0cyxcbiAgICAgIGlucHV0czogdGhpcy5pbnB1dHMsXG4gICAgICB0eEJ5dGVzU2l6ZTogdGhpcy5ieXRlU2l6ZSgpLFxuICAgICAgbWV0YWRhdGFHYXM6IHRoaXMubWV0YWRhdGFHYXMoZ2FzQ29zdHMpXG4gICAgfSk7XG4gIH1cbiAgY2FsY3VsYXRlTWF4R2FzKGNoYWluSW5mbywgbWluR2FzKSB7XG4gICAgY29uc3QgeyBjb25zZW5zdXNQYXJhbWV0ZXJzIH0gPSBjaGFpbkluZm87XG4gICAgY29uc3Qge1xuICAgICAgZmVlUGFyYW1ldGVyczogeyBnYXNQZXJCeXRlIH0sXG4gICAgICB0eFBhcmFtZXRlcnM6IHsgbWF4R2FzUGVyVHggfVxuICAgIH0gPSBjb25zZW5zdXNQYXJhbWV0ZXJzO1xuICAgIGNvbnN0IHdpdG5lc3Nlc0xlbmd0aCA9IHRoaXMudG9UcmFuc2FjdGlvbigpLndpdG5lc3Nlcy5yZWR1Y2UoXG4gICAgICAoYWNjLCB3aXQpID0+IGFjYyArIHdpdC5kYXRhTGVuZ3RoLFxuICAgICAgMFxuICAgICk7XG4gICAgcmV0dXJuIGdldE1heEdhcyh7XG4gICAgICBnYXNQZXJCeXRlLFxuICAgICAgbWluR2FzLFxuICAgICAgd2l0bmVzc2VzTGVuZ3RoLFxuICAgICAgd2l0bmVzc0xpbWl0OiB0aGlzLndpdG5lc3NMaW1pdCxcbiAgICAgIG1heEdhc1BlclR4XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZ1bmRzIHRoZSB0cmFuc2FjdGlvbiB3aXRoIGZha2UgVVRYT3MgZm9yIGVhY2ggYXNzZXRJZCBhbmQgYW1vdW50IGluIHRoZVxuICAgKiBxdWFudGl0aWVzIGFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0gcXVhbnRpdGllcyAtIENvaW5RdWFudGl0eSBBcnJheS5cbiAgICogQHBhcmFtIGJhc2VBc3NldElkIC0gVGhlIGJhc2UgYXNzZXQgdG8gZnVuZCB0aGUgdHJhbnNhY3Rpb24uXG4gICAqIEBkZXByZWNhdGVkIC0gVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSB2ZXJzaW9ucy5cbiAgICogUGxlYXNlIHVzZSBgQWNjb3VudC5nZW5lcmF0ZUZha2VSZXNvdXJjZXNgIGFsb25nIHdpdGggYHRoaXMuYWRkUmVzb3VyY2VzYCBpbnN0ZWFkLlxuICAgKi9cbiAgZnVuZFdpdGhGYWtlVXR4b3MocXVhbnRpdGllcywgYmFzZUFzc2V0SWQsIHJlc291cmNlc093bmVyKSB7XG4gICAgY29uc3QgZmluZEFzc2V0SW5wdXQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChhc3NldElkKSA9PiB0aGlzLmlucHV0cy5maW5kKChpbnB1dCkgPT4ge1xuICAgICAgaWYgKFwiYXNzZXRJZFwiIGluIGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5hc3NldElkID09PSBhc3NldElkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pLCBcImZpbmRBc3NldElucHV0XCIpO1xuICAgIGNvbnN0IHVwZGF0ZUFzc2V0SW5wdXQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChhc3NldElkLCBxdWFudGl0eSkgPT4ge1xuICAgICAgY29uc3QgYXNzZXRJbnB1dCA9IGZpbmRBc3NldElucHV0KGFzc2V0SWQpO1xuICAgICAgbGV0IHVzZWRRdWFudGl0eSA9IHF1YW50aXR5O1xuICAgICAgaWYgKGFzc2V0SWQgPT09IGJhc2VBc3NldElkKSB7XG4gICAgICAgIHVzZWRRdWFudGl0eSA9IGJuOShcIjEwMDAwMDAwMDAwMDAwMDAwMDBcIik7XG4gICAgICB9XG4gICAgICBpZiAoYXNzZXRJbnB1dCAmJiBcImFzc2V0SWRcIiBpbiBhc3NldElucHV0KSB7XG4gICAgICAgIGFzc2V0SW5wdXQuaWQgPSBoZXhsaWZ5OShyYW5kb21CeXRlcyhVVFhPX0lEX0xFTjIpKTtcbiAgICAgICAgYXNzZXRJbnB1dC5hbW91bnQgPSB1c2VkUXVhbnRpdHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFJlc291cmNlcyhbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IGhleGxpZnk5KHJhbmRvbUJ5dGVzKFVUWE9fSURfTEVOMikpLFxuICAgICAgICAgICAgYW1vdW50OiB1c2VkUXVhbnRpdHksXG4gICAgICAgICAgICBhc3NldElkLFxuICAgICAgICAgICAgb3duZXI6IHJlc291cmNlc093bmVyIHx8IEFkZHJlc3MuZnJvbVJhbmRvbSgpLFxuICAgICAgICAgICAgYmxvY2tDcmVhdGVkOiBibjkoMSksXG4gICAgICAgICAgICB0eENyZWF0ZWRJZHg6IGJuOSgxKVxuICAgICAgICAgIH1cbiAgICAgICAgXSk7XG4gICAgICB9XG4gICAgfSwgXCJ1cGRhdGVBc3NldElucHV0XCIpO1xuICAgIHVwZGF0ZUFzc2V0SW5wdXQoYmFzZUFzc2V0SWQsIGJuOSgxZTExKSk7XG4gICAgcXVhbnRpdGllcy5mb3JFYWNoKChxKSA9PiB1cGRhdGVBc3NldElucHV0KHEuYXNzZXRJZCwgcS5hbW91bnQpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmVzIGFuIGFycmF5IG9mIENvaW5RdWFudGl0eSBmb3IgZWFjaCBjb2luIG91dHB1dCBwcmVzZW50IGluIHRoZSB0cmFuc2FjdGlvbi5cbiAgICogYSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHJldHVybnMgIENvaW5RdWFudGl0eSBhcnJheS5cbiAgICovXG4gIGdldENvaW5PdXRwdXRzUXVhbnRpdGllcygpIHtcbiAgICBjb25zdCBjb2luc1F1YW50aXRpZXMgPSB0aGlzLmdldENvaW5PdXRwdXRzKCkubWFwKCh7IGFtb3VudCwgYXNzZXRJZCB9KSA9PiAoe1xuICAgICAgYW1vdW50OiBibjkoYW1vdW50KSxcbiAgICAgIGFzc2V0SWQ6IGFzc2V0SWQudG9TdHJpbmcoKVxuICAgIH0pKTtcbiAgICByZXR1cm4gY29pbnNRdWFudGl0aWVzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG1pbmltdW0gYW1vdW50IGluIG5hdGl2ZSBjb2lucyByZXF1aXJlZCB0byBjcmVhdGVcbiAgICogYSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHRyYW5zYWN0aW9uIGFzIGEgSlNPTiBvYmplY3QuXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZUpTT04odGhpcyk7XG4gIH1cbiAgcmVtb3ZlV2l0bmVzcyhpbmRleCkge1xuICAgIHRoaXMud2l0bmVzc2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdGhpcy5hZGp1c3RXaXRuZXNzSW5kZXhlcyhpbmRleCk7XG4gIH1cbiAgYWRqdXN0V2l0bmVzc0luZGV4ZXMocmVtb3ZlZEluZGV4KSB7XG4gICAgdGhpcy5pbnB1dHMuZmlsdGVyKGlzUmVxdWVzdElucHV0UmVzb3VyY2UpLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpZiAoaW5wdXQud2l0bmVzc0luZGV4ID4gcmVtb3ZlZEluZGV4KSB7XG4gICAgICAgIGlucHV0LndpdG5lc3NJbmRleCAtPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHVwZGF0ZVByZWRpY2F0ZUdhc1VzZWQoaW5wdXRzKSB7XG4gICAgY29uc3QgaW5wdXRzVG9FeHRyYWN0R2FzVXNlZCA9IGlucHV0cy5maWx0ZXIoaXNSZXF1ZXN0SW5wdXRDb2luT3JNZXNzYWdlKTtcbiAgICB0aGlzLmlucHV0cy5maWx0ZXIoaXNSZXF1ZXN0SW5wdXRSZXNvdXJjZSkuZm9yRWFjaCgoaSkgPT4ge1xuICAgICAgY29uc3Qgb3duZXIgPSBnZXRSZXF1ZXN0SW5wdXRSZXNvdXJjZU93bmVyKGkpO1xuICAgICAgY29uc3QgY29ycmVzcG9uZGluZ0lucHV0ID0gaW5wdXRzVG9FeHRyYWN0R2FzVXNlZC5maW5kKFxuICAgICAgICAoeCkgPT4gaXNSZXF1ZXN0SW5wdXRSZXNvdXJjZUZyb21Pd25lcih4LCBuZXcgQWRkcmVzcyhTdHJpbmcob3duZXIpKSlcbiAgICAgICk7XG4gICAgICBpZiAoY29ycmVzcG9uZGluZ0lucHV0ICYmIFwicHJlZGljYXRlR2FzVXNlZFwiIGluIGNvcnJlc3BvbmRpbmdJbnB1dCAmJiBibjkoY29ycmVzcG9uZGluZ0lucHV0LnByZWRpY2F0ZUdhc1VzZWQpLmd0KDApKSB7XG4gICAgICAgIGkucHJlZGljYXRlR2FzVXNlZCA9IGNvcnJlc3BvbmRpbmdJbnB1dC5wcmVkaWNhdGVHYXNVc2VkO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGJ5dGVMZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9UcmFuc2FjdGlvbkJ5dGVzKCkuYnl0ZUxlbmd0aDtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKlxuICAgKiBVc2VkIGludGVybmFsbHkgdG8gdXBkYXRlIHRoZSBzdGF0ZSBvZiBhIHRyYW5zYWN0aW9uIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byB1cGRhdGUuXG4gICAqL1xuICB1cGRhdGVTdGF0ZShjaGFpbklkLCBzdGF0ZSwgc3VtbWFyeSkge1xuICAgIGlmICghc3RhdGUpIHtcbiAgICAgIHRoaXMuZmxhZyA9IHsgc3RhdGU6IHZvaWQgMCwgdHJhbnNhY3Rpb25JZDogdm9pZCAwLCBzdW1tYXJ5OiB2b2lkIDAgfTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHJhbnNhY3Rpb25JZCA9IHRoaXMuZ2V0VHJhbnNhY3Rpb25JZChjaGFpbklkKTtcbiAgICB0aGlzLmZsYWcgPSB7IHN0YXRlLCB0cmFuc2FjdGlvbklkLCBzdW1tYXJ5IH07XG4gIH1cbn07XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVxdWVzdC9ibG9iLXRyYW5zYWN0aW9uLXJlcXVlc3QudHNcbmltcG9ydCB7IGNsb25lIGFzIGNsb25lMyB9IGZyb20gXCJyYW1kYVwiO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXJlcXVlc3QvaGFzaC10cmFuc2FjdGlvbi50c1xuaW1wb3J0IHsgWmVyb0J5dGVzMzIgYXMgWmVyb0J5dGVzMzI1IH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3MvY29uZmlnc1wiO1xuaW1wb3J0IHsgdWludDY0VG9CeXRlc0JFLCBzaGEyNTYgfSBmcm9tIFwiQGZ1ZWwtdHMvaGFzaGVyXCI7XG5pbXBvcnQgeyBibiBhcyBibjEwIH0gZnJvbSBcIkBmdWVsLXRzL21hdGhcIjtcbmltcG9ydCB7IFRyYW5zYWN0aW9uVHlwZSBhcyBUcmFuc2FjdGlvblR5cGUzLCBJbnB1dFR5cGUgYXMgSW5wdXRUeXBlNSwgT3V0cHV0VHlwZSBhcyBPdXRwdXRUeXBlNSwgVHJhbnNhY3Rpb25Db2RlciBhcyBUcmFuc2FjdGlvbkNvZGVyMiB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IGNvbmNhdCBhcyBjb25jYXQyIH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5pbXBvcnQgeyBjbG9uZSBhcyBjbG9uZTIgfSBmcm9tIFwicmFtZGFcIjtcbmZ1bmN0aW9uIGhhc2hUcmFuc2FjdGlvbih0cmFuc2FjdGlvblJlcXVlc3QsIGNoYWluSWQpIHtcbiAgY29uc3QgdHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvblJlcXVlc3QudG9UcmFuc2FjdGlvbigpO1xuICBpZiAodHJhbnNhY3Rpb24udHlwZSA9PT0gVHJhbnNhY3Rpb25UeXBlMy5TY3JpcHQpIHtcbiAgICB0cmFuc2FjdGlvbi5yZWNlaXB0c1Jvb3QgPSBaZXJvQnl0ZXMzMjU7XG4gIH1cbiAgdHJhbnNhY3Rpb24uaW5wdXRzID0gdHJhbnNhY3Rpb24uaW5wdXRzLm1hcCgoaW5wdXQpID0+IHtcbiAgICBjb25zdCBpbnB1dENsb25lID0gY2xvbmUyKGlucHV0KTtcbiAgICBzd2l0Y2ggKGlucHV0Q2xvbmUudHlwZSkge1xuICAgICAgLy8gWmVybyBvdXQgb24gc2lnbmluZzogdHhQb2ludGVyLCBwcmVkaWNhdGVHYXNVc2VkXG4gICAgICBjYXNlIElucHV0VHlwZTUuQ29pbjoge1xuICAgICAgICBpbnB1dENsb25lLnR4UG9pbnRlciA9IHtcbiAgICAgICAgICBibG9ja0hlaWdodDogMCxcbiAgICAgICAgICB0eEluZGV4OiAwXG4gICAgICAgIH07XG4gICAgICAgIGlucHV0Q2xvbmUucHJlZGljYXRlR2FzVXNlZCA9IGJuMTAoMCk7XG4gICAgICAgIHJldHVybiBpbnB1dENsb25lO1xuICAgICAgfVxuICAgICAgLy8gWmVybyBvdXQgb24gc2lnbmluZzogcHJlZGljYXRlR2FzVXNlZFxuICAgICAgY2FzZSBJbnB1dFR5cGU1Lk1lc3NhZ2U6IHtcbiAgICAgICAgaW5wdXRDbG9uZS5wcmVkaWNhdGVHYXNVc2VkID0gYm4xMCgwKTtcbiAgICAgICAgcmV0dXJuIGlucHV0Q2xvbmU7XG4gICAgICB9XG4gICAgICAvLyBaZXJvIG91dCBvbiBzaWduaW5nOiB0eElELCBvdXRwdXRJbmRleCwgYmFsYW5jZVJvb3QsIHN0YXRlUm9vdCwgYW5kIHR4UG9pbnRlclxuICAgICAgY2FzZSBJbnB1dFR5cGU1LkNvbnRyYWN0OiB7XG4gICAgICAgIGlucHV0Q2xvbmUudHhQb2ludGVyID0ge1xuICAgICAgICAgIGJsb2NrSGVpZ2h0OiAwLFxuICAgICAgICAgIHR4SW5kZXg6IDBcbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXRDbG9uZS50eElEID0gWmVyb0J5dGVzMzI1O1xuICAgICAgICBpbnB1dENsb25lLm91dHB1dEluZGV4ID0gMDtcbiAgICAgICAgaW5wdXRDbG9uZS5iYWxhbmNlUm9vdCA9IFplcm9CeXRlczMyNTtcbiAgICAgICAgaW5wdXRDbG9uZS5zdGF0ZVJvb3QgPSBaZXJvQnl0ZXMzMjU7XG4gICAgICAgIHJldHVybiBpbnB1dENsb25lO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGlucHV0Q2xvbmU7XG4gICAgfVxuICB9KTtcbiAgdHJhbnNhY3Rpb24ub3V0cHV0cyA9IHRyYW5zYWN0aW9uLm91dHB1dHMubWFwKChvdXRwdXQpID0+IHtcbiAgICBjb25zdCBvdXRwdXRDbG9uZSA9IGNsb25lMihvdXRwdXQpO1xuICAgIHN3aXRjaCAob3V0cHV0Q2xvbmUudHlwZSkge1xuICAgICAgLy8gWmVybyBvdXQgb24gc2lnbmluZzogYmFsYW5jZVJvb3QsIHN0YXRlUm9vdFxuICAgICAgY2FzZSBPdXRwdXRUeXBlNS5Db250cmFjdDoge1xuICAgICAgICBvdXRwdXRDbG9uZS5iYWxhbmNlUm9vdCA9IFplcm9CeXRlczMyNTtcbiAgICAgICAgb3V0cHV0Q2xvbmUuc3RhdGVSb290ID0gWmVyb0J5dGVzMzI1O1xuICAgICAgICByZXR1cm4gb3V0cHV0Q2xvbmU7XG4gICAgICB9XG4gICAgICAvLyBaZXJvIG91dCBvbiBzaWduaW5nOiBhbW91bnRcbiAgICAgIGNhc2UgT3V0cHV0VHlwZTUuQ2hhbmdlOiB7XG4gICAgICAgIG91dHB1dENsb25lLmFtb3VudCA9IGJuMTAoMCk7XG4gICAgICAgIHJldHVybiBvdXRwdXRDbG9uZTtcbiAgICAgIH1cbiAgICAgIC8vIFplcm8gb3V0IG9uIHNpZ25pbmc6IGFtb3VudCwgdG8gYW5kIGFzc2V0SWRcbiAgICAgIGNhc2UgT3V0cHV0VHlwZTUuVmFyaWFibGU6IHtcbiAgICAgICAgb3V0cHV0Q2xvbmUudG8gPSBaZXJvQnl0ZXMzMjU7XG4gICAgICAgIG91dHB1dENsb25lLmFtb3VudCA9IGJuMTAoMCk7XG4gICAgICAgIG91dHB1dENsb25lLmFzc2V0SWQgPSBaZXJvQnl0ZXMzMjU7XG4gICAgICAgIHJldHVybiBvdXRwdXRDbG9uZTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBvdXRwdXRDbG9uZTtcbiAgICB9XG4gIH0pO1xuICB0cmFuc2FjdGlvbi53aXRuZXNzZXNDb3VudCA9IDA7XG4gIHRyYW5zYWN0aW9uLndpdG5lc3NlcyA9IFtdO1xuICBjb25zdCBjaGFpbklkQnl0ZXMgPSB1aW50NjRUb0J5dGVzQkUoY2hhaW5JZCk7XG4gIGNvbnN0IGNvbmNhdGVuYXRlZERhdGEgPSBjb25jYXQyKFtjaGFpbklkQnl0ZXMsIG5ldyBUcmFuc2FjdGlvbkNvZGVyMigpLmVuY29kZSh0cmFuc2FjdGlvbildKTtcbiAgcmV0dXJuIHNoYTI1Nihjb25jYXRlbmF0ZWREYXRhKTtcbn1cbl9fbmFtZShoYXNoVHJhbnNhY3Rpb24sIFwiaGFzaFRyYW5zYWN0aW9uXCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXJlcXVlc3QvYmxvYi10cmFuc2FjdGlvbi1yZXF1ZXN0LnRzXG52YXIgQmxvYlRyYW5zYWN0aW9uUmVxdWVzdCA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uUmVxdWVzdCB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiQmxvYlRyYW5zYWN0aW9uUmVxdWVzdFwiKTtcbiAgfVxuICBzdGF0aWMgZnJvbShvYmopIHtcbiAgICByZXR1cm4gbmV3IHRoaXMoY2xvbmUzKG9iaikpO1xuICB9XG4gIC8qKiBUeXBlIG9mIHRoZSB0cmFuc2FjdGlvbiAqL1xuICB0eXBlID0gVHJhbnNhY3Rpb25UeXBlMi5CbG9iO1xuICAvKiogQmxvYiBJRCAqL1xuICBibG9iSWQ7XG4gIC8qKiBXaXRuZXNzIGluZGV4IG9mIHRoZSBieXRlY29kZSB0byBjcmVhdGUgKi9cbiAgd2l0bmVzc0luZGV4O1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBgQmxvYlRyYW5zYWN0aW9uUmVxdWVzdGAuXG4gICAqXG4gICAqIEBwYXJhbSBibG9iVHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSBpbml0aWFsIHZhbHVlcyBmb3IgdGhlIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IHdpdG5lc3NJbmRleCwgYmxvYklkLCAuLi5yZXN0IH0pIHtcbiAgICBzdXBlcihyZXN0KTtcbiAgICB0aGlzLmJsb2JJZCA9IGJsb2JJZDtcbiAgICB0aGlzLndpdG5lc3NJbmRleCA9IHdpdG5lc3NJbmRleCA/PyAwO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgdHJhbnNhY3Rpb24gcmVxdWVzdCB0byBhIGBUcmFuc2FjdGlvbkJsb2JgLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgdHJhbnNhY3Rpb24gY3JlYXRlIG9iamVjdC5cbiAgICovXG4gIHRvVHJhbnNhY3Rpb24oKSB7XG4gICAgY29uc3QgYmFzZVRyYW5zYWN0aW9uID0gdGhpcy5nZXRCYXNlVHJhbnNhY3Rpb24oKTtcbiAgICBjb25zdCB7IHdpdG5lc3NJbmRleCwgYmxvYklkIH0gPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBUcmFuc2FjdGlvblR5cGUyLkJsb2IsXG4gICAgICAuLi5iYXNlVHJhbnNhY3Rpb24sXG4gICAgICBibG9iSWQsXG4gICAgICB3aXRuZXNzSW5kZXhcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBUcmFuc2FjdGlvbiBSZXF1ZXN0IGJ5IGhhc2hpbmcgdGhlIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gY2hhaW5JZCAtIFRoZSBjaGFpbiBJRC5cbiAgICpcbiAgICogQHJldHVybnMgLSBBIGhhc2ggb2YgdGhlIHRyYW5zYWN0aW9uLCB3aGljaCBpcyB0aGUgdHJhbnNhY3Rpb24gSUQuXG4gICAqL1xuICBnZXRUcmFuc2FjdGlvbklkKGNoYWluSWQpIHtcbiAgICByZXR1cm4gaGFzaFRyYW5zYWN0aW9uKHRoaXMsIGNoYWluSWQpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBtZXRhZGF0YSBnYXMgY29zdCBmb3IgYSBibG9iIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gZ2FzQ29zdHMgLSBnYXMgY29zdHMgcGFzc2VkIGZyb20gdGhlIGNoYWluLlxuICAgKiBAcmV0dXJucyBtZXRhZGF0YSBnYXMgY29zdCBmb3IgdGhlIGJsb2IgdHJhbnNhY3Rpb24uXG4gICAqL1xuICBtZXRhZGF0YUdhcyhnYXNDb3N0cykge1xuICAgIHJldHVybiBjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4QmxvYih7XG4gICAgICBnYXNDb3N0cyxcbiAgICAgIHR4Qnl0ZXNTaXplOiB0aGlzLmJ5dGVTaXplKCksXG4gICAgICB3aXRuZXNzQnl0ZXNTaXplOiB0aGlzLndpdG5lc3Nlc1t0aGlzLndpdG5lc3NJbmRleF0ubGVuZ3RoXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVxdWVzdC9jcmVhdGUtdHJhbnNhY3Rpb24tcmVxdWVzdC50c1xuaW1wb3J0IHsgWmVyb0J5dGVzMzIgYXMgWmVyb0J5dGVzMzI2IH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3MvY29uZmlnc1wiO1xuaW1wb3J0IHsgYm4gYXMgYm4xMSB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblR5cGUgYXMgVHJhbnNhY3Rpb25UeXBlNCwgT3V0cHV0VHlwZSBhcyBPdXRwdXRUeXBlNiB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IGFycmF5aWZ5IGFzIGFycmF5aWZ5NiwgaGV4bGlmeSBhcyBoZXhsaWZ5MTEgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcbmltcG9ydCB7IGNsb25lIGFzIGNsb25lNCB9IGZyb20gXCJyYW1kYVwiO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXJlcXVlc3Qvc3RvcmFnZS1zbG90LnRzXG5pbXBvcnQgeyBhcnJheWlmeSBhcyBhcnJheWlmeTUsIGhleGxpZnkgYXMgaGV4bGlmeTEwIH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG52YXIgZ2V0U3RvcmFnZVZhbHVlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgodmFsdWUpID0+IHtcbiAgY29uc3QgdiA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgdi5zZXQoYXJyYXlpZnk1KHZhbHVlKSk7XG4gIHJldHVybiB2O1xufSwgXCJnZXRTdG9yYWdlVmFsdWVcIik7XG52YXIgc3RvcmFnZVNsb3RpZnkgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdG9yYWdlU2xvdCkgPT4ge1xuICBsZXQga2V5O1xuICBsZXQgdmFsdWU7XG4gIGlmIChBcnJheS5pc0FycmF5KHN0b3JhZ2VTbG90KSkge1xuICAgIGtleSA9IHN0b3JhZ2VTbG90WzBdO1xuICAgIHZhbHVlID0gc3RvcmFnZVNsb3RbMV07XG4gIH0gZWxzZSB7XG4gICAga2V5ID0gc3RvcmFnZVNsb3Qua2V5O1xuICAgIHZhbHVlID0gc3RvcmFnZVNsb3QudmFsdWU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGhleGxpZnkxMChrZXkpLFxuICAgIHZhbHVlOiBoZXhsaWZ5MTAoZ2V0U3RvcmFnZVZhbHVlKHZhbHVlKSlcbiAgfTtcbn0sIFwic3RvcmFnZVNsb3RpZnlcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVxdWVzdC9jcmVhdGUtdHJhbnNhY3Rpb24tcmVxdWVzdC50c1xudmFyIENyZWF0ZVRyYW5zYWN0aW9uUmVxdWVzdCA9IGNsYXNzIGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uUmVxdWVzdCB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiQ3JlYXRlVHJhbnNhY3Rpb25SZXF1ZXN0XCIpO1xuICB9XG4gIHN0YXRpYyBmcm9tKG9iaikge1xuICAgIHJldHVybiBuZXcgdGhpcyhjbG9uZTQob2JqKSk7XG4gIH1cbiAgLyoqIFR5cGUgb2YgdGhlIHRyYW5zYWN0aW9uICovXG4gIHR5cGUgPSBUcmFuc2FjdGlvblR5cGU0LkNyZWF0ZTtcbiAgLyoqIFdpdG5lc3MgaW5kZXggb2YgY29udHJhY3QgYnl0ZWNvZGUgdG8gY3JlYXRlICovXG4gIGJ5dGVjb2RlV2l0bmVzc0luZGV4O1xuICAvKiogU2FsdCAqL1xuICBzYWx0O1xuICAvKiogTGlzdCBvZiBzdG9yYWdlIHNsb3RzIHRvIGluaXRpYWxpemUgKi9cbiAgc3RvcmFnZVNsb3RzO1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBgQ3JlYXRlVHJhbnNhY3Rpb25SZXF1ZXN0YC5cbiAgICpcbiAgICogQHBhcmFtIGNyZWF0ZVRyYW5zYWN0aW9uUmVxdWVzdExpa2UgLSBUaGUgaW5pdGlhbCB2YWx1ZXMgZm9yIHRoZSBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBieXRlY29kZVdpdG5lc3NJbmRleCwgc2FsdCwgc3RvcmFnZVNsb3RzLCAuLi5yZXN0IH0pIHtcbiAgICBzdXBlcihyZXN0KTtcbiAgICB0aGlzLmJ5dGVjb2RlV2l0bmVzc0luZGV4ID0gYnl0ZWNvZGVXaXRuZXNzSW5kZXggPz8gMDtcbiAgICB0aGlzLnNhbHQgPSBoZXhsaWZ5MTEoc2FsdCA/PyBaZXJvQnl0ZXMzMjYpO1xuICAgIHRoaXMuc3RvcmFnZVNsb3RzID0gWy4uLnN0b3JhZ2VTbG90cyA/PyBbXV07XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IHRvIGEgYFRyYW5zYWN0aW9uQ3JlYXRlYC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHRyYW5zYWN0aW9uIGNyZWF0ZSBvYmplY3QuXG4gICAqL1xuICB0b1RyYW5zYWN0aW9uKCkge1xuICAgIGNvbnN0IGJhc2VUcmFuc2FjdGlvbiA9IHRoaXMuZ2V0QmFzZVRyYW5zYWN0aW9uKCk7XG4gICAgY29uc3QgYnl0ZWNvZGVXaXRuZXNzSW5kZXggPSB0aGlzLmJ5dGVjb2RlV2l0bmVzc0luZGV4O1xuICAgIGNvbnN0IHN0b3JhZ2VTbG90cyA9IHRoaXMuc3RvcmFnZVNsb3RzPy5tYXAoc3RvcmFnZVNsb3RpZnkpID8/IFtdO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBUcmFuc2FjdGlvblR5cGU0LkNyZWF0ZSxcbiAgICAgIC4uLmJhc2VUcmFuc2FjdGlvbixcbiAgICAgIGJ5dGVjb2RlV2l0bmVzc0luZGV4LFxuICAgICAgc3RvcmFnZVNsb3RzQ291bnQ6IGJuMTEoc3RvcmFnZVNsb3RzLmxlbmd0aCksXG4gICAgICBzYWx0OiB0aGlzLnNhbHQgPyBoZXhsaWZ5MTEodGhpcy5zYWx0KSA6IFplcm9CeXRlczMyNixcbiAgICAgIHN0b3JhZ2VTbG90c1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEdldCBjb250cmFjdCBjcmVhdGVkIG91dHB1dHMgZm9yIHRoZSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgY29udHJhY3QgY3JlYXRlZCB0cmFuc2FjdGlvbiByZXF1ZXN0IG91dHB1dHMuXG4gICAqL1xuICBnZXRDb250cmFjdENyZWF0ZWRPdXRwdXRzKCkge1xuICAgIHJldHVybiB0aGlzLm91dHB1dHMuZmlsdGVyKFxuICAgICAgKG91dHB1dCkgPT4gb3V0cHV0LnR5cGUgPT09IE91dHB1dFR5cGU2LkNvbnRyYWN0Q3JlYXRlZFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIFRyYW5zYWN0aW9uIFJlcXVlc3QgYnkgaGFzaGluZyB0aGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBjaGFpbklkIC0gVGhlIGNoYWluIElELlxuICAgKlxuICAgKiBAcmV0dXJucyAtIEEgaGFzaCBvZiB0aGUgdHJhbnNhY3Rpb24sIHdoaWNoIGlzIHRoZSB0cmFuc2FjdGlvbiBJRC5cbiAgICovXG4gIGdldFRyYW5zYWN0aW9uSWQoY2hhaW5JZCkge1xuICAgIHJldHVybiBoYXNoVHJhbnNhY3Rpb24odGhpcywgY2hhaW5JZCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBjb250cmFjdCBjcmVhdGVkIG91dHB1dCB0byB0aGUgdHJhbnNhY3Rpb24gcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIGNvbnRyYWN0SWQgLSBUaGUgY29udHJhY3QgSUQuXG4gICAqIEBwYXJhbSBzdGF0ZVJvb3QgLSBUaGUgc3RhdGUgcm9vdC5cbiAgICovXG4gIGFkZENvbnRyYWN0Q3JlYXRlZE91dHB1dChjb250cmFjdElkLCBzdGF0ZVJvb3QpIHtcbiAgICB0aGlzLnB1c2hPdXRwdXQoe1xuICAgICAgdHlwZTogT3V0cHV0VHlwZTYuQ29udHJhY3RDcmVhdGVkLFxuICAgICAgY29udHJhY3RJZCxcbiAgICAgIHN0YXRlUm9vdFxuICAgIH0pO1xuICB9XG4gIG1ldGFkYXRhR2FzKGdhc0Nvc3RzKSB7XG4gICAgcmV0dXJuIGNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhDcmVhdGUoe1xuICAgICAgY29udHJhY3RCeXRlc1NpemU6IGJuMTEoYXJyYXlpZnk2KHRoaXMud2l0bmVzc2VzW3RoaXMuYnl0ZWNvZGVXaXRuZXNzSW5kZXhdIHx8IFwiMHhcIikubGVuZ3RoKSxcbiAgICAgIGdhc0Nvc3RzLFxuICAgICAgc3RhdGVSb290U2l6ZTogdGhpcy5zdG9yYWdlU2xvdHMubGVuZ3RoLFxuICAgICAgdHhCeXRlc1NpemU6IHRoaXMuYnl0ZVNpemUoKVxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXJlcXVlc3Qvc2NyaXB0LXRyYW5zYWN0aW9uLXJlcXVlc3QudHNcbmltcG9ydCB7IEludGVyZmFjZSB9IGZyb20gXCJAZnVlbC10cy9hYmktY29kZXJcIjtcbmltcG9ydCB7IGFkZHJlc3NpZnkgYXMgYWRkcmVzc2lmeTIgfSBmcm9tIFwiQGZ1ZWwtdHMvYWRkcmVzc1wiO1xuaW1wb3J0IHsgWmVyb0J5dGVzMzIgYXMgWmVyb0J5dGVzMzI3IH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3MvY29uZmlnc1wiO1xuaW1wb3J0IHsgYm4gYXMgYm4xMiB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBJbnB1dFR5cGUgYXMgSW5wdXRUeXBlNiwgT3V0cHV0VHlwZSBhcyBPdXRwdXRUeXBlNywgVHJhbnNhY3Rpb25UeXBlIGFzIFRyYW5zYWN0aW9uVHlwZTUgfSBmcm9tIFwiQGZ1ZWwtdHMvdHJhbnNhY3Rpb25zXCI7XG5pbXBvcnQgeyBhcnJheWlmeSBhcyBhcnJheWlmeTgsIGhleGxpZnkgYXMgaGV4bGlmeTEyIH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5pbXBvcnQgeyBjbG9uZSBhcyBjbG9uZTUgfSBmcm9tIFwicmFtZGFcIjtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1yZXF1ZXN0L3NjcmlwdHMudHNcbmltcG9ydCB7IGFycmF5aWZ5IGFzIGFycmF5aWZ5NyB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xudmFyIHJldHVyblplcm9TY3JpcHQgPSB7XG4gIC8qXG4gICAgICBPcGNvZGU6OlJFVChSRUdfWkVSTylcbiAgICAgIE9wY29kZTo6Tk9PUFxuICAgICovXG4gIC8vIFRPRE86IERvbid0IHVzZSBoYXJkY29kZWQgc2NyaXB0czogaHR0cHM6Ly9naXRodWIuY29tL0Z1ZWxMYWJzL2Z1ZWxzLXRzL2lzc3Vlcy8yODFcbiAgYnl0ZXM6IGFycmF5aWZ5NyhcIjB4MjQwMDAwMDBcIiksXG4gIGVuY29kZVNjcmlwdERhdGE6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4gbmV3IFVpbnQ4QXJyYXkoMCksIFwiZW5jb2RlU2NyaXB0RGF0YVwiKVxufTtcbnZhciB3aXRoZHJhd1NjcmlwdCA9IHtcbiAgLypcbiAgICAgICAgICBUaGUgZm9sbG93aW5nIGNvZGUgbG9hZHMgc29tZSBiYXNpYyB2YWx1ZXMgaW50byByZWdpc3RlcnMgYW5kIGNhbGxzIFNNTyB0byBjcmVhdGUgYW4gb3V0cHV0IG1lc3NhZ2VcbiAgICAgICAgICA1MDQwQzAxMCBcdC0gQURESSByMTYgJGlzIGkxNiAgIFtyMTYgbm93IHBvaW50cyB0byBtZW1vcnkgMTYgYnl0ZXMgZnJvbSB0aGUgc3RhcnQgb2YgdGhpcyBwcm9ncmFtIChzdGFydCBvZiByZWNlaXZlciBkYXRhKV1cbiAgICAgICAgICA1RDQ0QzAwNlx0LSBMVyByMTcgJGlzIGk2ICAgICAgW3IxNyBzZXQgdG8gdGhlIDZ0aCB3b3JkIGluIHRoaXMgcHJvZ3JhbSAoNio4PTQ4IGJ5dGVzIGZyb20gdGhlIHN0YXJ0IG9mIHRoaXMgcHJvZ3JhbSldXG4gICAgICAgICAgNEM0MDAwMTFcdC0gU01PIHIxNiByMCByMCByMTcgIFtzZW5kIG1lc3NhZ2Ugb3V0IHRvIGFkZHJlc3Mgc3RhcnRpbmcgYXQgbWVtb3J5IHBvc2l0aW9uIHIxNiB3aXRoIGFtb3VudCBpbiByMTddXG4gICAgICAgICAgMjQwMDAwMDBcdC0gUkVUICAgICAgICAgICAgICAgIFtyZXR1cm4gMF1cbiAgICAgICAgICAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCBbcmVjaXBpZW50IGFkZHJlc3NdXG4gICAgICAgICAgMDAwMDAwMDAgMDAwMDAwMDAgW2Ftb3VudCB2YWx1ZV1cbiAgICAgICovXG4gIC8vIFRPRE86IERvbid0IHVzZSBoYXJkY29kZWQgc2NyaXB0czogaHR0cHM6Ly9naXRodWIuY29tL0Z1ZWxMYWJzL2Z1ZWxzLXRzL2lzc3Vlcy8yODFcbiAgYnl0ZXM6IGFycmF5aWZ5NyhcIjB4NTA0MEMwMTA1RDQ0QzAwNjRDNDAwMDExMjQwMDAwMDBcIiksXG4gIGVuY29kZVNjcmlwdERhdGE6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4gbmV3IFVpbnQ4QXJyYXkoMCksIFwiZW5jb2RlU2NyaXB0RGF0YVwiKVxufTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1yZXF1ZXN0L3NjcmlwdC10cmFuc2FjdGlvbi1yZXF1ZXN0LnRzXG52YXIgU2NyaXB0VHJhbnNhY3Rpb25SZXF1ZXN0ID0gY2xhc3MgZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb25SZXF1ZXN0IHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJTY3JpcHRUcmFuc2FjdGlvblJlcXVlc3RcIik7XG4gIH1cbiAgc3RhdGljIGZyb20ob2JqKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKGNsb25lNShvYmopKTtcbiAgfVxuICAvKiogVHlwZSBvZiB0aGUgdHJhbnNhY3Rpb24gKi9cbiAgdHlwZSA9IFRyYW5zYWN0aW9uVHlwZTUuU2NyaXB0O1xuICAvKiogR2FzIGxpbWl0IGZvciB0cmFuc2FjdGlvbiAqL1xuICBnYXNMaW1pdDtcbiAgLyoqIFNjcmlwdCB0byBleGVjdXRlICovXG4gIHNjcmlwdDtcbiAgLyoqIFNjcmlwdCBpbnB1dCBkYXRhIChwYXJhbWV0ZXJzKSAqL1xuICBzY3JpcHREYXRhO1xuICBhYmlzO1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGBTY3JpcHRUcmFuc2FjdGlvblJlcXVlc3RgLlxuICAgKlxuICAgKiBAcGFyYW0gc2NyaXB0VHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSBpbml0aWFsIHZhbHVlcyBmb3IgdGhlIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBzY3JpcHQsIHNjcmlwdERhdGEsIGdhc0xpbWl0LCAuLi5yZXN0IH0gPSB7fSkge1xuICAgIHN1cGVyKHJlc3QpO1xuICAgIHRoaXMuZ2FzTGltaXQgPSBibjEyKGdhc0xpbWl0KTtcbiAgICB0aGlzLnNjcmlwdCA9IGFycmF5aWZ5OChzY3JpcHQgPz8gcmV0dXJuWmVyb1NjcmlwdC5ieXRlcyk7XG4gICAgdGhpcy5zY3JpcHREYXRhID0gYXJyYXlpZnk4KHNjcmlwdERhdGEgPz8gcmV0dXJuWmVyb1NjcmlwdC5lbmNvZGVTY3JpcHREYXRhKCkpO1xuICAgIHRoaXMuYWJpcyA9IHJlc3QuYWJpcztcbiAgfVxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGVzdGltYXRlIGFuZCBmdW5kIHRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IHdpdGggYSBzcGVjaWZpZWQgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIGFjY291bnQgLSBUaGUgYWNjb3VudCB0byBmdW5kIHRoZSB0cmFuc2FjdGlvbi5cbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgdHJhbnNhY3Rpb24gY29zdC5cbiAgICogQHJldHVybnMgVGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgdGhlIGBTY3JpcHRUcmFuc2FjdGlvblJlcXVlc3RgIGZ1bmRlZC5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGBwcm92aWRlci5hc3NlbWJsZVR4YCBpbnN0ZWFkLlxuICAgKiBDaGVjayB0aGUgbWlncmF0aW9uIGd1aWRlIGh0dHBzOi8vZG9jcy5mdWVsLm5ldHdvcmsvZ3VpZGUvYXNzZW1ibGluZy10cmFuc2FjdGlvbnMvbWlncmF0aW9uLWd1aWRlLmh0bWwgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBhc3luYyBlc3RpbWF0ZUFuZEZ1bmQoYWNjb3VudCwgeyBzaWduYXR1cmVDYWxsYmFjaywgcXVhbnRpdGllcyA9IFtdIH0gPSB7fSkge1xuICAgIGNvbnN0IHR4Q29zdCA9IGF3YWl0IGFjY291bnQuZ2V0VHJhbnNhY3Rpb25Db3N0KHRoaXMsIHsgc2lnbmF0dXJlQ2FsbGJhY2ssIHF1YW50aXRpZXMgfSk7XG4gICAgdGhpcy5tYXhGZWUgPSB0eENvc3QubWF4RmVlO1xuICAgIHRoaXMuZ2FzTGltaXQgPSB0eENvc3QuZ2FzVXNlZDtcbiAgICBhd2FpdCBhY2NvdW50LmZ1bmQodGhpcywgdHhDb3N0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgdGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gYSBgVHJhbnNhY3Rpb25TY3JpcHRgLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgdHJhbnNhY3Rpb24gc2NyaXB0IG9iamVjdC5cbiAgICovXG4gIHRvVHJhbnNhY3Rpb24oKSB7XG4gICAgY29uc3Qgc2NyaXB0ID0gYXJyYXlpZnk4KHRoaXMuc2NyaXB0ID8/IFwiMHhcIik7XG4gICAgY29uc3Qgc2NyaXB0RGF0YSA9IGFycmF5aWZ5OCh0aGlzLnNjcmlwdERhdGEgPz8gXCIweFwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogVHJhbnNhY3Rpb25UeXBlNS5TY3JpcHQsXG4gICAgICBzY3JpcHRHYXNMaW1pdDogdGhpcy5nYXNMaW1pdCxcbiAgICAgIC4uLnN1cGVyLmdldEJhc2VUcmFuc2FjdGlvbigpLFxuICAgICAgc2NyaXB0TGVuZ3RoOiBibjEyKHNjcmlwdC5sZW5ndGgpLFxuICAgICAgc2NyaXB0RGF0YUxlbmd0aDogYm4xMihzY3JpcHREYXRhLmxlbmd0aCksXG4gICAgICByZWNlaXB0c1Jvb3Q6IFplcm9CeXRlczMyNyxcbiAgICAgIHNjcmlwdDogaGV4bGlmeTEyKHNjcmlwdCksXG4gICAgICBzY3JpcHREYXRhOiBoZXhsaWZ5MTIoc2NyaXB0RGF0YSlcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY29udHJhY3QgaW5wdXRzIGZvciB0aGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGNvbnRyYWN0IHRyYW5zYWN0aW9uIHJlcXVlc3QgaW5wdXRzLlxuICAgKi9cbiAgZ2V0Q29udHJhY3RJbnB1dHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzLmZpbHRlcihcbiAgICAgIChpbnB1dCkgPT4gaW5wdXQudHlwZSA9PT0gSW5wdXRUeXBlNi5Db250cmFjdFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBjb250cmFjdCBvdXRwdXRzIGZvciB0aGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGNvbnRyYWN0IHRyYW5zYWN0aW9uIHJlcXVlc3Qgb3V0cHV0cy5cbiAgICovXG4gIGdldENvbnRyYWN0T3V0cHV0cygpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRwdXRzLmZpbHRlcihcbiAgICAgIChvdXRwdXQpID0+IG91dHB1dC50eXBlID09PSBPdXRwdXRUeXBlNy5Db250cmFjdFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB2YXJpYWJsZSBvdXRwdXRzIGZvciB0aGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHZhcmlhYmxlIHRyYW5zYWN0aW9uIHJlcXVlc3Qgb3V0cHV0cy5cbiAgICovXG4gIGdldFZhcmlhYmxlT3V0cHV0cygpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRwdXRzLmZpbHRlcihcbiAgICAgIChvdXRwdXQpID0+IG91dHB1dC50eXBlID09PSBPdXRwdXRUeXBlNy5WYXJpYWJsZVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgc2NyaXB0IGFuZCBpdHMgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHNjcmlwdCAtIFRoZSBhYnN0cmFjdCBzY3JpcHQgcmVxdWVzdC5cbiAgICogQHBhcmFtIGRhdGEgLSBUaGUgc2NyaXB0IGRhdGEuXG4gICAqL1xuICBzZXRTY3JpcHQoc2NyaXB0LCBkYXRhKSB7XG4gICAgdGhpcy5zY3JpcHREYXRhID0gc2NyaXB0LmVuY29kZVNjcmlwdERhdGEoZGF0YSk7XG4gICAgdGhpcy5zY3JpcHQgPSBzY3JpcHQuYnl0ZXM7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgdmFyaWFibGUgb3V0cHV0cyB0byB0aGUgdHJhbnNhY3Rpb24gcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIG51bWJlck9mVmFyaWFibGVzIC0gVGhlIG51bWJlciBvZiB2YXJpYWJsZXMgdG8gYWRkLlxuICAgKiBAcmV0dXJucyBUaGUgbmV3IGxlbmd0aCBvZiB0aGUgb3V0cHV0cyBhcnJheS5cbiAgICovXG4gIGFkZFZhcmlhYmxlT3V0cHV0cyhudW1iZXJPZlZhcmlhYmxlcyA9IDEpIHtcbiAgICBsZXQgb3V0cHV0c051bWJlciA9IG51bWJlck9mVmFyaWFibGVzO1xuICAgIHdoaWxlIChvdXRwdXRzTnVtYmVyKSB7XG4gICAgICB0aGlzLnB1c2hPdXRwdXQoe1xuICAgICAgICB0eXBlOiBPdXRwdXRUeXBlNy5WYXJpYWJsZVxuICAgICAgfSk7XG4gICAgICBvdXRwdXRzTnVtYmVyIC09IDE7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm91dHB1dHMubGVuZ3RoIC0gMTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHZhcmlhYmxlIG91dHB1dCB0byB0aGUgdHJhbnNhY3Rpb24gcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHRvIC0gVGhlIHJlY2lwaWVudCBhZGRyZXNzIGFzIGEgQnl0ZXNMaWtlIG9iamVjdC4gRGVmYXVsdHMgdG8gWmVyb0J5dGVzMzIgaWYgbm90IHByb3ZpZGVkLlxuICAgKiBAcGFyYW0gYW1vdW50IC0gVGhlIGFtb3VudCB0byBiZSB0cmFuc2ZlcnJlZCBhcyBhIEJpZ051bWJlcmlzaCBvYmplY3QuIERlZmF1bHRzIHRvIDAgaWYgbm90IHByb3ZpZGVkLlxuICAgKiBAcGFyYW0gYXNzZXRJZCAtIFRoZSBhc3NldCBJRCBhcyBhIEJ5dGVzTGlrZSBvYmplY3QuIERlZmF1bHRzIHRvIFplcm9CeXRlczMyIGlmIG5vdCBwcm92aWRlZC5cbiAgICovXG4gIGFkZFZhcmlhYmxlT3V0cHV0KHRvLCBhbW91bnQsIGFzc2V0SWQpIHtcbiAgICB0aGlzLnB1c2hPdXRwdXQoe1xuICAgICAgdHlwZTogT3V0cHV0VHlwZTcuVmFyaWFibGUsXG4gICAgICB0byxcbiAgICAgIGFtb3VudCxcbiAgICAgIGFzc2V0SWRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgbWF4aW11bSBnYXMgZm9yIHRoZSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGNoYWluSW5mbyAtIFRoZSBjaGFpbiBpbmZvcm1hdGlvbi5cbiAgICogQHBhcmFtIG1pbkdhcyAtIFRoZSBtaW5pbXVtIGdhcy5cbiAgICogQHJldHVybnMgdGhlIG1heGltdW0gZ2FzLlxuICAgKi9cbiAgY2FsY3VsYXRlTWF4R2FzKGNoYWluSW5mbywgbWluR2FzKSB7XG4gICAgY29uc3QgeyBjb25zZW5zdXNQYXJhbWV0ZXJzIH0gPSBjaGFpbkluZm87XG4gICAgY29uc3Qge1xuICAgICAgZmVlUGFyYW1ldGVyczogeyBnYXNQZXJCeXRlIH0sXG4gICAgICB0eFBhcmFtZXRlcnM6IHsgbWF4R2FzUGVyVHggfVxuICAgIH0gPSBjb25zZW5zdXNQYXJhbWV0ZXJzO1xuICAgIGNvbnN0IHdpdG5lc3Nlc0xlbmd0aCA9IHRoaXMudG9UcmFuc2FjdGlvbigpLndpdG5lc3Nlcy5yZWR1Y2UoXG4gICAgICAoYWNjLCB3aXQpID0+IGFjYyArIHdpdC5kYXRhTGVuZ3RoLFxuICAgICAgMFxuICAgICk7XG4gICAgcmV0dXJuIGdldE1heEdhcyh7XG4gICAgICBnYXNQZXJCeXRlLFxuICAgICAgbWluR2FzLFxuICAgICAgd2l0bmVzc2VzTGVuZ3RoLFxuICAgICAgd2l0bmVzc0xpbWl0OiB0aGlzLndpdG5lc3NMaW1pdCxcbiAgICAgIGdhc0xpbWl0OiB0aGlzLmdhc0xpbWl0LFxuICAgICAgbWF4R2FzUGVyVHhcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGNvbnRyYWN0IGlucHV0IGFuZCBvdXRwdXQgdG8gdGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSBjb250cmFjdCAtIFRoZSBjb250cmFjdCBJRC5cbiAgICogQHJldHVybnMgVGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgdGhlIGBTY3JpcHRUcmFuc2FjdGlvblJlcXVlc3RgLlxuICAgKi9cbiAgYWRkQ29udHJhY3RJbnB1dEFuZE91dHB1dChjb250cmFjdCkge1xuICAgIGNvbnN0IGNvbnRyYWN0QWRkcmVzcyA9IGFkZHJlc3NpZnkyKGNvbnRyYWN0KTtcbiAgICBpZiAodGhpcy5nZXRDb250cmFjdElucHV0cygpLmZpbmQoKGkpID0+IGkuY29udHJhY3RJZCA9PT0gY29udHJhY3RBZGRyZXNzLnRvQjI1NigpKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0SW5kZXggPSBzdXBlci5wdXNoSW5wdXQoe1xuICAgICAgdHlwZTogSW5wdXRUeXBlNi5Db250cmFjdCxcbiAgICAgIGNvbnRyYWN0SWQ6IGNvbnRyYWN0QWRkcmVzcy50b0IyNTYoKSxcbiAgICAgIHR4UG9pbnRlcjogXCIweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwXCJcbiAgICB9KTtcbiAgICB0aGlzLnB1c2hPdXRwdXQoe1xuICAgICAgdHlwZTogT3V0cHV0VHlwZTcuQ29udHJhY3QsXG4gICAgICBpbnB1dEluZGV4XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIFRyYW5zYWN0aW9uIFJlcXVlc3QgYnkgaGFzaGluZyB0aGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBjaGFpbklkIC0gVGhlIGNoYWluIElELlxuICAgKlxuICAgKiBAcmV0dXJucyAtIEEgaGFzaCBvZiB0aGUgdHJhbnNhY3Rpb24sIHdoaWNoIGlzIHRoZSB0cmFuc2FjdGlvbiBJRC5cbiAgICovXG4gIGdldFRyYW5zYWN0aW9uSWQoY2hhaW5JZCkge1xuICAgIHJldHVybiBoYXNoVHJhbnNhY3Rpb24odGhpcywgY2hhaW5JZCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGRhdGEgZm9yIHRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0gYWJpIC0gU2NyaXB0IEpTT04gQUJJLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBpbnB1dCBhcmd1bWVudHMuXG4gICAqIEByZXR1cm5zIFRoZSBjdXJyZW50IGluc3RhbmNlIG9mIHRoZSBgU2NyaXB0VHJhbnNhY3Rpb25SZXF1ZXN0YC5cbiAgICovXG4gIHNldERhdGEoYWJpLCBhcmdzKSB7XG4gICAgY29uc3QgYWJpSW50ZXJmYWNlID0gbmV3IEludGVyZmFjZShhYmkpO1xuICAgIHRoaXMuc2NyaXB0RGF0YSA9IGFiaUludGVyZmFjZS5mdW5jdGlvbnMubWFpbi5lbmNvZGVBcmd1bWVudHMoYXJncyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgbWV0YWRhdGFHYXMoZ2FzQ29zdHMpIHtcbiAgICByZXR1cm4gY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeFNjcmlwdCh7XG4gICAgICBnYXNDb3N0cyxcbiAgICAgIHR4Qnl0ZXNTaXplOiB0aGlzLmJ5dGVTaXplKClcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1yZXF1ZXN0L3VwZ3JhZGUtdHJhbnNhY3Rpb24tcmVxdWVzdC50c1xuaW1wb3J0IHsgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjExIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgaGFzaCB9IGZyb20gXCJAZnVlbC10cy9oYXNoZXJcIjtcbmltcG9ydCB7XG4gIFRyYW5zYWN0aW9uVHlwZSBhcyBUcmFuc2FjdGlvblR5cGU2LFxuICBVcGdyYWRlUHVycG9zZVR5cGVFbnVtXG59IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbmltcG9ydCB7IGhleGxpZnkgYXMgaGV4bGlmeTEzIH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5pbXBvcnQgeyBjbG9uZSBhcyBjbG9uZTYgfSBmcm9tIFwicmFtZGFcIjtcbnZhciBVcGdyYWRlVHJhbnNhY3Rpb25SZXF1ZXN0ID0gY2xhc3MgX1VwZ3JhZGVUcmFuc2FjdGlvblJlcXVlc3QgZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb25SZXF1ZXN0IHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJVcGdyYWRlVHJhbnNhY3Rpb25SZXF1ZXN0XCIpO1xuICB9XG4gIHN0YXRpYyBmcm9tKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfVXBncmFkZVRyYW5zYWN0aW9uUmVxdWVzdCkge1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyB0aGlzKGNsb25lNihvYmopKTtcbiAgfVxuICAvKiogVGhlIHR5cGUgb2YgdHJhbnNhY3Rpb24gKi9cbiAgdHlwZSA9IFRyYW5zYWN0aW9uVHlwZTYuVXBncmFkZTtcbiAgLyoqIFRoZSB1cGdyYWRlIHB1cnBvc2UgKi9cbiAgdXBncmFkZVB1cnBvc2U7XG4gIC8qKiBXaXRuZXNzIGluZGV4IG9mIGNvbnNlbnN1cyAqL1xuICBieXRlY29kZVdpdG5lc3NJbmRleDtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2UgYFVwZ3JhZGVUcmFuc2FjdGlvblJlcXVlc3RgLlxuICAgKlxuICAgKiBAcGFyYW0gdXBncmFkZVRyYW5zYWN0aW9uUmVxdWVzdExpa2UgLSBUaGUgaW5pdGlhbCB2YWx1ZXMgZm9yIHRoZSBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIHVwZ3JhZGVQdXJwb3NlLFxuICAgIGJ5dGVjb2RlV2l0bmVzc0luZGV4LFxuICAgIC4uLnJlc3RcbiAgfSA9IHt9KSB7XG4gICAgc3VwZXIocmVzdCk7XG4gICAgdGhpcy5ieXRlY29kZVdpdG5lc3NJbmRleCA9IGJ5dGVjb2RlV2l0bmVzc0luZGV4ID8/IDA7XG4gICAgdGhpcy51cGdyYWRlUHVycG9zZSA9IHVwZ3JhZGVQdXJwb3NlID8/IHtcbiAgICAgIHR5cGU6IFVwZ3JhZGVQdXJwb3NlVHlwZUVudW0uQ29uc2Vuc3VzUGFyYW1ldGVycyxcbiAgICAgIGNoZWNrc3VtOiBcIjB4XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgY29uc2Vuc3VzIHBhcmFtZXRlcnMgdXBncmFkZSBwdXJwb3NlLlxuICAgKlxuICAgKiBAcGFyYW0gY29uc2Vuc3VzIC0gVGhlIGNvbnNlbnN1cyBieXRlY29kZS5cbiAgICpcbiAgICogQHJldHVybnMgLSBUaGUgY3VycmVudCBpbnN0YW5jZSBvZiBgVXBncmFkZVRyYW5zYWN0aW9uUmVxdWVzdGAuXG4gICAqL1xuICBhZGRDb25zZW5zdXNQYXJhbWV0ZXJzVXBncmFkZVB1cnBvc2UoY29uc2Vuc3VzKSB7XG4gICAgdGhpcy5ieXRlY29kZVdpdG5lc3NJbmRleCA9IHRoaXMuYWRkV2l0bmVzcyhjb25zZW5zdXMpO1xuICAgIHRoaXMudXBncmFkZVB1cnBvc2UgPSB7XG4gICAgICB0eXBlOiBVcGdyYWRlUHVycG9zZVR5cGVFbnVtLkNvbnNlbnN1c1BhcmFtZXRlcnMsXG4gICAgICBjaGVja3N1bTogaGFzaChjb25zZW5zdXMpXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHN0YXRlIHRyYW5zaXRpb24gdXBncmFkZSBwdXJwb3NlLlxuICAgKlxuICAgKiBAcGFyYW0gYnl0ZWNvZGVSb290IC0gVGhlIE1lcmtsZSByb290IG9mIHRoZSBzdGF0ZSB0cmFuc2l0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJucyAtIFRoZSBjdXJyZW50IGluc3RhbmNlIG9mIGBVcGdyYWRlVHJhbnNhY3Rpb25SZXF1ZXN0YC5cbiAgICovXG4gIGFkZFN0YXRlVHJhbnNpdGlvblVwZ3JhZGVQdXJwb3NlKGJ5dGVjb2RlUm9vdCkge1xuICAgIHRoaXMudXBncmFkZVB1cnBvc2UgPSB7XG4gICAgICB0eXBlOiBVcGdyYWRlUHVycG9zZVR5cGVFbnVtLlN0YXRlVHJhbnNpdGlvbixcbiAgICAgIGRhdGE6IGhleGxpZnkxMyhieXRlY29kZVJvb3QpXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkcyBhbiB1cGdyYWRlIHB1cnBvc2UuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIC0gVGhlIHVwZ3JhZGUgcHVycG9zZSB0eXBlLlxuICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBieXRlY29kZSBvciBtZXJrbGUgcm9vdCBvZiB1cGdyYWRlIHB1cnBvc2VcbiAgICpcbiAgICogQHJldHVybnMgLSBUaGUgY3VycmVudCBpbnN0YW5jZSBvZiBgVXBncmFkZVRyYW5zYWN0aW9uUmVxdWVzdGAuXG4gICAqL1xuICBhZGRVcGdyYWRlUHVycG9zZSh0eXBlLCBkYXRhKSB7XG4gICAgaWYgKHR5cGUgPT09IFVwZ3JhZGVQdXJwb3NlVHlwZUVudW0uQ29uc2Vuc3VzUGFyYW1ldGVycykge1xuICAgICAgdGhpcy5hZGRDb25zZW5zdXNQYXJhbWV0ZXJzVXBncmFkZVB1cnBvc2UoZGF0YSk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBVcGdyYWRlUHVycG9zZVR5cGVFbnVtLlN0YXRlVHJhbnNpdGlvbikge1xuICAgICAgdGhpcy5hZGRTdGF0ZVRyYW5zaXRpb25VcGdyYWRlUHVycG9zZShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IHRvIGEgYFRyYW5zYWN0aW9uVXBncmFkZWAuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB0cmFuc2FjdGlvbiBjcmVhdGUgb2JqZWN0LlxuICAgKi9cbiAgdG9UcmFuc2FjdGlvbigpIHtcbiAgICBsZXQgdXBncmFkZVB1cnBvc2U7XG4gICAgaWYgKHRoaXMudXBncmFkZVB1cnBvc2UudHlwZSA9PT0gVXBncmFkZVB1cnBvc2VUeXBlRW51bS5Db25zZW5zdXNQYXJhbWV0ZXJzKSB7XG4gICAgICB1cGdyYWRlUHVycG9zZSA9IHtcbiAgICAgICAgdHlwZTogVXBncmFkZVB1cnBvc2VUeXBlRW51bS5Db25zZW5zdXNQYXJhbWV0ZXJzLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgd2l0bmVzc0luZGV4OiB0aGlzLmJ5dGVjb2RlV2l0bmVzc0luZGV4LFxuICAgICAgICAgIGNoZWNrc3VtOiB0aGlzLnVwZ3JhZGVQdXJwb3NlLmNoZWNrc3VtXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLnVwZ3JhZGVQdXJwb3NlLnR5cGUgPT09IFVwZ3JhZGVQdXJwb3NlVHlwZUVudW0uU3RhdGVUcmFuc2l0aW9uKSB7XG4gICAgICB1cGdyYWRlUHVycG9zZSA9IHtcbiAgICAgICAgdHlwZTogVXBncmFkZVB1cnBvc2VUeXBlRW51bS5TdGF0ZVRyYW5zaXRpb24sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBieXRlY29kZVJvb3Q6IGhleGxpZnkxMyh0aGlzLnVwZ3JhZGVQdXJwb3NlLmRhdGEpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IxMShGdWVsRXJyb3IxMS5DT0RFUy5OT1RfSU1QTEVNRU5URUQsIFwiSW52YWxpZCB1cGdyYWRlIHB1cnBvc2VcIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBUcmFuc2FjdGlvblR5cGU2LlVwZ3JhZGUsXG4gICAgICAuLi5zdXBlci5nZXRCYXNlVHJhbnNhY3Rpb24oKSxcbiAgICAgIHVwZ3JhZGVQdXJwb3NlXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgVHJhbnNhY3Rpb24gSUQgYnkgaGFzaGluZyB0aGUgdHJhbnNhY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIGNoYWluSWQgLSBUaGUgY2hhaW4gSUQuXG4gICAqXG4gICAqIEByZXR1cm5zIC0gQSBoYXNoIG9mIHRoZSB0cmFuc2FjdGlvbiwgd2hpY2ggaXMgdGhlIHRyYW5zYWN0aW9uIElELlxuICAgKi9cbiAgZ2V0VHJhbnNhY3Rpb25JZChjaGFpbklkKSB7XG4gICAgcmV0dXJuIGhhc2hUcmFuc2FjdGlvbih0aGlzLCBjaGFpbklkKTtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgbWV0YWRhdGEgZ2FzIGNvc3QgZm9yIGFuIHVwZ3JhZGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBnYXNDb3N0cyAtIGdhcyBjb3N0cyBwYXNzZWQgZnJvbSB0aGUgY2hhaW4uXG4gICAqXG4gICAqIEByZXR1cm5zIG1ldGFkYXRhIGdhcyBjb3N0IGZvciB0aGUgdXBncmFkZSB0cmFuc2FjdGlvbi5cbiAgICovXG4gIG1ldGFkYXRhR2FzKGdhc0Nvc3RzKSB7XG4gICAgY29uc3QgdHhCeXRlc1NpemUgPSB0aGlzLmJ5dGVTaXplKCk7XG4gICAgaWYgKHRoaXMudXBncmFkZVB1cnBvc2UudHlwZSA9PT0gVXBncmFkZVB1cnBvc2VUeXBlRW51bS5Db25zZW5zdXNQYXJhbWV0ZXJzKSB7XG4gICAgICBjb25zdCB3aXRuZXNzSW5kZXggPSB0aGlzLmJ5dGVjb2RlV2l0bmVzc0luZGV4O1xuICAgICAgY29uc3QgY29uc2Vuc3VzU2l6ZSA9IHRoaXMud2l0bmVzc2VzW3dpdG5lc3NJbmRleF0ubGVuZ3RoO1xuICAgICAgcmV0dXJuIGNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhVcGdyYWRlKHtcbiAgICAgICAgZ2FzQ29zdHMsXG4gICAgICAgIHR4Qnl0ZXNTaXplLFxuICAgICAgICBjb25zZW5zdXNTaXplXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMudXBncmFkZVB1cnBvc2UudHlwZSA9PT0gVXBncmFkZVB1cnBvc2VUeXBlRW51bS5TdGF0ZVRyYW5zaXRpb24pIHtcbiAgICAgIHJldHVybiBjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4VXBncmFkZSh7XG4gICAgICAgIGdhc0Nvc3RzLFxuICAgICAgICB0eEJ5dGVzU2l6ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBGdWVsRXJyb3IxMShGdWVsRXJyb3IxMS5DT0RFUy5OT1RfSU1QTEVNRU5URUQsIFwiSW52YWxpZCB1cGdyYWRlIHB1cnBvc2VcIik7XG4gIH1cbn07XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVxdWVzdC91cGxvYWQtdHJhbnNhY3Rpb24tcmVxdWVzdC50c1xuaW1wb3J0IHsgWmVyb0J5dGVzMzIgYXMgWmVyb0J5dGVzMzI4IH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3MvY29uZmlnc1wiO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25UeXBlIGFzIFRyYW5zYWN0aW9uVHlwZTcgfSBmcm9tIFwiQGZ1ZWwtdHMvdHJhbnNhY3Rpb25zXCI7XG5pbXBvcnQgeyBhcnJheWlmeSBhcyBhcnJheWlmeTksIGhleGxpZnkgYXMgaGV4bGlmeTE0IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5pbXBvcnQgeyBjbG9uZSBhcyBjbG9uZTcgfSBmcm9tIFwicmFtZGFcIjtcbnZhciBVcGxvYWRUcmFuc2FjdGlvblJlcXVlc3QgPSBjbGFzcyBfVXBsb2FkVHJhbnNhY3Rpb25SZXF1ZXN0IGV4dGVuZHMgQmFzZVRyYW5zYWN0aW9uUmVxdWVzdCB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiVXBsb2FkVHJhbnNhY3Rpb25SZXF1ZXN0XCIpO1xuICB9XG4gIHN0YXRpYyBmcm9tKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfVXBsb2FkVHJhbnNhY3Rpb25SZXF1ZXN0KSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IHRoaXMoY2xvbmU3KG9iaikpO1xuICB9XG4gIC8qKiBUeXBlIG9mIHRoZSB0cmFuc2FjdGlvbiAqL1xuICB0eXBlID0gVHJhbnNhY3Rpb25UeXBlNy5VcGxvYWQ7XG4gIC8qKiBUaGUgd2l0bmVzcyBpbmRleCBvZiB0aGUgc3Vic2VjdGlvbiBvZiB0aGUgYnl0ZWNvZGUuICovXG4gIHdpdG5lc3NJbmRleDtcbiAgLyoqIFRoZSBzdWJzZWN0aW9uIGRhdGEuICovXG4gIHN1YnNlY3Rpb247XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIGBVcGxvYWRUcmFuc2FjdGlvblJlcXVlc3RgLlxuICAgKlxuICAgKiBAcGFyYW0gdXBsb2FkVHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSBpbml0aWFsIHZhbHVlcyBmb3IgdGhlIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IHdpdG5lc3NJbmRleCwgc3Vic2VjdGlvbiwgLi4ucmVzdCB9ID0ge30pIHtcbiAgICBzdXBlcihyZXN0KTtcbiAgICB0aGlzLndpdG5lc3NJbmRleCA9IHdpdG5lc3NJbmRleCA/PyAwO1xuICAgIHRoaXMuc3Vic2VjdGlvbiA9IHN1YnNlY3Rpb24gPz8ge1xuICAgICAgcHJvb2ZTZXQ6IFtdLFxuICAgICAgcm9vdDogWmVyb0J5dGVzMzI4LFxuICAgICAgc3Vic2VjdGlvbkluZGV4OiAwLFxuICAgICAgc3Vic2VjdGlvbnNOdW1iZXI6IDBcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIHRoZSBzdWJzZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gc3Vic2VjdGlvbiAtIFRoZSBzdWJzZWN0aW9uIGRhdGEuXG4gICAqL1xuICBhZGRTdWJzZWN0aW9uKHN1YnNlY3Rpb24pIHtcbiAgICBjb25zdCB7IHN1YnNlY3Rpb246IHN1YnNlY3Rpb25CeXRlY29kZSwgLi4ucmVzdCB9ID0gc3Vic2VjdGlvbjtcbiAgICB0aGlzLnN1YnNlY3Rpb24gPSByZXN0O1xuICAgIHRoaXMud2l0bmVzc0luZGV4ID0gdGhpcy5hZGRXaXRuZXNzKHN1YnNlY3Rpb25CeXRlY29kZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIFRyYW5zYWN0aW9uIFJlcXVlc3QgYnkgaGFzaGluZyB0aGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBjaGFpbklkIC0gVGhlIGNoYWluIElELlxuICAgKlxuICAgKiBAcmV0dXJucyAtIEEgaGFzaCBvZiB0aGUgdHJhbnNhY3Rpb24sIHdoaWNoIGlzIHRoZSB0cmFuc2FjdGlvbiBJRC5cbiAgICovXG4gIGdldFRyYW5zYWN0aW9uSWQoY2hhaW5JZCkge1xuICAgIHJldHVybiBoYXNoVHJhbnNhY3Rpb24odGhpcywgY2hhaW5JZCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IHRvIGEgYFRyYW5zYWN0aW9uVXBsb2FkYC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHRyYW5zYWN0aW9uIGNyZWF0ZSBvYmplY3QuXG4gICAqL1xuICB0b1RyYW5zYWN0aW9uKCkge1xuICAgIGNvbnN0IGJhc2VUcmFuc2FjdGlvbiA9IHRoaXMuZ2V0QmFzZVRyYW5zYWN0aW9uKCk7XG4gICAgY29uc3QgeyBzdWJzZWN0aW9uSW5kZXgsIHN1YnNlY3Rpb25zTnVtYmVyLCByb290LCBwcm9vZlNldCB9ID0gdGhpcy5zdWJzZWN0aW9uO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBUcmFuc2FjdGlvblR5cGU3LlVwbG9hZCxcbiAgICAgIC4uLmJhc2VUcmFuc2FjdGlvbixcbiAgICAgIHN1YnNlY3Rpb25JbmRleCxcbiAgICAgIHN1YnNlY3Rpb25zTnVtYmVyLFxuICAgICAgcm9vdDogaGV4bGlmeTE0KHJvb3QpLFxuICAgICAgcHJvb2ZTZXQ6IHByb29mU2V0Lm1hcChoZXhsaWZ5MTQpLFxuICAgICAgd2l0bmVzc0luZGV4OiB0aGlzLndpdG5lc3NJbmRleCxcbiAgICAgIHByb29mU2V0Q291bnQ6IHByb29mU2V0Lmxlbmd0aFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIG1ldGFkYXRhIGdhcyBjb3N0IGZvciBhbiB1cGxvYWQgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBnYXNDb3N0cyAtIGdhcyBjb3N0cyBwYXNzZWQgZnJvbSB0aGUgY2hhaW4uXG4gICAqXG4gICAqIEByZXR1cm5zIG1ldGFkYXRhIGdhcyBjb3N0IGZvciB0aGUgdXBsb2FkIHRyYW5zYWN0aW9uLlxuICAgKi9cbiAgbWV0YWRhdGFHYXMoZ2FzQ29zdHMpIHtcbiAgICByZXR1cm4gY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeFVwbG9hZCh7XG4gICAgICBnYXNDb3N0cyxcbiAgICAgIHR4Qnl0ZXNTaXplOiB0aGlzLmJ5dGVTaXplKCksXG4gICAgICBzdWJzZWN0aW9uU2l6ZTogYXJyYXlpZnk5KHRoaXMud2l0bmVzc2VzW3RoaXMud2l0bmVzc0luZGV4XSkubGVuZ3RoLFxuICAgICAgc3Vic2VjdGlvbnNTaXplOiB0aGlzLnN1YnNlY3Rpb24uc3Vic2VjdGlvbnNOdW1iZXJcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgbWluaW11bSBnYXMgZm9yIGFuIHVwbG9hZCB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGNoYWluSW5mbyAtIFRoZSBjaGFpbiBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogQHJldHVybnMgdGhlIG1pbmltdW0gZ2FzIGZvciB0aGUgdXBsb2FkIHRyYW5zYWN0aW9uXG4gICAqL1xuICBjYWxjdWxhdGVNaW5HYXMoY2hhaW5JbmZvKSB7XG4gICAgY29uc3QgbWluR2FzID0gc3VwZXIuY2FsY3VsYXRlTWluR2FzKGNoYWluSW5mbyk7XG4gICAgY29uc3QgeyBnYXNDb3N0cyB9ID0gY2hhaW5JbmZvLmNvbnNlbnN1c1BhcmFtZXRlcnM7XG4gICAgY29uc3QgYnl0ZWNvZGUgPSB0aGlzLndpdG5lc3Nlc1t0aGlzLndpdG5lc3NJbmRleF0gPz8gWmVyb0J5dGVzMzI4O1xuICAgIHJldHVybiBjYWxjdWxhdGVNaW5HYXNGb3JUeFVwbG9hZCh7XG4gICAgICBnYXNDb3N0cyxcbiAgICAgIGJhc2VNaW5HYXM6IG1pbkdhcy50b051bWJlcigpLFxuICAgICAgc3Vic2VjdGlvblNpemU6IGFycmF5aWZ5OShieXRlY29kZSkubGVuZ3RoXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVxdWVzdC90eXBlcy50c1xudmFyIEFic3RyYWN0U2NyaXB0UmVxdWVzdCA9IGNsYXNzIHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJBYnN0cmFjdFNjcmlwdFJlcXVlc3RcIik7XG4gIH1cbn07XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVxdWVzdC91dGlscy50c1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTEwLCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yMTIgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblR5cGUgYXMgVHJhbnNhY3Rpb25UeXBlOCB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcbnZhciB0cmFuc2FjdGlvblJlcXVlc3RpZnkgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChvYmopID0+IHtcbiAgaWYgKG9iaiBpbnN0YW5jZW9mIFNjcmlwdFRyYW5zYWN0aW9uUmVxdWVzdCB8fCBvYmogaW5zdGFuY2VvZiBDcmVhdGVUcmFuc2FjdGlvblJlcXVlc3QgfHwgb2JqIGluc3RhbmNlb2YgQmxvYlRyYW5zYWN0aW9uUmVxdWVzdCB8fCBvYmogaW5zdGFuY2VvZiBVcGdyYWRlVHJhbnNhY3Rpb25SZXF1ZXN0IHx8IG9iaiBpbnN0YW5jZW9mIFVwbG9hZFRyYW5zYWN0aW9uUmVxdWVzdCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgY29uc3QgeyB0eXBlIH0gPSBvYmo7XG4gIHN3aXRjaCAob2JqLnR5cGUpIHtcbiAgICBjYXNlIFRyYW5zYWN0aW9uVHlwZTguU2NyaXB0OiB7XG4gICAgICByZXR1cm4gU2NyaXB0VHJhbnNhY3Rpb25SZXF1ZXN0LmZyb20ob2JqKTtcbiAgICB9XG4gICAgY2FzZSBUcmFuc2FjdGlvblR5cGU4LkNyZWF0ZToge1xuICAgICAgcmV0dXJuIENyZWF0ZVRyYW5zYWN0aW9uUmVxdWVzdC5mcm9tKG9iaik7XG4gICAgfVxuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlOC5CbG9iOiB7XG4gICAgICByZXR1cm4gQmxvYlRyYW5zYWN0aW9uUmVxdWVzdC5mcm9tKG9iaik7XG4gICAgfVxuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlOC5VcGdyYWRlOiB7XG4gICAgICByZXR1cm4gVXBncmFkZVRyYW5zYWN0aW9uUmVxdWVzdC5mcm9tKG9iaik7XG4gICAgfVxuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlOC5VcGxvYWQ6IHtcbiAgICAgIHJldHVybiBVcGxvYWRUcmFuc2FjdGlvblJlcXVlc3QuZnJvbShvYmopO1xuICAgIH1cbiAgICBkZWZhdWx0OiB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMTIoXG4gICAgICAgIEVycm9yQ29kZTEwLlVOU1VQUE9SVEVEX1RSQU5TQUNUSU9OX1RZUEUsXG4gICAgICAgIGBVbnN1cHBvcnRlZCB0cmFuc2FjdGlvbiB0eXBlOiAke3R5cGV9LmBcbiAgICAgICk7XG4gICAgfVxuICB9XG59LCBcInRyYW5zYWN0aW9uUmVxdWVzdGlmeVwiKTtcbnZhciBpc1RyYW5zYWN0aW9uVHlwZVNjcmlwdCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlcXVlc3QyKSA9PiByZXF1ZXN0Mi50eXBlID09PSBUcmFuc2FjdGlvblR5cGU4LlNjcmlwdCwgXCJpc1RyYW5zYWN0aW9uVHlwZVNjcmlwdFwiKTtcbnZhciBpc1RyYW5zYWN0aW9uVHlwZUNyZWF0ZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlcXVlc3QyKSA9PiByZXF1ZXN0Mi50eXBlID09PSBUcmFuc2FjdGlvblR5cGU4LkNyZWF0ZSwgXCJpc1RyYW5zYWN0aW9uVHlwZUNyZWF0ZVwiKTtcbnZhciBpc1RyYW5zYWN0aW9uVHlwZUJsb2IgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChyZXF1ZXN0MikgPT4gcmVxdWVzdDIudHlwZSA9PT0gVHJhbnNhY3Rpb25UeXBlOC5CbG9iLCBcImlzVHJhbnNhY3Rpb25UeXBlQmxvYlwiKTtcbnZhciBpc1RyYW5zYWN0aW9uVHlwZVVwZ3JhZGUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChyZXF1ZXN0MikgPT4gcmVxdWVzdDIudHlwZSA9PT0gVHJhbnNhY3Rpb25UeXBlOC5VcGdyYWRlLCBcImlzVHJhbnNhY3Rpb25UeXBlVXBncmFkZVwiKTtcbnZhciBpc1RyYW5zYWN0aW9uVHlwZVVwbG9hZCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlcXVlc3QyKSA9PiByZXF1ZXN0Mi50eXBlID09PSBUcmFuc2FjdGlvblR5cGU4LlVwbG9hZCwgXCJpc1RyYW5zYWN0aW9uVHlwZVVwbG9hZFwiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy9yZXNvdXJjZS1jYWNoZS50c1xudmFyIGNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbnZhciBSZXNvdXJjZUNhY2hlID0gY2xhc3Mge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIlJlc291cmNlQ2FjaGVcIik7XG4gIH1cbiAgdHRsO1xuICBjb25zdHJ1Y3Rvcih0dGwpIHtcbiAgICB0aGlzLnR0bCA9IHR0bDtcbiAgICBpZiAodHlwZW9mIHR0bCAhPT0gXCJudW1iZXJcIiB8fCB0aGlzLnR0bCA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMTMoXG4gICAgICAgIEVycm9yQ29kZTExLklOVkFMSURfVFRMLFxuICAgICAgICBgSW52YWxpZCBUVEw6ICR7dGhpcy50dGx9LiBVc2UgYSB2YWx1ZSBncmVhdGVyIHRoYW4gemVyby5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICAvLyBBZGQgcmVzb3VyY2VzIHRvIHRoZSBjYWNoZVxuICBzZXQodHJhbnNhY3Rpb25JZCwgaW5wdXRzKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25SZXNvdXJjZUNhY2hlID0gdGhpcy5zZXR1cFJlc291cmNlc0NhY2hlKGlucHV0cyk7XG4gICAgY2FjaGUuc2V0KHRyYW5zYWN0aW9uSWQsIHRyYW5zYWN0aW9uUmVzb3VyY2VDYWNoZSk7XG4gIH1cbiAgdW5zZXQodHJhbnNhY3Rpb25JZCkge1xuICAgIGNhY2hlLmRlbGV0ZSh0cmFuc2FjdGlvbklkKTtcbiAgfVxuICBnZXRBY3RpdmVEYXRhKG93bmVyKSB7XG4gICAgY29uc3QgYWN0aXZlRGF0YSA9IHsgdXR4b3M6IFtdLCBtZXNzYWdlczogW10gfTtcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgZXhwaXJlZCA9IFtdO1xuICAgIGNhY2hlLmZvckVhY2goKHJlc291cmNlLCB0cmFuc2FjdGlvbklkKSA9PiB7XG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IGN1cnJlbnRUaW1lIC0gcmVzb3VyY2UudGltZXN0YW1wIDwgdGhpcy50dGw7XG4gICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgY29uc3QgcmVzb3VyY2VzRnJvbU93bmVyID0gcmVzb3VyY2Uub3duZXJzLmdldChvd25lcik7XG4gICAgICAgIGlmIChyZXNvdXJjZXNGcm9tT3duZXIpIHtcbiAgICAgICAgICBhY3RpdmVEYXRhLnV0eG9zLnB1c2goLi4ucmVzb3VyY2VzRnJvbU93bmVyLnV0eG9zKTtcbiAgICAgICAgICBhY3RpdmVEYXRhLm1lc3NhZ2VzLnB1c2goLi4ucmVzb3VyY2VzRnJvbU93bmVyLm1lc3NhZ2VzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwaXJlZC5wdXNoKHRyYW5zYWN0aW9uSWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGV4cGlyZWQuZm9yRWFjaCh0aGlzLnVuc2V0KTtcbiAgICBhY3RpdmVEYXRhLnV0eG9zLnJldmVyc2UoKTtcbiAgICBhY3RpdmVEYXRhLm1lc3NhZ2VzLnJldmVyc2UoKTtcbiAgICByZXR1cm4gYWN0aXZlRGF0YTtcbiAgfVxuICBpc0NhY2hlZChvd25lciwga2V5KSB7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGxldCBjYWNoZWQgPSBmYWxzZTtcbiAgICBjb25zdCBleHBpcmVkID0gW107XG4gICAgZm9yIChjb25zdCBbdHJhbnNhY3Rpb25JZCwgcmVzb3VyY2VEYXRhXSBvZiBjYWNoZS5lbnRyaWVzKCkpIHtcbiAgICAgIGNvbnN0IGlzQWN0aXZlID0gY3VycmVudFRpbWUgLSByZXNvdXJjZURhdGEudGltZXN0YW1wIDwgdGhpcy50dGw7XG4gICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgY29uc3QgcmVzb3VyY2VzRnJvbU93bmVyID0gcmVzb3VyY2VEYXRhLm93bmVycy5nZXQob3duZXIpO1xuICAgICAgICBpZiAocmVzb3VyY2VzRnJvbU93bmVyPy51dHhvcy5oYXMoa2V5KSB8fCByZXNvdXJjZXNGcm9tT3duZXI/Lm1lc3NhZ2VzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgY2FjaGVkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwaXJlZC5wdXNoKHRyYW5zYWN0aW9uSWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBleHBpcmVkLmZvckVhY2godGhpcy51bnNldCk7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjbGVhcigpIHtcbiAgICBjYWNoZS5jbGVhcigpO1xuICB9XG4gIHNldHVwUmVzb3VyY2VzQ2FjaGUoaW5wdXRzKSB7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVzb3VyY2VzQ2FjaGUgPSB7XG4gICAgICBvd25lcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgICB0aW1lc3RhbXA6IGN1cnJlbnRUaW1lXG4gICAgfTtcbiAgICBpbnB1dHMuZmlsdGVyKGlzUmVxdWVzdElucHV0Q29pbk9yTWVzc2FnZSkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IHsgb3duZXIsIGtleSwgdHlwZSB9ID0gdGhpcy5leHRyYWN0UmVzb3VyY2VEYXRhKGlucHV0KTtcbiAgICAgIGlmICghdHJhbnNhY3Rpb25SZXNvdXJjZXNDYWNoZS5vd25lcnMuaGFzKG93bmVyKSkge1xuICAgICAgICB0cmFuc2FjdGlvblJlc291cmNlc0NhY2hlLm93bmVycy5zZXQob3duZXIsIHsgdXR4b3M6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksIG1lc3NhZ2VzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IFwidXR4b1wiKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uUmVzb3VyY2VzQ2FjaGUub3duZXJzLmdldChvd25lcik/LnV0eG9zLmFkZChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNhY3Rpb25SZXNvdXJjZXNDYWNoZS5vd25lcnMuZ2V0KG93bmVyKT8ubWVzc2FnZXMuYWRkKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uUmVzb3VyY2VzQ2FjaGU7XG4gIH1cbiAgZXh0cmFjdFJlc291cmNlRGF0YShpbnB1dCkge1xuICAgIGlmIChpc1JlcXVlc3RJbnB1dENvaW4oaW5wdXQpKSB7XG4gICAgICByZXR1cm4geyBvd25lcjogaGV4bGlmeTE1KGlucHV0Lm93bmVyKSwga2V5OiBoZXhsaWZ5MTUoaW5wdXQuaWQpLCB0eXBlOiBcInV0eG9cIiB9O1xuICAgIH1cbiAgICByZXR1cm4geyBvd25lcjogaGV4bGlmeTE1KGlucHV0LnJlY2lwaWVudCksIGtleTogaGV4bGlmeTE1KGlucHV0Lm5vbmNlKSwgdHlwZTogXCJtZXNzYWdlXCIgfTtcbiAgfVxufTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1yZXNwb25zZS90cmFuc2FjdGlvbi1yZXNwb25zZS50c1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTE1LCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yMTcgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBibiBhcyBibjE3IH0gZnJvbSBcIkBmdWVsLXRzL21hdGhcIjtcbmltcG9ydCB7IFRyYW5zYWN0aW9uQ29kZXIgYXMgVHJhbnNhY3Rpb25Db2RlcjUsIFR4UG9pbnRlckNvZGVyIH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgYXMgYXJyYXlpZnkxMSB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXN1bW1hcnkvYXNzZW1ibGUtdHJhbnNhY3Rpb24tc3VtbWFyeS50c1xuaW1wb3J0IHsgYm4gYXMgYm4xNiB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBQb2xpY3lUeXBlIGFzIFBvbGljeVR5cGUzLCBUcmFuc2FjdGlvbkNvZGVyIGFzIFRyYW5zYWN0aW9uQ29kZXI0IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgRGF0ZVRpbWUsIGhleGxpZnkgYXMgaGV4bGlmeTE2IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tc3VtbWFyeS9jYWxjdWxhdGUtdHgtZmVlLWZvci1zdW1tYXJ5LnRzXG5pbXBvcnQgeyBibiBhcyBibjEzIH0gZnJvbSBcIkBmdWVsLXRzL21hdGhcIjtcbmltcG9ydCB7IFBvbGljeVR5cGUgYXMgUG9saWN5VHlwZTIsIFRyYW5zYWN0aW9uQ29kZXIgYXMgVHJhbnNhY3Rpb25Db2RlcjMsIFRyYW5zYWN0aW9uVHlwZSBhcyBUcmFuc2FjdGlvblR5cGU5IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgYXMgYXJyYXlpZnkxMCB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xudmFyIGNhbGN1bGF0ZVRYRmVlRm9yU3VtbWFyeSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmFtcykgPT4ge1xuICBjb25zdCB7XG4gICAgZ2FzUHJpY2UsXG4gICAgcmF3UGF5bG9hZCxcbiAgICB0aXAsXG4gICAgY29uc2Vuc3VzUGFyYW1ldGVyczogeyBnYXNDb3N0cywgZmVlUGFyYW1zLCBtYXhHYXNQZXJUeCB9XG4gIH0gPSBwYXJhbXM7XG4gIGNvbnN0IGdhc1BlckJ5dGUgPSBibjEzKGZlZVBhcmFtcy5nYXNQZXJCeXRlKTtcbiAgY29uc3QgZ2FzUHJpY2VGYWN0b3IgPSBibjEzKGZlZVBhcmFtcy5nYXNQcmljZUZhY3Rvcik7XG4gIGNvbnN0IHRyYW5zYWN0aW9uQnl0ZXMgPSBhcnJheWlmeTEwKHJhd1BheWxvYWQpO1xuICBjb25zdCBbdHJhbnNhY3Rpb25dID0gbmV3IFRyYW5zYWN0aW9uQ29kZXIzKCkuZGVjb2RlKHRyYW5zYWN0aW9uQnl0ZXMsIDApO1xuICBjb25zdCB7IHR5cGUsIHdpdG5lc3NlcywgaW5wdXRzLCBwb2xpY2llcyB9ID0gdHJhbnNhY3Rpb247XG4gIGxldCBtZXRhZGF0YUdhcyA9IGJuMTMoMCk7XG4gIGxldCBnYXNMaW1pdCA9IGJuMTMoMCk7XG4gIGlmICh0eXBlICE9PSBUcmFuc2FjdGlvblR5cGU5LkNyZWF0ZSAmJiB0eXBlICE9PSBUcmFuc2FjdGlvblR5cGU5LlNjcmlwdCkge1xuICAgIHJldHVybiBibjEzKDApO1xuICB9XG4gIGlmICh0eXBlID09PSBUcmFuc2FjdGlvblR5cGU5LkNyZWF0ZSkge1xuICAgIGNvbnN0IHsgYnl0ZWNvZGVXaXRuZXNzSW5kZXgsIHN0b3JhZ2VTbG90cyB9ID0gdHJhbnNhY3Rpb247XG4gICAgY29uc3QgY29udHJhY3RCeXRlc1NpemUgPSBibjEzKGFycmF5aWZ5MTAod2l0bmVzc2VzW2J5dGVjb2RlV2l0bmVzc0luZGV4XS5kYXRhKS5sZW5ndGgpO1xuICAgIG1ldGFkYXRhR2FzID0gY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeENyZWF0ZSh7XG4gICAgICBjb250cmFjdEJ5dGVzU2l6ZSxcbiAgICAgIGdhc0Nvc3RzLFxuICAgICAgc3RhdGVSb290U2l6ZTogc3RvcmFnZVNsb3RzLmxlbmd0aCB8fCAwLFxuICAgICAgdHhCeXRlc1NpemU6IHRyYW5zYWN0aW9uQnl0ZXMubGVuZ3RoXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgeyBzY3JpcHRHYXNMaW1pdCB9ID0gdHJhbnNhY3Rpb247XG4gICAgaWYgKHNjcmlwdEdhc0xpbWl0KSB7XG4gICAgICBnYXNMaW1pdCA9IHNjcmlwdEdhc0xpbWl0O1xuICAgIH1cbiAgICBtZXRhZGF0YUdhcyA9IGNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhTY3JpcHQoe1xuICAgICAgZ2FzQ29zdHMsXG4gICAgICB0eEJ5dGVzU2l6ZTogdHJhbnNhY3Rpb25CeXRlcy5sZW5ndGhcbiAgICB9KTtcbiAgfVxuICBjb25zdCBtaW5HYXMgPSBnZXRNaW5HYXMoe1xuICAgIGdhc0Nvc3RzLFxuICAgIGdhc1BlckJ5dGU6IGJuMTMoZ2FzUGVyQnl0ZSksXG4gICAgaW5wdXRzLFxuICAgIG1ldGFkYXRhR2FzLFxuICAgIHR4Qnl0ZXNTaXplOiB0cmFuc2FjdGlvbkJ5dGVzLmxlbmd0aFxuICB9KTtcbiAgY29uc3Qgd2l0bmVzc0xpbWl0ID0gcG9saWNpZXMuZmluZCgocG9saWN5KSA9PiBwb2xpY3kudHlwZSA9PT0gUG9saWN5VHlwZTIuV2l0bmVzc0xpbWl0KT8uZGF0YTtcbiAgY29uc3Qgd2l0bmVzc2VzTGVuZ3RoID0gd2l0bmVzc2VzLnJlZHVjZSgoYWNjLCB3aXQpID0+IGFjYyArIHdpdC5kYXRhTGVuZ3RoLCAwKTtcbiAgY29uc3QgbWF4R2FzID0gZ2V0TWF4R2FzKHtcbiAgICBnYXNQZXJCeXRlLFxuICAgIG1pbkdhcyxcbiAgICB3aXRuZXNzZXNMZW5ndGgsXG4gICAgZ2FzTGltaXQsXG4gICAgd2l0bmVzc0xpbWl0LFxuICAgIG1heEdhc1BlclR4XG4gIH0pO1xuICBjb25zdCBtYXhGZWUgPSBjYWxjdWxhdGVHYXNGZWUoe1xuICAgIGdhc1ByaWNlLFxuICAgIGdhczogbWF4R2FzLFxuICAgIHByaWNlRmFjdG9yOiBnYXNQcmljZUZhY3RvcixcbiAgICB0aXBcbiAgfSk7XG4gIHJldHVybiBtYXhGZWU7XG59LCBcImNhbGN1bGF0ZVRYRmVlRm9yU3VtbWFyeVwiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1zdW1tYXJ5L29wZXJhdGlvbnMudHNcbmltcG9ydCB7IFplcm9CeXRlczMyIGFzIFplcm9CeXRlczMyOSB9IGZyb20gXCJAZnVlbC10cy9hZGRyZXNzL2NvbmZpZ3NcIjtcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGUxMywgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjE1IH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgYm4gYXMgYm4xNCB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBSZWNlaXB0VHlwZSBhcyBSZWNlaXB0VHlwZTUsIFRyYW5zYWN0aW9uVHlwZSBhcyBUcmFuc2FjdGlvblR5cGUxMCB9IGZyb20gXCJAZnVlbC10cy90cmFuc2FjdGlvbnNcIjtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1zdW1tYXJ5L2lucHV0LnRzXG5pbXBvcnQgeyBFcnJvckNvZGUgYXMgRXJyb3JDb2RlMTIsIEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3IxNCB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbmltcG9ydCB7IEJOIH0gZnJvbSBcIkBmdWVsLXRzL21hdGhcIjtcbmltcG9ydCB7IElucHV0VHlwZSBhcyBJbnB1dFR5cGU3IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuZnVuY3Rpb24gZ2V0SW5wdXRzQnlUeXBlcyhpbnB1dHMsIHR5cGVzKSB7XG4gIHJldHVybiBpbnB1dHMuZmlsdGVyKChpKSA9PiB0eXBlcy5pbmNsdWRlcyhpLnR5cGUpKTtcbn1cbl9fbmFtZShnZXRJbnB1dHNCeVR5cGVzLCBcImdldElucHV0c0J5VHlwZXNcIik7XG5mdW5jdGlvbiBnZXRJbnB1dHNCeVR5cGUoaW5wdXRzLCB0eXBlKSB7XG4gIHJldHVybiBpbnB1dHMuZmlsdGVyKChpKSA9PiBpLnR5cGUgPT09IHR5cGUpO1xufVxuX19uYW1lKGdldElucHV0c0J5VHlwZSwgXCJnZXRJbnB1dHNCeVR5cGVcIik7XG5mdW5jdGlvbiBnZXRJbnB1dHNDb2luKGlucHV0cykge1xuICByZXR1cm4gZ2V0SW5wdXRzQnlUeXBlKGlucHV0cywgSW5wdXRUeXBlNy5Db2luKTtcbn1cbl9fbmFtZShnZXRJbnB1dHNDb2luLCBcImdldElucHV0c0NvaW5cIik7XG5mdW5jdGlvbiBnZXRJbnB1dHNNZXNzYWdlKGlucHV0cykge1xuICByZXR1cm4gZ2V0SW5wdXRzQnlUeXBlKGlucHV0cywgSW5wdXRUeXBlNy5NZXNzYWdlKTtcbn1cbl9fbmFtZShnZXRJbnB1dHNNZXNzYWdlLCBcImdldElucHV0c01lc3NhZ2VcIik7XG5mdW5jdGlvbiBnZXRJbnB1dHNDb2luQW5kTWVzc2FnZShpbnB1dHMpIHtcbiAgcmV0dXJuIGdldElucHV0c0J5VHlwZXMoaW5wdXRzLCBbSW5wdXRUeXBlNy5Db2luLCBJbnB1dFR5cGU3Lk1lc3NhZ2VdKTtcbn1cbl9fbmFtZShnZXRJbnB1dHNDb2luQW5kTWVzc2FnZSwgXCJnZXRJbnB1dHNDb2luQW5kTWVzc2FnZVwiKTtcbmZ1bmN0aW9uIGlzSW5wdXRDb2luKGlucHV0KSB7XG4gIHJldHVybiBpbnB1dC50eXBlID09PSBJbnB1dFR5cGU3LkNvaW47XG59XG5fX25hbWUoaXNJbnB1dENvaW4sIFwiaXNJbnB1dENvaW5cIik7XG5mdW5jdGlvbiBnZXRJbnB1dHNDb250cmFjdChpbnB1dHMpIHtcbiAgcmV0dXJuIGdldElucHV0c0J5VHlwZShpbnB1dHMsIElucHV0VHlwZTcuQ29udHJhY3QpO1xufVxuX19uYW1lKGdldElucHV0c0NvbnRyYWN0LCBcImdldElucHV0c0NvbnRyYWN0XCIpO1xuZnVuY3Rpb24gZmluZENvaW5JbnB1dChpbnB1dHMsIGFzc2V0SWQpIHtcbiAgY29uc3QgY29pbklucHV0cyA9IGdldElucHV0c0NvaW4oaW5wdXRzKTtcbiAgcmV0dXJuIGNvaW5JbnB1dHMuZmluZCgoaSkgPT4gaS5hc3NldElkID09PSBhc3NldElkKTtcbn1cbl9fbmFtZShmaW5kQ29pbklucHV0LCBcImZpbmRDb2luSW5wdXRcIik7XG5mdW5jdGlvbiBhZ2dyZWdhdGVJbnB1dHNBbW91bnRzQnlBc3NldEFuZE93bmVyKGlucHV0cywgYmFzZUFzc2V0SWQpIHtcbiAgY29uc3QgYWdncmVnYXRlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGdldElucHV0c0NvaW5BbmRNZXNzYWdlKGlucHV0cykuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBjb25zdCBhc3NldElkID0gaXNJbnB1dENvaW4oaW5wdXQpID8gaW5wdXQuYXNzZXRJZCA6IGJhc2VBc3NldElkO1xuICAgIGNvbnN0IG93bmVyID0gaXNJbnB1dENvaW4oaW5wdXQpID8gaW5wdXQub3duZXIgOiBpbnB1dC5yZWNpcGllbnQ7XG4gICAgbGV0IG93bmVyc01hcCA9IGFnZ3JlZ2F0ZWQuZ2V0KGFzc2V0SWQpO1xuICAgIGlmICghb3duZXJzTWFwKSB7XG4gICAgICBvd25lcnNNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgYWdncmVnYXRlZC5zZXQoYXNzZXRJZCwgb3duZXJzTWFwKTtcbiAgICB9XG4gICAgbGV0IG93bmVyQmFsYW5jZSA9IG93bmVyc01hcC5nZXQob3duZXIpO1xuICAgIGlmICghb3duZXJCYWxhbmNlKSB7XG4gICAgICBvd25lckJhbGFuY2UgPSBuZXcgQk4oMCk7XG4gICAgICBvd25lcnNNYXAuc2V0KG93bmVyLCBvd25lckJhbGFuY2UpO1xuICAgIH1cbiAgICBvd25lcnNNYXAuc2V0KG93bmVyLCBvd25lckJhbGFuY2UuYWRkKGlucHV0LmFtb3VudCkpO1xuICB9KTtcbiAgcmV0dXJuIGFnZ3JlZ2F0ZWQ7XG59XG5fX25hbWUoYWdncmVnYXRlSW5wdXRzQW1vdW50c0J5QXNzZXRBbmRPd25lciwgXCJhZ2dyZWdhdGVJbnB1dHNBbW91bnRzQnlBc3NldEFuZE93bmVyXCIpO1xuZnVuY3Rpb24gZmluZE1lc3NhZ2VJbnB1dChpbnB1dHMpIHtcbiAgcmV0dXJuIGdldElucHV0c01lc3NhZ2UoaW5wdXRzKT8uWzBdO1xufVxuX19uYW1lKGZpbmRNZXNzYWdlSW5wdXQsIFwiZmluZE1lc3NhZ2VJbnB1dFwiKTtcbmZ1bmN0aW9uIGdldElucHV0RnJvbUFzc2V0SWQoaW5wdXRzLCBhc3NldElkLCBpc0Jhc2VBc3NldCA9IGZhbHNlKSB7XG4gIGNvbnN0IGNvaW5JbnB1dCA9IGZpbmRDb2luSW5wdXQoaW5wdXRzLCBhc3NldElkKTtcbiAgaWYgKGNvaW5JbnB1dCkge1xuICAgIHJldHVybiBjb2luSW5wdXQ7XG4gIH1cbiAgaWYgKGlzQmFzZUFzc2V0KSB7XG4gICAgcmV0dXJuIGZpbmRNZXNzYWdlSW5wdXQoaW5wdXRzKTtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuX19uYW1lKGdldElucHV0RnJvbUFzc2V0SWQsIFwiZ2V0SW5wdXRGcm9tQXNzZXRJZFwiKTtcbmZ1bmN0aW9uIGdldElucHV0Q29udHJhY3RGcm9tSW5kZXgoaW5wdXRzLCBpbnB1dEluZGV4KSB7XG4gIGlmIChpbnB1dEluZGV4ID09IG51bGwpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGNvbnN0IGNvbnRyYWN0SW5wdXQgPSBpbnB1dHM/LltpbnB1dEluZGV4XTtcbiAgaWYgKCFjb250cmFjdElucHV0KSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBpZiAoY29udHJhY3RJbnB1dC50eXBlICE9PSBJbnB1dFR5cGU3LkNvbnRyYWN0KSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjE0KFxuICAgICAgRXJyb3JDb2RlMTIuSU5WQUxJRF9UUkFOU0FDVElPTl9JTlBVVCxcbiAgICAgIGBDb250cmFjdCBpbnB1dCBzaG91bGQgYmUgb2YgdHlwZSAnY29udHJhY3QnLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBjb250cmFjdElucHV0O1xufVxuX19uYW1lKGdldElucHV0Q29udHJhY3RGcm9tSW5kZXgsIFwiZ2V0SW5wdXRDb250cmFjdEZyb21JbmRleFwiKTtcbmZ1bmN0aW9uIGdldElucHV0QWNjb3VudEFkZHJlc3MoaW5wdXQpIHtcbiAgaWYgKGlucHV0LnR5cGUgPT09IElucHV0VHlwZTcuQ29pbikge1xuICAgIHJldHVybiBpbnB1dC5vd25lci50b1N0cmluZygpO1xuICB9XG4gIGlmIChpbnB1dC50eXBlID09PSBJbnB1dFR5cGU3Lk1lc3NhZ2UpIHtcbiAgICByZXR1cm4gaW5wdXQucmVjaXBpZW50LnRvU3RyaW5nKCk7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5fX25hbWUoZ2V0SW5wdXRBY2NvdW50QWRkcmVzcywgXCJnZXRJbnB1dEFjY291bnRBZGRyZXNzXCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXN1bW1hcnkvb3V0cHV0LnRzXG5pbXBvcnQgeyBPdXRwdXRUeXBlIGFzIE91dHB1dFR5cGU4IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuZnVuY3Rpb24gZ2V0T3V0cHV0c0J5VHlwZShvdXRwdXRzLCB0eXBlKSB7XG4gIHJldHVybiBvdXRwdXRzLmZpbHRlcigobykgPT4gby50eXBlID09PSB0eXBlKTtcbn1cbl9fbmFtZShnZXRPdXRwdXRzQnlUeXBlLCBcImdldE91dHB1dHNCeVR5cGVcIik7XG5mdW5jdGlvbiBnZXRPdXRwdXRzQ29udHJhY3RDcmVhdGVkKG91dHB1dHMpIHtcbiAgcmV0dXJuIGdldE91dHB1dHNCeVR5cGUob3V0cHV0cywgT3V0cHV0VHlwZTguQ29udHJhY3RDcmVhdGVkKTtcbn1cbl9fbmFtZShnZXRPdXRwdXRzQ29udHJhY3RDcmVhdGVkLCBcImdldE91dHB1dHNDb250cmFjdENyZWF0ZWRcIik7XG5mdW5jdGlvbiBnZXRPdXRwdXRzQ29pbihvdXRwdXRzKSB7XG4gIHJldHVybiBnZXRPdXRwdXRzQnlUeXBlKG91dHB1dHMsIE91dHB1dFR5cGU4LkNvaW4pO1xufVxuX19uYW1lKGdldE91dHB1dHNDb2luLCBcImdldE91dHB1dHNDb2luXCIpO1xuZnVuY3Rpb24gZ2V0T3V0cHV0c0NoYW5nZShvdXRwdXRzKSB7XG4gIHJldHVybiBnZXRPdXRwdXRzQnlUeXBlKG91dHB1dHMsIE91dHB1dFR5cGU4LkNoYW5nZSk7XG59XG5fX25hbWUoZ2V0T3V0cHV0c0NoYW5nZSwgXCJnZXRPdXRwdXRzQ2hhbmdlXCIpO1xuZnVuY3Rpb24gZ2V0T3V0cHV0c0NvbnRyYWN0KG91dHB1dHMpIHtcbiAgcmV0dXJuIGdldE91dHB1dHNCeVR5cGUob3V0cHV0cywgT3V0cHV0VHlwZTguQ29udHJhY3QpO1xufVxuX19uYW1lKGdldE91dHB1dHNDb250cmFjdCwgXCJnZXRPdXRwdXRzQ29udHJhY3RcIik7XG5mdW5jdGlvbiBnZXRPdXRwdXRzVmFyaWFibGUob3V0cHV0cykge1xuICByZXR1cm4gZ2V0T3V0cHV0c0J5VHlwZShvdXRwdXRzLCBPdXRwdXRUeXBlOC5WYXJpYWJsZSk7XG59XG5fX25hbWUoZ2V0T3V0cHV0c1ZhcmlhYmxlLCBcImdldE91dHB1dHNWYXJpYWJsZVwiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1zdW1tYXJ5L3R5cGVzLnRzXG52YXIgVHJhbnNhY3Rpb25UeXBlTmFtZSA9IC8qIEBfX1BVUkVfXyAqLyAoKFRyYW5zYWN0aW9uVHlwZU5hbWUyKSA9PiB7XG4gIFRyYW5zYWN0aW9uVHlwZU5hbWUyW1wiQ3JlYXRlXCJdID0gXCJDcmVhdGVcIjtcbiAgVHJhbnNhY3Rpb25UeXBlTmFtZTJbXCJNaW50XCJdID0gXCJNaW50XCI7XG4gIFRyYW5zYWN0aW9uVHlwZU5hbWUyW1wiU2NyaXB0XCJdID0gXCJTY3JpcHRcIjtcbiAgVHJhbnNhY3Rpb25UeXBlTmFtZTJbXCJVcGdyYWRlXCJdID0gXCJVcGdyYWRlXCI7XG4gIFRyYW5zYWN0aW9uVHlwZU5hbWUyW1wiVXBsb2FkXCJdID0gXCJVcGxvYWRcIjtcbiAgVHJhbnNhY3Rpb25UeXBlTmFtZTJbXCJCbG9iXCJdID0gXCJCbG9iXCI7XG4gIHJldHVybiBUcmFuc2FjdGlvblR5cGVOYW1lMjtcbn0pKFRyYW5zYWN0aW9uVHlwZU5hbWUgfHwge30pO1xudmFyIFRyYW5zYWN0aW9uU3RhdHVzID0gLyogQF9fUFVSRV9fICovICgoVHJhbnNhY3Rpb25TdGF0dXMyKSA9PiB7XG4gIFRyYW5zYWN0aW9uU3RhdHVzMltcInN1Ym1pdHRlZFwiXSA9IFwic3VibWl0dGVkXCI7XG4gIFRyYW5zYWN0aW9uU3RhdHVzMltcInN1Y2Nlc3NcIl0gPSBcInN1Y2Nlc3NcIjtcbiAgVHJhbnNhY3Rpb25TdGF0dXMyW1wic3F1ZWV6ZWRvdXRcIl0gPSBcInNxdWVlemVkb3V0XCI7XG4gIFRyYW5zYWN0aW9uU3RhdHVzMltcImZhaWx1cmVcIl0gPSBcImZhaWx1cmVcIjtcbiAgVHJhbnNhY3Rpb25TdGF0dXMyW1wicHJlY29uZmlybWF0aW9uU3VjY2Vzc1wiXSA9IFwicHJlY29uZmlybWF0aW9uU3VjY2Vzc1wiO1xuICBUcmFuc2FjdGlvblN0YXR1czJbXCJwcmVjb25maXJtYXRpb25GYWlsdXJlXCJdID0gXCJwcmVjb25maXJtYXRpb25GYWlsdXJlXCI7XG4gIHJldHVybiBUcmFuc2FjdGlvblN0YXR1czI7XG59KShUcmFuc2FjdGlvblN0YXR1cyB8fCB7fSk7XG52YXIgT3BlcmF0aW9uTmFtZSA9IC8qIEBfX1BVUkVfXyAqLyAoKE9wZXJhdGlvbk5hbWUyKSA9PiB7XG4gIE9wZXJhdGlvbk5hbWUyW1wicGF5QmxvY2tQcm9kdWNlclwiXSA9IFwiUGF5IG5ldHdvcmsgZmVlIHRvIGJsb2NrIHByb2R1Y2VyXCI7XG4gIE9wZXJhdGlvbk5hbWUyW1wiY29udHJhY3RDcmVhdGVkXCJdID0gXCJDb250cmFjdCBjcmVhdGVkXCI7XG4gIE9wZXJhdGlvbk5hbWUyW1widHJhbnNmZXJcIl0gPSBcIlRyYW5zZmVyIGFzc2V0XCI7XG4gIE9wZXJhdGlvbk5hbWUyW1wiY29udHJhY3RDYWxsXCJdID0gXCJDb250cmFjdCBjYWxsXCI7XG4gIE9wZXJhdGlvbk5hbWUyW1wicmVjZWl2ZVwiXSA9IFwiUmVjZWl2ZSBhc3NldFwiO1xuICBPcGVyYXRpb25OYW1lMltcIndpdGhkcmF3RnJvbUZ1ZWxcIl0gPSBcIldpdGhkcmF3IGZyb20gRnVlbFwiO1xuICByZXR1cm4gT3BlcmF0aW9uTmFtZTI7XG59KShPcGVyYXRpb25OYW1lIHx8IHt9KTtcbnZhciBBZGRyZXNzVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEFkZHJlc3NUeXBlMikgPT4ge1xuICBBZGRyZXNzVHlwZTJbQWRkcmVzc1R5cGUyW1wiY29udHJhY3RcIl0gPSAwXSA9IFwiY29udHJhY3RcIjtcbiAgQWRkcmVzc1R5cGUyW0FkZHJlc3NUeXBlMltcImFjY291bnRcIl0gPSAxXSA9IFwiYWNjb3VudFwiO1xuICByZXR1cm4gQWRkcmVzc1R5cGUyO1xufSkoQWRkcmVzc1R5cGUgfHwge30pO1xudmFyIENoYWluTmFtZSA9IC8qIEBfX1BVUkVfXyAqLyAoKENoYWluTmFtZTIpID0+IHtcbiAgQ2hhaW5OYW1lMltcImV0aGVyZXVtXCJdID0gXCJldGhlcmV1bVwiO1xuICBDaGFpbk5hbWUyW1wiZnVlbFwiXSA9IFwiZnVlbFwiO1xuICByZXR1cm4gQ2hhaW5OYW1lMjtcbn0pKENoYWluTmFtZSB8fCB7fSk7XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tc3VtbWFyeS9vcGVyYXRpb25zLnRzXG5mdW5jdGlvbiBnZXRSZWNlaXB0c0J5VHlwZShyZWNlaXB0cywgdHlwZSkge1xuICByZXR1cm4gKHJlY2VpcHRzID8/IFtdKS5maWx0ZXIoKHIpID0+IHIudHlwZSA9PT0gdHlwZSk7XG59XG5fX25hbWUoZ2V0UmVjZWlwdHNCeVR5cGUsIFwiZ2V0UmVjZWlwdHNCeVR5cGVcIik7XG5mdW5jdGlvbiBnZXRUcmFuc2FjdGlvblR5cGVOYW1lKHRyYW5zYWN0aW9uVHlwZSkge1xuICBzd2l0Y2ggKHRyYW5zYWN0aW9uVHlwZSkge1xuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlMTAuTWludDpcbiAgICAgIHJldHVybiBcIk1pbnRcIiAvKiBNaW50ICovO1xuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlMTAuQ3JlYXRlOlxuICAgICAgcmV0dXJuIFwiQ3JlYXRlXCIgLyogQ3JlYXRlICovO1xuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlMTAuU2NyaXB0OlxuICAgICAgcmV0dXJuIFwiU2NyaXB0XCIgLyogU2NyaXB0ICovO1xuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlMTAuQmxvYjpcbiAgICAgIHJldHVybiBcIkJsb2JcIiAvKiBCbG9iICovO1xuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlMTAuVXBncmFkZTpcbiAgICAgIHJldHVybiBcIlVwZ3JhZGVcIiAvKiBVcGdyYWRlICovO1xuICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlMTAuVXBsb2FkOlxuICAgICAgcmV0dXJuIFwiVXBsb2FkXCIgLyogVXBsb2FkICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMTUoXG4gICAgICAgIEVycm9yQ29kZTEzLlVOU1VQUE9SVEVEX1RSQU5TQUNUSU9OX1RZUEUsXG4gICAgICAgIGBVbnN1cHBvcnRlZCB0cmFuc2FjdGlvbiB0eXBlOiAke3RyYW5zYWN0aW9uVHlwZX0uYFxuICAgICAgKTtcbiAgfVxufVxuX19uYW1lKGdldFRyYW5zYWN0aW9uVHlwZU5hbWUsIFwiZ2V0VHJhbnNhY3Rpb25UeXBlTmFtZVwiKTtcbmZ1bmN0aW9uIGlzVHlwZSh0cmFuc2FjdGlvblR5cGUsIHR5cGUpIHtcbiAgY29uc3QgdHhUeXBlID0gZ2V0VHJhbnNhY3Rpb25UeXBlTmFtZSh0cmFuc2FjdGlvblR5cGUpO1xuICByZXR1cm4gdHhUeXBlID09PSB0eXBlO1xufVxuX19uYW1lKGlzVHlwZSwgXCJpc1R5cGVcIik7XG5mdW5jdGlvbiBpc1R5cGVNaW50KHRyYW5zYWN0aW9uVHlwZSkge1xuICByZXR1cm4gaXNUeXBlKHRyYW5zYWN0aW9uVHlwZSwgXCJNaW50XCIgLyogTWludCAqLyk7XG59XG5fX25hbWUoaXNUeXBlTWludCwgXCJpc1R5cGVNaW50XCIpO1xuZnVuY3Rpb24gaXNUeXBlQ3JlYXRlKHRyYW5zYWN0aW9uVHlwZSkge1xuICByZXR1cm4gaXNUeXBlKHRyYW5zYWN0aW9uVHlwZSwgXCJDcmVhdGVcIiAvKiBDcmVhdGUgKi8pO1xufVxuX19uYW1lKGlzVHlwZUNyZWF0ZSwgXCJpc1R5cGVDcmVhdGVcIik7XG5mdW5jdGlvbiBpc1R5cGVTY3JpcHQodHJhbnNhY3Rpb25UeXBlKSB7XG4gIHJldHVybiBpc1R5cGUodHJhbnNhY3Rpb25UeXBlLCBcIlNjcmlwdFwiIC8qIFNjcmlwdCAqLyk7XG59XG5fX25hbWUoaXNUeXBlU2NyaXB0LCBcImlzVHlwZVNjcmlwdFwiKTtcbmZ1bmN0aW9uIGlzVHlwZVVwZ3JhZGUodHJhbnNhY3Rpb25UeXBlKSB7XG4gIHJldHVybiBpc1R5cGUodHJhbnNhY3Rpb25UeXBlLCBcIlVwZ3JhZGVcIiAvKiBVcGdyYWRlICovKTtcbn1cbl9fbmFtZShpc1R5cGVVcGdyYWRlLCBcImlzVHlwZVVwZ3JhZGVcIik7XG5mdW5jdGlvbiBpc1R5cGVVcGxvYWQodHJhbnNhY3Rpb25UeXBlKSB7XG4gIHJldHVybiBpc1R5cGUodHJhbnNhY3Rpb25UeXBlLCBcIlVwbG9hZFwiIC8qIFVwbG9hZCAqLyk7XG59XG5fX25hbWUoaXNUeXBlVXBsb2FkLCBcImlzVHlwZVVwbG9hZFwiKTtcbmZ1bmN0aW9uIGlzVHlwZUJsb2IodHJhbnNhY3Rpb25UeXBlKSB7XG4gIHJldHVybiBpc1R5cGUodHJhbnNhY3Rpb25UeXBlLCBcIkJsb2JcIiAvKiBCbG9iICovKTtcbn1cbl9fbmFtZShpc1R5cGVCbG9iLCBcImlzVHlwZUJsb2JcIik7XG5mdW5jdGlvbiBoYXNTYW1lQXNzZXRJZChhKSB7XG4gIHJldHVybiAoYikgPT4gYS5hc3NldElkID09PSBiLmFzc2V0SWQ7XG59XG5fX25hbWUoaGFzU2FtZUFzc2V0SWQsIFwiaGFzU2FtZUFzc2V0SWRcIik7XG5mdW5jdGlvbiBnZXRSZWNlaXB0c0NhbGwocmVjZWlwdHMpIHtcbiAgcmV0dXJuIGdldFJlY2VpcHRzQnlUeXBlKHJlY2VpcHRzLCBSZWNlaXB0VHlwZTUuQ2FsbCk7XG59XG5fX25hbWUoZ2V0UmVjZWlwdHNDYWxsLCBcImdldFJlY2VpcHRzQ2FsbFwiKTtcbmZ1bmN0aW9uIGdldFJlY2VpcHRzTWVzc2FnZU91dChyZWNlaXB0cykge1xuICByZXR1cm4gZ2V0UmVjZWlwdHNCeVR5cGUocmVjZWlwdHMsIFJlY2VpcHRUeXBlNS5NZXNzYWdlT3V0KTtcbn1cbl9fbmFtZShnZXRSZWNlaXB0c01lc3NhZ2VPdXQsIFwiZ2V0UmVjZWlwdHNNZXNzYWdlT3V0XCIpO1xuZnVuY3Rpb24gbWVyZ2VBc3NldHMob3AxLCBvcDIpIHtcbiAgY29uc3QgYXNzZXRzMSA9IG9wMS5hc3NldHNTZW50IHx8IFtdO1xuICBjb25zdCBhc3NldHMyID0gb3AyLmFzc2V0c1NlbnQgfHwgW107XG4gIGNvbnN0IGFzc2V0TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgYXNzZXRzMS5mb3JFYWNoKChhc3NldCkgPT4ge1xuICAgIGFzc2V0TWFwLnNldChhc3NldC5hc3NldElkLCB7IC4uLmFzc2V0IH0pO1xuICB9KTtcbiAgYXNzZXRzMi5mb3JFYWNoKChhc3NldCkgPT4ge1xuICAgIGNvbnN0IGV4aXN0aW5nQXNzZXQgPSBhc3NldE1hcC5nZXQoYXNzZXQuYXNzZXRJZCk7XG4gICAgaWYgKGV4aXN0aW5nQXNzZXQpIHtcbiAgICAgIGV4aXN0aW5nQXNzZXQuYW1vdW50ID0gYm4xNChleGlzdGluZ0Fzc2V0LmFtb3VudCkuYWRkKGFzc2V0LmFtb3VudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2V0TWFwLnNldChhc3NldC5hc3NldElkLCB7IC4uLmFzc2V0IH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBBcnJheS5mcm9tKGFzc2V0TWFwLnZhbHVlcygpKTtcbn1cbl9fbmFtZShtZXJnZUFzc2V0cywgXCJtZXJnZUFzc2V0c1wiKTtcbmZ1bmN0aW9uIGlzU2FtZU9wZXJhdGlvbihhLCBiKSB7XG4gIHJldHVybiBhLm5hbWUgPT09IGIubmFtZSAmJiBhLmZyb20/LmFkZHJlc3MgPT09IGIuZnJvbT8uYWRkcmVzcyAmJiBhLnRvPy5hZGRyZXNzID09PSBiLnRvPy5hZGRyZXNzICYmIGEuZnJvbT8udHlwZSA9PT0gYi5mcm9tPy50eXBlICYmIGEudG8/LnR5cGUgPT09IGIudG8/LnR5cGU7XG59XG5fX25hbWUoaXNTYW1lT3BlcmF0aW9uLCBcImlzU2FtZU9wZXJhdGlvblwiKTtcbmZ1bmN0aW9uIG1lcmdlQXNzZXRzU2VudChleGlzdGluZywgdG9BZGQpIHtcbiAgaWYgKCF0b0FkZC5hc3NldHNTZW50Py5sZW5ndGgpIHtcbiAgICByZXR1cm4gZXhpc3RpbmcuYXNzZXRzU2VudDtcbiAgfVxuICByZXR1cm4gZXhpc3RpbmcuYXNzZXRzU2VudD8ubGVuZ3RoID8gbWVyZ2VBc3NldHMoZXhpc3RpbmcsIHRvQWRkKSA6IHRvQWRkLmFzc2V0c1NlbnQ7XG59XG5fX25hbWUobWVyZ2VBc3NldHNTZW50LCBcIm1lcmdlQXNzZXRzU2VudFwiKTtcbmZ1bmN0aW9uIG1lcmdlQ2FsbHMoZXhpc3RpbmcsIHRvQWRkKSB7XG4gIGlmICghdG9BZGQuY2FsbHM/Lmxlbmd0aCkge1xuICAgIHJldHVybiBleGlzdGluZy5jYWxscztcbiAgfVxuICByZXR1cm4gWy4uLmV4aXN0aW5nLmNhbGxzIHx8IFtdLCAuLi50b0FkZC5jYWxsc107XG59XG5fX25hbWUobWVyZ2VDYWxscywgXCJtZXJnZUNhbGxzXCIpO1xuZnVuY3Rpb24gbWVyZ2VPcGVyYXRpb25zKGV4aXN0aW5nLCB0b0FkZCkge1xuICByZXR1cm4ge1xuICAgIC4uLmV4aXN0aW5nLFxuICAgIGFzc2V0c1NlbnQ6IG1lcmdlQXNzZXRzU2VudChleGlzdGluZywgdG9BZGQpLFxuICAgIGNhbGxzOiBtZXJnZUNhbGxzKGV4aXN0aW5nLCB0b0FkZCksXG4gICAgcmVjZWlwdHM6IFtcbiAgICAgIC4uLmV4aXN0aW5nLnJlY2VpcHRzIHx8IFtdLFxuICAgICAgLi4udG9BZGQucmVjZWlwdHM/LmZpbHRlcigocikgPT4gIWV4aXN0aW5nLnJlY2VpcHRzPy5zb21lKChlcikgPT4gZXIgPT09IHIpKSB8fCBbXVxuICAgIF1cbiAgfTtcbn1cbl9fbmFtZShtZXJnZU9wZXJhdGlvbnMsIFwibWVyZ2VPcGVyYXRpb25zXCIpO1xuZnVuY3Rpb24gYWRkT3BlcmF0aW9uKG9wZXJhdGlvbnMsIHRvQWRkKSB7XG4gIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBvcGVyYXRpb25zLmZpbmRJbmRleCgob3ApID0+IGlzU2FtZU9wZXJhdGlvbihvcCwgdG9BZGQpKTtcbiAgaWYgKGV4aXN0aW5nSW5kZXggPT09IC0xKSB7XG4gICAgcmV0dXJuIFsuLi5vcGVyYXRpb25zLCB0b0FkZF07XG4gIH1cbiAgcmV0dXJuIG9wZXJhdGlvbnMubWFwKChvcCwgaW5kZXgpID0+IGluZGV4ID09PSBleGlzdGluZ0luZGV4ID8gbWVyZ2VPcGVyYXRpb25zKG9wLCB0b0FkZCkgOiBvcCk7XG59XG5fX25hbWUoYWRkT3BlcmF0aW9uLCBcImFkZE9wZXJhdGlvblwiKTtcbmZ1bmN0aW9uIGdldFJlY2VpcHRzVHJhbnNmZXJPdXQocmVjZWlwdHMpIHtcbiAgcmV0dXJuIGdldFJlY2VpcHRzQnlUeXBlKHJlY2VpcHRzLCBSZWNlaXB0VHlwZTUuVHJhbnNmZXJPdXQpO1xufVxuX19uYW1lKGdldFJlY2VpcHRzVHJhbnNmZXJPdXQsIFwiZ2V0UmVjZWlwdHNUcmFuc2Zlck91dFwiKTtcbmZ1bmN0aW9uIGdldFdpdGhkcmF3RnJvbUZ1ZWxPcGVyYXRpb25zKHtcbiAgaW5wdXRzLFxuICByZWNlaXB0cyxcbiAgYmFzZUFzc2V0SWRcbn0pIHtcbiAgY29uc3QgbWVzc2FnZU91dFJlY2VpcHRzID0gZ2V0UmVjZWlwdHNNZXNzYWdlT3V0KHJlY2VpcHRzKTtcbiAgY29uc3Qgd2l0aGRyYXdGcm9tRnVlbE9wZXJhdGlvbnMgPSBtZXNzYWdlT3V0UmVjZWlwdHMucmVkdWNlKFxuICAgIChwcmV2V2l0aGRyYXdGcm9tRnVlbE9wcywgcmVjZWlwdCkgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSBnZXRJbnB1dEZyb21Bc3NldElkKGlucHV0cywgYmFzZUFzc2V0SWQsIHRydWUpO1xuICAgICAgaWYgKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGlucHV0QWRkcmVzcyA9IGdldElucHV0QWNjb3VudEFkZHJlc3MoaW5wdXQpO1xuICAgICAgICBjb25zdCBuZXdXaXRoZHJhd0Zyb21GdWVsT3BzID0gYWRkT3BlcmF0aW9uKHByZXZXaXRoZHJhd0Zyb21GdWVsT3BzLCB7XG4gICAgICAgICAgbmFtZTogXCJXaXRoZHJhdyBmcm9tIEZ1ZWxcIiAvKiB3aXRoZHJhd0Zyb21GdWVsICovLFxuICAgICAgICAgIGZyb206IHtcbiAgICAgICAgICAgIHR5cGU6IDEgLyogYWNjb3VudCAqLyxcbiAgICAgICAgICAgIGFkZHJlc3M6IGlucHV0QWRkcmVzc1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG86IHtcbiAgICAgICAgICAgIHR5cGU6IDEgLyogYWNjb3VudCAqLyxcbiAgICAgICAgICAgIGFkZHJlc3M6IHJlY2VpcHQucmVjaXBpZW50LnRvU3RyaW5nKCksXG4gICAgICAgICAgICBjaGFpbjogXCJldGhlcmV1bVwiIC8qIGV0aGVyZXVtICovXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhc3NldHNTZW50OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGFtb3VudDogcmVjZWlwdC5hbW91bnQsXG4gICAgICAgICAgICAgIGFzc2V0SWQ6IGJhc2VBc3NldElkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICByZWNlaXB0czogW3JlY2VpcHRdXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3V2l0aGRyYXdGcm9tRnVlbE9wcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmV2V2l0aGRyYXdGcm9tRnVlbE9wcztcbiAgICB9LFxuICAgIFtdXG4gICk7XG4gIHJldHVybiB3aXRoZHJhd0Zyb21GdWVsT3BlcmF0aW9ucztcbn1cbl9fbmFtZShnZXRXaXRoZHJhd0Zyb21GdWVsT3BlcmF0aW9ucywgXCJnZXRXaXRoZHJhd0Zyb21GdWVsT3BlcmF0aW9uc1wiKTtcbmZ1bmN0aW9uIGdldENvbnRyYWN0Q2FsbHMoY29udHJhY3RJbnB1dCwgYWJpTWFwLCBfcmVjZWlwdCwgX3Jhd1BheWxvYWQsIF9tYXhJbnB1dHMpIHtcbiAgY29uc3QgYWJpID0gYWJpTWFwPy5bY29udHJhY3RJbnB1dC5jb250cmFjdElEXTtcbiAgaWYgKCFhYmkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuX19uYW1lKGdldENvbnRyYWN0Q2FsbHMsIFwiZ2V0Q29udHJhY3RDYWxsc1wiKTtcbmZ1bmN0aW9uIGdldEFzc2V0c1NlbnQocmVjZWlwdCkge1xuICByZXR1cm4gcmVjZWlwdC5hbW91bnQ/LmlzWmVybygpID8gdm9pZCAwIDogW1xuICAgIHtcbiAgICAgIGFtb3VudDogcmVjZWlwdC5hbW91bnQsXG4gICAgICBhc3NldElkOiByZWNlaXB0LmFzc2V0SWRcbiAgICB9XG4gIF07XG59XG5fX25hbWUoZ2V0QXNzZXRzU2VudCwgXCJnZXRBc3NldHNTZW50XCIpO1xuZnVuY3Rpb24gcHJvY2Vzc0NhbGxSZWNlaXB0KHJlY2VpcHQsIGNvbnRyYWN0SW5wdXQsIGlucHV0cywgYWJpTWFwLCByYXdQYXlsb2FkLCBtYXhJbnB1dHMsIGJhc2VBc3NldElkKSB7XG4gIGNvbnN0IGFzc2V0SWQgPSByZWNlaXB0LmFzc2V0SWQgPT09IFplcm9CeXRlczMyOSA/IGJhc2VBc3NldElkIDogcmVjZWlwdC5hc3NldElkO1xuICBjb25zdCBpbnB1dCA9IGdldElucHV0RnJvbUFzc2V0SWQoaW5wdXRzLCBhc3NldElkLCBhc3NldElkID09PSBiYXNlQXNzZXRJZCk7XG4gIGlmICghaW5wdXQpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgaW5wdXRBZGRyZXNzID0gZ2V0SW5wdXRBY2NvdW50QWRkcmVzcyhpbnB1dCk7XG4gIGNvbnN0IGNhbGxzID0gZ2V0Q29udHJhY3RDYWxscyhjb250cmFjdElucHV0LCBhYmlNYXAsIHJlY2VpcHQsIHJhd1BheWxvYWQsIG1heElucHV0cyk7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgbmFtZTogXCJDb250cmFjdCBjYWxsXCIgLyogY29udHJhY3RDYWxsICovLFxuICAgICAgZnJvbToge1xuICAgICAgICB0eXBlOiAxIC8qIGFjY291bnQgKi8sXG4gICAgICAgIGFkZHJlc3M6IGlucHV0QWRkcmVzc1xuICAgICAgfSxcbiAgICAgIHRvOiB7XG4gICAgICAgIHR5cGU6IDAgLyogY29udHJhY3QgKi8sXG4gICAgICAgIGFkZHJlc3M6IHJlY2VpcHQudG9cbiAgICAgIH0sXG4gICAgICBhc3NldHNTZW50OiBnZXRBc3NldHNTZW50KHJlY2VpcHQpLFxuICAgICAgY2FsbHMsXG4gICAgICByZWNlaXB0czogW3JlY2VpcHRdXG4gICAgfVxuICBdO1xufVxuX19uYW1lKHByb2Nlc3NDYWxsUmVjZWlwdCwgXCJwcm9jZXNzQ2FsbFJlY2VpcHRcIik7XG5mdW5jdGlvbiBnZXRDb250cmFjdENhbGxPcGVyYXRpb25zKHtcbiAgaW5wdXRzLFxuICBvdXRwdXRzLFxuICByZWNlaXB0cyxcbiAgYWJpTWFwLFxuICByYXdQYXlsb2FkLFxuICBtYXhJbnB1dHMsXG4gIGJhc2VBc3NldElkXG59KSB7XG4gIGNvbnN0IGNvbnRyYWN0Q2FsbFJlY2VpcHRzID0gZ2V0UmVjZWlwdHNDYWxsKHJlY2VpcHRzKTtcbiAgY29uc3QgY29udHJhY3RPdXRwdXRzID0gZ2V0T3V0cHV0c0NvbnRyYWN0KG91dHB1dHMpO1xuICByZXR1cm4gY29udHJhY3RPdXRwdXRzLmZsYXRNYXAoKG91dHB1dCkgPT4ge1xuICAgIGNvbnN0IGNvbnRyYWN0SW5wdXQgPSBnZXRJbnB1dENvbnRyYWN0RnJvbUluZGV4KGlucHV0cywgb3V0cHV0LmlucHV0SW5kZXgpO1xuICAgIGlmICghY29udHJhY3RJbnB1dCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gY29udHJhY3RDYWxsUmVjZWlwdHMuZmlsdGVyKChyZWNlaXB0KSA9PiByZWNlaXB0LnRvID09PSBjb250cmFjdElucHV0LmNvbnRyYWN0SUQpLmZsYXRNYXAoXG4gICAgICAocmVjZWlwdCkgPT4gcHJvY2Vzc0NhbGxSZWNlaXB0KFxuICAgICAgICByZWNlaXB0LFxuICAgICAgICBjb250cmFjdElucHV0LFxuICAgICAgICBpbnB1dHMsXG4gICAgICAgIGFiaU1hcCxcbiAgICAgICAgcmF3UGF5bG9hZCxcbiAgICAgICAgbWF4SW5wdXRzLFxuICAgICAgICBiYXNlQXNzZXRJZFxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuX19uYW1lKGdldENvbnRyYWN0Q2FsbE9wZXJhdGlvbnMsIFwiZ2V0Q29udHJhY3RDYWxsT3BlcmF0aW9uc1wiKTtcbmZ1bmN0aW9uIGV4dHJhY3RUcmFuc2Zlck9wZXJhdGlvbkZyb21SZWNlaXB0KHJlY2VpcHQsIGNvbnRyYWN0SW5wdXRzLCBjaGFuZ2VPdXRwdXRzKSB7XG4gIGNvbnN0IHsgdG86IHRvQWRkcmVzcywgYXNzZXRJZCwgYW1vdW50IH0gPSByZWNlaXB0O1xuICBsZXQgeyBpZDogZnJvbUFkZHJlc3MgfSA9IHJlY2VpcHQ7XG4gIGNvbnN0IHRvVHlwZSA9IGNvbnRyYWN0SW5wdXRzLnNvbWUoKGlucHV0KSA9PiBpbnB1dC5jb250cmFjdElEID09PSB0b0FkZHJlc3MpID8gMCAvKiBjb250cmFjdCAqLyA6IDEgLyogYWNjb3VudCAqLztcbiAgaWYgKFplcm9CeXRlczMyOSA9PT0gZnJvbUFkZHJlc3MpIHtcbiAgICBjb25zdCBjaGFuZ2UgPSBjaGFuZ2VPdXRwdXRzLmZpbmQoKG91dHB1dCkgPT4gb3V0cHV0LmFzc2V0SWQgPT09IGFzc2V0SWQpO1xuICAgIGZyb21BZGRyZXNzID0gY2hhbmdlPy50byB8fCBmcm9tQWRkcmVzcztcbiAgfVxuICBjb25zdCBmcm9tVHlwZSA9IGNvbnRyYWN0SW5wdXRzLnNvbWUoKGlucHV0KSA9PiBpbnB1dC5jb250cmFjdElEID09PSBmcm9tQWRkcmVzcykgPyAwIC8qIGNvbnRyYWN0ICovIDogMSAvKiBhY2NvdW50ICovO1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwiVHJhbnNmZXIgYXNzZXRcIiAvKiB0cmFuc2ZlciAqLyxcbiAgICBmcm9tOiB7XG4gICAgICB0eXBlOiBmcm9tVHlwZSxcbiAgICAgIGFkZHJlc3M6IGZyb21BZGRyZXNzXG4gICAgfSxcbiAgICB0bzoge1xuICAgICAgdHlwZTogdG9UeXBlLFxuICAgICAgYWRkcmVzczogdG9BZGRyZXNzXG4gICAgfSxcbiAgICBhc3NldHNTZW50OiBbXG4gICAgICB7XG4gICAgICAgIGFzc2V0SWQ6IGFzc2V0SWQudG9TdHJpbmcoKSxcbiAgICAgICAgYW1vdW50XG4gICAgICB9XG4gICAgXSxcbiAgICByZWNlaXB0czogW3JlY2VpcHRdXG4gIH07XG59XG5fX25hbWUoZXh0cmFjdFRyYW5zZmVyT3BlcmF0aW9uRnJvbVJlY2VpcHQsIFwiZXh0cmFjdFRyYW5zZmVyT3BlcmF0aW9uRnJvbVJlY2VpcHRcIik7XG5mdW5jdGlvbiBnZXRUcmFuc2Zlck9wZXJhdGlvbnMoe1xuICBpbnB1dHMsXG4gIG91dHB1dHMsXG4gIHJlY2VpcHRzLFxuICBiYXNlQXNzZXRJZFxufSkge1xuICBsZXQgb3BlcmF0aW9ucyA9IFtdO1xuICBjb25zdCBjb2luT3V0cHV0cyA9IGdldE91dHB1dHNDb2luKG91dHB1dHMpO1xuICBjb25zdCBjb250cmFjdElucHV0cyA9IGdldElucHV0c0NvbnRyYWN0KGlucHV0cyk7XG4gIGNvbnN0IGNoYW5nZU91dHB1dHMgPSBnZXRPdXRwdXRzQ2hhbmdlKG91dHB1dHMpO1xuICBjb25zdCBhZ2dyZWdhdGVkID0gYWdncmVnYXRlSW5wdXRzQW1vdW50c0J5QXNzZXRBbmRPd25lcihpbnB1dHMsIGJhc2VBc3NldElkKTtcbiAgY29pbk91dHB1dHMuZm9yRWFjaCgoeyBhbW91bnQsIGFzc2V0SWQsIHRvIH0pID0+IHtcbiAgICBjb25zdCB0eFBheWVycyA9IGFnZ3JlZ2F0ZWQuZ2V0KGFzc2V0SWQpIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgbGV0IHNlbGVjdGVkUGF5ZXI7XG4gICAgbGV0IGZhbGxiYWNrUGF5ZXI7XG4gICAgZm9yIChjb25zdCBbYWRkcmVzcywgcGF5ZWRBbW91bnRdIG9mIHR4UGF5ZXJzKSB7XG4gICAgICBpZiAoIWZhbGxiYWNrUGF5ZXIpIHtcbiAgICAgICAgZmFsbGJhY2tQYXllciA9IGFkZHJlc3M7XG4gICAgICB9XG4gICAgICBpZiAocGF5ZWRBbW91bnQuZ3RlKGFtb3VudCkpIHtcbiAgICAgICAgc2VsZWN0ZWRQYXllciA9IGFkZHJlc3M7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3RlZFBheWVyID0gc2VsZWN0ZWRQYXllciB8fCBmYWxsYmFja1BheWVyO1xuICAgIGlmIChzZWxlY3RlZFBheWVyKSB7XG4gICAgICBvcGVyYXRpb25zID0gYWRkT3BlcmF0aW9uKG9wZXJhdGlvbnMsIHtcbiAgICAgICAgbmFtZTogXCJUcmFuc2ZlciBhc3NldFwiIC8qIHRyYW5zZmVyICovLFxuICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgdHlwZTogMSAvKiBhY2NvdW50ICovLFxuICAgICAgICAgIGFkZHJlc3M6IHNlbGVjdGVkUGF5ZXJcbiAgICAgICAgfSxcbiAgICAgICAgdG86IHtcbiAgICAgICAgICB0eXBlOiAxIC8qIGFjY291bnQgKi8sXG4gICAgICAgICAgYWRkcmVzczogdG9cbiAgICAgICAgfSxcbiAgICAgICAgYXNzZXRzU2VudDogW3sgYXNzZXRJZCwgYW1vdW50IH1dXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCB0cmFuc2ZlclJlY2VpcHRzID0gZ2V0UmVjZWlwdHNCeVR5cGUoXG4gICAgcmVjZWlwdHMsXG4gICAgUmVjZWlwdFR5cGU1LlRyYW5zZmVyXG4gICk7XG4gIGNvbnN0IHRyYW5zZmVyT3V0UmVjZWlwdHMgPSBnZXRSZWNlaXB0c0J5VHlwZShcbiAgICByZWNlaXB0cyxcbiAgICBSZWNlaXB0VHlwZTUuVHJhbnNmZXJPdXRcbiAgKTtcbiAgWy4uLnRyYW5zZmVyUmVjZWlwdHMsIC4uLnRyYW5zZmVyT3V0UmVjZWlwdHNdLmZvckVhY2goKHJlY2VpcHQpID0+IHtcbiAgICBjb25zdCBvcGVyYXRpb24gPSBleHRyYWN0VHJhbnNmZXJPcGVyYXRpb25Gcm9tUmVjZWlwdChyZWNlaXB0LCBjb250cmFjdElucHV0cywgY2hhbmdlT3V0cHV0cyk7XG4gICAgb3BlcmF0aW9ucyA9IGFkZE9wZXJhdGlvbihvcGVyYXRpb25zLCBvcGVyYXRpb24pO1xuICB9KTtcbiAgcmV0dXJuIG9wZXJhdGlvbnM7XG59XG5fX25hbWUoZ2V0VHJhbnNmZXJPcGVyYXRpb25zLCBcImdldFRyYW5zZmVyT3BlcmF0aW9uc1wiKTtcbmZ1bmN0aW9uIGdldFBheVByb2R1Y2VyT3BlcmF0aW9ucyhvdXRwdXRzKSB7XG4gIGNvbnN0IGNvaW5PdXRwdXRzID0gZ2V0T3V0cHV0c0NvaW4ob3V0cHV0cyk7XG4gIGNvbnN0IHBheVByb2R1Y2VyT3BlcmF0aW9ucyA9IGNvaW5PdXRwdXRzLnJlZHVjZSgocHJldiwgb3V0cHV0KSA9PiB7XG4gICAgY29uc3Qgb3BlcmF0aW9ucyA9IGFkZE9wZXJhdGlvbihwcmV2LCB7XG4gICAgICBuYW1lOiBcIlBheSBuZXR3b3JrIGZlZSB0byBibG9jayBwcm9kdWNlclwiIC8qIHBheUJsb2NrUHJvZHVjZXIgKi8sXG4gICAgICBmcm9tOiB7XG4gICAgICAgIHR5cGU6IDEgLyogYWNjb3VudCAqLyxcbiAgICAgICAgYWRkcmVzczogXCJOZXR3b3JrXCJcbiAgICAgIH0sXG4gICAgICB0bzoge1xuICAgICAgICB0eXBlOiAxIC8qIGFjY291bnQgKi8sXG4gICAgICAgIGFkZHJlc3M6IG91dHB1dC50by50b1N0cmluZygpXG4gICAgICB9LFxuICAgICAgYXNzZXRzU2VudDogW1xuICAgICAgICB7XG4gICAgICAgICAgYXNzZXRJZDogb3V0cHV0LmFzc2V0SWQudG9TdHJpbmcoKSxcbiAgICAgICAgICBhbW91bnQ6IG91dHB1dC5hbW91bnRcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiBvcGVyYXRpb25zO1xuICB9LCBbXSk7XG4gIHJldHVybiBwYXlQcm9kdWNlck9wZXJhdGlvbnM7XG59XG5fX25hbWUoZ2V0UGF5UHJvZHVjZXJPcGVyYXRpb25zLCBcImdldFBheVByb2R1Y2VyT3BlcmF0aW9uc1wiKTtcbmZ1bmN0aW9uIGdldENvbnRyYWN0Q3JlYXRlZE9wZXJhdGlvbnMoeyBpbnB1dHMsIG91dHB1dHMgfSkge1xuICBjb25zdCBjb250cmFjdENyZWF0ZWRPdXRwdXRzID0gZ2V0T3V0cHV0c0NvbnRyYWN0Q3JlYXRlZChvdXRwdXRzKTtcbiAgY29uc3QgaW5wdXQgPSBnZXRJbnB1dHNDb2luQW5kTWVzc2FnZShpbnB1dHMpWzBdO1xuICBjb25zdCBmcm9tQWRkcmVzcyA9IGdldElucHV0QWNjb3VudEFkZHJlc3MoaW5wdXQpO1xuICBjb25zdCBjb250cmFjdENyZWF0ZWRPcGVyYXRpb25zID0gY29udHJhY3RDcmVhdGVkT3V0cHV0cy5yZWR1Y2UoKHByZXYsIGNvbnRyYWN0Q3JlYXRlZE91dHB1dCkgPT4ge1xuICAgIGNvbnN0IG9wZXJhdGlvbnMgPSBhZGRPcGVyYXRpb24ocHJldiwge1xuICAgICAgbmFtZTogXCJDb250cmFjdCBjcmVhdGVkXCIgLyogY29udHJhY3RDcmVhdGVkICovLFxuICAgICAgZnJvbToge1xuICAgICAgICB0eXBlOiAxIC8qIGFjY291bnQgKi8sXG4gICAgICAgIGFkZHJlc3M6IGZyb21BZGRyZXNzXG4gICAgICB9LFxuICAgICAgdG86IHtcbiAgICAgICAgdHlwZTogMCAvKiBjb250cmFjdCAqLyxcbiAgICAgICAgYWRkcmVzczogY29udHJhY3RDcmVhdGVkT3V0cHV0Py5jb250cmFjdElkIHx8IFwiXCJcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb3BlcmF0aW9ucztcbiAgfSwgW10pO1xuICByZXR1cm4gY29udHJhY3RDcmVhdGVkT3BlcmF0aW9ucztcbn1cbl9fbmFtZShnZXRDb250cmFjdENyZWF0ZWRPcGVyYXRpb25zLCBcImdldENvbnRyYWN0Q3JlYXRlZE9wZXJhdGlvbnNcIik7XG5mdW5jdGlvbiBnZXRPcGVyYXRpb25zKHtcbiAgdHJhbnNhY3Rpb25UeXBlLFxuICBpbnB1dHMsXG4gIG91dHB1dHMsXG4gIHJlY2VpcHRzLFxuICBhYmlNYXAsXG4gIHJhd1BheWxvYWQsXG4gIG1heElucHV0cyxcbiAgYmFzZUFzc2V0SWRcbn0pIHtcbiAgaWYgKGlzVHlwZUNyZWF0ZSh0cmFuc2FjdGlvblR5cGUpKSB7XG4gICAgcmV0dXJuIFsuLi5nZXRDb250cmFjdENyZWF0ZWRPcGVyYXRpb25zKHsgaW5wdXRzLCBvdXRwdXRzIH0pXTtcbiAgfVxuICBpZiAoaXNUeXBlU2NyaXB0KHRyYW5zYWN0aW9uVHlwZSkpIHtcbiAgICByZXR1cm4gW1xuICAgICAgLi4uZ2V0VHJhbnNmZXJPcGVyYXRpb25zKHsgaW5wdXRzLCBvdXRwdXRzLCByZWNlaXB0cywgYmFzZUFzc2V0SWQgfSksXG4gICAgICAuLi5nZXRDb250cmFjdENhbGxPcGVyYXRpb25zKHtcbiAgICAgICAgaW5wdXRzLFxuICAgICAgICBvdXRwdXRzLFxuICAgICAgICByZWNlaXB0cyxcbiAgICAgICAgYWJpTWFwLFxuICAgICAgICByYXdQYXlsb2FkLFxuICAgICAgICBtYXhJbnB1dHMsXG4gICAgICAgIGJhc2VBc3NldElkXG4gICAgICB9KSxcbiAgICAgIC4uLmdldFdpdGhkcmF3RnJvbUZ1ZWxPcGVyYXRpb25zKHsgaW5wdXRzLCByZWNlaXB0cywgYmFzZUFzc2V0SWQgfSlcbiAgICBdO1xuICB9XG4gIHJldHVybiBbLi4uZ2V0UGF5UHJvZHVjZXJPcGVyYXRpb25zKG91dHB1dHMpXTtcbn1cbl9fbmFtZShnZXRPcGVyYXRpb25zLCBcImdldE9wZXJhdGlvbnNcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tc3VtbWFyeS9yZWNlaXB0LnRzXG5pbXBvcnQgeyBSZWNlaXB0VHlwZSBhcyBSZWNlaXB0VHlwZTYgfSBmcm9tIFwiQGZ1ZWwtdHMvdHJhbnNhY3Rpb25zXCI7XG52YXIgcHJvY2Vzc0dxbFJlY2VpcHQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChncWxSZWNlaXB0KSA9PiBkZXNlcmlhbGl6ZVJlY2VpcHQoZ3FsUmVjZWlwdCksIFwicHJvY2Vzc0dxbFJlY2VpcHRcIik7XG52YXIgZXh0cmFjdE1pbnRlZEFzc2V0c0Zyb21SZWNlaXB0cyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlY2VpcHRzKSA9PiB7XG4gIGNvbnN0IG1pbnRlZEFzc2V0cyA9IFtdO1xuICByZWNlaXB0cy5mb3JFYWNoKChyZWNlaXB0KSA9PiB7XG4gICAgaWYgKHJlY2VpcHQudHlwZSA9PT0gUmVjZWlwdFR5cGU2Lk1pbnQpIHtcbiAgICAgIG1pbnRlZEFzc2V0cy5wdXNoKHtcbiAgICAgICAgc3ViSWQ6IHJlY2VpcHQuc3ViSWQsXG4gICAgICAgIGNvbnRyYWN0SWQ6IHJlY2VpcHQuY29udHJhY3RJZCxcbiAgICAgICAgYXNzZXRJZDogcmVjZWlwdC5hc3NldElkLFxuICAgICAgICBhbW91bnQ6IHJlY2VpcHQudmFsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWludGVkQXNzZXRzO1xufSwgXCJleHRyYWN0TWludGVkQXNzZXRzRnJvbVJlY2VpcHRzXCIpO1xudmFyIGV4dHJhY3RCdXJuZWRBc3NldHNGcm9tUmVjZWlwdHMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChyZWNlaXB0cykgPT4ge1xuICBjb25zdCBidXJuZWRBc3NldHMgPSBbXTtcbiAgcmVjZWlwdHMuZm9yRWFjaCgocmVjZWlwdCkgPT4ge1xuICAgIGlmIChyZWNlaXB0LnR5cGUgPT09IFJlY2VpcHRUeXBlNi5CdXJuKSB7XG4gICAgICBidXJuZWRBc3NldHMucHVzaCh7XG4gICAgICAgIHN1YklkOiByZWNlaXB0LnN1YklkLFxuICAgICAgICBjb250cmFjdElkOiByZWNlaXB0LmNvbnRyYWN0SWQsXG4gICAgICAgIGFzc2V0SWQ6IHJlY2VpcHQuYXNzZXRJZCxcbiAgICAgICAgYW1vdW50OiByZWNlaXB0LnZhbFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGJ1cm5lZEFzc2V0cztcbn0sIFwiZXh0cmFjdEJ1cm5lZEFzc2V0c0Zyb21SZWNlaXB0c1wiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1zdW1tYXJ5L3N0YXR1cy50c1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTE0LCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yMTYgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBibiBhcyBibjE1IH0gZnJvbSBcIkBmdWVsLXRzL21hdGhcIjtcbnZhciBnZXRUcmFuc2FjdGlvblN0YXR1c05hbWUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChncWxTdGF0dXMpID0+IHtcbiAgc3dpdGNoIChncWxTdGF0dXMpIHtcbiAgICBjYXNlIFwiRmFpbHVyZVN0YXR1c1wiOlxuICAgICAgcmV0dXJuIFwiZmFpbHVyZVwiIC8qIGZhaWx1cmUgKi87XG4gICAgY2FzZSBcIlN1Y2Nlc3NTdGF0dXNcIjpcbiAgICAgIHJldHVybiBcInN1Y2Nlc3NcIiAvKiBzdWNjZXNzICovO1xuICAgIGNhc2UgXCJTdWJtaXR0ZWRTdGF0dXNcIjpcbiAgICAgIHJldHVybiBcInN1Ym1pdHRlZFwiIC8qIHN1Ym1pdHRlZCAqLztcbiAgICBjYXNlIFwiU3F1ZWV6ZWRPdXRTdGF0dXNcIjpcbiAgICAgIHJldHVybiBcInNxdWVlemVkb3V0XCIgLyogc3F1ZWV6ZWRvdXQgKi87XG4gICAgY2FzZSBcIlByZWNvbmZpcm1hdGlvblN1Y2Nlc3NTdGF0dXNcIjpcbiAgICAgIHJldHVybiBcInByZWNvbmZpcm1hdGlvblN1Y2Nlc3NcIiAvKiBwcmVjb25maXJtYXRpb25TdWNjZXNzICovO1xuICAgIGNhc2UgXCJQcmVjb25maXJtYXRpb25GYWlsdXJlU3RhdHVzXCI6XG4gICAgICByZXR1cm4gXCJwcmVjb25maXJtYXRpb25GYWlsdXJlXCIgLyogcHJlY29uZmlybWF0aW9uRmFpbHVyZSAqLztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjE2KFxuICAgICAgICBFcnJvckNvZGUxNC5JTlZBTElEX1RSQU5TQUNUSU9OX1NUQVRVUyxcbiAgICAgICAgYEludmFsaWQgdHJhbnNhY3Rpb24gc3RhdHVzOiAke2dxbFN0YXR1c30uYFxuICAgICAgKTtcbiAgfVxufSwgXCJnZXRUcmFuc2FjdGlvblN0YXR1c05hbWVcIik7XG52YXIgZXh0cmFjdFJlc29sdmVkT3V0cHV0cyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHNlcmlhbGl6ZWRPdXRwdXRzKSA9PiB7XG4gIGNvbnN0IHJlc29sdmVkT3V0cHV0cyA9IFtdO1xuICBzZXJpYWxpemVkT3V0cHV0cz8uZm9yRWFjaChcbiAgICAoeyB1dHhvSWQsIG91dHB1dCB9KSA9PiByZXNvbHZlZE91dHB1dHMucHVzaCh7XG4gICAgICB1dHhvSWQsXG4gICAgICBvdXRwdXQ6IGRlc2VyaWFsaXplUHJvY2Vzc2VkVHhPdXRwdXQob3V0cHV0KVxuICAgIH0pXG4gICk7XG4gIHJldHVybiByZXNvbHZlZE91dHB1dHM7XG59LCBcImV4dHJhY3RSZXNvbHZlZE91dHB1dHNcIik7XG52YXIgcHJvY2Vzc0dyYXBocWxTdGF0dXMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChncWxUcmFuc2FjdGlvblN0YXR1cykgPT4ge1xuICBsZXQgdGltZTtcbiAgbGV0IGJsb2NrSWQ7XG4gIGxldCBzdGF0dXM7XG4gIGxldCB0b3RhbEZlZTtcbiAgbGV0IHRvdGFsR2FzO1xuICBsZXQgcmVjZWlwdHM7XG4gIGxldCByZXNvbHZlZE91dHB1dHMgPSBbXTtcbiAgbGV0IGVycm9yUmVhc29uO1xuICBsZXQgaXNTdGF0dXNGYWlsdXJlID0gZmFsc2U7XG4gIGxldCBpc1N0YXR1c1N1Y2Nlc3MgPSBmYWxzZTtcbiAgbGV0IGlzU3RhdHVzUGVuZGluZyA9IGZhbHNlO1xuICBsZXQgaXNTdGF0dXNQcmVDb25maXJtYXRpb25TdWNjZXNzID0gZmFsc2U7XG4gIGxldCBpc1N0YXR1c1ByZUNvbmZpcm1hdGlvbkZhaWx1cmUgPSBmYWxzZTtcbiAgaWYgKGdxbFRyYW5zYWN0aW9uU3RhdHVzPy50eXBlKSB7XG4gICAgc3RhdHVzID0gZ2V0VHJhbnNhY3Rpb25TdGF0dXNOYW1lKGdxbFRyYW5zYWN0aW9uU3RhdHVzLnR5cGUpO1xuICAgIHN3aXRjaCAoZ3FsVHJhbnNhY3Rpb25TdGF0dXMudHlwZSkge1xuICAgICAgY2FzZSBcIlN1Y2Nlc3NTdGF0dXNcIjpcbiAgICAgICAgdGltZSA9IGdxbFRyYW5zYWN0aW9uU3RhdHVzLnRpbWU7XG4gICAgICAgIGJsb2NrSWQgPSBncWxUcmFuc2FjdGlvblN0YXR1cy5ibG9jaz8uaWQ7XG4gICAgICAgIGlzU3RhdHVzU3VjY2VzcyA9IHRydWU7XG4gICAgICAgIHJlY2VpcHRzID0gZ3FsVHJhbnNhY3Rpb25TdGF0dXMucmVjZWlwdHM/Lm1hcChkZXNlcmlhbGl6ZVJlY2VpcHQpO1xuICAgICAgICB0b3RhbEZlZSA9IGJuMTUoZ3FsVHJhbnNhY3Rpb25TdGF0dXMudG90YWxGZWUpO1xuICAgICAgICB0b3RhbEdhcyA9IGJuMTUoZ3FsVHJhbnNhY3Rpb25TdGF0dXMudG90YWxHYXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJGYWlsdXJlU3RhdHVzXCI6XG4gICAgICAgIHRpbWUgPSBncWxUcmFuc2FjdGlvblN0YXR1cy50aW1lO1xuICAgICAgICBibG9ja0lkID0gZ3FsVHJhbnNhY3Rpb25TdGF0dXMuYmxvY2s/LmlkO1xuICAgICAgICBpc1N0YXR1c0ZhaWx1cmUgPSB0cnVlO1xuICAgICAgICB0b3RhbEZlZSA9IGJuMTUoZ3FsVHJhbnNhY3Rpb25TdGF0dXMudG90YWxGZWUpO1xuICAgICAgICByZWNlaXB0cyA9IGdxbFRyYW5zYWN0aW9uU3RhdHVzLnJlY2VpcHRzPy5tYXAoZGVzZXJpYWxpemVSZWNlaXB0KTtcbiAgICAgICAgdG90YWxHYXMgPSBibjE1KGdxbFRyYW5zYWN0aW9uU3RhdHVzLnRvdGFsR2FzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU3VibWl0dGVkU3RhdHVzXCI6XG4gICAgICAgIHRpbWUgPSBncWxUcmFuc2FjdGlvblN0YXR1cy50aW1lO1xuICAgICAgICBpc1N0YXR1c1BlbmRpbmcgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJQcmVjb25maXJtYXRpb25TdWNjZXNzU3RhdHVzXCI6XG4gICAgICAgIGlzU3RhdHVzUHJlQ29uZmlybWF0aW9uU3VjY2VzcyA9IHRydWU7XG4gICAgICAgIHRvdGFsRmVlID0gYm4xNShncWxUcmFuc2FjdGlvblN0YXR1cy50b3RhbEZlZSk7XG4gICAgICAgIHRvdGFsR2FzID0gYm4xNShncWxUcmFuc2FjdGlvblN0YXR1cy50b3RhbEdhcyk7XG4gICAgICAgIHJlY2VpcHRzID0gZ3FsVHJhbnNhY3Rpb25TdGF0dXMucHJlY29uZmlybWF0aW9uUmVjZWlwdHM/Lm1hcChkZXNlcmlhbGl6ZVJlY2VpcHQpO1xuICAgICAgICByZXNvbHZlZE91dHB1dHMgPSBleHRyYWN0UmVzb2x2ZWRPdXRwdXRzKGdxbFRyYW5zYWN0aW9uU3RhdHVzLnJlc29sdmVkT3V0cHV0cyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlByZWNvbmZpcm1hdGlvbkZhaWx1cmVTdGF0dXNcIjpcbiAgICAgICAgaXNTdGF0dXNQcmVDb25maXJtYXRpb25GYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgdG90YWxGZWUgPSBibjE1KGdxbFRyYW5zYWN0aW9uU3RhdHVzLnRvdGFsRmVlKTtcbiAgICAgICAgdG90YWxHYXMgPSBibjE1KGdxbFRyYW5zYWN0aW9uU3RhdHVzLnRvdGFsR2FzKTtcbiAgICAgICAgcmVjZWlwdHMgPSBncWxUcmFuc2FjdGlvblN0YXR1cy5wcmVjb25maXJtYXRpb25SZWNlaXB0cz8ubWFwKGRlc2VyaWFsaXplUmVjZWlwdCk7XG4gICAgICAgIHJlc29sdmVkT3V0cHV0cyA9IGV4dHJhY3RSZXNvbHZlZE91dHB1dHMoZ3FsVHJhbnNhY3Rpb25TdGF0dXMucmVzb2x2ZWRPdXRwdXRzKTtcbiAgICAgICAgZXJyb3JSZWFzb24gPSBncWxUcmFuc2FjdGlvblN0YXR1cy5yZWFzb247XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICB9XG4gIH1cbiAgY29uc3QgcHJvY2Vzc2VkR3JhcGhxbFN0YXR1cyA9IHtcbiAgICB0aW1lLFxuICAgIGJsb2NrSWQsXG4gICAgc3RhdHVzLFxuICAgIHRvdGFsRmVlLFxuICAgIHRvdGFsR2FzLFxuICAgIHJlY2VpcHRzLFxuICAgIGlzU3RhdHVzRmFpbHVyZSxcbiAgICBpc1N0YXR1c1N1Y2Nlc3MsXG4gICAgaXNTdGF0dXNQZW5kaW5nLFxuICAgIGlzU3RhdHVzUHJlQ29uZmlybWF0aW9uU3VjY2VzcyxcbiAgICBpc1N0YXR1c1ByZUNvbmZpcm1hdGlvbkZhaWx1cmUsXG4gICAgcmVzb2x2ZWRPdXRwdXRzLFxuICAgIGVycm9yUmVhc29uXG4gIH07XG4gIHJldHVybiBwcm9jZXNzZWRHcmFwaHFsU3RhdHVzO1xufSwgXCJwcm9jZXNzR3JhcGhxbFN0YXR1c1wiKTtcbnZhciBnZXRUb3RhbEZlZUZyb21TdGF0dXMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdGF0dXMpID0+IHN0YXR1cyAmJiBcInRvdGFsRmVlXCIgaW4gc3RhdHVzID8gYm4xNShzdGF0dXMudG90YWxGZWUpIDogdm9pZCAwLCBcImdldFRvdGFsRmVlRnJvbVN0YXR1c1wiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1zdW1tYXJ5L2Fzc2VtYmxlLXRyYW5zYWN0aW9uLXN1bW1hcnkudHNcbmZ1bmN0aW9uIGFzc2VtYmxlVHJhbnNhY3Rpb25TdW1tYXJ5KHBhcmFtcykge1xuICBjb25zdCB7XG4gICAgaWQsXG4gICAgcmVjZWlwdHMsXG4gICAgZ2FzUGVyQnl0ZSxcbiAgICBnYXNQcmljZUZhY3RvcixcbiAgICB0cmFuc2FjdGlvbixcbiAgICB0cmFuc2FjdGlvbkJ5dGVzLFxuICAgIGdxbFRyYW5zYWN0aW9uU3RhdHVzLFxuICAgIGFiaU1hcCA9IHt9LFxuICAgIG1heElucHV0cyxcbiAgICBnYXNDb3N0cyxcbiAgICBtYXhHYXNQZXJUeCxcbiAgICBnYXNQcmljZSxcbiAgICBiYXNlQXNzZXRJZFxuICB9ID0gcGFyYW1zO1xuICBjb25zdCBnYXNVc2VkID0gZ2V0R2FzVXNlZEZyb21SZWNlaXB0cyhyZWNlaXB0cyk7XG4gIGNvbnN0IHJhd1BheWxvYWQgPSBoZXhsaWZ5MTYodHJhbnNhY3Rpb25CeXRlcyk7XG4gIGNvbnN0IG9wZXJhdGlvbnMgPSBnZXRPcGVyYXRpb25zKHtcbiAgICB0cmFuc2FjdGlvblR5cGU6IHRyYW5zYWN0aW9uLnR5cGUsXG4gICAgaW5wdXRzOiB0cmFuc2FjdGlvbi5pbnB1dHMgfHwgW10sXG4gICAgb3V0cHV0czogdHJhbnNhY3Rpb24ub3V0cHV0cyB8fCBbXSxcbiAgICByZWNlaXB0cyxcbiAgICByYXdQYXlsb2FkLFxuICAgIGFiaU1hcCxcbiAgICBtYXhJbnB1dHMsXG4gICAgYmFzZUFzc2V0SWRcbiAgfSk7XG4gIGNvbnN0IHR5cGVOYW1lID0gZ2V0VHJhbnNhY3Rpb25UeXBlTmFtZSh0cmFuc2FjdGlvbi50eXBlKTtcbiAgY29uc3QgdGlwID0gYm4xNih0cmFuc2FjdGlvbi5wb2xpY2llcz8uZmluZCgocG9saWN5KSA9PiBwb2xpY3kudHlwZSA9PT0gUG9saWN5VHlwZTMuVGlwKT8uZGF0YSk7XG4gIGNvbnN0IHsgaXNTdGF0dXNGYWlsdXJlLCBpc1N0YXR1c1BlbmRpbmcsIGlzU3RhdHVzU3VjY2VzcywgYmxvY2tJZCwgc3RhdHVzLCB0aW1lLCB0b3RhbEZlZSB9ID0gcHJvY2Vzc0dyYXBocWxTdGF0dXMoZ3FsVHJhbnNhY3Rpb25TdGF0dXMpO1xuICBjb25zdCBmZWUgPSB0b3RhbEZlZSA/PyBjYWxjdWxhdGVUWEZlZUZvclN1bW1hcnkoe1xuICAgIGdhc1ByaWNlLFxuICAgIHJhd1BheWxvYWQsXG4gICAgdGlwLFxuICAgIGNvbnNlbnN1c1BhcmFtZXRlcnM6IHtcbiAgICAgIGdhc0Nvc3RzLFxuICAgICAgbWF4R2FzUGVyVHgsXG4gICAgICBmZWVQYXJhbXM6IHtcbiAgICAgICAgZ2FzUGVyQnl0ZSxcbiAgICAgICAgZ2FzUHJpY2VGYWN0b3JcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBjb25zdCBtaW50ZWRBc3NldHMgPSBleHRyYWN0TWludGVkQXNzZXRzRnJvbVJlY2VpcHRzKHJlY2VpcHRzKTtcbiAgY29uc3QgYnVybmVkQXNzZXRzID0gZXh0cmFjdEJ1cm5lZEFzc2V0c0Zyb21SZWNlaXB0cyhyZWNlaXB0cyk7XG4gIGxldCBkYXRlO1xuICBpZiAodGltZSkge1xuICAgIGRhdGUgPSBEYXRlVGltZS5mcm9tVGFpNjQodGltZSk7XG4gIH1cbiAgY29uc3QgdHJhbnNhY3Rpb25TdW1tYXJ5ID0ge1xuICAgIGlkLFxuICAgIHRpcCxcbiAgICBmZWUsXG4gICAgZ2FzVXNlZCxcbiAgICBvcGVyYXRpb25zLFxuICAgIHR5cGU6IHR5cGVOYW1lLFxuICAgIGJsb2NrSWQsXG4gICAgdGltZSxcbiAgICBzdGF0dXMsXG4gICAgcmVjZWlwdHMsXG4gICAgbWludGVkQXNzZXRzLFxuICAgIGJ1cm5lZEFzc2V0cyxcbiAgICBpc1R5cGVNaW50OiBpc1R5cGVNaW50KHRyYW5zYWN0aW9uLnR5cGUpLFxuICAgIGlzVHlwZUNyZWF0ZTogaXNUeXBlQ3JlYXRlKHRyYW5zYWN0aW9uLnR5cGUpLFxuICAgIGlzVHlwZVNjcmlwdDogaXNUeXBlU2NyaXB0KHRyYW5zYWN0aW9uLnR5cGUpLFxuICAgIGlzVHlwZVVwZ3JhZGU6IGlzVHlwZVVwZ3JhZGUodHJhbnNhY3Rpb24udHlwZSksXG4gICAgaXNUeXBlVXBsb2FkOiBpc1R5cGVVcGxvYWQodHJhbnNhY3Rpb24udHlwZSksXG4gICAgaXNUeXBlQmxvYjogaXNUeXBlQmxvYih0cmFuc2FjdGlvbi50eXBlKSxcbiAgICBpc1N0YXR1c0ZhaWx1cmUsXG4gICAgaXNTdGF0dXNTdWNjZXNzLFxuICAgIGlzU3RhdHVzUGVuZGluZyxcbiAgICBkYXRlLFxuICAgIHRyYW5zYWN0aW9uXG4gIH07XG4gIHJldHVybiB0cmFuc2FjdGlvblN1bW1hcnk7XG59XG5fX25hbWUoYXNzZW1ibGVUcmFuc2FjdGlvblN1bW1hcnksIFwiYXNzZW1ibGVUcmFuc2FjdGlvblN1bW1hcnlcIik7XG5mdW5jdGlvbiBhc3NlbWJsZVByZUNvbmZpcm1hdGlvblRyYW5zYWN0aW9uU3VtbWFyeShwYXJhbXMpIHtcbiAgY29uc3QgeyBpZCwgZ3FsVHJhbnNhY3Rpb25TdGF0dXMsIHRyYW5zYWN0aW9uUmVxdWVzdCwgYmFzZUFzc2V0SWQsIG1heElucHV0cywgYWJpTWFwIH0gPSBwYXJhbXM7XG4gIGxldCB0eXBlO1xuICBsZXQgb3BlcmF0aW9ucztcbiAgbGV0IGdhc1VzZWQ7XG4gIGxldCB0aXA7XG4gIGxldCB0cmFuc2FjdGlvbjtcbiAgbGV0IG1pbnRlZEFzc2V0cztcbiAgbGV0IGJ1cm5lZEFzc2V0cztcbiAgY29uc3Qge1xuICAgIGlzU3RhdHVzRmFpbHVyZSxcbiAgICBpc1N0YXR1c1N1Y2Nlc3MsXG4gICAgaXNTdGF0dXNQZW5kaW5nLFxuICAgIHN0YXR1cyxcbiAgICByZWNlaXB0cyxcbiAgICByZXNvbHZlZE91dHB1dHMsXG4gICAgZXJyb3JSZWFzb24sXG4gICAgdG90YWxGZWUsXG4gICAgaXNTdGF0dXNQcmVDb25maXJtYXRpb25GYWlsdXJlLFxuICAgIGlzU3RhdHVzUHJlQ29uZmlybWF0aW9uU3VjY2Vzc1xuICB9ID0gcHJvY2Vzc0dyYXBocWxTdGF0dXMoZ3FsVHJhbnNhY3Rpb25TdGF0dXMpO1xuICBpZiAocmVjZWlwdHMpIHtcbiAgICBnYXNVc2VkID0gZ2V0R2FzVXNlZEZyb21SZWNlaXB0cyhyZWNlaXB0cyk7XG4gICAgbWludGVkQXNzZXRzID0gZXh0cmFjdE1pbnRlZEFzc2V0c0Zyb21SZWNlaXB0cyhyZWNlaXB0cyk7XG4gICAgYnVybmVkQXNzZXRzID0gZXh0cmFjdEJ1cm5lZEFzc2V0c0Zyb21SZWNlaXB0cyhyZWNlaXB0cyk7XG4gIH1cbiAgaWYgKHRyYW5zYWN0aW9uUmVxdWVzdCkge1xuICAgIHRyYW5zYWN0aW9uID0gdHJhbnNhY3Rpb25SZXF1ZXN0LnRvVHJhbnNhY3Rpb24oKTtcbiAgICB0eXBlID0gZ2V0VHJhbnNhY3Rpb25UeXBlTmFtZSh0cmFuc2FjdGlvbi50eXBlKTtcbiAgICB0aXAgPSBibjE2KHRyYW5zYWN0aW9uLnBvbGljaWVzPy5maW5kKChwb2xpY3kpID0+IHBvbGljeS50eXBlID09PSBQb2xpY3lUeXBlMy5UaXApPy5kYXRhKTtcbiAgICBpZiAocmVjZWlwdHMpIHtcbiAgICAgIGNvbnN0IHJhd1BheWxvYWQgPSBoZXhsaWZ5MTYobmV3IFRyYW5zYWN0aW9uQ29kZXI0KCkuZW5jb2RlKHRyYW5zYWN0aW9uKSk7XG4gICAgICBvcGVyYXRpb25zID0gZ2V0T3BlcmF0aW9ucyh7XG4gICAgICAgIHRyYW5zYWN0aW9uVHlwZTogdHJhbnNhY3Rpb24udHlwZSxcbiAgICAgICAgaW5wdXRzOiB0cmFuc2FjdGlvbi5pbnB1dHMgfHwgW10sXG4gICAgICAgIG91dHB1dHM6IHRyYW5zYWN0aW9uLm91dHB1dHMgfHwgW10sXG4gICAgICAgIHJlY2VpcHRzLFxuICAgICAgICByYXdQYXlsb2FkLFxuICAgICAgICBhYmlNYXAsXG4gICAgICAgIG1heElucHV0cyxcbiAgICAgICAgYmFzZUFzc2V0SWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjb25zdCB0cmFuc2FjdGlvblN1bW1hcnkgPSB7XG4gICAgaWQsXG4gICAgZmVlOiB0b3RhbEZlZSxcbiAgICB0eXBlLFxuICAgIHN0YXR1cyxcbiAgICByZWNlaXB0cyxcbiAgICBnYXNVc2VkLFxuICAgIHRpcCxcbiAgICBpc1N0YXR1c1ByZUNvbmZpcm1hdGlvbkZhaWx1cmUsXG4gICAgaXNTdGF0dXNQcmVDb25maXJtYXRpb25TdWNjZXNzLFxuICAgIGlzU3RhdHVzRmFpbHVyZSxcbiAgICBpc1N0YXR1c1N1Y2Nlc3MsXG4gICAgaXNTdGF0dXNQZW5kaW5nLFxuICAgIC4uLnRyYW5zYWN0aW9uICYmIHtcbiAgICAgIGlzVHlwZU1pbnQ6IGlzVHlwZU1pbnQodHJhbnNhY3Rpb24udHlwZSksXG4gICAgICBpc1R5cGVDcmVhdGU6IGlzVHlwZUNyZWF0ZSh0cmFuc2FjdGlvbi50eXBlKSxcbiAgICAgIGlzVHlwZVNjcmlwdDogaXNUeXBlU2NyaXB0KHRyYW5zYWN0aW9uLnR5cGUpLFxuICAgICAgaXNUeXBlVXBncmFkZTogaXNUeXBlVXBncmFkZSh0cmFuc2FjdGlvbi50eXBlKSxcbiAgICAgIGlzVHlwZVVwbG9hZDogaXNUeXBlVXBsb2FkKHRyYW5zYWN0aW9uLnR5cGUpLFxuICAgICAgaXNUeXBlQmxvYjogaXNUeXBlQmxvYih0cmFuc2FjdGlvbi50eXBlKVxuICAgIH0sXG4gICAgbWludGVkQXNzZXRzLFxuICAgIGJ1cm5lZEFzc2V0cyxcbiAgICByZXNvbHZlZE91dHB1dHMsXG4gICAgZXJyb3JSZWFzb24sXG4gICAgdHJhbnNhY3Rpb24sXG4gICAgb3BlcmF0aW9uc1xuICB9O1xuICByZXR1cm4gdHJhbnNhY3Rpb25TdW1tYXJ5O1xufVxuX19uYW1lKGFzc2VtYmxlUHJlQ29uZmlybWF0aW9uVHJhbnNhY3Rpb25TdW1tYXJ5LCBcImFzc2VtYmxlUHJlQ29uZmlybWF0aW9uVHJhbnNhY3Rpb25TdW1tYXJ5XCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXJlc3BvbnNlL2dldEFsbERlY29kZWRMb2dzLnRzXG5pbXBvcnQgeyBJbnRlcmZhY2UgYXMgSW50ZXJmYWNlMiwgQmlnTnVtYmVyQ29kZXIgfSBmcm9tIFwiQGZ1ZWwtdHMvYWJpLWNvZGVyXCI7XG5pbXBvcnQgeyBaZXJvQnl0ZXMzMiBhcyBaZXJvQnl0ZXMzMjEwIH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3MvY29uZmlnc1wiO1xuaW1wb3J0IHsgUmVjZWlwdFR5cGUgYXMgUmVjZWlwdFR5cGU3IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuZnVuY3Rpb24gZ2V0QWxsRGVjb2RlZExvZ3Mob3B0cykge1xuICBjb25zdCB7IHJlY2VpcHRzLCBtYWluQWJpLCBleHRlcm5hbEFiaXMgPSB7fSB9ID0gb3B0cztcbiAgbGV0IG1haW5Db250cmFjdCA9IFwiXCI7XG4gIGlmIChtYWluQWJpLnByb2dyYW1UeXBlID09PSBcImNvbnRyYWN0XCIpIHtcbiAgICBjb25zdCBmaXJzdENhbGxSZWNlaXB0ID0gcmVjZWlwdHMuZmluZChcbiAgICAgIChyKSA9PiByLnR5cGUgPT09IFJlY2VpcHRUeXBlNy5DYWxsICYmIHIuaWQgPT09IFplcm9CeXRlczMyMTBcbiAgICApO1xuICAgIGlmIChmaXJzdENhbGxSZWNlaXB0KSB7XG4gICAgICBtYWluQ29udHJhY3QgPSBmaXJzdENhbGxSZWNlaXB0LnRvO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVjZWlwdHMucmVkdWNlKFxuICAgICh7IGxvZ3MsIGdyb3VwZWRMb2dzIH0sIHJlY2VpcHQpID0+IHtcbiAgICAgIGlmIChyZWNlaXB0LnR5cGUgPT09IFJlY2VpcHRUeXBlNy5Mb2dEYXRhIHx8IHJlY2VpcHQudHlwZSA9PT0gUmVjZWlwdFR5cGU3LkxvZykge1xuICAgICAgICBjb25zdCBpc0xvZ0Zyb21NYWluQWJpID0gcmVjZWlwdC5pZCA9PT0gWmVyb0J5dGVzMzIxMCB8fCBtYWluQ29udHJhY3QgPT09IHJlY2VpcHQuaWQ7XG4gICAgICAgIGNvbnN0IGlzRGVjb2RhYmxlID0gaXNMb2dGcm9tTWFpbkFiaSB8fCBleHRlcm5hbEFiaXNbcmVjZWlwdC5pZF07XG4gICAgICAgIGlmIChpc0RlY29kYWJsZSkge1xuICAgICAgICAgIGNvbnN0IGludGVyZmFjZVRvVXNlID0gaXNMb2dGcm9tTWFpbkFiaSA/IG5ldyBJbnRlcmZhY2UyKG1haW5BYmkpIDogbmV3IEludGVyZmFjZTIoZXh0ZXJuYWxBYmlzW3JlY2VpcHQuaWRdKTtcbiAgICAgICAgICBjb25zdCBkYXRhID0gcmVjZWlwdC50eXBlID09PSBSZWNlaXB0VHlwZTcuTG9nID8gbmV3IEJpZ051bWJlckNvZGVyKFwidTY0XCIpLmVuY29kZShyZWNlaXB0LnJhKSA6IHJlY2VpcHQuZGF0YTtcbiAgICAgICAgICBjb25zdCBbZGVjb2RlZExvZ10gPSBpbnRlcmZhY2VUb1VzZS5kZWNvZGVMb2coZGF0YSwgcmVjZWlwdC5yYi50b1N0cmluZygpKTtcbiAgICAgICAgICBsb2dzLnB1c2goZGVjb2RlZExvZyk7XG4gICAgICAgICAgZ3JvdXBlZExvZ3NbcmVjZWlwdC5pZF0gPSBbLi4uZ3JvdXBlZExvZ3NbcmVjZWlwdC5pZF0gfHwgW10sIGRlY29kZWRMb2ddO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyBsb2dzLCBncm91cGVkTG9ncyB9O1xuICAgIH0sXG4gICAgeyBsb2dzOiBbXSwgZ3JvdXBlZExvZ3M6IHt9IH1cbiAgKTtcbn1cbl9fbmFtZShnZXRBbGxEZWNvZGVkTG9ncywgXCJnZXRBbGxEZWNvZGVkTG9nc1wiKTtcblxuLy8gc3JjL3Byb3ZpZGVycy90cmFuc2FjdGlvbi1yZXNwb25zZS90cmFuc2FjdGlvbi1yZXNwb25zZS50c1xudmFyIFRyYW5zYWN0aW9uUmVzcG9uc2UgPSBjbGFzcyBfVHJhbnNhY3Rpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYFRyYW5zYWN0aW9uUmVzcG9uc2VgLlxuICAgKlxuICAgKiBAcGFyYW0gdHggLSBUaGUgdHJhbnNhY3Rpb24gSUQgb3IgVHJhbnNhY3Rpb25SZXF1ZXN0LlxuICAgKiBAcGFyYW0gcHJvdmlkZXIgLSBUaGUgcHJvdmlkZXIuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0eCwgcHJvdmlkZXIsIGNoYWluSWQsIGFiaXMsIHN1Ym1pdFR4U3Vic2NyaXB0aW9uKSB7XG4gICAgdGhpcy5zdWJtaXRUeFN1YnNjcmlwdGlvbiA9IHN1Ym1pdFR4U3Vic2NyaXB0aW9uO1xuICAgIGlmICh0eXBlb2YgdHggPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMuaWQgPSB0eDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pZCA9IHR4LmdldFRyYW5zYWN0aW9uSWQoY2hhaW5JZCk7XG4gICAgICB0aGlzLnJlcXVlc3QgPSB0eDtcbiAgICB9XG4gICAgdGhpcy5wcm92aWRlciA9IHByb3ZpZGVyO1xuICAgIHRoaXMuYWJpcyA9IGFiaXM7XG4gICAgdGhpcy53YWl0Rm9yUmVzdWx0ID0gdGhpcy53YWl0Rm9yUmVzdWx0LmJpbmQodGhpcyk7XG4gICAgdGhpcy53YWl0Rm9yUHJlQ29uZmlybWF0aW9uID0gdGhpcy53YWl0Rm9yUHJlQ29uZmlybWF0aW9uLmJpbmQodGhpcyk7XG4gIH1cbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJUcmFuc2FjdGlvblJlc3BvbnNlXCIpO1xuICB9XG4gIC8qKiBUcmFuc2FjdGlvbiBJRCAqL1xuICBpZDtcbiAgLyoqIEN1cnJlbnQgcHJvdmlkZXIgKi9cbiAgcHJvdmlkZXI7XG4gIC8qKiBHYXMgdXNlZCBvbiB0aGUgdHJhbnNhY3Rpb24gKi9cbiAgZ2FzVXNlZCA9IGJuMTcoMCk7XG4gIC8qKiBUaGUgZ3JhcGhxbCBUcmFuc2FjdGlvbiB3aXRoIHJlY2VpcHRzIG9iamVjdC4gKi9cbiAgZ3FsVHJhbnNhY3Rpb247XG4gIHJlcXVlc3Q7XG4gIHN0YXR1cztcbiAgYWJpcztcbiAgcHJlQ29uZmlybWF0aW9uU3RhdHVzO1xuICB3YWl0aW5nRm9yU3RyZWFtRGF0YSA9IGZhbHNlO1xuICBzdGF0dXNSZXNvbHZlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAvKipcbiAgICogQXN5bmMgY29uc3RydWN0b3IgZm9yIGBUcmFuc2FjdGlvblJlc3BvbnNlYC4gVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gY3JlYXRlXG4gICAqIGFuIGluc3RhbmNlIG9mIGBUcmFuc2FjdGlvblJlc3BvbnNlYCBhbmQgd2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGJlIGZldGNoZWRcbiAgICogZnJvbSB0aGUgY2hhaW4sIGVuc3VyaW5nIHRoYXQgdGhlIGBncWxUcmFuc2FjdGlvbmAgcHJvcGVydHkgaXMgc2V0LlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBUaGUgdHJhbnNhY3Rpb24gSUQuXG4gICAqIEBwYXJhbSBwcm92aWRlciAtIFRoZSBwcm92aWRlci5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUoaWQsIHByb3ZpZGVyLCBhYmlzKSB7XG4gICAgY29uc3QgY2hhaW5JZCA9IGF3YWl0IHByb3ZpZGVyLmdldENoYWluSWQoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IG5ldyBfVHJhbnNhY3Rpb25SZXNwb25zZShpZCwgcHJvdmlkZXIsIGNoYWluSWQsIGFiaXMpO1xuICAgIGF3YWl0IHJlc3BvbnNlLmZldGNoKCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG4gIGFwcGx5TWFsbGVhYmxlU3Vic2NyaXB0aW9uRmllbGRzKHRyYW5zYWN0aW9uKSB7XG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5zdGF0dXM7XG4gICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHggPSB0cmFuc2FjdGlvbjtcbiAgICBpZiAoc3RhdHVzLnR5cGUgPT09IFwiU3VjY2Vzc1N0YXR1c1wiIHx8IHN0YXR1cy50eXBlID09PSBcIkZhaWx1cmVTdGF0dXNcIikge1xuICAgICAgdHguaW5wdXRzID0gdHguaW5wdXRzLm1hcCgoaW5wdXQsIGlkeCkgPT4ge1xuICAgICAgICBpZiAoXCJ0eFBvaW50ZXJcIiBpbiBpbnB1dCkge1xuICAgICAgICAgIGNvbnN0IGNvcnJlc3BvbmRpbmdJbnB1dCA9IHN0YXR1cy50cmFuc2FjdGlvbi5pbnB1dHM/LltpZHhdO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5pbnB1dCxcbiAgICAgICAgICAgIHR4UG9pbnRlcjogVHhQb2ludGVyQ29kZXIuZGVjb2RlRnJvbUdxbFNjYWxhcihjb3JyZXNwb25kaW5nSW5wdXQudHhQb2ludGVyKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgfSk7XG4gICAgICB0eC5vdXRwdXRzID0gc3RhdHVzLnRyYW5zYWN0aW9uLm91dHB1dHMubWFwKGRlc2VyaWFsaXplUHJvY2Vzc2VkVHhPdXRwdXQpO1xuICAgICAgaWYgKHN0YXR1cy50cmFuc2FjdGlvbi5yZWNlaXB0c1Jvb3QpIHtcbiAgICAgICAgdHgucmVjZWlwdHNSb290ID0gc3RhdHVzLnRyYW5zYWN0aW9uLnJlY2VpcHRzUm9vdDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0VHJhbnNhY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucmVxdWVzdCkge1xuICAgICAgY29uc3QgdHgyID0gdGhpcy5yZXF1ZXN0LnRvVHJhbnNhY3Rpb24oKTtcbiAgICAgIHRoaXMuYXBwbHlNYWxsZWFibGVTdWJzY3JpcHRpb25GaWVsZHModHgyKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR4OiB0eDIsXG4gICAgICAgIGJ5dGVzOiB0aGlzLnJlcXVlc3QudG9UcmFuc2FjdGlvbkJ5dGVzKClcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGdxbFRyYW5zYWN0aW9uID0gdGhpcy5ncWxUcmFuc2FjdGlvbiA/PyBhd2FpdCB0aGlzLmZldGNoKCk7XG4gICAgY29uc3QgeyByYXdQYXlsb2FkIH0gPSBncWxUcmFuc2FjdGlvbjtcbiAgICBjb25zdCBieXRlcyA9IGFycmF5aWZ5MTEocmF3UGF5bG9hZCk7XG4gICAgY29uc3QgW3R4XSA9IG5ldyBUcmFuc2FjdGlvbkNvZGVyNSgpLmRlY29kZShieXRlcywgMCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR4LFxuICAgICAgYnl0ZXNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBvbmx5IGNhbGxlZCB3aXRoaW4gYGdldFRyYW5zYWN0aW9uU3VtbWFyeWAsIHdoaWNoIGlzIGludm9rZWQgYWZ0ZXIgYGdldFRyYW5zYWN0aW9uYC5cbiAgICogU2luY2UgYGdldFRyYW5zYWN0aW9uYCBvbmx5IHJlc29sdmVzIG9uY2UgdGhlIHRyYW5zYWN0aW9uIGhhcyBiZWVuIHByb2Nlc3NlZCxcbiAgICogdGhlIHN0YXR1cyBhdCB0aGlzIHBvaW50IGlzIGd1YXJhbnRlZWQgdG8gYmUgZWl0aGVyIGBTdWNjZXNzU3RhdHVzYCBvciBgRmFpbHVyZVN0YXR1c2AuXG4gICAqL1xuICBnZXRSZWNlaXB0cygpIHtcbiAgICBjb25zdCBzdGF0dXMgPSB0aGlzLmdldFRyYW5zYWN0aW9uU3RhdHVzKCk7XG4gICAgc3dpdGNoIChzdGF0dXM/LnR5cGUpIHtcbiAgICAgIGNhc2UgXCJTdWNjZXNzU3RhdHVzXCI6XG4gICAgICBjYXNlIFwiRmFpbHVyZVN0YXR1c1wiOlxuICAgICAgICByZXR1cm4gc3RhdHVzLnJlY2VpcHRzLm1hcChkZXNlcmlhbGl6ZVJlY2VpcHQpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmV0Y2ggdGhlIHRyYW5zYWN0aW9uIHdpdGggcmVjZWlwdHMgZnJvbSB0aGUgcHJvdmlkZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIFRyYW5zYWN0aW9uIHdpdGggcmVjZWlwdHMgcXVlcnkgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgZmV0Y2goKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLm9wZXJhdGlvbnMuZ2V0VHJhbnNhY3Rpb25XaXRoUmVjZWlwdHMoe1xuICAgICAgdHJhbnNhY3Rpb25JZDogdGhpcy5pZFxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2UudHJhbnNhY3Rpb24pIHtcbiAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGF3YWl0IHRoaXMucHJvdmlkZXIub3BlcmF0aW9ucy5zdGF0dXNDaGFuZ2Uoe1xuICAgICAgICB0cmFuc2FjdGlvbklkOiB0aGlzLmlkXG4gICAgICB9KTtcbiAgICAgIGZvciBhd2FpdCAoY29uc3QgeyBzdGF0dXNDaGFuZ2UgfSBvZiBzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKHN0YXR1c0NoYW5nZSkge1xuICAgICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzQ2hhbmdlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5mZXRjaCgpO1xuICAgIH1cbiAgICB0aGlzLmdxbFRyYW5zYWN0aW9uID0gcmVzcG9uc2UudHJhbnNhY3Rpb247XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRyYW5zYWN0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIFRyYW5zYWN0aW9uU3VtbWFyeS4gSWYgdGhlIGBncWxUcmFuc2FjdGlvbmAgaXMgbm90IHNldCwgaXQgd2lsbFxuICAgKiBmZXRjaCBpdCBmcm9tIHRoZSBwcm92aWRlclxuICAgKlxuICAgKiBAcGFyYW0gY29udHJhY3RzQWJpTWFwIC0gVGhlIGNvbnRyYWN0cyBBQkkgbWFwLlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgYXN5bmMgZ2V0VHJhbnNhY3Rpb25TdW1tYXJ5KGNvbnRyYWN0c0FiaU1hcCkge1xuICAgIGNvbnN0IHsgdHg6IHRyYW5zYWN0aW9uLCBieXRlczogdHJhbnNhY3Rpb25CeXRlcyB9ID0gYXdhaXQgdGhpcy5nZXRUcmFuc2FjdGlvbigpO1xuICAgIGNvbnN0IHsgZ2FzUGVyQnl0ZSwgZ2FzUHJpY2VGYWN0b3IsIGdhc0Nvc3RzLCBtYXhHYXNQZXJUeCB9ID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRHYXNDb25maWcoKTtcbiAgICBjb25zdCB0cmFuc2FjdGlvblN0YXR1cyA9IHRoaXMuZ2V0VHJhbnNhY3Rpb25TdGF0dXMoKTtcbiAgICBjb25zdCB0b3RhbEZlZSA9IGdldFRvdGFsRmVlRnJvbVN0YXR1cyh0cmFuc2FjdGlvblN0YXR1cyk7XG4gICAgY29uc3QgZ2FzUHJpY2UgPSB0b3RhbEZlZSA/IGJuMTcoMCkgOiBhd2FpdCB0aGlzLnByb3ZpZGVyLmdldExhdGVzdEdhc1ByaWNlKCk7XG4gICAgY29uc3QgbWF4SW5wdXRzID0gKGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0Q2hhaW4oKSkuY29uc2Vuc3VzUGFyYW1ldGVycy50eFBhcmFtZXRlcnMubWF4SW5wdXRzO1xuICAgIGNvbnN0IGJhc2VBc3NldElkID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRCYXNlQXNzZXRJZCgpO1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VtbWFyeSA9IGFzc2VtYmxlVHJhbnNhY3Rpb25TdW1tYXJ5KHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgcmVjZWlwdHM6IHRoaXMuZ2V0UmVjZWlwdHMoKSxcbiAgICAgIHRyYW5zYWN0aW9uLFxuICAgICAgdHJhbnNhY3Rpb25CeXRlcyxcbiAgICAgIGdxbFRyYW5zYWN0aW9uU3RhdHVzOiB0cmFuc2FjdGlvblN0YXR1cyxcbiAgICAgIGdhc1BlckJ5dGUsXG4gICAgICBnYXNQcmljZUZhY3RvcixcbiAgICAgIGFiaU1hcDogY29udHJhY3RzQWJpTWFwLFxuICAgICAgbWF4SW5wdXRzLFxuICAgICAgZ2FzQ29zdHMsXG4gICAgICBtYXhHYXNQZXJUeCxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgYmFzZUFzc2V0SWRcbiAgICB9KTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25TdW1tYXJ5O1xuICB9XG4gIGFzeW5jIGdldFByZUNvbmZpcm1hdGlvblRyYW5zYWN0aW9uU3VtbWFyeShjb250cmFjdHNBYmlNYXApIHtcbiAgICBjb25zdCBiYXNlQXNzZXRJZCA9IGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0QmFzZUFzc2V0SWQoKTtcbiAgICBjb25zdCBtYXhJbnB1dHMgPSAoYXdhaXQgdGhpcy5wcm92aWRlci5nZXRDaGFpbigpKS5jb25zZW5zdXNQYXJhbWV0ZXJzLnR4UGFyYW1ldGVycy5tYXhJbnB1dHM7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25TdW1tYXJ5ID0gYXNzZW1ibGVQcmVDb25maXJtYXRpb25UcmFuc2FjdGlvblN1bW1hcnkoe1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBncWxUcmFuc2FjdGlvblN0YXR1czogdGhpcy5wcmVDb25maXJtYXRpb25TdGF0dXMgfHwgdGhpcy5zdGF0dXMsXG4gICAgICBiYXNlQXNzZXRJZCxcbiAgICAgIG1heElucHV0cyxcbiAgICAgIGFiaU1hcDogY29udHJhY3RzQWJpTWFwLFxuICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0OiB0aGlzLnJlcXVlc3RcbiAgICB9KTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25TdW1tYXJ5O1xuICB9XG4gIHJlc29sdmVTdGF0dXModHlwZSkge1xuICAgIGNvbnN0IHJlc29sdmVycyA9IHRoaXMuc3RhdHVzUmVzb2x2ZXJzLmdldCh0eXBlKSB8fCBbXTtcbiAgICByZXNvbHZlcnMuZm9yRWFjaCgocmVzb2x2ZSkgPT4gcmVzb2x2ZSgpKTtcbiAgICB0aGlzLnN0YXR1c1Jlc29sdmVycy5kZWxldGUodHlwZSk7XG4gIH1cbiAgYXN5bmMgd2FpdEZvclN0YXR1cyh0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlc29sdmVycyA9IHRoaXMuc3RhdHVzUmVzb2x2ZXJzLmdldCh0eXBlKSB8fCBbXTtcbiAgICAgIHJlc29sdmVycy5wdXNoKCgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN0YXR1c1Jlc29sdmVycy5zZXQodHlwZSwgcmVzb2x2ZXJzKTtcbiAgICAgIHRoaXMud2FpdEZvclN0YXR1c0NoYW5nZSgpLmNhdGNoKHJlamVjdCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFdhaXRzIGZvciB0aGUgc3RhdHVzIGNoYW5nZSBvZiB0aGUgdHJhbnNhY3Rpb24uXG4gICAqIElmIHRoZSB0cmFuc2FjdGlvbiBpcyBhbHJlYWR5IGluIGEgZmluYWwgc3RhdGUsIGl0IHdpbGwgcmV0dXJuIGltbWVkaWF0ZWx5LlxuICAgKiBJZiB0aGUgdHJhbnNhY3Rpb24gaXMgbm90IGluIGEgZmluYWwgc3RhdGUsIGl0IHdpbGwgd2FpdCBmb3IgdGhlIHN0YXR1cyBjaGFuZ2UuXG4gICAqIElmIHdlIGFyZSBhbHJlYWR5IHN1YnNjcmliZWQgdG8gdGhlIHN0YXR1cyBjaGFuZ2UsIGl0IHdpbGwgcmV0dXJuIGltbWVkaWF0ZWx5LlxuICAgKi9cbiAgYXN5bmMgd2FpdEZvclN0YXR1c0NoYW5nZSgpIHtcbiAgICBjb25zdCB0eXBlID0gdGhpcy5zdGF0dXM/LnR5cGU7XG4gICAgaWYgKHR5cGUgJiYgKHR5cGUgPT09IFwiRmFpbHVyZVN0YXR1c1wiIHx8IHR5cGUgPT09IFwiU3VjY2Vzc1N0YXR1c1wiKSkge1xuICAgICAgdGhpcy5yZXNvbHZlU3RhdHVzKFwicHJlQ29uZmlybWF0aW9uXCIpO1xuICAgICAgdGhpcy5yZXNvbHZlU3RhdHVzKFwiY29uZmlybWF0aW9uXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy53YWl0aW5nRm9yU3RyZWFtRGF0YSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLndhaXRpbmdGb3JTdHJlYW1EYXRhID0gdHJ1ZTtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLnN1Ym1pdFR4U3Vic2NyaXB0aW9uID8/IGF3YWl0IHRoaXMucHJvdmlkZXIub3BlcmF0aW9ucy5zdGF0dXNDaGFuZ2Uoe1xuICAgICAgdHJhbnNhY3Rpb25JZDogdGhpcy5pZCxcbiAgICAgIGluY2x1ZGVQcmVDb25maXJtYXRpb246IHRydWVcbiAgICB9KTtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IHN1YjIgb2Ygc3Vic2NyaXB0aW9uKSB7XG4gICAgICBjb25zdCBzdGF0dXNDaGFuZ2UgPSBcInN0YXR1c0NoYW5nZVwiIGluIHN1YjIgPyBzdWIyLnN0YXR1c0NoYW5nZSA6IHN1YjIuc3VibWl0QW5kQXdhaXRTdGF0dXM7XG4gICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1c0NoYW5nZTtcbiAgICAgIGlmIChzdGF0dXNDaGFuZ2UudHlwZSA9PT0gXCJTcXVlZXplZE91dFN0YXR1c1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IxNyhcbiAgICAgICAgICBFcnJvckNvZGUxNS5UUkFOU0FDVElPTl9TUVVFRVpFRF9PVVQsXG4gICAgICAgICAgYFRyYW5zYWN0aW9uIFNxdWVlemVkIE91dCB3aXRoIHJlYXNvbjogJHtzdGF0dXNDaGFuZ2UucmVhc29ufWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0dXNDaGFuZ2UudHlwZSA9PT0gXCJQcmVjb25maXJtYXRpb25TdWNjZXNzU3RhdHVzXCIgfHwgc3RhdHVzQ2hhbmdlLnR5cGUgPT09IFwiUHJlY29uZmlybWF0aW9uRmFpbHVyZVN0YXR1c1wiKSB7XG4gICAgICAgIHRoaXMucHJlQ29uZmlybWF0aW9uU3RhdHVzID0gc3RhdHVzQ2hhbmdlO1xuICAgICAgICB0aGlzLnJlc29sdmVTdGF0dXMoXCJwcmVDb25maXJtYXRpb25cIik7XG4gICAgICAgIGNvbnN0IHBlbmRpbmdDb25maXJtYXRpb25SZXNvbHZlcnMgPSB0aGlzLnN0YXR1c1Jlc29sdmVycy5nZXQoXCJjb25maXJtYXRpb25cIik7XG4gICAgICAgIGlmICghcGVuZGluZ0NvbmZpcm1hdGlvblJlc29sdmVycykge1xuICAgICAgICAgIHRoaXMud2FpdGluZ0ZvclN0cmVhbURhdGEgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXR1c0NoYW5nZS50eXBlID09PSBcIlN1Y2Nlc3NTdGF0dXNcIiB8fCBzdGF0dXNDaGFuZ2UudHlwZSA9PT0gXCJGYWlsdXJlU3RhdHVzXCIpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlU3RhdHVzKFwiY29uZmlybWF0aW9uXCIpO1xuICAgICAgICB0aGlzLnJlc29sdmVTdGF0dXMoXCJwcmVDb25maXJtYXRpb25cIik7XG4gICAgICAgIHRoaXMud2FpdGluZ0ZvclN0cmVhbURhdGEgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFzeW5jIHdhaXRGb3JDb25maXJtYXRpb25TdGF0dXNlcygpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3RhdHVzKFwiY29uZmlybWF0aW9uXCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnVuc2V0UmVzb3VyY2VDYWNoZSgpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIGFzeW5jIHdhaXRGb3JQcmVDb25maXJtYXRpb25TdGF0dXNlcygpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yU3RhdHVzKFwicHJlQ29uZmlybWF0aW9uXCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnVuc2V0UmVzb3VyY2VDYWNoZSgpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBc3NlbWJsZXMgdGhlIHJlc3VsdCBvZiBhIHRyYW5zYWN0aW9uIGJ5IHJldHJpZXZpbmcgdGhlIHRyYW5zYWN0aW9uIHN1bW1hcnksXG4gICAqIGRlY29kaW5nIGxvZ3MgKGlmIGF2YWlsYWJsZSksIGFuZCBoYW5kbGluZyB0cmFuc2FjdGlvbiBmYWlsdXJlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byBvYnRhaW4gdGhlIHJlc3VsdCBvZiBhIHRyYW5zYWN0aW9uIHRoYXQgaGFzIGp1c3RcbiAgICogYmVlbiBzdWJtaXR0ZWQgb3Igb25lIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBwcm9jZXNzZWQuXG4gICAqXG4gICAqIEB0ZW1wbGF0ZSBUVHJhbnNhY3Rpb25UeXBlIC0gVGhlIHR5cGUgb2YgdGhlIHRyYW5zYWN0aW9uLlxuICAgKiBAcGFyYW0gY29udHJhY3RzQWJpTWFwIC0gVGhlIG1hcCBvZiBjb250cmFjdCBBQklzLlxuICAgKiBAcmV0dXJucyAtIFRoZSBhc3NlbWJsZWQgdHJhbnNhY3Rpb24gcmVzdWx0LlxuICAgKiBAdGhyb3dzIElmIHRoZSB0cmFuc2FjdGlvbiBzdGF0dXMgaXMgYSBmYWlsdXJlLlxuICAgKi9cbiAgYXN5bmMgYXNzZW1ibGVSZXN1bHQoY29udHJhY3RzQWJpTWFwKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25TdW1tYXJ5ID0gYXdhaXQgdGhpcy5nZXRUcmFuc2FjdGlvblN1bW1hcnkoY29udHJhY3RzQWJpTWFwKTtcbiAgICBjb25zdCB0cmFuc2FjdGlvblJlc3VsdCA9IHtcbiAgICAgIC4uLnRyYW5zYWN0aW9uU3VtbWFyeVxuICAgIH07XG4gICAgbGV0IHsgbG9ncywgZ3JvdXBlZExvZ3MgfSA9IHsgbG9nczogW10sIGdyb3VwZWRMb2dzOiB7fSB9O1xuICAgIGlmICh0aGlzLmFiaXMpIHtcbiAgICAgICh7IGxvZ3MsIGdyb3VwZWRMb2dzIH0gPSBnZXRBbGxEZWNvZGVkTG9ncyh7XG4gICAgICAgIHJlY2VpcHRzOiB0cmFuc2FjdGlvblN1bW1hcnkucmVjZWlwdHMsXG4gICAgICAgIG1haW5BYmk6IHRoaXMuYWJpcy5tYWluLFxuICAgICAgICBleHRlcm5hbEFiaXM6IHRoaXMuYWJpcy5vdGhlckNvbnRyYWN0c0FiaXNcbiAgICAgIH0pKTtcbiAgICAgIHRyYW5zYWN0aW9uUmVzdWx0LmxvZ3MgPSBsb2dzO1xuICAgICAgdHJhbnNhY3Rpb25SZXN1bHQuZ3JvdXBlZExvZ3MgPSBncm91cGVkTG9ncztcbiAgICB9XG4gICAgY29uc3QgeyByZWNlaXB0cyB9ID0gdHJhbnNhY3Rpb25SZXN1bHQ7XG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5nZXRUcmFuc2FjdGlvblN0YXR1cygpO1xuICAgIGlmIChzdGF0dXM/LnR5cGUgPT09IFwiRmFpbHVyZVN0YXR1c1wiKSB7XG4gICAgICBjb25zdCB7IHJlYXNvbiB9ID0gc3RhdHVzO1xuICAgICAgdGhyb3cgZXh0cmFjdFR4RXJyb3Ioe1xuICAgICAgICByZWNlaXB0cyxcbiAgICAgICAgc3RhdHVzUmVhc29uOiByZWFzb24sXG4gICAgICAgIGxvZ3MsXG4gICAgICAgIGdyb3VwZWRMb2dzXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uUmVzdWx0O1xuICB9XG4gIGFzeW5jIGFzc2VtYmxlUHJlQ29uZmlybWF0aW9uUmVzdWx0KGNvbnRyYWN0c0FiaU1hcCkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VtbWFyeSA9IGF3YWl0IHRoaXMuZ2V0UHJlQ29uZmlybWF0aW9uVHJhbnNhY3Rpb25TdW1tYXJ5KGNvbnRyYWN0c0FiaU1hcCk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25SZXN1bHQgPSB7XG4gICAgICAuLi50cmFuc2FjdGlvblN1bW1hcnksXG4gICAgICBsb2dzOiBbXSxcbiAgICAgIGdyb3VwZWRMb2dzOiB7fVxuICAgIH07XG4gICAgbGV0IHsgbG9ncywgZ3JvdXBlZExvZ3MgfSA9IHsgbG9nczogW10sIGdyb3VwZWRMb2dzOiB7fSB9O1xuICAgIGlmICh0aGlzLmFiaXMgJiYgdHJhbnNhY3Rpb25TdW1tYXJ5LnJlY2VpcHRzKSB7XG4gICAgICAoeyBsb2dzLCBncm91cGVkTG9ncyB9ID0gZ2V0QWxsRGVjb2RlZExvZ3Moe1xuICAgICAgICByZWNlaXB0czogdHJhbnNhY3Rpb25TdW1tYXJ5LnJlY2VpcHRzLFxuICAgICAgICBtYWluQWJpOiB0aGlzLmFiaXMubWFpbixcbiAgICAgICAgZXh0ZXJuYWxBYmlzOiB0aGlzLmFiaXMub3RoZXJDb250cmFjdHNBYmlzXG4gICAgICB9KSk7XG4gICAgICB0cmFuc2FjdGlvblJlc3VsdC5sb2dzID0gbG9ncztcbiAgICAgIHRyYW5zYWN0aW9uUmVzdWx0Lmdyb3VwZWRMb2dzID0gZ3JvdXBlZExvZ3M7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2FjdGlvblJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogV2FpdHMgZm9yIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBjb21wbGV0ZWQgdHJhbnNhY3Rpb24gcmVzdWx0XG4gICAqL1xuICBhc3luYyB3YWl0Rm9yUmVzdWx0KGNvbnRyYWN0c0FiaU1hcCkge1xuICAgIGF3YWl0IHRoaXMud2FpdEZvckNvbmZpcm1hdGlvblN0YXR1c2VzKCk7XG4gICAgdGhpcy51bnNldFJlc291cmNlQ2FjaGUoKTtcbiAgICByZXR1cm4gdGhpcy5hc3NlbWJsZVJlc3VsdChjb250cmFjdHNBYmlNYXApO1xuICB9XG4gIC8qKlxuICAgKiBXYWl0cyBmb3IgdGhlIHRyYW5zYWN0aW9uJ3MgcHJlLWNvbmZpcm1hdGlvbiBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBAcGFyYW0gY29udHJhY3RzQWJpTWFwIC0gVGhlIGNvbnRyYWN0cyBBQkkgbWFwLlxuICAgKiBAcmV0dXJucyBUaGUgcHJlLWNvbmZpcm1lZCB0cmFuc2FjdGlvbiByZXN1bHRcbiAgICovXG4gIGFzeW5jIHdhaXRGb3JQcmVDb25maXJtYXRpb24oY29udHJhY3RzQWJpTWFwKSB7XG4gICAgYXdhaXQgdGhpcy53YWl0Rm9yUHJlQ29uZmlybWF0aW9uU3RhdHVzZXMoKTtcbiAgICB0aGlzLnVuc2V0UmVzb3VyY2VDYWNoZSgpO1xuICAgIHJldHVybiB0aGlzLmFzc2VtYmxlUHJlQ29uZmlybWF0aW9uUmVzdWx0KGNvbnRyYWN0c0FiaU1hcCk7XG4gIH1cbiAgLyoqXG4gICAqIFdhaXRzIGZvciB0cmFuc2FjdGlvbiB0byBjb21wbGV0ZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBAcGFyYW0gY29udHJhY3RzQWJpTWFwIC0gVGhlIGNvbnRyYWN0cyBBQkkgbWFwLlxuICAgKi9cbiAgYXN5bmMgd2FpdChjb250cmFjdHNBYmlNYXApIHtcbiAgICByZXR1cm4gdGhpcy53YWl0Rm9yUmVzdWx0KGNvbnRyYWN0c0FiaU1hcCk7XG4gIH1cbiAgdW5zZXRSZXNvdXJjZUNhY2hlKCkge1xuICAgIHRoaXMucHJvdmlkZXIuY2FjaGU/LnVuc2V0KHRoaXMuaWQpO1xuICB9XG4gIGdldFRyYW5zYWN0aW9uU3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXR1cyA/PyB0aGlzLmdxbFRyYW5zYWN0aW9uPy5zdGF0dXM7XG4gIH1cbn07XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tcmVzcG9uc2UvZ2V0RGVjb2RlZExvZ3MudHNcbmltcG9ydCB7IEludGVyZmFjZSBhcyBJbnRlcmZhY2UzLCBCaWdOdW1iZXJDb2RlciBhcyBCaWdOdW1iZXJDb2RlcjIgfSBmcm9tIFwiQGZ1ZWwtdHMvYWJpLWNvZGVyXCI7XG5pbXBvcnQgeyBaZXJvQnl0ZXMzMiBhcyBaZXJvQnl0ZXMzMjExIH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3MvY29uZmlnc1wiO1xuaW1wb3J0IHsgUmVjZWlwdFR5cGUgYXMgUmVjZWlwdFR5cGU4IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuZnVuY3Rpb24gZ2V0RGVjb2RlZExvZ3MocmVjZWlwdHMsIG1haW5BYmksIGV4dGVybmFsQWJpcyA9IHt9KSB7XG4gIGxldCBtYWluQ29udHJhY3QgPSBcIlwiO1xuICBpZiAobWFpbkFiaS5wcm9ncmFtVHlwZSA9PT0gXCJjb250cmFjdFwiKSB7XG4gICAgY29uc3QgZmlyc3RDYWxsUmVjZWlwdCA9IHJlY2VpcHRzLmZpbmQoXG4gICAgICAocikgPT4gci50eXBlID09PSBSZWNlaXB0VHlwZTguQ2FsbCAmJiByLmlkID09PSBaZXJvQnl0ZXMzMjExXG4gICAgKTtcbiAgICBtYWluQ29udHJhY3QgPSBmaXJzdENhbGxSZWNlaXB0LnRvO1xuICB9XG4gIHJldHVybiByZWNlaXB0cy5yZWR1Y2UoKGxvZ3MsIHJlY2VpcHQpID0+IHtcbiAgICBpZiAocmVjZWlwdC50eXBlID09PSBSZWNlaXB0VHlwZTguTG9nRGF0YSB8fCByZWNlaXB0LnR5cGUgPT09IFJlY2VpcHRUeXBlOC5Mb2cpIHtcbiAgICAgIGNvbnN0IGlzTG9nRnJvbU1haW5BYmkgPSByZWNlaXB0LmlkID09PSBaZXJvQnl0ZXMzMjExIHx8IG1haW5Db250cmFjdCA9PT0gcmVjZWlwdC5pZDtcbiAgICAgIGNvbnN0IGlzRGVjb2RhYmxlID0gaXNMb2dGcm9tTWFpbkFiaSB8fCBleHRlcm5hbEFiaXNbcmVjZWlwdC5pZF07XG4gICAgICBpZiAoaXNEZWNvZGFibGUpIHtcbiAgICAgICAgY29uc3QgaW50ZXJmYWNlVG9Vc2UgPSBpc0xvZ0Zyb21NYWluQWJpID8gbmV3IEludGVyZmFjZTMobWFpbkFiaSkgOiBuZXcgSW50ZXJmYWNlMyhleHRlcm5hbEFiaXNbcmVjZWlwdC5pZF0pO1xuICAgICAgICBjb25zdCBkYXRhID0gcmVjZWlwdC50eXBlID09PSBSZWNlaXB0VHlwZTguTG9nID8gbmV3IEJpZ051bWJlckNvZGVyMihcInU2NFwiKS5lbmNvZGUocmVjZWlwdC5yYSkgOiByZWNlaXB0LmRhdGE7XG4gICAgICAgIGNvbnN0IFtkZWNvZGVkTG9nXSA9IGludGVyZmFjZVRvVXNlLmRlY29kZUxvZyhkYXRhLCByZWNlaXB0LnJiLnRvU3RyaW5nKCkpO1xuICAgICAgICBsb2dzLnB1c2goZGVjb2RlZExvZyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb2dzO1xuICB9LCBbXSk7XG59XG5fX25hbWUoZ2V0RGVjb2RlZExvZ3MsIFwiZ2V0RGVjb2RlZExvZ3NcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdXRpbHMvYXV0by1yZXRyeS1mZXRjaC50c1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcbmZ1bmN0aW9uIGdldFdhaXREZWxheShvcHRpb25zLCByZXRyeUF0dGVtcHROdW0pIHtcbiAgY29uc3QgZHVyYXRpb24gPSBvcHRpb25zLmJhc2VEZWxheSA/PyAxNTA7XG4gIHN3aXRjaCAob3B0aW9ucy5iYWNrb2ZmKSB7XG4gICAgY2FzZSBcImxpbmVhclwiOlxuICAgICAgcmV0dXJuIGR1cmF0aW9uICogcmV0cnlBdHRlbXB0TnVtO1xuICAgIGNhc2UgXCJmaXhlZFwiOlxuICAgICAgcmV0dXJuIGR1cmF0aW9uO1xuICAgIGNhc2UgXCJleHBvbmVudGlhbFwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMiAqKiAocmV0cnlBdHRlbXB0TnVtIC0gMSkgKiBkdXJhdGlvbjtcbiAgfVxufVxuX19uYW1lKGdldFdhaXREZWxheSwgXCJnZXRXYWl0RGVsYXlcIik7XG5mdW5jdGlvbiBhdXRvUmV0cnlGZXRjaChmZXRjaEZuLCBvcHRpb25zLCByZXRyeUF0dGVtcHROdW0gPSAwKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gZmV0Y2hGbjtcbiAgfVxuICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGZldGNoRm4oLi4uYXJncyk7XG4gICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICBjb25zdCBlcnJvciA9IF9lcnJvcjtcbiAgICAgIGlmIChlcnJvci5jYXVzZT8uY29kZSAhPT0gXCJFQ09OTlJFRlVTRURcIikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJldHJ5TnVtID0gcmV0cnlBdHRlbXB0TnVtICsgMTtcbiAgICAgIGlmIChyZXRyeU51bSA+IG9wdGlvbnMubWF4UmV0cmllcykge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlbGF5ID0gZ2V0V2FpdERlbGF5KG9wdGlvbnMsIHJldHJ5TnVtKTtcbiAgICAgIGF3YWl0IHNsZWVwKGRlbGF5KTtcbiAgICAgIHJldHVybiBhdXRvUmV0cnlGZXRjaChmZXRjaEZuLCBvcHRpb25zLCByZXRyeU51bSkoLi4uYXJncyk7XG4gICAgfVxuICB9O1xufVxuX19uYW1lKGF1dG9SZXRyeUZldGNoLCBcImF1dG9SZXRyeUZldGNoXCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3V0aWxzL3BhcnNlLWdyYXBocWwtcmVzcG9uc2UudHNcbnZhciBwYXJzZUdyYXBocWxSZXNwb25zZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKG9wdGlvbnMpID0+IHtcbiAgY29uc3QgeyByZXNwb25zZSwgaXNTdWJzY3JpcHRpb24gfSA9IG9wdGlvbnM7XG4gIGxldCBleHRlbnNpb25zO1xuICBjb25zdCByZXNwb25zZUNsb25lID0gcmVzcG9uc2UuY2xvbmUoKTtcbiAgaWYgKGlzU3Vic2NyaXB0aW9uKSB7XG4gICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2VDbG9uZS5ib2R5Py5nZXRSZWFkZXIoKTtcbiAgICBjb25zdCB7IGV2ZW50IH0gPSBhd2FpdCBGdWVsR3JhcGhxbFN1YnNjcmliZXIucmVhZEV2ZW50KHJlYWRlcik7XG4gICAgZXh0ZW5zaW9ucyA9IGV2ZW50Py5leHRlbnNpb25zO1xuICB9IGVsc2Uge1xuICAgIGV4dGVuc2lvbnMgPSAoYXdhaXQgcmVzcG9uc2VDbG9uZS5qc29uKCkpLmV4dGVuc2lvbnM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBleHRlbnNpb25zXG4gIH07XG59LCBcInBhcnNlR3JhcGhxbFJlc3BvbnNlXCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3V0aWxzL3ZhbGlkYXRlLXBhZ2luYXRpb24tYXJncy50c1xuaW1wb3J0IHsgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjE4LCBFcnJvckNvZGUgYXMgRXJyb3JDb2RlMTYgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG52YXIgdmFsaWRhdGVQYWdpbmF0aW9uQXJncyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmFtcykgPT4ge1xuICBjb25zdCB7IHBhZ2luYXRpb25MaW1pdCwgaW5wdXRBcmdzID0ge30gfSA9IHBhcmFtcztcbiAgY29uc3QgeyBmaXJzdCwgbGFzdCwgYWZ0ZXIsIGJlZm9yZSB9ID0gaW5wdXRBcmdzO1xuICBpZiAoYWZ0ZXIgJiYgYmVmb3JlKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjE4KFxuICAgICAgRXJyb3JDb2RlMTYuSU5WQUxJRF9JTlBVVF9QQVJBTUVURVJTLFxuICAgICAgJ1BhZ2luYXRpb24gYXJndW1lbnRzIFwiYWZ0ZXJcIiBhbmQgXCJiZWZvcmVcIiBjYW5ub3QgYmUgdXNlZCB0b2dldGhlcidcbiAgICApO1xuICB9XG4gIGlmICgoZmlyc3QgfHwgMCkgPiBwYWdpbmF0aW9uTGltaXQgfHwgKGxhc3QgfHwgMCkgPiBwYWdpbmF0aW9uTGltaXQpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMTgoXG4gICAgICBFcnJvckNvZGUxNi5JTlZBTElEX0lOUFVUX1BBUkFNRVRFUlMsXG4gICAgICBgUGFnaW5hdGlvbiBsaW1pdCBmb3IgdGhpcyBxdWVyeSBjYW5ub3QgZXhjZWVkICR7cGFnaW5hdGlvbkxpbWl0fSBpdGVtc2BcbiAgICApO1xuICB9XG4gIGlmIChmaXJzdCAmJiBiZWZvcmUpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMTgoXG4gICAgICBFcnJvckNvZGUxNi5JTlZBTElEX0lOUFVUX1BBUkFNRVRFUlMsXG4gICAgICAnVGhlIHVzZSBvZiBwYWdpbmF0aW9uIGFyZ3VtZW50IFwiZmlyc3RcIiB3aXRoIFwiYmVmb3JlXCIgaXMgbm90IHN1cHBvcnRlZCdcbiAgICApO1xuICB9XG4gIGlmIChsYXN0ICYmIGFmdGVyKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjE4KFxuICAgICAgRXJyb3JDb2RlMTYuSU5WQUxJRF9JTlBVVF9QQVJBTUVURVJTLFxuICAgICAgJ1RoZSB1c2Ugb2YgcGFnaW5hdGlvbiBhcmd1bWVudCBcImxhc3RcIiB3aXRoIFwiYWZ0ZXJcIiBpcyBub3Qgc3VwcG9ydGVkJ1xuICAgICk7XG4gIH1cbiAgaWYgKCFmaXJzdCAmJiAhbGFzdCkge1xuICAgIGlucHV0QXJncy5maXJzdCA9IHBhZ2luYXRpb25MaW1pdDtcbiAgfVxuICByZXR1cm4gaW5wdXRBcmdzO1xufSwgXCJ2YWxpZGF0ZVBhZ2luYXRpb25BcmdzXCIpO1xuXG4vLyBzcmMvcHJvdmlkZXJzL3Byb3ZpZGVyLnRzXG52YXIgTUFYX1JFVFJJRVMgPSAxMDtcbnZhciBSRVNPVVJDRVNfUEFHRV9TSVpFX0xJTUlUID0gNTEyO1xudmFyIFRSQU5TQUNUSU9OU19QQUdFX1NJWkVfTElNSVQgPSA2MDtcbnZhciBCQUxBTkNFU19QQUdFX1NJWkVfTElNSVQgPSAxMDA7XG52YXIgTk9OX1BBR0lOQVRFRF9CQUxBTkNFU19TSVpFID0gMWU0O1xudmFyIEJMT0NLU19QQUdFX1NJWkVfTElNSVQgPSA1O1xudmFyIERFRkFVTFRfUkVTT1VSQ0VfQ0FDSEVfVFRMID0gMmU0O1xudmFyIEdBU19VU0VEX01PRElGSUVSID0gMS4yO1xudmFyIFdSSVRFX09QRVJBVElPTlMgPSBbXG4gIFwic3VibWl0XCIsXG4gIFwic3VibWl0QW5kQXdhaXRTdGF0dXNcIixcbiAgXCJwcm9kdWNlQmxvY2tzXCJcbl07XG52YXIgUHJvdmlkZXIgPSBjbGFzcyBfUHJvdmlkZXIge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIlByb3ZpZGVyXCIpO1xuICB9XG4gIG9wZXJhdGlvbnM7XG4gIGNhY2hlO1xuICAvKipcbiAgICogQGhpZGRlblxuICAgKiBAcGFyYW0gdXJsIC0gSWYgcHJvdmlkZWQsIGNsZWFycyBjYWNoZSBvbmx5IGZvciBnaXZlbiB1cmxcbiAgICovXG4gIHN0YXRpYyBjbGVhckNoYWluQW5kTm9kZUNhY2hlcyh1cmwpIHtcbiAgICBpZiAodXJsKSB7XG4gICAgICBkZWxldGUgX1Byb3ZpZGVyLmluZmxpZ2h0RmV0Y2hDaGFpbkFuZE5vZGVJbmZvUmVxdWVzdHNbdXJsXTtcbiAgICAgIGRlbGV0ZSBfUHJvdmlkZXIuY2hhaW5JbmZvQ2FjaGVbdXJsXTtcbiAgICAgIGRlbGV0ZSBfUHJvdmlkZXIubm9kZUluZm9DYWNoZVt1cmxdO1xuICAgICAgZGVsZXRlIF9Qcm92aWRlci5jdXJyZW50QmxvY2tIZWlnaHRDYWNoZVt1cmxdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfUHJvdmlkZXIuaW5mbGlnaHRGZXRjaENoYWluQW5kTm9kZUluZm9SZXF1ZXN0cyA9IHt9O1xuICAgIF9Qcm92aWRlci5ub2RlSW5mb0NhY2hlID0ge307XG4gICAgX1Byb3ZpZGVyLmNoYWluSW5mb0NhY2hlID0ge307XG4gICAgX1Byb3ZpZGVyLmN1cnJlbnRCbG9ja0hlaWdodENhY2hlID0ge307XG4gIH1cbiAgLyoqIEBoaWRkZW4gKi9cbiAgdXJsO1xuICAvKiogQGhpZGRlbiAqL1xuICB1cmxXaXRob3V0QXV0aDtcbiAgLyoqXG4gICAqIEdvdmVybnMgd2hldGhlciB0byBpbmNsdWRlIHRoZSByZXF1aXJlZCBibG9jayBoZWlnaHQgaW4gdGhlIHJlcXVlc3QgYm9keVxuICAgKiBmb3IgYmxvY2stc2Vuc2l0aXZlIG9wZXJhdGlvbnMgbGlrZSB3aGVuIHN1Ym1pdHRpbmcgYSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogVGhpcyBlbnN1cmVzIHRoYXQgdGhlIG9wZXJhdGlvbiBpcyBleGVjdXRlZCBhdCB0aGUgY29ycmVjdCBibG9jayBoZWlnaHQsXG4gICAqIHJlZ2FyZGxlc3Mgb2Ygd2hpY2ggbm9kZSBpbiB0aGUgbmV0d29yayB0aGUgcmVxdWVzdCBpcyByb3V0ZWQgdG8uXG4gICAqXG4gICAqIGB0cnVlYCBieSBkZWZhdWx0LlxuICAgKi9cbiAgc3RhdGljIEVOQUJMRV9SUENfQ09OU0lTVEVOQ1kgPSB0cnVlO1xuICAvKiogQGhpZGRlbiAqL1xuICBzdGF0aWMgaW5mbGlnaHRGZXRjaENoYWluQW5kTm9kZUluZm9SZXF1ZXN0cyA9IHt9O1xuICAvKiogQGhpZGRlbiAqL1xuICBzdGF0aWMgY2hhaW5JbmZvQ2FjaGUgPSB7fTtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgc3RhdGljIG5vZGVJbmZvQ2FjaGUgPSB7fTtcbiAgLyoqIEBoaWRkZW4gKi9cbiAgc3RhdGljIGN1cnJlbnRCbG9ja0hlaWdodENhY2hlID0ge307XG4gIC8qKiBAaGlkZGVuICovXG4gIHN0YXRpYyBpbmNvbXBhdGlibGVOb2RlVmVyc2lvbk1lc3NhZ2UgPSBcIlwiO1xuICAvKiogQGhpZGRlbiAqL1xuICBjb25zZW5zdXNQYXJhbWV0ZXJzVGltZXN0YW1wO1xuICBvcHRpb25zID0ge1xuICAgIHRpbWVvdXQ6IHZvaWQgMCxcbiAgICByZXNvdXJjZUNhY2hlVFRMOiB2b2lkIDAsXG4gICAgZmV0Y2g6IHZvaWQgMCxcbiAgICByZXRyeU9wdGlvbnM6IHZvaWQgMCxcbiAgICBoZWFkZXJzOiB2b2lkIDAsXG4gICAgY2FjaGU6IHZvaWQgMFxuICB9O1xuICBzdGF0aWMgZXh0cmFjdE9wZXJhdGlvbk5hbWUoYm9keSkge1xuICAgIHJldHVybiBib2R5Py50b1N0cmluZygpLm1hdGNoKC9cIm9wZXJhdGlvbk5hbWVcIjpcIiguKylcIi8pPy5bMV07XG4gIH1cbiAgc3RhdGljIGlzV3JpdGVPcGVyYXRpb24oYm9keSkge1xuICAgIHJldHVybiBXUklURV9PUEVSQVRJT05TLmluY2x1ZGVzKHRoaXMuZXh0cmFjdE9wZXJhdGlvbk5hbWUoYm9keSkpO1xuICB9XG4gIHN0YXRpYyBub3JtYWxpemVVcmwodXJsKSB7XG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKC8tc3ViJC8sIFwiXCIpO1xuICB9XG4gIHN0YXRpYyBoYXNXcml0ZU9wZXJhdGlvbkhhcHBlbmVkKHVybCkge1xuICAgIHJldHVybiBpc0RlZmluZWQzKF9Qcm92aWRlci5jdXJyZW50QmxvY2tIZWlnaHRDYWNoZVt0aGlzLm5vcm1hbGl6ZVVybCh1cmwpXSk7XG4gIH1cbiAgLyoqXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIHN0YXRpYyBnZXRGZXRjaEZuKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHJldHJ5T3B0aW9ucywgdGltZW91dCwgaGVhZGVycyB9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gYXV0b1JldHJ5RmV0Y2goYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IHVybCA9IGFyZ3NbMF07XG4gICAgICBjb25zdCByZXF1ZXN0MiA9IGFyZ3NbMV07XG4gICAgICBjb25zdCBzaWduYWwgPSB0aW1lb3V0ID8gQWJvcnRTaWduYWwudGltZW91dCh0aW1lb3V0KSA6IHZvaWQgMDtcbiAgICAgIGxldCBmdWxsUmVxdWVzdCA9IHtcbiAgICAgICAgLi4ucmVxdWVzdDIsXG4gICAgICAgIHNpZ25hbCxcbiAgICAgICAgaGVhZGVyczogeyAuLi5yZXF1ZXN0Mj8uaGVhZGVycywgLi4uaGVhZGVycyB9XG4gICAgICB9O1xuICAgICAgaWYgKG9wdGlvbnMucmVxdWVzdE1pZGRsZXdhcmUpIHtcbiAgICAgICAgZnVsbFJlcXVlc3QgPSBhd2FpdCBvcHRpb25zLnJlcXVlc3RNaWRkbGV3YXJlKGZ1bGxSZXF1ZXN0KTtcbiAgICAgIH1cbiAgICAgIGlmIChfUHJvdmlkZXIuRU5BQkxFX1JQQ19DT05TSVNURU5DWSAmJiBfUHJvdmlkZXIuaGFzV3JpdGVPcGVyYXRpb25IYXBwZW5lZCh1cmwpKSB7XG4gICAgICAgIF9Qcm92aWRlci5hcHBseUJsb2NrSGVpZ2h0KGZ1bGxSZXF1ZXN0LCB1cmwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9Qcm92aWRlci5mZXRjaEFuZFByb2Nlc3NCbG9ja0hlaWdodCh1cmwsIGZ1bGxSZXF1ZXN0LCBvcHRpb25zKTtcbiAgICB9LCByZXRyeU9wdGlvbnMpO1xuICB9XG4gIHN0YXRpYyBhcHBseUJsb2NrSGVpZ2h0KHJlcXVlc3QyLCB1cmwpIHtcbiAgICBjb25zdCBub3JtYWxpemVkVXJsID0gdGhpcy5ub3JtYWxpemVVcmwodXJsKTtcbiAgICBjb25zdCBjdXJyZW50QmxvY2tIZWlnaHQgPSBfUHJvdmlkZXIuY3VycmVudEJsb2NrSGVpZ2h0Q2FjaGVbbm9ybWFsaXplZFVybF0gPz8gMDtcbiAgICByZXF1ZXN0Mi5ib2R5ID0gcmVxdWVzdDIuYm9keT8udG9TdHJpbmcoKS5yZXBsYWNlKC99JC8sIGAsXCJleHRlbnNpb25zXCI6e1wicmVxdWlyZWRfZnVlbF9ibG9ja19oZWlnaHRcIjoke2N1cnJlbnRCbG9ja0hlaWdodH19fWApO1xuICB9XG4gIHN0YXRpYyBhc3luYyBmZXRjaEFuZFByb2Nlc3NCbG9ja0hlaWdodCh1cmwsIHJlcXVlc3QyLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmV0Y2hGbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4gb3B0aW9ucy5mZXRjaCA/IG9wdGlvbnMuZmV0Y2godXJsLCByZXF1ZXN0Miwgb3B0aW9ucykgOiBmZXRjaCh1cmwsIHJlcXVlc3QyKSwgXCJmZXRjaEZuXCIpO1xuICAgIGNvbnN0IGlzV3JpdGVPcGVyYXRpb24gPSBfUHJvdmlkZXIuaXNXcml0ZU9wZXJhdGlvbihyZXF1ZXN0Mi5ib2R5KTtcbiAgICBpZiAoaXNXcml0ZU9wZXJhdGlvbiAmJiAhX1Byb3ZpZGVyLmhhc1dyaXRlT3BlcmF0aW9uSGFwcGVuZWQodXJsKSkge1xuICAgICAgX1Byb3ZpZGVyLmN1cnJlbnRCbG9ja0hlaWdodENhY2hlW19Qcm92aWRlci5ub3JtYWxpemVVcmwodXJsKV0gPSAwO1xuICAgIH1cbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaEZuKCk7XG4gICAgaWYgKCFfUHJvdmlkZXIuRU5BQkxFX1JQQ19DT05TSVNURU5DWSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBjb25zdCByZXRyeU9wdGlvbnMgPSB7XG4gICAgICBtYXhSZXRyaWVzOiA1LFxuICAgICAgYmFzZURlbGF5OiA1MDBcbiAgICB9O1xuICAgIGZvciAobGV0IHJldHJpZXNMZWZ0ID0gcmV0cnlPcHRpb25zLm1heFJldHJpZXM7IHJldHJpZXNMZWZ0ID4gMDsgLS1yZXRyaWVzTGVmdCkge1xuICAgICAgY29uc3QgeyBleHRlbnNpb25zIH0gPSBhd2FpdCBwYXJzZUdyYXBocWxSZXNwb25zZSh7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICBpc1N1YnNjcmlwdGlvbjogdXJsLmVuZHNXaXRoKFwiLXN1YlwiKVxuICAgICAgfSk7XG4gICAgICBfUHJvdmlkZXIuc2V0Q3VycmVudEJsb2NrSGVpZ2h0KHVybCwgZXh0ZW5zaW9ucz8uY3VycmVudF9mdWVsX2Jsb2NrX2hlaWdodCk7XG4gICAgICBpZiAoIWV4dGVuc2lvbnM/LmZ1ZWxfYmxvY2tfaGVpZ2h0X3ByZWNvbmRpdGlvbl9mYWlsZWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCByZXRyeUF0dGVtcHQgPSByZXRyeU9wdGlvbnMubWF4UmV0cmllcyAtIHJldHJpZXNMZWZ0ICsgMTtcbiAgICAgIGNvbnN0IHNsZWVwVGltZSA9IGdldFdhaXREZWxheShyZXRyeU9wdGlvbnMsIHJldHJ5QXR0ZW1wdCk7XG4gICAgICBhd2FpdCBzbGVlcDIoc2xlZXBUaW1lKTtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hGbigpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbiAgc3RhdGljIHNldEN1cnJlbnRCbG9ja0hlaWdodCh1cmwsIGhlaWdodCkge1xuICAgIGNvbnN0IHdyaXRlT3BlcmF0aW9uSGFwcGVuZWQgPSBfUHJvdmlkZXIuaGFzV3JpdGVPcGVyYXRpb25IYXBwZW5lZCh1cmwpO1xuICAgIGlmICghaXNEZWZpbmVkMyhoZWlnaHQpIHx8ICF3cml0ZU9wZXJhdGlvbkhhcHBlbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRVcmwgPSBfUHJvdmlkZXIubm9ybWFsaXplVXJsKHVybCk7XG4gICAgaWYgKGhlaWdodCA+IF9Qcm92aWRlci5jdXJyZW50QmxvY2tIZWlnaHRDYWNoZVtub3JtYWxpemVkVXJsXSkge1xuICAgICAgX1Byb3ZpZGVyLmN1cnJlbnRCbG9ja0hlaWdodENhY2hlW25vcm1hbGl6ZWRVcmxdID0gaGVpZ2h0O1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0b3IgdG8gaW5pdGlhbGl6ZSBhIFByb3ZpZGVyLlxuICAgKlxuICAgKiBAcGFyYW0gdXJsIC0gR3JhcGhRTCBlbmRwb2ludCBvZiB0aGUgRnVlbCBub2RlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zIGZvciB0aGUgcHJvdmlkZXJcbiAgICogQGhpZGRlblxuICAgKi9cbiAgY29uc3RydWN0b3IodXJsLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCB7IHVybDogcmF3VXJsLCB1cmxXaXRob3V0QXV0aCwgaGVhZGVyczogYXV0aEhlYWRlcnMgfSA9IF9Qcm92aWRlci5leHRyYWN0QmFzaWNBdXRoKHVybCk7XG4gICAgdGhpcy51cmwgPSByYXdVcmw7XG4gICAgdGhpcy51cmxXaXRob3V0QXV0aCA9IHVybFdpdGhvdXRBdXRoO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIGNvbnN0IHsgRlVFTFMgfSA9IHZlcnNpb25zO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLmF1dGhIZWFkZXJzLCAuLi5vcHRpb25zLmhlYWRlcnMsIFNvdXJjZTogYHRzLXNkay0ke0ZVRUxTfWAgfTtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaGVhZGVyc1xuICAgIH07XG4gICAgdGhpcy5vcGVyYXRpb25zID0gdGhpcy5jcmVhdGVPcGVyYXRpb25zKCk7XG4gICAgY29uc3QgeyByZXNvdXJjZUNhY2hlVFRMLCBjYWNoZTogY2FjaGUyIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYgKGNhY2hlMikge1xuICAgICAgY29uc3QgeyBjb25zZW5zdXNQYXJhbWV0ZXJzVGltZXN0YW1wLCBjaGFpbiwgbm9kZUluZm8gfSA9IGRlc2VyaWFsaXplUHJvdmlkZXJDYWNoZShjYWNoZTIpO1xuICAgICAgdGhpcy5jb25zZW5zdXNQYXJhbWV0ZXJzVGltZXN0YW1wID0gY29uc2Vuc3VzUGFyYW1ldGVyc1RpbWVzdGFtcDtcbiAgICAgIF9Qcm92aWRlci5jaGFpbkluZm9DYWNoZVt0aGlzLnVybFdpdGhvdXRBdXRoXSA9IGNoYWluO1xuICAgICAgX1Byb3ZpZGVyLm5vZGVJbmZvQ2FjaGVbdGhpcy51cmxXaXRob3V0QXV0aF0gPSBub2RlSW5mbztcbiAgICB9XG4gICAgaWYgKGlzRGVmaW5lZDMocmVzb3VyY2VDYWNoZVRUTCkpIHtcbiAgICAgIGlmIChyZXNvdXJjZUNhY2hlVFRMICE9PSAtMSkge1xuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IFJlc291cmNlQ2FjaGUocmVzb3VyY2VDYWNoZVRUTCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNhY2hlID0gdm9pZCAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhY2hlID0gbmV3IFJlc291cmNlQ2FjaGUoREVGQVVMVF9SRVNPVVJDRV9DQUNIRV9UVEwpO1xuICAgIH1cbiAgfVxuICBzdGF0aWMgZXh0cmFjdEJhc2ljQXV0aCh1cmwpIHtcbiAgICBsZXQgcGFyc2VkVXJsO1xuICAgIHRyeSB7XG4gICAgICBwYXJzZWRVcmwgPSBuZXcgVVJMKHVybCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IxOShGdWVsRXJyb3IxOS5DT0RFUy5JTlZBTElEX1VSTCwgXCJJbnZhbGlkIFVSTCBwcm92aWRlZC5cIiwgeyB1cmwgfSwgZXJyb3IpO1xuICAgIH1cbiAgICBjb25zdCB1c2VybmFtZSA9IHBhcnNlZFVybC51c2VybmFtZTtcbiAgICBjb25zdCBwYXNzd29yZCA9IHBhcnNlZFVybC5wYXNzd29yZDtcbiAgICBjb25zdCB1cmxXaXRob3V0QXV0aCA9IGAke3BhcnNlZFVybC5vcmlnaW59JHtwYXJzZWRVcmwucGF0aG5hbWV9YDtcbiAgICBpZiAoISh1c2VybmFtZSAmJiBwYXNzd29yZCkpIHtcbiAgICAgIHJldHVybiB7IHVybCwgdXJsV2l0aG91dEF1dGg6IHVybCwgaGVhZGVyczogdm9pZCAwIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB1cmwsXG4gICAgICB1cmxXaXRob3V0QXV0aCxcbiAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJhc2ljICR7YnRvYShgJHt1c2VybmFtZX06JHtwYXNzd29yZH1gKX1gIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIFByb3ZpZGVyIGFzeW5jIHN0dWZmXG4gICAqL1xuICBhc3luYyBpbml0KCkge1xuICAgIGF3YWl0IHRoaXMuZmV0Y2hDaGFpbkFuZE5vZGVJbmZvKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGBjaGFpbkluZm9gIGZvciB0aGUgY3VycmVudCBuZXR3b3JrLlxuICAgKlxuICAgKiBAcmV0dXJucyB0aGUgY2hhaW4gaW5mb3JtYXRpb24gY29uZmlndXJhdGlvbi5cbiAgICovXG4gIGFzeW5jIGdldENoYWluKCkge1xuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIHJldHVybiBfUHJvdmlkZXIuY2hhaW5JbmZvQ2FjaGVbdGhpcy51cmxXaXRob3V0QXV0aF07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGBub2RlSW5mb2AgZm9yIHRoZSBjdXJyZW50IG5ldHdvcmsuXG4gICAqXG4gICAqIEByZXR1cm5zIHRoZSBub2RlIGluZm9ybWF0aW9uIGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBhc3luYyBnZXROb2RlKCkge1xuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIHJldHVybiBfUHJvdmlkZXIubm9kZUluZm9DYWNoZVt0aGlzLnVybFdpdGhvdXRBdXRoXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzb21lIGhlbHBmdWwgcGFyYW1ldGVycyByZWxhdGVkIHRvIGdhcyBmZWVzLlxuICAgKi9cbiAgYXN5bmMgZ2V0R2FzQ29uZmlnKCkge1xuICAgIGF3YWl0IHRoaXMuaW5pdCgpO1xuICAgIGNvbnN0IHtcbiAgICAgIHR4UGFyYW1ldGVyczogeyBtYXhHYXNQZXJUeCB9LFxuICAgICAgcHJlZGljYXRlUGFyYW1ldGVyczogeyBtYXhHYXNQZXJQcmVkaWNhdGUgfSxcbiAgICAgIGZlZVBhcmFtZXRlcnM6IHsgZ2FzUHJpY2VGYWN0b3IsIGdhc1BlckJ5dGUgfSxcbiAgICAgIGdhc0Nvc3RzXG4gICAgfSA9IChhd2FpdCB0aGlzLmdldENoYWluKCkpLmNvbnNlbnN1c1BhcmFtZXRlcnM7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1heEdhc1BlclR4LFxuICAgICAgbWF4R2FzUGVyUHJlZGljYXRlLFxuICAgICAgZ2FzUHJpY2VGYWN0b3IsXG4gICAgICBnYXNQZXJCeXRlLFxuICAgICAgZ2FzQ29zdHNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBVUkwgZm9yIHRoZSBwcm92aWRlciBhbmQgZmV0Y2hlcyB0aGUgY29uc2Vuc3VzIHBhcmFtZXRlcnMgZm9yIHRoZSBuZXcgVVJMLCBpZiBuZWVkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB1cmwgLSBUaGUgVVJMIHRvIGNvbm5lY3QgdG8uXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zIGZvciB0aGUgcHJvdmlkZXIuXG4gICAqL1xuICBhc3luYyBjb25uZWN0KHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgdXJsOiByYXdVcmwsIHVybFdpdGhvdXRBdXRoLCBoZWFkZXJzIH0gPSBfUHJvdmlkZXIuZXh0cmFjdEJhc2ljQXV0aCh1cmwpO1xuICAgIHRoaXMudXJsID0gcmF3VXJsO1xuICAgIHRoaXMudXJsV2l0aG91dEF1dGggPSB1cmxXaXRob3V0QXV0aDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zID8/IHRoaXMub3B0aW9ucztcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucywgaGVhZGVyczogeyAuLi50aGlzLm9wdGlvbnMuaGVhZGVycywgLi4uaGVhZGVycyB9IH07XG4gICAgdGhpcy5vcGVyYXRpb25zID0gdGhpcy5jcmVhdGVPcGVyYXRpb25zKCk7XG4gICAgYXdhaXQgdGhpcy5pbml0KCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY2hhaW4gYW5kIG5vZGUgaW5mb3JtYXRpb24uXG4gICAqIEBwYXJhbSBpZ25vcmVDYWNoZSAtIElmIHRydWUsIGlnbm9yZXMgdGhlIGNhY2hlIGFuZCByZS1mZXRjaCBjb25maWdzLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgQ2hhaW4gYW5kIE5vZGVJbmZvLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2hDaGFpbkFuZE5vZGVJbmZvKGlnbm9yZUNhY2hlID0gZmFsc2UpIHtcbiAgICBjb25zdCBub2RlSW5mbyA9IF9Qcm92aWRlci5ub2RlSW5mb0NhY2hlW3RoaXMudXJsV2l0aG91dEF1dGhdO1xuICAgIGNvbnN0IGNoYWluID0gX1Byb3ZpZGVyLmNoYWluSW5mb0NhY2hlW3RoaXMudXJsV2l0aG91dEF1dGhdO1xuICAgIGNvbnN0IGhhc0NhY2hlID0gbm9kZUluZm8gJiYgY2hhaW47XG4gICAgaWYgKGhhc0NhY2hlICYmICFpZ25vcmVDYWNoZSkge1xuICAgICAgcmV0dXJuIHsgbm9kZUluZm8sIGNoYWluIH07XG4gICAgfVxuICAgIGNvbnN0IGluZmxpZ2h0UmVxdWVzdCA9IF9Qcm92aWRlci5pbmZsaWdodEZldGNoQ2hhaW5BbmROb2RlSW5mb1JlcXVlc3RzW3RoaXMudXJsV2l0aG91dEF1dGhdO1xuICAgIGlmIChpbmZsaWdodFJlcXVlc3QpIHtcbiAgICAgIHJldHVybiBpbmZsaWdodFJlcXVlc3QudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLmNvbnNlbnN1c1BhcmFtZXRlcnNUaW1lc3RhbXAgPSBkYXRhLmNvbnNlbnN1c1BhcmFtZXRlcnNUaW1lc3RhbXA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm9kZUluZm86IF9Qcm92aWRlci5ub2RlSW5mb0NhY2hlW3RoaXMudXJsV2l0aG91dEF1dGhdLFxuICAgICAgICAgIGNoYWluOiBfUHJvdmlkZXIuY2hhaW5JbmZvQ2FjaGVbdGhpcy51cmxXaXRob3V0QXV0aF1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBnZXRDaGFpbkFuZE5vZGVJbmZvRnJvbU5ldHdvcmsgPSB0aGlzLm9wZXJhdGlvbnMuZ2V0Q2hhaW5BbmROb2RlSW5mbygpLnRoZW4oKGRhdGEpID0+ICh7XG4gICAgICBjaGFpbjogZGVzZXJpYWxpemVDaGFpbihkYXRhLmNoYWluKSxcbiAgICAgIG5vZGVJbmZvOiBkZXNlcmlhbGl6ZU5vZGVJbmZvKGRhdGEubm9kZUluZm8pLFxuICAgICAgY29uc2Vuc3VzUGFyYW1ldGVyc1RpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgIH0pKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICBfUHJvdmlkZXIuc2V0SW5jb21wYXRpYmxlTm9kZVZlcnNpb25NZXNzYWdlKGRhdGEubm9kZUluZm8pO1xuICAgICAgX1Byb3ZpZGVyLmNoYWluSW5mb0NhY2hlW3RoaXMudXJsV2l0aG91dEF1dGhdID0gZGF0YS5jaGFpbjtcbiAgICAgIF9Qcm92aWRlci5ub2RlSW5mb0NhY2hlW3RoaXMudXJsV2l0aG91dEF1dGhdID0gZGF0YS5ub2RlSW5mbztcbiAgICAgIHRoaXMuY29uc2Vuc3VzUGFyYW1ldGVyc1RpbWVzdGFtcCA9IGRhdGEuY29uc2Vuc3VzUGFyYW1ldGVyc1RpbWVzdGFtcDtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEZ1ZWxFcnJvcjE5KFxuICAgICAgICBGdWVsRXJyb3IxOS5DT0RFUy5DT05ORUNUSU9OX1JFRlVTRUQsXG4gICAgICAgIFwiVW5hYmxlIHRvIGZldGNoIGNoYWluIGFuZCBub2RlIGluZm8gZnJvbSB0aGUgbmV0d29ya1wiLFxuICAgICAgICB7IHVybDogdGhpcy51cmxXaXRob3V0QXV0aCB9LFxuICAgICAgICBlcnJcbiAgICAgICk7XG4gICAgICBlcnJvci5jYXVzZSA9IHsgY29kZTogXCJFQ09OTlJFRlVTRURcIiB9O1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICBkZWxldGUgX1Byb3ZpZGVyLmluZmxpZ2h0RmV0Y2hDaGFpbkFuZE5vZGVJbmZvUmVxdWVzdHNbdGhpcy51cmxXaXRob3V0QXV0aF07XG4gICAgfSk7XG4gICAgX1Byb3ZpZGVyLmluZmxpZ2h0RmV0Y2hDaGFpbkFuZE5vZGVJbmZvUmVxdWVzdHNbdGhpcy51cmxXaXRob3V0QXV0aF0gPSBnZXRDaGFpbkFuZE5vZGVJbmZvRnJvbU5ldHdvcms7XG4gICAgcmV0dXJuIF9Qcm92aWRlci5pbmZsaWdodEZldGNoQ2hhaW5BbmROb2RlSW5mb1JlcXVlc3RzW3RoaXMudXJsV2l0aG91dEF1dGhdLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuY29uc2Vuc3VzUGFyYW1ldGVyc1RpbWVzdGFtcCA9IGRhdGEuY29uc2Vuc3VzUGFyYW1ldGVyc1RpbWVzdGFtcDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5vZGVJbmZvOiBfUHJvdmlkZXIubm9kZUluZm9DYWNoZVt0aGlzLnVybFdpdGhvdXRBdXRoXSxcbiAgICAgICAgY2hhaW46IF9Qcm92aWRlci5jaGFpbkluZm9DYWNoZVt0aGlzLnVybFdpdGhvdXRBdXRoXVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKi9cbiAgc3RhdGljIHNldEluY29tcGF0aWJsZU5vZGVWZXJzaW9uTWVzc2FnZShub2RlSW5mbykge1xuICAgIGNvbnN0IHsgaXNNYWpvclN1cHBvcnRlZCwgaXNNaW5vclN1cHBvcnRlZCwgc3VwcG9ydGVkVmVyc2lvbiB9ID0gY2hlY2tGdWVsQ29yZVZlcnNpb25Db21wYXRpYmlsaXR5KG5vZGVJbmZvLm5vZGVWZXJzaW9uKTtcbiAgICBpZiAoIWlzTWFqb3JTdXBwb3J0ZWQgfHwgIWlzTWlub3JTdXBwb3J0ZWQpIHtcbiAgICAgIF9Qcm92aWRlci5pbmNvbXBhdGlibGVOb2RlVmVyc2lvbk1lc3NhZ2UgPSBbXG4gICAgICAgIGBUaGUgRnVlbCBOb2RlIHRoYXQgeW91IGFyZSB0cnlpbmcgdG8gY29ubmVjdCB0byBpcyB1c2luZyBmdWVsLWNvcmUgdmVyc2lvbiAke25vZGVJbmZvLm5vZGVWZXJzaW9ufS5gLFxuICAgICAgICBgVGhlIFRTIFNESyBjdXJyZW50bHkgc3VwcG9ydHMgZnVlbC1jb3JlIHZlcnNpb24gJHtzdXBwb3J0ZWRWZXJzaW9ufS5gLFxuICAgICAgICBgVGhpbmdzIG1heSBub3Qgd29yayBhcyBleHBlY3RlZC5gXG4gICAgICBdLmpvaW4oXCJcXG5cIik7XG4gICAgICBGdWVsR3JhcGhxbFN1YnNjcmliZXIuaW5jb21wYXRpYmxlTm9kZVZlcnNpb25NZXNzYWdlID0gX1Byb3ZpZGVyLmluY29tcGF0aWJsZU5vZGVWZXJzaW9uTWVzc2FnZTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBHcmFwaFFMIGNsaWVudCBhbmQgc2V0IG9wZXJhdGlvbnMuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBvcGVyYXRpb24gU0RLIG9iamVjdFxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBjcmVhdGVPcGVyYXRpb25zKCkge1xuICAgIGNvbnN0IGZldGNoRm4gPSBfUHJvdmlkZXIuZ2V0RmV0Y2hGbih0aGlzLm9wdGlvbnMpO1xuICAgIGNvbnN0IGdxbENsaWVudCA9IG5ldyBHcmFwaFFMQ2xpZW50KHRoaXMudXJsV2l0aG91dEF1dGgsIHtcbiAgICAgIGZldGNoOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKChpbnB1dCwgcmVxdWVzdEluaXQpID0+IGZldGNoRm4oaW5wdXQudG9TdHJpbmcoKSwgcmVxdWVzdEluaXQgfHwge30sIHRoaXMub3B0aW9ucyksIFwiZmV0Y2hcIiksXG4gICAgICByZXNwb25zZU1pZGRsZXdhcmU6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChcInJlc3BvbnNlXCIgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICBjb25zdCBncmFwaFFsUmVzcG9uc2UgPSByZXNwb25zZS5yZXNwb25zZTtcbiAgICAgICAgICBhc3NlcnRHcWxSZXNwb25zZUhhc05vRXJyb3JzKFxuICAgICAgICAgICAgZ3JhcGhRbFJlc3BvbnNlLmVycm9ycyxcbiAgICAgICAgICAgIF9Qcm92aWRlci5pbmNvbXBhdGlibGVOb2RlVmVyc2lvbk1lc3NhZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LCBcInJlc3BvbnNlTWlkZGxld2FyZVwiKVxuICAgIH0pO1xuICAgIGNvbnN0IGV4ZWN1dGVRdWVyeSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHF1ZXJ5LCB2YXJzKSA9PiB7XG4gICAgICBjb25zdCBvcERlZmluaXRpb24gPSBxdWVyeS5kZWZpbml0aW9ucy5maW5kKCh4KSA9PiB4LmtpbmQgPT09IFwiT3BlcmF0aW9uRGVmaW5pdGlvblwiKTtcbiAgICAgIGNvbnN0IGlzU3Vic2NyaXB0aW9uID0gb3BEZWZpbml0aW9uPy5vcGVyYXRpb24gPT09IFwic3Vic2NyaXB0aW9uXCI7XG4gICAgICBpZiAoaXNTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIEZ1ZWxHcmFwaHFsU3Vic2NyaWJlci5jcmVhdGUoe1xuICAgICAgICAgIHVybDogdGhpcy51cmxXaXRob3V0QXV0aCxcbiAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICBmZXRjaEZuOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKCh1cmwsIHJlcXVlc3RJbml0KSA9PiBmZXRjaEZuKHVybCwgcmVxdWVzdEluaXQsIHRoaXMub3B0aW9ucyksIFwiZmV0Y2hGblwiKSxcbiAgICAgICAgICB2YXJpYWJsZXM6IHZhcnMsXG4gICAgICAgICAgb3BlcmF0aW9uTmFtZTogb3BEZWZpbml0aW9uLm5hbWUudmFsdWUsXG4gICAgICAgICAgb25FdmVudDogLyogQF9fUFVSRV9fICovIF9fbmFtZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIF9Qcm92aWRlci5zZXRDdXJyZW50QmxvY2tIZWlnaHQoXG4gICAgICAgICAgICAgIHRoaXMudXJsV2l0aG91dEF1dGgsXG4gICAgICAgICAgICAgIGV2ZW50LmV4dGVuc2lvbnM/LmN1cnJlbnRfZnVlbF9ibG9ja19oZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSwgXCJvbkV2ZW50XCIpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdxbENsaWVudC5yZXF1ZXN0KHF1ZXJ5LCB2YXJzKTtcbiAgICB9LCBcImV4ZWN1dGVRdWVyeVwiKTtcbiAgICBjb25zdCBjdXN0b21PcGVyYXRpb25zID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocmVxdWVzdGVyKSA9PiAoe1xuICAgICAgZ2V0QmxvYnModmFyaWFibGVzKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gdmFyaWFibGVzLmJsb2JJZHMubWFwKChfLCBpKSA9PiBgJGJsb2JJZCR7aX06IEJsb2JJZCFgKS5qb2luKFwiLCBcIik7XG4gICAgICAgIGNvbnN0IGJsb2JQYXJhbXMgPSB2YXJpYWJsZXMuYmxvYklkcy5tYXAoKF8sIGkpID0+IGBibG9iJHtpfTogYmxvYihpZDogJGJsb2JJZCR7aX0pIHsgaWQgfWApLmpvaW4oXCJcXG5cIik7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRWYXJpYWJsZXMgPSB2YXJpYWJsZXMuYmxvYklkcy5yZWR1Y2UoXG4gICAgICAgICAgKGFjYywgYmxvYklkLCBpKSA9PiB7XG4gICAgICAgICAgICBhY2NbYGJsb2JJZCR7aX1gXSA9IGJsb2JJZDtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7fVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBkb2N1bWVudDIgPSBncWwyYFxuICAgICAgICAgIHF1ZXJ5IGdldEJsb2JzKCR7cXVlcnlQYXJhbXN9KSB7XG4gICAgICAgICAgICAke2Jsb2JQYXJhbXN9XG4gICAgICAgICAgfVxuICAgICAgICBgO1xuICAgICAgICByZXR1cm4gcmVxdWVzdGVyKGRvY3VtZW50MiwgdXBkYXRlZFZhcmlhYmxlcyk7XG4gICAgICB9XG4gICAgfSksIFwiY3VzdG9tT3BlcmF0aW9uc1wiKTtcbiAgICByZXR1cm4geyAuLi5nZXRTZGsoZXhlY3V0ZVF1ZXJ5KSwgLi4uY3VzdG9tT3BlcmF0aW9ucyhleGVjdXRlUXVlcnkpIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgdGhlIGNvbm5lY3RlZCBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdmVyc2lvbiBzdHJpbmcuXG4gICAqL1xuICBhc3luYyBnZXRWZXJzaW9uKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG5vZGVJbmZvOiB7IG5vZGVWZXJzaW9uIH1cbiAgICB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldFZlcnNpb24oKTtcbiAgICByZXR1cm4gbm9kZVZlcnNpb247XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxhdGVzdCBibG9jayBudW1iZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBsYXRlc3QgYmxvY2sgbnVtYmVyLlxuICAgKi9cbiAgYXN5bmMgZ2V0QmxvY2tOdW1iZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2hhaW46IHtcbiAgICAgICAgbGF0ZXN0QmxvY2s6IHsgaGVpZ2h0IH1cbiAgICAgIH1cbiAgICB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldExhdGVzdEJsb2NrSGVpZ2h0KCk7XG4gICAgcmV0dXJuIGJuMTgoaGVpZ2h0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbm9kZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGN1cnJlbnQgcHJvdmlkZXIgbmV0d29yay5cbiAgICpcbiAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIG5vZGUgaW5mb3JtYXRpb24uXG4gICAqL1xuICBhc3luYyBmZXRjaE5vZGUoKSB7XG4gICAgY29uc3QgeyBub2RlSW5mbyB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldE5vZGVJbmZvKCk7XG4gICAgY29uc3QgcHJvY2Vzc2VkTm9kZUluZm8gPSBkZXNlcmlhbGl6ZU5vZGVJbmZvKG5vZGVJbmZvKTtcbiAgICBfUHJvdmlkZXIubm9kZUluZm9DYWNoZVt0aGlzLnVybFdpdGhvdXRBdXRoXSA9IHByb2Nlc3NlZE5vZGVJbmZvO1xuICAgIHJldHVybiBwcm9jZXNzZWROb2RlSW5mbztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY2hhaW4gaW5mb3JtYXRpb24gZm9yIHRoZSBjdXJyZW50IHByb3ZpZGVyIG5ldHdvcmsuXG4gICAqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBjaGFpbiBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGFzeW5jIGZldGNoQ2hhaW4oKSB7XG4gICAgY29uc3QgeyBjaGFpbiB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldENoYWluKCk7XG4gICAgY29uc3QgcHJvY2Vzc2VkQ2hhaW4gPSBkZXNlcmlhbGl6ZUNoYWluKGNoYWluKTtcbiAgICBfUHJvdmlkZXIuY2hhaW5JbmZvQ2FjaGVbdGhpcy51cmxXaXRob3V0QXV0aF0gPSBwcm9jZXNzZWRDaGFpbjtcbiAgICByZXR1cm4gcHJvY2Vzc2VkQ2hhaW47XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGNoYWluIElEIGZvciB0aGUgY3VycmVudCBwcm92aWRlciBuZXR3b3JrLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgY2hhaW4gSUQgbnVtYmVyLlxuICAgKi9cbiAgYXN5bmMgZ2V0Q2hhaW5JZCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb25zZW5zdXNQYXJhbWV0ZXJzOiB7IGNoYWluSWQgfVxuICAgIH0gPSBhd2FpdCB0aGlzLmdldENoYWluKCk7XG4gICAgcmV0dXJuIGNoYWluSWQudG9OdW1iZXIoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYmFzZSBhc3NldCBJRCBmb3IgdGhlIGN1cnJlbnQgcHJvdmlkZXIgbmV0d29yay5cbiAgICpcbiAgICogQHJldHVybnMgdGhlIGJhc2UgYXNzZXQgSUQuXG4gICAqL1xuICBhc3luYyBnZXRCYXNlQXNzZXRJZCgpIHtcbiAgICBjb25zdCBhbGwgPSBhd2FpdCB0aGlzLmdldENoYWluKCk7XG4gICAgY29uc3Qge1xuICAgICAgY29uc2Vuc3VzUGFyYW1ldGVyczogeyBiYXNlQXNzZXRJZCB9XG4gICAgfSA9IGFsbDtcbiAgICByZXR1cm4gYmFzZUFzc2V0SWQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgZGV0YWlscyBvZiBhbiBhc3NldCBnaXZlbiBpdHMgSUQuXG4gICAqXG4gICAqIEBwYXJhbSBhc3NldElkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBhc3NldC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGFzc2V0IGRldGFpbHMuXG4gICAqL1xuICBhc3luYyBnZXRBc3NldERldGFpbHMoYXNzZXRJZCkge1xuICAgIGNvbnN0IHsgYXNzZXRNZXRhZGF0YSB9ID0gYXdhaXQgdGhpcy5nZXROb2RlRmVhdHVyZXMoKTtcbiAgICBpZiAoIWFzc2V0TWV0YWRhdGEpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IxOShcbiAgICAgICAgRXJyb3JDb2RlMTcuVU5TVVBQT1JURURfRkVBVFVSRSxcbiAgICAgICAgXCJUaGUgY3VycmVudCBub2RlIGRvZXMgbm90IHN1cHBvcnRzIGZldGNoaW5nIGFzc2V0IGRldGFpbHNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgeyBhc3NldERldGFpbHMgfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5nZXRBc3NldERldGFpbHMoeyBhc3NldElkIH0pO1xuICAgIGNvbnN0IHsgY29udHJhY3RJZCwgc3ViSWQsIHRvdGFsU3VwcGx5IH0gPSBhc3NldERldGFpbHM7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1YklkLFxuICAgICAgY29udHJhY3RJZCxcbiAgICAgIHRvdGFsU3VwcGx5OiBibjE4KHRvdGFsU3VwcGx5KVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEBoaWRkZW5cbiAgICovXG4gICNjYWNoZUlucHV0cyhpbnB1dHMsIHRyYW5zYWN0aW9uSWQpIHtcbiAgICBpZiAoIXRoaXMuY2FjaGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jYWNoZS5zZXQodHJhbnNhY3Rpb25JZCwgaW5wdXRzKTtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKi9cbiAgYXN5bmMgdmFsaWRhdGVUcmFuc2FjdGlvbih0eCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbnNlbnN1c1BhcmFtZXRlcnM6IHtcbiAgICAgICAgdHhQYXJhbWV0ZXJzOiB7IG1heElucHV0cywgbWF4T3V0cHV0cyB9XG4gICAgICB9XG4gICAgfSA9IGF3YWl0IHRoaXMuZ2V0Q2hhaW4oKTtcbiAgICBpZiAoYm4xOCh0eC5pbnB1dHMubGVuZ3RoKS5ndChtYXhJbnB1dHMpKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMTkoXG4gICAgICAgIEVycm9yQ29kZTE3Lk1BWF9JTlBVVFNfRVhDRUVERUQsXG4gICAgICAgIGBUaGUgdHJhbnNhY3Rpb24gZXhjZWVkcyB0aGUgbWF4aW11bSBhbGxvd2VkIG51bWJlciBvZiBpbnB1dHMuIFR4IGlucHV0czogJHt0eC5pbnB1dHMubGVuZ3RofSwgbWF4IGlucHV0czogJHttYXhJbnB1dHN9YFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGJuMTgodHgub3V0cHV0cy5sZW5ndGgpLmd0KG1heE91dHB1dHMpKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMTkoXG4gICAgICAgIEVycm9yQ29kZTE3Lk1BWF9PVVRQVVRTX0VYQ0VFREVELFxuICAgICAgICBgVGhlIHRyYW5zYWN0aW9uIGV4Y2VlZHMgdGhlIG1heGltdW0gYWxsb3dlZCBudW1iZXIgb2Ygb3V0cHV0cy4gVHggb3V0cHV0czogJHt0eC5vdXRwdXRzLmxlbmd0aH0sIG1heCBvdXRwdXRzOiAke21heE91dHB1dHN9YFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFN1Ym1pdHMgYSB0cmFuc2FjdGlvbiB0byB0aGUgY2hhaW4gdG8gYmUgZXhlY3V0ZWQuXG4gICAqXG4gICAqIElmIHRoZSB0cmFuc2FjdGlvbiBpcyBtaXNzaW5nIGFueSBkZXBlbmRlbmNpZXMsXG4gICAqIHRoZSB0cmFuc2FjdGlvbiB3aWxsIGJlIG11dGF0ZWQgYW5kIHRob3NlIGRlcGVuZGVuY2llcyB3aWxsIGJlIGFkZGVkLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IG9iamVjdC5cbiAgICogQHBhcmFtIHNlbmRUcmFuc2FjdGlvblBhcmFtcyAtIFRoZSBwcm92aWRlciBzZW5kIHRyYW5zYWN0aW9uIHBhcmFtZXRlcnMgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zYWN0aW9uIHJlc3BvbnNlIG9iamVjdC5cbiAgICovXG4gIGFzeW5jIHNlbmRUcmFuc2FjdGlvbih0cmFuc2FjdGlvblJlcXVlc3RMaWtlLCB7XG4gICAgZW5hYmxlQXNzZXRCdXJuLFxuICAgIGVzdGltYXRlVHhEZXBlbmRlbmNpZXMgPSB0cnVlLFxuICAgIGluY2x1ZGVQcmVDb25maXJtYXRpb246IF9pbmNsdWRlUHJlQ29uZmlybWF0aW9uID0gdHJ1ZVxuICB9ID0ge30pIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvblJlcXVlc3QgPSB0cmFuc2FjdGlvblJlcXVlc3RpZnkodHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSk7XG4gICAgdmFsaWRhdGVUcmFuc2FjdGlvbkZvckFzc2V0QnVybihcbiAgICAgIGF3YWl0IHRoaXMuZ2V0QmFzZUFzc2V0SWQoKSxcbiAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgICAgIGVuYWJsZUFzc2V0QnVyblxuICAgICk7XG4gICAgaWYgKGVzdGltYXRlVHhEZXBlbmRlbmNpZXMpIHtcbiAgICAgIGF3YWl0IHRoaXMuZXN0aW1hdGVUeERlcGVuZGVuY2llcyh0cmFuc2FjdGlvblJlcXVlc3QpO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnZhbGlkYXRlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25SZXF1ZXN0KTtcbiAgICBjb25zdCBlbmNvZGVkVHJhbnNhY3Rpb24gPSBoZXhsaWZ5MTcodHJhbnNhY3Rpb25SZXF1ZXN0LnRvVHJhbnNhY3Rpb25CeXRlcygpKTtcbiAgICBsZXQgYWJpcztcbiAgICBpZiAoaXNUcmFuc2FjdGlvblR5cGVTY3JpcHQodHJhbnNhY3Rpb25SZXF1ZXN0KSkge1xuICAgICAgYWJpcyA9IHRyYW5zYWN0aW9uUmVxdWVzdC5hYmlzO1xuICAgIH1cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuc3VibWl0QW5kQXdhaXRTdGF0dXMoe1xuICAgICAgZW5jb2RlZFRyYW5zYWN0aW9uLFxuICAgICAgaW5jbHVkZVByZUNvbmZpcm1hdGlvbjogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuI2NhY2hlSW5wdXRzKFxuICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0LmlucHV0cyxcbiAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdC5nZXRUcmFuc2FjdGlvbklkKGF3YWl0IHRoaXMuZ2V0Q2hhaW5JZCgpKVxuICAgICk7XG4gICAgY29uc3QgY2hhaW5JZCA9IGF3YWl0IHRoaXMuZ2V0Q2hhaW5JZCgpO1xuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb25SZXNwb25zZSh0cmFuc2FjdGlvblJlcXVlc3QsIHRoaXMsIGNoYWluSWQsIGFiaXMsIHN1YnNjcmlwdGlvbik7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGEgdHJhbnNhY3Rpb24gd2l0aG91dCBhY3R1YWxseSBzdWJtaXR0aW5nIGl0IHRvIHRoZSBjaGFpbi5cbiAgICpcbiAgICogSWYgdGhlIHRyYW5zYWN0aW9uIGlzIG1pc3NpbmcgYW55IGRlcGVuZGVuY2llcyxcbiAgICogdGhlIHRyYW5zYWN0aW9uIHdpbGwgYmUgbXV0YXRlZCBhbmQgdGhvc2UgZGVwZW5kZW5jaWVzIHdpbGwgYmUgYWRkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvblJlcXVlc3RMaWtlIC0gVGhlIHRyYW5zYWN0aW9uIHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcGFyYW0gc2VuZFRyYW5zYWN0aW9uUGFyYW1zIC0gVGhlIHByb3ZpZGVyIGNhbGwgcGFyYW1ldGVycyAob3B0aW9uYWwpLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgY2FsbCByZXN1bHQgb2JqZWN0LlxuICAgKi9cbiAgYXN5bmMgZHJ5UnVuKHRyYW5zYWN0aW9uUmVxdWVzdExpa2UsIHsgdXR4b1ZhbGlkYXRpb24sIGVzdGltYXRlVHhEZXBlbmRlbmNpZXMgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVxdWVzdCA9IHRyYW5zYWN0aW9uUmVxdWVzdGlmeSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlKTtcbiAgICBpZiAoZXN0aW1hdGVUeERlcGVuZGVuY2llcykge1xuICAgICAgcmV0dXJuIHRoaXMuZXN0aW1hdGVUeERlcGVuZGVuY2llcyh0cmFuc2FjdGlvblJlcXVlc3QpO1xuICAgIH1cbiAgICBjb25zdCBlbmNvZGVkVHJhbnNhY3Rpb24gPSBoZXhsaWZ5MTcodHJhbnNhY3Rpb25SZXF1ZXN0LnRvVHJhbnNhY3Rpb25CeXRlcygpKTtcbiAgICBjb25zdCB7IGRyeVJ1bjogZHJ5UnVuU3RhdHVzZXMgfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5kcnlSdW4oe1xuICAgICAgZW5jb2RlZFRyYW5zYWN0aW9uczogZW5jb2RlZFRyYW5zYWN0aW9uLFxuICAgICAgdXR4b1ZhbGlkYXRpb246IHV0eG9WYWxpZGF0aW9uIHx8IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgW3sgcmVjZWlwdHM6IHJhd1JlY2VpcHRzLCBzdGF0dXM6IGRyeVJ1blN0YXR1cyB9XSA9IGRyeVJ1blN0YXR1c2VzO1xuICAgIGNvbnN0IHJlY2VpcHRzID0gcmF3UmVjZWlwdHMubWFwKGRlc2VyaWFsaXplUmVjZWlwdCk7XG4gICAgcmV0dXJuIHsgcmVjZWlwdHMsIGRyeVJ1blN0YXR1cyB9O1xuICB9XG4gIC8qKlxuICAgKiBFc3RpbWF0ZXMgdGhlIGdhcyB1c2FnZSBmb3IgcHJlZGljYXRlcyBpbiBhIHRyYW5zYWN0aW9uIHJlcXVlc3QuXG4gICAqXG4gICAqIEB0ZW1wbGF0ZSBUIC0gVGhlIHR5cGUgb2YgdGhlIHRyYW5zYWN0aW9uIHJlcXVlc3Qgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25SZXF1ZXN0IC0gVGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gZXN0aW1hdGUgcHJlZGljYXRlcyBmb3IuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSB1cGRhdGVkIHRyYW5zYWN0aW9uIHJlcXVlc3Qgd2l0aCBlc3RpbWF0ZWQgZ2FzIHVzYWdlIGZvciBwcmVkaWNhdGVzLlxuICAgKi9cbiAgYXN5bmMgZXN0aW1hdGVQcmVkaWNhdGVzKHRyYW5zYWN0aW9uUmVxdWVzdCkge1xuICAgIGNvbnN0IHNob3VsZEVzdGltYXRlUHJlZGljYXRlcyA9IHRyYW5zYWN0aW9uUmVxdWVzdC5pbnB1dHMuc29tZShcbiAgICAgIChpbnB1dCkgPT4gaXNQcmVkaWNhdGUoaW5wdXQpICYmIGJuMTgoaW5wdXQucHJlZGljYXRlR2FzVXNlZCkuaXNaZXJvKClcbiAgICApO1xuICAgIGlmICghc2hvdWxkRXN0aW1hdGVQcmVkaWNhdGVzKSB7XG4gICAgICByZXR1cm4gdHJhbnNhY3Rpb25SZXF1ZXN0O1xuICAgIH1cbiAgICBjb25zdCBlbmNvZGVkVHJhbnNhY3Rpb24gPSBoZXhsaWZ5MTcodHJhbnNhY3Rpb25SZXF1ZXN0LnRvVHJhbnNhY3Rpb25CeXRlcygpKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5lc3RpbWF0ZVByZWRpY2F0ZXMoe1xuICAgICAgZW5jb2RlZFRyYW5zYWN0aW9uXG4gICAgfSk7XG4gICAgY29uc3QgeyBlc3RpbWF0ZVByZWRpY2F0ZXMgfSA9IHJlc3BvbnNlO1xuICAgIHRyYW5zYWN0aW9uUmVxdWVzdCA9IHRoaXMucGFyc2VFc3RpbWF0ZVByZWRpY2F0ZXNSZXNwb25zZShcbiAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgICAgIGVzdGltYXRlUHJlZGljYXRlc1xuICAgICk7XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uUmVxdWVzdDtcbiAgfVxuICAvKipcbiAgICogRXN0aW1hdGVzIHRoZSBnYXMgcHJpY2UgYW5kIHByZWRpY2F0ZXMgZm9yIGEgZ2l2ZW4gdHJhbnNhY3Rpb24gcmVxdWVzdCBhbmQgYmxvY2sgaG9yaXpvbi5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uUmVxdWVzdCAtIFRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IHRvIGVzdGltYXRlIHByZWRpY2F0ZXMgYW5kIGdhcyBwcmljZSBmb3IuXG4gICAqIEBwYXJhbSBibG9ja0hvcml6b24gLSBUaGUgYmxvY2sgaG9yaXpvbiB0byB1c2UgZm9yIGdhcyBwcmljZSBlc3RpbWF0aW9uLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgdXBkYXRlZCB0cmFuc2FjdGlvblxuICAgKiByZXF1ZXN0IGFuZCB0aGUgZXN0aW1hdGVkIGdhcyBwcmljZS5cbiAgICovXG4gIGFzeW5jIGVzdGltYXRlUHJlZGljYXRlc0FuZEdhc1ByaWNlKHRyYW5zYWN0aW9uUmVxdWVzdCwgYmxvY2tIb3Jpem9uKSB7XG4gICAgY29uc3Qgc2hvdWxkRXN0aW1hdGVQcmVkaWNhdGVzID0gdHJhbnNhY3Rpb25SZXF1ZXN0LmlucHV0cy5zb21lKFxuICAgICAgKGlucHV0KSA9PiBpc1ByZWRpY2F0ZShpbnB1dCkgJiYgYm4xOChpbnB1dC5wcmVkaWNhdGVHYXNVc2VkKS5pc1plcm8oKVxuICAgICk7XG4gICAgaWYgKCFzaG91bGRFc3RpbWF0ZVByZWRpY2F0ZXMpIHtcbiAgICAgIGNvbnN0IGdhc1ByaWNlMiA9IGF3YWl0IHRoaXMuZXN0aW1hdGVHYXNQcmljZShibG9ja0hvcml6b24pO1xuICAgICAgcmV0dXJuIHsgdHJhbnNhY3Rpb25SZXF1ZXN0LCBnYXNQcmljZTogZ2FzUHJpY2UyIH07XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGVzdGltYXRlR2FzUHJpY2U6IHsgZ2FzUHJpY2UgfSxcbiAgICAgIGVzdGltYXRlUHJlZGljYXRlc1xuICAgIH0gPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZXN0aW1hdGVQcmVkaWNhdGVzQW5kR2FzUHJpY2Uoe1xuICAgICAgYmxvY2tIb3Jpem9uOiBTdHJpbmcoYmxvY2tIb3Jpem9uKSxcbiAgICAgIGVuY29kZWRUcmFuc2FjdGlvbjogaGV4bGlmeTE3KHRyYW5zYWN0aW9uUmVxdWVzdC50b1RyYW5zYWN0aW9uQnl0ZXMoKSlcbiAgICB9KTtcbiAgICB0cmFuc2FjdGlvblJlcXVlc3QgPSB0aGlzLnBhcnNlRXN0aW1hdGVQcmVkaWNhdGVzUmVzcG9uc2UoXG4gICAgICB0cmFuc2FjdGlvblJlcXVlc3QsXG4gICAgICBlc3RpbWF0ZVByZWRpY2F0ZXNcbiAgICApO1xuICAgIHJldHVybiB7IHRyYW5zYWN0aW9uUmVxdWVzdCwgZ2FzUHJpY2U6IGJuMTgoZ2FzUHJpY2UpIH07XG4gIH1cbiAgLyoqXG4gICAqIFdpbGwgZHJ5UnVuIGEgdHJhbnNhY3Rpb24gYW5kIGNoZWNrIGZvciBtaXNzaW5nIGRlcGVuZGVuY2llcy5cbiAgICpcbiAgICogSWYgdGhlcmUgYXJlIG1pc3NpbmcgdmFyaWFibGUgb3V0cHV0cyxcbiAgICogYGFkZFZhcmlhYmxlT3V0cHV0c2AgaXMgY2FsbGVkIG9uIHRoZSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uUmVxdWVzdCAtIFRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IG9iamVjdC5cbiAgICogQHBhcmFtIGdhc1ByaWNlIC0gVGhlIGdhcyBwcmljZSB0byB1c2UgZm9yIHRoZSB0cmFuc2FjdGlvbiwgaWYgbm90IHByb3ZpZGVkIGl0IHdpbGwgYmUgZmV0Y2hlZC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGVzdGltYXRlIHRyYW5zYWN0aW9uIGRlcGVuZGVuY2llcy5cbiAgICovXG4gIGFzeW5jIGVzdGltYXRlVHhEZXBlbmRlbmNpZXModHJhbnNhY3Rpb25SZXF1ZXN0LCB7IGdhc1ByaWNlOiBnYXNQcmljZVBhcmFtIH0gPSB7fSkge1xuICAgIGlmIChpc1RyYW5zYWN0aW9uVHlwZUNyZWF0ZSh0cmFuc2FjdGlvblJlcXVlc3QpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByYXdSZWNlaXB0czogW10sXG4gICAgICAgIHJlY2VpcHRzOiBbXSxcbiAgICAgICAgb3V0cHV0VmFyaWFibGVzOiAwLFxuICAgICAgICBtaXNzaW5nQ29udHJhY3RJZHM6IFtdXG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgcmF3UmVjZWlwdHMgPSBbXTtcbiAgICBsZXQgcmVjZWlwdHMgPSBbXTtcbiAgICBjb25zdCBtaXNzaW5nQ29udHJhY3RJZHMgPSBbXTtcbiAgICBsZXQgb3V0cHV0VmFyaWFibGVzID0gMDtcbiAgICBsZXQgZHJ5UnVuU3RhdHVzO1xuICAgIGF3YWl0IHRoaXMudmFsaWRhdGVUcmFuc2FjdGlvbih0cmFuc2FjdGlvblJlcXVlc3QpO1xuICAgIGNvbnN0IGdhc1ByaWNlID0gZ2FzUHJpY2VQYXJhbSA/PyBhd2FpdCB0aGlzLmVzdGltYXRlR2FzUHJpY2UoMTApO1xuICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgTUFYX1JFVFJJRVM7IGF0dGVtcHQrKykge1xuICAgICAgY29uc3Qge1xuICAgICAgICBkcnlSdW46IFt7IHJlY2VpcHRzOiBzZXJpYWxpemVkUmVjZWlwdHMsIHN0YXR1cyB9XVxuICAgICAgfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5kcnlSdW4oe1xuICAgICAgICBlbmNvZGVkVHJhbnNhY3Rpb25zOiBbaGV4bGlmeTE3KHRyYW5zYWN0aW9uUmVxdWVzdC50b1RyYW5zYWN0aW9uQnl0ZXMoKSldLFxuICAgICAgICB1dHhvVmFsaWRhdGlvbjogZmFsc2UsXG4gICAgICAgIGdhc1ByaWNlOiBnYXNQcmljZS50b1N0cmluZygpXG4gICAgICB9KTtcbiAgICAgIHJhd1JlY2VpcHRzID0gc2VyaWFsaXplZFJlY2VpcHRzO1xuICAgICAgcmVjZWlwdHMgPSBzZXJpYWxpemVkUmVjZWlwdHMubWFwKGRlc2VyaWFsaXplUmVjZWlwdCk7XG4gICAgICBkcnlSdW5TdGF0dXMgPSBzdGF0dXM7XG4gICAgICBjb25zdCB7IG1pc3NpbmdPdXRwdXRWYXJpYWJsZXMsIG1pc3NpbmdPdXRwdXRDb250cmFjdElkcyB9ID0gZ2V0UmVjZWlwdHNXaXRoTWlzc2luZ0RhdGEocmVjZWlwdHMpO1xuICAgICAgY29uc3QgaGFzTWlzc2luZ091dHB1dHMgPSBtaXNzaW5nT3V0cHV0VmFyaWFibGVzLmxlbmd0aCAhPT0gMCB8fCBtaXNzaW5nT3V0cHV0Q29udHJhY3RJZHMubGVuZ3RoICE9PSAwO1xuICAgICAgaWYgKGhhc01pc3NpbmdPdXRwdXRzICYmIGlzVHJhbnNhY3Rpb25UeXBlU2NyaXB0KHRyYW5zYWN0aW9uUmVxdWVzdCkpIHtcbiAgICAgICAgb3V0cHV0VmFyaWFibGVzICs9IG1pc3NpbmdPdXRwdXRWYXJpYWJsZXMubGVuZ3RoO1xuICAgICAgICB0cmFuc2FjdGlvblJlcXVlc3QuYWRkVmFyaWFibGVPdXRwdXRzKG1pc3NpbmdPdXRwdXRWYXJpYWJsZXMubGVuZ3RoKTtcbiAgICAgICAgbWlzc2luZ091dHB1dENvbnRyYWN0SWRzLmZvckVhY2goKHsgY29udHJhY3RJZCB9KSA9PiB7XG4gICAgICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0LmFkZENvbnRyYWN0SW5wdXRBbmRPdXRwdXQobmV3IEFkZHJlc3MyKGNvbnRyYWN0SWQpKTtcbiAgICAgICAgICBtaXNzaW5nQ29udHJhY3RJZHMucHVzaChjb250cmFjdElkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgbWF4RmVlIH0gPSBhd2FpdCB0aGlzLmVzdGltYXRlVHhHYXNBbmRGZWUoe1xuICAgICAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgICAgICAgICBnYXNQcmljZVxuICAgICAgICB9KTtcbiAgICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0Lm1heEZlZSA9IG1heEZlZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcmF3UmVjZWlwdHMsXG4gICAgICByZWNlaXB0cyxcbiAgICAgIG91dHB1dFZhcmlhYmxlcyxcbiAgICAgIG1pc3NpbmdDb250cmFjdElkcyxcbiAgICAgIGRyeVJ1blN0YXR1c1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERyeSBydW5zIG11bHRpcGxlIHRyYW5zYWN0aW9ucyBhbmQgY2hlY2tzIGZvciBtaXNzaW5nIGRlcGVuZGVuY2llcyBpbiBiYXRjaGVzLlxuICAgKlxuICAgKiBUcmFuc2FjdGlvbnMgYXJlIGRyeSBydW4gaW4gYmF0Y2hlcy4gQWZ0ZXIgZWFjaCBkcnkgcnVuLCB0cmFuc2FjdGlvbnMgcmVxdWlyaW5nXG4gICAqIGZ1cnRoZXIgbW9kaWZpY2F0aW9ucyBhcmUgaWRlbnRpZmllZC4gVGhlIG1ldGhvZCBpdGVyYXRpdmVseSB1cGRhdGVzIHRoZXNlIHRyYW5zYWN0aW9uc1xuICAgKiBhbmQgcGVyZm9ybXMgc3Vic2VxdWVudCBkcnkgcnVucyB1bnRpbCBhbGwgZGVwZW5kZW5jaWVzIGZvciBlYWNoIHRyYW5zYWN0aW9uIGFyZSBzYXRpc2ZpZWQuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvblJlcXVlc3RzIC0gQXJyYXkgb2YgdHJhbnNhY3Rpb24gcmVxdWVzdCBvYmplY3RzLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiByZXN1bHRzIGZvciBlYWNoIHRyYW5zYWN0aW9uLlxuICAgKi9cbiAgYXN5bmMgZXN0aW1hdGVNdWx0aXBsZVR4RGVwZW5kZW5jaWVzKHRyYW5zYWN0aW9uUmVxdWVzdHMpIHtcbiAgICBjb25zdCByZXN1bHRzID0gdHJhbnNhY3Rpb25SZXF1ZXN0cy5tYXAoKCkgPT4gKHtcbiAgICAgIHJhd1JlY2VpcHRzOiBbXSxcbiAgICAgIHJlY2VpcHRzOiBbXSxcbiAgICAgIG91dHB1dFZhcmlhYmxlczogMCxcbiAgICAgIG1pc3NpbmdDb250cmFjdElkczogW10sXG4gICAgICBkcnlSdW5TdGF0dXM6IHZvaWQgMFxuICAgIH0pKTtcbiAgICBjb25zdCBhbGxSZXF1ZXN0cyA9IGNsb25lOCh0cmFuc2FjdGlvblJlcXVlc3RzKTtcbiAgICBjb25zdCBzZXJpYWxpemVkVHJhbnNhY3Rpb25zTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBhbGxSZXF1ZXN0cy5mb3JFYWNoKChyZXEsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaXNUcmFuc2FjdGlvblR5cGVTY3JpcHQocmVxKSkge1xuICAgICAgICBzZXJpYWxpemVkVHJhbnNhY3Rpb25zTWFwLnNldChpbmRleCwgaGV4bGlmeTE3KHJlcS50b1RyYW5zYWN0aW9uQnl0ZXMoKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCB0cmFuc2FjdGlvbnNUb1Byb2Nlc3MgPSBBcnJheS5mcm9tKHNlcmlhbGl6ZWRUcmFuc2FjdGlvbnNNYXAua2V5cygpKTtcbiAgICBsZXQgYXR0ZW1wdCA9IDA7XG4gICAgd2hpbGUgKHRyYW5zYWN0aW9uc1RvUHJvY2Vzcy5sZW5ndGggPiAwICYmIGF0dGVtcHQgPCBNQVhfUkVUUklFUykge1xuICAgICAgY29uc3QgZW5jb2RlZFRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9uc1RvUHJvY2Vzcy5tYXAoXG4gICAgICAgIChpbmRleCkgPT4gc2VyaWFsaXplZFRyYW5zYWN0aW9uc01hcC5nZXQoaW5kZXgpXG4gICAgICApO1xuICAgICAgY29uc3QgZHJ5UnVuUmVzdWx0cyA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5kcnlSdW4oe1xuICAgICAgICBlbmNvZGVkVHJhbnNhY3Rpb25zLFxuICAgICAgICB1dHhvVmFsaWRhdGlvbjogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgY29uc3QgbmV4dFJvdW5kVHJhbnNhY3Rpb25zID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyeVJ1blJlc3VsdHMuZHJ5UnVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RJZHggPSB0cmFuc2FjdGlvbnNUb1Byb2Nlc3NbaV07XG4gICAgICAgIGNvbnN0IHsgcmVjZWlwdHM6IHJhd1JlY2VpcHRzLCBzdGF0dXMgfSA9IGRyeVJ1blJlc3VsdHMuZHJ5UnVuW2ldO1xuICAgICAgICBjb25zdCByZXN1bHQgPSByZXN1bHRzW3JlcXVlc3RJZHhdO1xuICAgICAgICByZXN1bHQucmVjZWlwdHMgPSByYXdSZWNlaXB0cy5tYXAoZGVzZXJpYWxpemVSZWNlaXB0KTtcbiAgICAgICAgcmVzdWx0LmRyeVJ1blN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgY29uc3QgeyBtaXNzaW5nT3V0cHV0VmFyaWFibGVzLCBtaXNzaW5nT3V0cHV0Q29udHJhY3RJZHMgfSA9IGdldFJlY2VpcHRzV2l0aE1pc3NpbmdEYXRhKFxuICAgICAgICAgIHJlc3VsdC5yZWNlaXB0c1xuICAgICAgICApO1xuICAgICAgICBjb25zdCBoYXNNaXNzaW5nT3V0cHV0cyA9IG1pc3NpbmdPdXRwdXRWYXJpYWJsZXMubGVuZ3RoID4gMCB8fCBtaXNzaW5nT3V0cHV0Q29udHJhY3RJZHMubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgcmVxdWVzdDIgPSBhbGxSZXF1ZXN0c1tyZXF1ZXN0SWR4XTtcbiAgICAgICAgaWYgKGhhc01pc3NpbmdPdXRwdXRzICYmIGlzVHJhbnNhY3Rpb25UeXBlU2NyaXB0KHJlcXVlc3QyKSkge1xuICAgICAgICAgIHJlc3VsdC5vdXRwdXRWYXJpYWJsZXMgKz0gbWlzc2luZ091dHB1dFZhcmlhYmxlcy5sZW5ndGg7XG4gICAgICAgICAgcmVxdWVzdDIuYWRkVmFyaWFibGVPdXRwdXRzKG1pc3NpbmdPdXRwdXRWYXJpYWJsZXMubGVuZ3RoKTtcbiAgICAgICAgICBtaXNzaW5nT3V0cHV0Q29udHJhY3RJZHMuZm9yRWFjaCgoeyBjb250cmFjdElkIH0pID0+IHtcbiAgICAgICAgICAgIHJlcXVlc3QyLmFkZENvbnRyYWN0SW5wdXRBbmRPdXRwdXQobmV3IEFkZHJlc3MyKGNvbnRyYWN0SWQpKTtcbiAgICAgICAgICAgIHJlc3VsdC5taXNzaW5nQ29udHJhY3RJZHMucHVzaChjb250cmFjdElkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCB7IG1heEZlZSB9ID0gYXdhaXQgdGhpcy5lc3RpbWF0ZVR4R2FzQW5kRmVlKHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdDogcmVxdWVzdDJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXF1ZXN0Mi5tYXhGZWUgPSBtYXhGZWU7XG4gICAgICAgICAgc2VyaWFsaXplZFRyYW5zYWN0aW9uc01hcC5zZXQocmVxdWVzdElkeCwgaGV4bGlmeTE3KHJlcXVlc3QyLnRvVHJhbnNhY3Rpb25CeXRlcygpKSk7XG4gICAgICAgICAgbmV4dFJvdW5kVHJhbnNhY3Rpb25zLnB1c2gocmVxdWVzdElkeCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyYW5zYWN0aW9uc1RvUHJvY2VzcyA9IG5leHRSb3VuZFRyYW5zYWN0aW9ucztcbiAgICAgIGF0dGVtcHQgKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbiAgLyoqXG4gICAqIERyeSBydW5zIG11bHRpcGxlIHRyYW5zYWN0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uUmVxdWVzdHMgLSBBcnJheSBvZiB0cmFuc2FjdGlvbiByZXF1ZXN0IG9iamVjdHMuXG4gICAqIEBwYXJhbSBzZW5kVHJhbnNhY3Rpb25QYXJhbXMgLSBUaGUgcHJvdmlkZXIgY2FsbCBwYXJhbWV0ZXJzIChvcHRpb25hbCkuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGFycmF5IG9mIHJlc3VsdHMgZm9yIGVhY2ggdHJhbnNhY3Rpb24gY2FsbC5cbiAgICovXG4gIGFzeW5jIGRyeVJ1bk11bHRpcGxlVHJhbnNhY3Rpb25zKHRyYW5zYWN0aW9uUmVxdWVzdHMsIHsgdXR4b1ZhbGlkYXRpb24sIGVzdGltYXRlVHhEZXBlbmRlbmNpZXMgPSB0cnVlIH0gPSB7fSkge1xuICAgIGlmIChlc3RpbWF0ZVR4RGVwZW5kZW5jaWVzKSB7XG4gICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZU11bHRpcGxlVHhEZXBlbmRlbmNpZXModHJhbnNhY3Rpb25SZXF1ZXN0cyk7XG4gICAgfVxuICAgIGNvbnN0IGVuY29kZWRUcmFuc2FjdGlvbnMgPSB0cmFuc2FjdGlvblJlcXVlc3RzLm1hcCgodHgpID0+IGhleGxpZnkxNyh0eC50b1RyYW5zYWN0aW9uQnl0ZXMoKSkpO1xuICAgIGNvbnN0IHsgZHJ5UnVuOiBkcnlSdW5TdGF0dXNlcyB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmRyeVJ1bih7XG4gICAgICBlbmNvZGVkVHJhbnNhY3Rpb25zLFxuICAgICAgdXR4b1ZhbGlkYXRpb246IHV0eG9WYWxpZGF0aW9uIHx8IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0cyA9IGRyeVJ1blN0YXR1c2VzLm1hcCgoeyByZWNlaXB0czogcmF3UmVjZWlwdHMsIHN0YXR1cyB9KSA9PiB7XG4gICAgICBjb25zdCByZWNlaXB0cyA9IHJhd1JlY2VpcHRzLm1hcChkZXNlcmlhbGl6ZVJlY2VpcHQpO1xuICAgICAgcmV0dXJuIHsgcmVjZWlwdHMsIGRyeVJ1blN0YXR1czogc3RhdHVzIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbiAgYXN5bmMgYXV0b1JlZmV0Y2hDb25maWdzKCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgZGlmZiA9IG5vdyAtICh0aGlzLmNvbnNlbnN1c1BhcmFtZXRlcnNUaW1lc3RhbXAgPz8gMCk7XG4gICAgaWYgKGRpZmYgPCA2ZTQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFfUHJvdmlkZXIuY2hhaW5JbmZvQ2FjaGU/Llt0aGlzLnVybFdpdGhvdXRBdXRoXSkge1xuICAgICAgYXdhaXQgdGhpcy5mZXRjaENoYWluQW5kTm9kZUluZm8odHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNoYWluSW5mbyA9IF9Qcm92aWRlci5jaGFpbkluZm9DYWNoZVt0aGlzLnVybFdpdGhvdXRBdXRoXTtcbiAgICBjb25zdCB7XG4gICAgICBsYXRlc3RCbG9jazoge1xuICAgICAgICBoZWFkZXI6IHsgY29uc2Vuc3VzUGFyYW1ldGVyc1ZlcnNpb246IHByZXZpb3VzIH1cbiAgICAgIH1cbiAgICB9ID0gY2hhaW5JbmZvO1xuICAgIGNvbnN0IHtcbiAgICAgIGNoYWluOiB7XG4gICAgICAgIGxhdGVzdEJsb2NrOiB7XG4gICAgICAgICAgaGVhZGVyOiB7IGNvbnNlbnN1c1BhcmFtZXRlcnNWZXJzaW9uOiBjdXJyZW50IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZ2V0Q29uc2Vuc3VzUGFyYW1ldGVyc1ZlcnNpb24oKTtcbiAgICBpZiAocHJldmlvdXMgIT09IGN1cnJlbnQpIHtcbiAgICAgIGF3YWl0IHRoaXMuZmV0Y2hDaGFpbkFuZE5vZGVJbmZvKHRydWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXN0aW1hdGVzIHRoZSB0cmFuc2FjdGlvbiBnYXMgYW5kIGZlZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgdHJhbnNhY3Rpb24gcmVxdWVzdC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBlc3RpbWF0aW5nIHRoZSB0cmFuc2FjdGlvbiBnYXMgYW5kIGZlZS5cbiAgICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGVzdGltYXRlZCBtaW5pbXVtIGdhcywgbWluaW11bSBmZWUsIG1heGltdW0gZ2FzLCBhbmQgbWF4aW11bSBmZWUuXG4gICAqL1xuICBhc3luYyBlc3RpbWF0ZVR4R2FzQW5kRmVlKHBhcmFtcykge1xuICAgIGNvbnN0IHsgdHJhbnNhY3Rpb25SZXF1ZXN0LCBnYXNQcmljZTogZ2FzUHJpY2VQYXJhbSB9ID0gcGFyYW1zO1xuICAgIGxldCBnYXNQcmljZSA9IGdhc1ByaWNlUGFyYW07XG4gICAgYXdhaXQgdGhpcy5hdXRvUmVmZXRjaENvbmZpZ3MoKTtcbiAgICBjb25zdCBjaGFpbkluZm8gPSBhd2FpdCB0aGlzLmdldENoYWluKCk7XG4gICAgY29uc3QgeyBnYXNQcmljZUZhY3RvciwgbWF4R2FzUGVyVHggfSA9IGF3YWl0IHRoaXMuZ2V0R2FzQ29uZmlnKCk7XG4gICAgY29uc3QgbWluR2FzID0gdHJhbnNhY3Rpb25SZXF1ZXN0LmNhbGN1bGF0ZU1pbkdhcyhjaGFpbkluZm8pO1xuICAgIGlmICghaXNEZWZpbmVkMyhnYXNQcmljZSkpIHtcbiAgICAgIGdhc1ByaWNlID0gYXdhaXQgdGhpcy5lc3RpbWF0ZUdhc1ByaWNlKDEwKTtcbiAgICB9XG4gICAgY29uc3QgbWluRmVlID0gY2FsY3VsYXRlR2FzRmVlKHtcbiAgICAgIGdhc1ByaWNlOiBibjE4KGdhc1ByaWNlKSxcbiAgICAgIGdhczogbWluR2FzLFxuICAgICAgcHJpY2VGYWN0b3I6IGdhc1ByaWNlRmFjdG9yLFxuICAgICAgdGlwOiB0cmFuc2FjdGlvblJlcXVlc3QudGlwXG4gICAgfSkuYWRkKDEpO1xuICAgIGxldCBnYXNMaW1pdCA9IGJuMTgoMCk7XG4gICAgaWYgKGlzVHJhbnNhY3Rpb25UeXBlU2NyaXB0KHRyYW5zYWN0aW9uUmVxdWVzdCkpIHtcbiAgICAgIGdhc0xpbWl0ID0gdHJhbnNhY3Rpb25SZXF1ZXN0Lmdhc0xpbWl0O1xuICAgICAgaWYgKHRyYW5zYWN0aW9uUmVxdWVzdC5nYXNMaW1pdC5lcSgwKSkge1xuICAgICAgICB0cmFuc2FjdGlvblJlcXVlc3QuZ2FzTGltaXQgPSBtaW5HYXM7XG4gICAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdC5nYXNMaW1pdCA9IG1heEdhc1BlclR4LnN1YihcbiAgICAgICAgICB0cmFuc2FjdGlvblJlcXVlc3QuY2FsY3VsYXRlTWF4R2FzKGNoYWluSW5mbywgbWluR2FzKVxuICAgICAgICApO1xuICAgICAgICBnYXNMaW1pdCA9IHRyYW5zYWN0aW9uUmVxdWVzdC5nYXNMaW1pdDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWF4R2FzID0gdHJhbnNhY3Rpb25SZXF1ZXN0LmNhbGN1bGF0ZU1heEdhcyhjaGFpbkluZm8sIG1pbkdhcyk7XG4gICAgY29uc3QgbWF4RmVlID0gY2FsY3VsYXRlR2FzRmVlKHtcbiAgICAgIGdhc1ByaWNlOiBibjE4KGdhc1ByaWNlKSxcbiAgICAgIGdhczogbWF4R2FzLFxuICAgICAgcHJpY2VGYWN0b3I6IGdhc1ByaWNlRmFjdG9yLFxuICAgICAgdGlwOiB0cmFuc2FjdGlvblJlcXVlc3QudGlwXG4gICAgfSkuYWRkKDEpO1xuICAgIHJldHVybiB7XG4gICAgICBtaW5HYXMsXG4gICAgICBtaW5GZWUsXG4gICAgICBtYXhHYXMsXG4gICAgICBtYXhGZWUsXG4gICAgICBnYXNQcmljZSxcbiAgICAgIGdhc0xpbWl0XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBzaWduZWQgdHJhbnNhY3Rpb24gd2l0aG91dCBhcHBseWluZyB0aGUgc3RhdGVzIGNoYW5nZXNcbiAgICogb24gdGhlIGNoYWluLlxuICAgKlxuICAgKiBJZiB0aGUgdHJhbnNhY3Rpb24gaXMgbWlzc2luZyBhbnkgZGVwZW5kZW5jaWVzLFxuICAgKiB0aGUgdHJhbnNhY3Rpb24gd2lsbCBiZSBtdXRhdGVkIGFuZCB0aG9zZSBkZXBlbmRlbmNpZXMgd2lsbCBiZSBhZGRlZFxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IG9iamVjdC5cbiAgICogQHBhcmFtIGVzdGltYXRlVHhQYXJhbXMgLSBUaGUgZXN0aW1hdGUgdHJhbnNhY3Rpb24gcGFyYW1zIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBjYWxsIHJlc3VsdCBvYmplY3QuXG4gICAqL1xuICBhc3luYyBzaW11bGF0ZSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlLCB7IGVzdGltYXRlVHhEZXBlbmRlbmNpZXMgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVxdWVzdCA9IHRyYW5zYWN0aW9uUmVxdWVzdGlmeSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlKTtcbiAgICBpZiAoZXN0aW1hdGVUeERlcGVuZGVuY2llcykge1xuICAgICAgcmV0dXJuIHRoaXMuZXN0aW1hdGVUeERlcGVuZGVuY2llcyh0cmFuc2FjdGlvblJlcXVlc3QpO1xuICAgIH1cbiAgICBjb25zdCBlbmNvZGVkVHJhbnNhY3Rpb25zID0gW2hleGxpZnkxNyh0cmFuc2FjdGlvblJlcXVlc3QudG9UcmFuc2FjdGlvbkJ5dGVzKCkpXTtcbiAgICBjb25zdCB7IGRyeVJ1bjogZHJ5UnVuU3RhdHVzZXMgfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5kcnlSdW4oe1xuICAgICAgZW5jb2RlZFRyYW5zYWN0aW9ucyxcbiAgICAgIHV0eG9WYWxpZGF0aW9uOiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgY2FsbFJlc3VsdCA9IGRyeVJ1blN0YXR1c2VzLm1hcCgoZHJ5UnVuU3RhdHVzKSA9PiB7XG4gICAgICBjb25zdCB7IGlkLCByZWNlaXB0cywgc3RhdHVzIH0gPSBkcnlSdW5TdGF0dXM7XG4gICAgICBjb25zdCBwcm9jZXNzZWRSZWNlaXB0cyA9IHJlY2VpcHRzLm1hcChkZXNlcmlhbGl6ZVJlY2VpcHQpO1xuICAgICAgcmV0dXJuIHsgaWQsIHJlY2VpcHRzOiBwcm9jZXNzZWRSZWNlaXB0cywgc3RhdHVzIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgcmVjZWlwdHM6IGNhbGxSZXN1bHRbMF0ucmVjZWlwdHMgfTtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKlxuICAgKiBSZXR1cm5zIGEgdHJhbnNhY3Rpb24gY29zdCB0byBlbmFibGUgdXNlclxuICAgKiB0byBzZXQgZ2FzTGltaXQgYW5kIGFsc28gcmVzZXJ2ZSBiYWxhbmNlIGFtb3VudHNcbiAgICogb24gdGhlIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IG9iamVjdC5cbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uQ29zdFBhcmFtcyAtIFRoZSB0cmFuc2FjdGlvbiBjb3N0IHBhcmFtZXRlcnMgKG9wdGlvbmFsKS5cbiAgICpcbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zYWN0aW9uIGNvc3Qgb2JqZWN0LlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgcHJvdmlkZXIuYXNzZW1ibGVUeCBpbnN0ZWFkXG4gICAqIENoZWNrIHRoZSBtaWdyYXRpb24gZ3VpZGUgaHR0cHM6Ly9kb2NzLmZ1ZWwubmV0d29yay9kb2NzL2Z1ZWxzLXRzL3RyYW5zYWN0aW9ucy9hc3NlbWJsZS10eC1taWdyYXRpb24tZ3VpZGUvIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgYXN5bmMgZ2V0VHJhbnNhY3Rpb25Db3N0KHRyYW5zYWN0aW9uUmVxdWVzdExpa2UsIHsgc2lnbmF0dXJlQ2FsbGJhY2ssIGdhc1ByaWNlOiBnYXNQcmljZVBhcmFtIH0gPSB7fSkge1xuICAgIGNvbnN0IHR4UmVxdWVzdENsb25lID0gY2xvbmU4KHRyYW5zYWN0aW9uUmVxdWVzdGlmeSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlKSk7XG4gICAgY29uc3QgdXBkYXRlTWF4RmVlID0gdHhSZXF1ZXN0Q2xvbmUubWF4RmVlLmVxKDApO1xuICAgIGNvbnN0IGlzU2NyaXB0VHJhbnNhY3Rpb24gPSBpc1RyYW5zYWN0aW9uVHlwZVNjcmlwdCh0eFJlcXVlc3RDbG9uZSk7XG4gICAgaWYgKGlzU2NyaXB0VHJhbnNhY3Rpb24pIHtcbiAgICAgIHR4UmVxdWVzdENsb25lLmdhc0xpbWl0ID0gYm4xOCgwKTtcbiAgICB9XG4gICAgY29uc3Qgc2lnbmVkUmVxdWVzdCA9IGNsb25lOCh0eFJlcXVlc3RDbG9uZSk7XG4gICAgbGV0IGFkZGVkU2lnbmF0dXJlcyA9IDA7XG4gICAgaWYgKHNpZ25hdHVyZUNhbGxiYWNrICYmIGlzVHJhbnNhY3Rpb25UeXBlU2NyaXB0KHNpZ25lZFJlcXVlc3QpKSB7XG4gICAgICBjb25zdCBsZW5ndGhCZWZvcmUgPSBzaWduZWRSZXF1ZXN0LndpdG5lc3Nlcy5sZW5ndGg7XG4gICAgICBhd2FpdCBzaWduYXR1cmVDYWxsYmFjayhzaWduZWRSZXF1ZXN0KTtcbiAgICAgIGFkZGVkU2lnbmF0dXJlcyA9IHNpZ25lZFJlcXVlc3Qud2l0bmVzc2VzLmxlbmd0aCAtIGxlbmd0aEJlZm9yZTtcbiAgICB9XG4gICAgbGV0IGdhc1ByaWNlO1xuICAgIGlmIChnYXNQcmljZVBhcmFtKSB7XG4gICAgICBnYXNQcmljZSA9IGdhc1ByaWNlUGFyYW07XG4gICAgICBhd2FpdCB0aGlzLmVzdGltYXRlUHJlZGljYXRlcyhzaWduZWRSZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHsgZ2FzUHJpY2UgfSA9IGF3YWl0IHRoaXMuZXN0aW1hdGVQcmVkaWNhdGVzQW5kR2FzUHJpY2Uoc2lnbmVkUmVxdWVzdCwgMTApKTtcbiAgICB9XG4gICAgdHhSZXF1ZXN0Q2xvbmUudXBkYXRlUHJlZGljYXRlR2FzVXNlZChzaWduZWRSZXF1ZXN0LmlucHV0cyk7XG4gICAgbGV0IHsgbWF4RmVlLCBtYXhHYXMsIG1pbkZlZSwgbWluR2FzLCBnYXNMaW1pdCB9ID0gYXdhaXQgdGhpcy5lc3RpbWF0ZVR4R2FzQW5kRmVlKHtcbiAgICAgIC8vIEZldGNoZXMgYW5kIHJldHVybnMgYSBnYXMgcHJpY2VcbiAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdDogc2lnbmVkUmVxdWVzdCxcbiAgICAgIGdhc1ByaWNlXG4gICAgfSk7XG4gICAgbGV0IHJhd1JlY2VpcHRzID0gW107XG4gICAgbGV0IHJlY2VpcHRzID0gW107XG4gICAgbGV0IGRyeVJ1blN0YXR1cztcbiAgICBsZXQgbWlzc2luZ0NvbnRyYWN0SWRzID0gW107XG4gICAgbGV0IG91dHB1dFZhcmlhYmxlcyA9IDA7XG4gICAgbGV0IGdhc1VzZWQgPSBibjE4KDApO1xuICAgIHR4UmVxdWVzdENsb25lLm1heEZlZSA9IG1heEZlZTtcbiAgICBpZiAoaXNTY3JpcHRUcmFuc2FjdGlvbikge1xuICAgICAgdHhSZXF1ZXN0Q2xvbmUuZ2FzTGltaXQgPSBnYXNMaW1pdDtcbiAgICAgIGlmIChzaWduYXR1cmVDYWxsYmFjaykge1xuICAgICAgICBhd2FpdCBzaWduYXR1cmVDYWxsYmFjayh0eFJlcXVlc3RDbG9uZSk7XG4gICAgICB9XG4gICAgICAoeyByYXdSZWNlaXB0cywgcmVjZWlwdHMsIG1pc3NpbmdDb250cmFjdElkcywgb3V0cHV0VmFyaWFibGVzLCBkcnlSdW5TdGF0dXMgfSA9IGF3YWl0IHRoaXMuZXN0aW1hdGVUeERlcGVuZGVuY2llcyh0eFJlcXVlc3RDbG9uZSwgeyBnYXNQcmljZSB9KSk7XG4gICAgICBpZiAoZHJ5UnVuU3RhdHVzICYmIFwicmVhc29uXCIgaW4gZHJ5UnVuU3RhdHVzKSB7XG4gICAgICAgIHRocm93IHRoaXMuZXh0cmFjdERyeVJ1bkVycm9yKHR4UmVxdWVzdENsb25lLCByZWNlaXB0cywgZHJ5UnVuU3RhdHVzLnJlYXNvbik7XG4gICAgICB9XG4gICAgICBjb25zdCB7IG1heEdhc1BlclR4IH0gPSBhd2FpdCB0aGlzLmdldEdhc0NvbmZpZygpO1xuICAgICAgY29uc3QgcHJpc3RpbmVHYXNVc2VkID0gZ2V0R2FzVXNlZEZyb21SZWNlaXB0cyhyZWNlaXB0cyk7XG4gICAgICBnYXNVc2VkID0gYm4xOChwcmlzdGluZUdhc1VzZWQubXVsbihHQVNfVVNFRF9NT0RJRklFUikpLm1heChtYXhHYXNQZXJUeC5zdWIobWluR2FzKSk7XG4gICAgICB0eFJlcXVlc3RDbG9uZS5nYXNMaW1pdCA9IGdhc1VzZWQ7XG4gICAgICAoeyBtYXhGZWUsIG1heEdhcywgbWluRmVlLCBtaW5HYXMgfSA9IGF3YWl0IHRoaXMuZXN0aW1hdGVUeEdhc0FuZEZlZSh7XG4gICAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdDogdHhSZXF1ZXN0Q2xvbmUsXG4gICAgICAgIGdhc1ByaWNlXG4gICAgICB9KSk7XG4gICAgfVxuICAgIGNvbnN0IHRyYW5zYWN0aW9uU3VtbWFyeSA9IHtcbiAgICAgIGdhc1ByaWNlOiBnYXNQcmljZS50b1N0cmluZygpLFxuICAgICAgcmVjZWlwdHM6IHJhd1JlY2VpcHRzXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgcmF3UmVjZWlwdHMsXG4gICAgICByZWNlaXB0cyxcbiAgICAgIGdhc1VzZWQsXG4gICAgICBnYXNQcmljZSxcbiAgICAgIG1pbkdhcyxcbiAgICAgIG1heEdhcyxcbiAgICAgIG1pbkZlZSxcbiAgICAgIG1heEZlZSxcbiAgICAgIG91dHB1dFZhcmlhYmxlcyxcbiAgICAgIG1pc3NpbmdDb250cmFjdElkcyxcbiAgICAgIGFkZGVkU2lnbmF0dXJlcyxcbiAgICAgIGVzdGltYXRlZFByZWRpY2F0ZXM6IHR4UmVxdWVzdENsb25lLmlucHV0cyxcbiAgICAgIGRyeVJ1blN0YXR1cyxcbiAgICAgIHVwZGF0ZU1heEZlZSxcbiAgICAgIHRyYW5zYWN0aW9uU3VtbWFyeVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFzc2VtYmxlcyBhIHRyYW5zYWN0aW9uIGJ5IGNvbXBsZXRlbHkgZXN0aW1hdGluZyBhbmQgZnVuZGluZyBpdC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFBhcmFtZXRlcnMgdXNlZCB0byBhc3NlbWJsZSB0aGUgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBhc3NlbWJsZWQgdHJhbnNhY3Rpb24gcmVxdWVzdCwgZXN0aW1hdGVkIGdhcyBwcmljZSwgYW5kIHJlY2VpcHRzXG4gICAqL1xuICBhc3luYyBhc3NlbWJsZVR4KHBhcmFtcykge1xuICAgIGNvbnN0IHtcbiAgICAgIHJlcXVlc3Q6IHJlcXVlc3QyLFxuICAgICAgcmVzZXJ2ZUdhcyxcbiAgICAgIHJlc291cmNlc0lkc1RvSWdub3JlLFxuICAgICAgZmVlUGF5ZXJBY2NvdW50LFxuICAgICAgYmxvY2tIb3Jpem9uID0gMTAsXG4gICAgICBlc3RpbWF0ZVByZWRpY2F0ZXMgPSB0cnVlLFxuICAgICAgYWNjb3VudENvaW5RdWFudGl0aWVzID0gW11cbiAgICB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGFsbEFkZHJlc3NlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgY29uc3QgYmFzZUFzc2V0SWQgPSBhd2FpdCB0aGlzLmdldEJhc2VBc3NldElkKCk7XG4gICAgbGV0IGZlZVBheWVySW5kZXggPSAtMTtcbiAgICBsZXQgYmFzZUFzc2V0Q2hhbmdlO1xuICAgIGNvbnN0IHJlcXVpcmVkQmFsYW5jZXMgPSBhY2NvdW50Q29pblF1YW50aXRpZXMubWFwKChxdWFudGl0eSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHsgYW1vdW50LCBhc3NldElkLCBhY2NvdW50ID0gZmVlUGF5ZXJBY2NvdW50LCBjaGFuZ2VPdXRwdXRBY2NvdW50IH0gPSBxdWFudGl0eTtcbiAgICAgIGNvbnN0IGNoYW5nZUFjY291bnRBZGRyZXNzID0gY2hhbmdlT3V0cHV0QWNjb3VudCA/IGNoYW5nZU91dHB1dEFjY291bnQuYWRkcmVzcy50b0IyNTYoKSA6IGFjY291bnQuYWRkcmVzcy50b0IyNTYoKTtcbiAgICAgIGFsbEFkZHJlc3Nlcy5hZGQoYWNjb3VudC5hZGRyZXNzLnRvQjI1NigpKTtcbiAgICAgIGNvbnN0IGNoYW5nZVBvbGljeSA9IHtcbiAgICAgICAgY2hhbmdlOiBjaGFuZ2VBY2NvdW50QWRkcmVzc1xuICAgICAgfTtcbiAgICAgIGlmIChhc3NldElkID09PSBiYXNlQXNzZXRJZCkge1xuICAgICAgICBiYXNlQXNzZXRDaGFuZ2UgPSBjaGFuZ2VQb2xpY3kuY2hhbmdlO1xuICAgICAgfVxuICAgICAgaWYgKGFjY291bnQuYWRkcmVzcy5lcXVhbHMoZmVlUGF5ZXJBY2NvdW50LmFkZHJlc3MpKSB7XG4gICAgICAgIGZlZVBheWVySW5kZXggPSBpbmRleDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlcXVpcmVkQmFsYW5jZSA9IHtcbiAgICAgICAgYWNjb3VudDogcmVzb2x2ZUFjY291bnRGb3JBc3NlbWJsZVR4UGFyYW1zKGFjY291bnQpLFxuICAgICAgICBhbW91bnQ6IGJuMTgoYW1vdW50KS50b1N0cmluZygxMCksXG4gICAgICAgIGFzc2V0SWQsXG4gICAgICAgIGNoYW5nZVBvbGljeVxuICAgICAgfTtcbiAgICAgIHJldHVybiByZXF1aXJlZEJhbGFuY2U7XG4gICAgfSk7XG4gICAgaWYgKGZlZVBheWVySW5kZXggPT09IC0xKSB7XG4gICAgICBhbGxBZGRyZXNzZXMuYWRkKGZlZVBheWVyQWNjb3VudC5hZGRyZXNzLnRvQjI1NigpKTtcbiAgICAgIGNvbnN0IG5ld0xlbmd0aCA9IHJlcXVpcmVkQmFsYW5jZXMucHVzaCh7XG4gICAgICAgIGFjY291bnQ6IHJlc29sdmVBY2NvdW50Rm9yQXNzZW1ibGVUeFBhcmFtcyhmZWVQYXllckFjY291bnQpLFxuICAgICAgICBhbW91bnQ6IGJuMTgoMCkudG9TdHJpbmcoMTApLFxuICAgICAgICAvLyBTaW5jZSB0aGUgY29ycmVjdCBmZWUgYW1vdW50IGNhbm5vdCBiZSBkZXRlcm1pbmVkIHlldCwgd2UgY2FuIHVzZSAwXG4gICAgICAgIGFzc2V0SWQ6IGJhc2VBc3NldElkLFxuICAgICAgICBjaGFuZ2VQb2xpY3k6IHtcbiAgICAgICAgICBjaGFuZ2U6IGJhc2VBc3NldENoYW5nZSB8fCBmZWVQYXllckFjY291bnQuYWRkcmVzcy50b0IyNTYoKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZlZVBheWVySW5kZXggPSBuZXdMZW5ndGggLSAxO1xuICAgIH1cbiAgICBjb25zdCBleGNsdWRlSW5wdXQgPSBhd2FpdCB0aGlzLmFkanVzdFJlc291cmNlc1RvSWdub3JlRm9yQWRkcmVzc2VzKFxuICAgICAgQXJyYXkuZnJvbShhbGxBZGRyZXNzZXMpLFxuICAgICAgcmVzb3VyY2VzSWRzVG9JZ25vcmVcbiAgICApO1xuICAgIGNvbnN0IHtcbiAgICAgIGFzc2VtYmxlVHg6IHsgc3RhdHVzLCB0cmFuc2FjdGlvbjogZ3FsVHJhbnNhY3Rpb24sIGdhc1ByaWNlIH1cbiAgICB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmFzc2VtYmxlVHgoe1xuICAgICAgdHg6IGhleGxpZnkxNyhyZXF1ZXN0Mi50b1RyYW5zYWN0aW9uQnl0ZXMoKSksXG4gICAgICBibG9ja0hvcml6b246IFN0cmluZyhibG9ja0hvcml6b24pLFxuICAgICAgZmVlQWRkcmVzc0luZGV4OiBTdHJpbmcoZmVlUGF5ZXJJbmRleCksXG4gICAgICByZXF1aXJlZEJhbGFuY2VzLFxuICAgICAgZXN0aW1hdGVQcmVkaWNhdGVzLFxuICAgICAgZXhjbHVkZUlucHV0LFxuICAgICAgcmVzZXJ2ZUdhczogcmVzZXJ2ZUdhcyA/IGJuMTgocmVzZXJ2ZUdhcykudG9TdHJpbmcoMTApIDogdm9pZCAwXG4gICAgfSk7XG4gICAgaWYgKHN0YXR1cy50eXBlID09PSBcIkRyeVJ1bkZhaWx1cmVTdGF0dXNcIikge1xuICAgICAgY29uc3QgcGFyc2VkUmVjZWlwdHMgPSBzdGF0dXMucmVjZWlwdHMubWFwKGRlc2VyaWFsaXplUmVjZWlwdCk7XG4gICAgICB0aHJvdyB0aGlzLmV4dHJhY3REcnlSdW5FcnJvcihyZXF1ZXN0MiwgcGFyc2VkUmVjZWlwdHMsIHN0YXR1cy5yZWFzb24pO1xuICAgIH1cbiAgICByZXF1ZXN0Mi53aXRuZXNzZXMgPSBncWxUcmFuc2FjdGlvbi53aXRuZXNzZXMgfHwgcmVxdWVzdDIud2l0bmVzc2VzO1xuICAgIHJlcXVlc3QyLmlucHV0cyA9IGdxbFRyYW5zYWN0aW9uLmlucHV0cz8ubWFwKGRlc2VyaWFsaXplSW5wdXQpIHx8IHJlcXVlc3QyLmlucHV0cztcbiAgICByZXF1ZXN0Mi5vdXRwdXRzID0gZ3FsVHJhbnNhY3Rpb24ub3V0cHV0cz8ubWFwKGRlc2VyaWFsaXplT3V0cHV0KSB8fCByZXF1ZXN0Mi5vdXRwdXRzO1xuICAgIGlmIChncWxUcmFuc2FjdGlvbi5wb2xpY2llcz8ubWF4RmVlKSB7XG4gICAgICByZXF1ZXN0Mi5tYXhGZWUgPSBibjE4KGdxbFRyYW5zYWN0aW9uLnBvbGljaWVzLm1heEZlZSk7XG4gICAgfVxuICAgIGlmIChyZXF1ZXN0Mi50eXBlID09PSBUcmFuc2FjdGlvblR5cGUxMS5TY3JpcHQpIHtcbiAgICAgIHJlcXVlc3QyLmdhc0xpbWl0ID0gYm4xOChncWxUcmFuc2FjdGlvbi5zY3JpcHRHYXNMaW1pdCkuYWRkKGJuMTgocmVzZXJ2ZUdhcykpO1xuICAgIH1cbiAgICBjb25zdCByYXdSZWNlaXB0cyA9IHN0YXR1cy5yZWNlaXB0cztcbiAgICBjb25zdCBjaGFpbklkID0gYXdhaXQgdGhpcy5nZXRDaGFpbklkKCk7XG4gICAgcmVxdWVzdDIudXBkYXRlU3RhdGUoY2hhaW5JZCwgXCJmdW5kZWRcIiwge1xuICAgICAgZ2FzUHJpY2U6IGdhc1ByaWNlLnRvU3RyaW5nKCksXG4gICAgICByZWNlaXB0czogcmF3UmVjZWlwdHNcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgYXNzZW1ibGVkUmVxdWVzdDogcmVxdWVzdDIsXG4gICAgICBnYXNQcmljZTogYm4xOChnYXNQcmljZSksXG4gICAgICByZWNlaXB0czogc3RhdHVzLnJlY2VpcHRzLm1hcChkZXNlcmlhbGl6ZVJlY2VpcHQpLFxuICAgICAgcmF3UmVjZWlwdHNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGNvaW5zIGZvciB0aGUgZ2l2ZW4gb3duZXIuXG4gICAqXG4gICAqIEBwYXJhbSBvd25lciAtIFRoZSBhZGRyZXNzIHRvIGdldCBjb2lucyBmb3IuXG4gICAqIEBwYXJhbSBhc3NldElkIC0gVGhlIGFzc2V0IElEIG9mIGNvaW5zIHRvIGdldCAob3B0aW9uYWwpLlxuICAgKiBAcGFyYW0gcGFnaW5hdGlvbkFyZ3MgLSBQYWdpbmF0aW9uIGFyZ3VtZW50cyAob3B0aW9uYWwpLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgY29pbnMuXG4gICAqL1xuICBhc3luYyBnZXRDb2lucyhvd25lciwgYXNzZXRJZCwgcGFnaW5hdGlvbkFyZ3MpIHtcbiAgICBjb25zdCBvd25lckFkZHJlc3MgPSBuZXcgQWRkcmVzczIob3duZXIpO1xuICAgIGNvbnN0IHtcbiAgICAgIGNvaW5zOiB7IGVkZ2VzLCBwYWdlSW5mbyB9XG4gICAgfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5nZXRDb2lucyh7XG4gICAgICAuLi52YWxpZGF0ZVBhZ2luYXRpb25BcmdzKHtcbiAgICAgICAgcGFnaW5hdGlvbkxpbWl0OiBSRVNPVVJDRVNfUEFHRV9TSVpFX0xJTUlULFxuICAgICAgICBpbnB1dEFyZ3M6IHBhZ2luYXRpb25BcmdzXG4gICAgICB9KSxcbiAgICAgIGZpbHRlcjogeyBvd25lcjogb3duZXJBZGRyZXNzLnRvQjI1NigpLCBhc3NldElkOiBhc3NldElkICYmIGhleGxpZnkxNyhhc3NldElkKSB9XG4gICAgfSk7XG4gICAgY29uc3QgY29pbnMgPSBlZGdlcy5tYXAoKHsgbm9kZSB9KSA9PiAoe1xuICAgICAgaWQ6IG5vZGUudXR4b0lkLFxuICAgICAgYXNzZXRJZDogbm9kZS5hc3NldElkLFxuICAgICAgYW1vdW50OiBibjE4KG5vZGUuYW1vdW50KSxcbiAgICAgIG93bmVyOiBvd25lckFkZHJlc3MsXG4gICAgICBibG9ja0NyZWF0ZWQ6IGJuMTgobm9kZS5ibG9ja0NyZWF0ZWQpLFxuICAgICAgdHhDcmVhdGVkSWR4OiBibjE4KG5vZGUudHhDcmVhdGVkSWR4KVxuICAgIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgY29pbnMsXG4gICAgICBwYWdlSW5mb1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcmVzb3VyY2VzIGZvciB0aGUgZ2l2ZW4gb3duZXIgc2F0aXNmeWluZyB0aGUgc3BlbmQgcXVlcnkuXG4gICAqXG4gICAqIEBwYXJhbSBvd25lciAtIFRoZSBhZGRyZXNzIHRvIGdldCByZXNvdXJjZXMgZm9yLlxuICAgKiBAcGFyYW0gcXVhbnRpdGllcyAtIFRoZSBjb2luIHF1YW50aXRpZXMgdG8gZ2V0LlxuICAgKiBAcGFyYW0gcmVzb3VyY2VzSWRzVG9JZ25vcmUgLSBJRHMgb2YgZXhjbHVkZWQgcmVzb3VyY2VzIGZyb20gdGhlIHNlbGVjdGlvbiAob3B0aW9uYWwpLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgcmVzb3VyY2VzLlxuICAgKi9cbiAgYXN5bmMgZ2V0UmVzb3VyY2VzVG9TcGVuZChvd25lciwgcXVhbnRpdGllcywgcmVzb3VyY2VzSWRzVG9JZ25vcmUpIHtcbiAgICBjb25zdCBvd25lckFkZHJlc3MgPSBuZXcgQWRkcmVzczIob3duZXIpO1xuICAgIGNvbnN0IGV4Y2x1ZGVkSWRzID0gYXdhaXQgdGhpcy5hZGp1c3RSZXNvdXJjZXNUb0lnbm9yZUZvckFkZHJlc3NlcyhcbiAgICAgIFtvd25lckFkZHJlc3MuYjI1NkFkZHJlc3NdLFxuICAgICAgcmVzb3VyY2VzSWRzVG9JZ25vcmVcbiAgICApO1xuICAgIGNvbnN0IGNvaW5zUXVlcnkgPSB7XG4gICAgICBvd25lcjogb3duZXJBZGRyZXNzLnRvQjI1NigpLFxuICAgICAgcXVlcnlQZXJBc3NldDogcXVhbnRpdGllcy5tYXAoY29pblF1YW50aXR5ZnkpLm1hcCgoeyBhc3NldElkLCBhbW91bnQsIG1heDogbWF4UGVyQXNzZXQgfSkgPT4gKHtcbiAgICAgICAgYXNzZXRJZDogaGV4bGlmeTE3KGFzc2V0SWQpLFxuICAgICAgICBhbW91bnQ6IChhbW91bnQuZXFuKDApID8gYm4xOCgxKSA6IGFtb3VudCkudG9TdHJpbmcoMTApLFxuICAgICAgICBtYXg6IG1heFBlckFzc2V0ID8gbWF4UGVyQXNzZXQudG9TdHJpbmcoMTApIDogdm9pZCAwXG4gICAgICB9KSksXG4gICAgICBleGNsdWRlZElkc1xuICAgIH07XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldENvaW5zVG9TcGVuZChjb2luc1F1ZXJ5KTtcbiAgICBjb25zdCBjb2lucyA9IHJlc3VsdC5jb2luc1RvU3BlbmQuZmxhdCgpLm1hcCgoY29pbikgPT4ge1xuICAgICAgc3dpdGNoIChjb2luLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIk1lc3NhZ2VDb2luXCI6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFtb3VudDogYm4xOChjb2luLmFtb3VudCksXG4gICAgICAgICAgICBhc3NldElkOiBjb2luLmFzc2V0SWQsXG4gICAgICAgICAgICBkYUhlaWdodDogYm4xOChjb2luLmRhSGVpZ2h0KSxcbiAgICAgICAgICAgIHNlbmRlcjogbmV3IEFkZHJlc3MyKGNvaW4uc2VuZGVyKSxcbiAgICAgICAgICAgIHJlY2lwaWVudDogbmV3IEFkZHJlc3MyKGNvaW4ucmVjaXBpZW50KSxcbiAgICAgICAgICAgIG5vbmNlOiBjb2luLm5vbmNlXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcIkNvaW5cIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGNvaW4udXR4b0lkLFxuICAgICAgICAgICAgYW1vdW50OiBibjE4KGNvaW4uYW1vdW50KSxcbiAgICAgICAgICAgIGFzc2V0SWQ6IGNvaW4uYXNzZXRJZCxcbiAgICAgICAgICAgIG93bmVyOiBvd25lckFkZHJlc3MsXG4gICAgICAgICAgICBibG9ja0NyZWF0ZWQ6IGJuMTgoY29pbi5ibG9ja0NyZWF0ZWQpLFxuICAgICAgICAgICAgdHhDcmVhdGVkSWR4OiBibjE4KGNvaW4udHhDcmVhdGVkSWR4KVxuICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSkuZmlsdGVyKCh2KSA9PiAhIXYpO1xuICAgIHJldHVybiBjb2lucztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBibG9iSWRzIHRoYXQgZXhpc3Qgb24gY2hhaW4sIGZvciBhIGdpdmVuIGFycmF5IG9mIGJsb2JJZHMuXG4gICAqXG4gICAqIEBwYXJhbSBibG9iSWRzIC0gYmxvYklkcyB0byBjaGVjay5cbiAgICogQHJldHVybnMgLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBibG9iSWRzIHRoYXQgZXhpc3Qgb24gY2hhaW4uXG4gICAqL1xuICBhc3luYyBnZXRCbG9icyhibG9iSWRzKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldEJsb2JzKHsgYmxvYklkcyB9KTtcbiAgICBjb25zdCBibG9icyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKHJlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCB2YWwgPSByZXNba2V5XTtcbiAgICAgIGJsb2JzLnB1c2godmFsPy5pZCA/PyBudWxsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYmxvYnMuZmlsdGVyKCh2KSA9PiB2KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBibG9jayBtYXRjaGluZyB0aGUgZ2l2ZW4gSUQgb3IgaGVpZ2h0LlxuICAgKlxuICAgKiBAcGFyYW0gaWRPckhlaWdodCAtIElEIG9yIGhlaWdodCBvZiB0aGUgYmxvY2suXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBibG9jayBvciBudWxsLlxuICAgKi9cbiAgYXN5bmMgZ2V0QmxvY2soaWRPckhlaWdodCkge1xuICAgIGxldCBibG9jaztcbiAgICBpZiAoaWRPckhlaWdodCA9PT0gXCJsYXRlc3RcIikge1xuICAgICAgY29uc3Qge1xuICAgICAgICBjaGFpbjogeyBsYXRlc3RCbG9jayB9XG4gICAgICB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldExhdGVzdEJsb2NrKCk7XG4gICAgICBibG9jayA9IGxhdGVzdEJsb2NrO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpc2Jsb2NrSWQgPSB0eXBlb2YgaWRPckhlaWdodCA9PT0gXCJzdHJpbmdcIiAmJiBpc0IyNTYoaWRPckhlaWdodCk7XG4gICAgICBjb25zdCB2YXJpYWJsZXMgPSBpc2Jsb2NrSWQgPyB7IGJsb2NrSWQ6IGlkT3JIZWlnaHQgfSA6IHsgaGVpZ2h0OiBibjE4KGlkT3JIZWlnaHQpLnRvU3RyaW5nKDEwKSB9O1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZ2V0QmxvY2sodmFyaWFibGVzKTtcbiAgICAgIGJsb2NrID0gcmVzcG9uc2UuYmxvY2s7XG4gICAgfVxuICAgIGlmICghYmxvY2spIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGhlYWRlciwgaGVpZ2h0LCBpZCwgdHJhbnNhY3Rpb25zIH0gPSBibG9jaztcbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICBoZWlnaHQ6IGJuMTgoaGVpZ2h0KSxcbiAgICAgIHRpbWU6IGhlYWRlci50aW1lLFxuICAgICAgaGVhZGVyOiB7XG4gICAgICAgIGFwcGxpY2F0aW9uSGFzaDogaGVhZGVyLmFwcGxpY2F0aW9uSGFzaCxcbiAgICAgICAgZGFIZWlnaHQ6IGJuMTgoaGVhZGVyLmRhSGVpZ2h0KSxcbiAgICAgICAgZXZlbnRJbmJveFJvb3Q6IGhlYWRlci5ldmVudEluYm94Um9vdCxcbiAgICAgICAgbWVzc2FnZU91dGJveFJvb3Q6IGhlYWRlci5tZXNzYWdlT3V0Ym94Um9vdCxcbiAgICAgICAgcHJldlJvb3Q6IGhlYWRlci5wcmV2Um9vdCxcbiAgICAgICAgc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uOiBoZWFkZXIuc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uLFxuICAgICAgICB0cmFuc2FjdGlvbnNDb3VudDogaGVhZGVyLnRyYW5zYWN0aW9uc0NvdW50LFxuICAgICAgICB0cmFuc2FjdGlvbnNSb290OiBoZWFkZXIudHJhbnNhY3Rpb25zUm9vdFxuICAgICAgfSxcbiAgICAgIHRyYW5zYWN0aW9uSWRzOiB0cmFuc2FjdGlvbnMubWFwKCh0eCkgPT4gdHguaWQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhbGwgdGhlIGJsb2NrcyBtYXRjaGluZyB0aGUgZ2l2ZW4gcGFyYW1ldGVycy5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIHRvIHF1ZXJ5IGJsb2Nrcy5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGJsb2Nrcy5cbiAgICovXG4gIGFzeW5jIGdldEJsb2NrcyhwYXJhbXMpIHtcbiAgICBjb25zdCB7XG4gICAgICBibG9ja3M6IHsgZWRnZXMsIHBhZ2VJbmZvIH1cbiAgICB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldEJsb2Nrcyh7XG4gICAgICAuLi52YWxpZGF0ZVBhZ2luYXRpb25BcmdzKHtcbiAgICAgICAgcGFnaW5hdGlvbkxpbWl0OiBCTE9DS1NfUEFHRV9TSVpFX0xJTUlULFxuICAgICAgICBpbnB1dEFyZ3M6IHBhcmFtc1xuICAgICAgfSlcbiAgICB9KTtcbiAgICBjb25zdCBibG9ja3MgPSBlZGdlcy5tYXAoKHsgbm9kZTogYmxvY2sgfSkgPT4gKHtcbiAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgIGhlaWdodDogYm4xOChibG9jay5oZWlnaHQpLFxuICAgICAgdGltZTogYmxvY2suaGVhZGVyLnRpbWUsXG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgYXBwbGljYXRpb25IYXNoOiBibG9jay5oZWFkZXIuYXBwbGljYXRpb25IYXNoLFxuICAgICAgICBkYUhlaWdodDogYm4xOChibG9jay5oZWFkZXIuZGFIZWlnaHQpLFxuICAgICAgICBldmVudEluYm94Um9vdDogYmxvY2suaGVhZGVyLmV2ZW50SW5ib3hSb290LFxuICAgICAgICBtZXNzYWdlT3V0Ym94Um9vdDogYmxvY2suaGVhZGVyLm1lc3NhZ2VPdXRib3hSb290LFxuICAgICAgICBwcmV2Um9vdDogYmxvY2suaGVhZGVyLnByZXZSb290LFxuICAgICAgICBzdGF0ZVRyYW5zaXRpb25CeXRlY29kZVZlcnNpb246IGJsb2NrLmhlYWRlci5zdGF0ZVRyYW5zaXRpb25CeXRlY29kZVZlcnNpb24sXG4gICAgICAgIHRyYW5zYWN0aW9uc0NvdW50OiBibG9jay5oZWFkZXIudHJhbnNhY3Rpb25zQ291bnQsXG4gICAgICAgIHRyYW5zYWN0aW9uc1Jvb3Q6IGJsb2NrLmhlYWRlci50cmFuc2FjdGlvbnNSb290XG4gICAgICB9LFxuICAgICAgdHJhbnNhY3Rpb25JZHM6IGJsb2NrLnRyYW5zYWN0aW9ucy5tYXAoKHR4KSA9PiB0eC5pZClcbiAgICB9KSk7XG4gICAgcmV0dXJuIHsgYmxvY2tzLCBwYWdlSW5mbyB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGJsb2NrIG1hdGNoaW5nIHRoZSBnaXZlbiBJRCBvciB0eXBlLCBpbmNsdWRpbmcgdHJhbnNhY3Rpb24gZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIGlkT3JIZWlnaHQgLSBJRCBvciBoZWlnaHQgb2YgdGhlIGJsb2NrLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgYmxvY2suXG4gICAqL1xuICBhc3luYyBnZXRCbG9ja1dpdGhUcmFuc2FjdGlvbnMoaWRPckhlaWdodCkge1xuICAgIGxldCB2YXJpYWJsZXM7XG4gICAgaWYgKHR5cGVvZiBpZE9ySGVpZ2h0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICB2YXJpYWJsZXMgPSB7IGJsb2NrSGVpZ2h0OiBibjE4KGlkT3JIZWlnaHQpLnRvU3RyaW5nKDEwKSB9O1xuICAgIH0gZWxzZSBpZiAoaWRPckhlaWdodCA9PT0gXCJsYXRlc3RcIikge1xuICAgICAgdmFyaWFibGVzID0geyBibG9ja0hlaWdodDogKGF3YWl0IHRoaXMuZ2V0QmxvY2tOdW1iZXIoKSkudG9TdHJpbmcoKSB9O1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlkT3JIZWlnaHQgPT09IFwic3RyaW5nXCIgJiYgaXNCMjU2KGlkT3JIZWlnaHQpKSB7XG4gICAgICB2YXJpYWJsZXMgPSB7IGJsb2NrSWQ6IGlkT3JIZWlnaHQgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyaWFibGVzID0geyBibG9ja0hlaWdodDogYm4xOChpZE9ySGVpZ2h0KS50b1N0cmluZygpIH07XG4gICAgfVxuICAgIGNvbnN0IHsgYmxvY2sgfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5nZXRCbG9ja1dpdGhUcmFuc2FjdGlvbnModmFyaWFibGVzKTtcbiAgICBpZiAoIWJsb2NrKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgIGhlaWdodDogYm4xOChibG9jay5oZWlnaHQsIDEwKSxcbiAgICAgIHRpbWU6IGJsb2NrLmhlYWRlci50aW1lLFxuICAgICAgaGVhZGVyOiB7XG4gICAgICAgIGFwcGxpY2F0aW9uSGFzaDogYmxvY2suaGVhZGVyLmFwcGxpY2F0aW9uSGFzaCxcbiAgICAgICAgZGFIZWlnaHQ6IGJuMTgoYmxvY2suaGVhZGVyLmRhSGVpZ2h0KSxcbiAgICAgICAgZXZlbnRJbmJveFJvb3Q6IGJsb2NrLmhlYWRlci5ldmVudEluYm94Um9vdCxcbiAgICAgICAgbWVzc2FnZU91dGJveFJvb3Q6IGJsb2NrLmhlYWRlci5tZXNzYWdlT3V0Ym94Um9vdCxcbiAgICAgICAgcHJldlJvb3Q6IGJsb2NrLmhlYWRlci5wcmV2Um9vdCxcbiAgICAgICAgc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uOiBibG9jay5oZWFkZXIuc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uLFxuICAgICAgICB0cmFuc2FjdGlvbnNDb3VudDogYmxvY2suaGVhZGVyLnRyYW5zYWN0aW9uc0NvdW50LFxuICAgICAgICB0cmFuc2FjdGlvbnNSb290OiBibG9jay5oZWFkZXIudHJhbnNhY3Rpb25zUm9vdFxuICAgICAgfSxcbiAgICAgIHRyYW5zYWN0aW9uSWRzOiBibG9jay50cmFuc2FjdGlvbnMubWFwKCh0eCkgPT4gdHguaWQpLFxuICAgICAgdHJhbnNhY3Rpb25zOiBibG9jay50cmFuc2FjdGlvbnMubWFwKFxuICAgICAgICAodHgpID0+IG5ldyBUcmFuc2FjdGlvbkNvZGVyNigpLmRlY29kZShhcnJheWlmeTEyKHR4LnJhd1BheWxvYWQpLCAwKT8uWzBdXG4gICAgICApXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRyYW5zYWN0aW9uIHdpdGggdGhlIGdpdmVuIElELlxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25JZCAtIElEIG9mIHRoZSB0cmFuc2FjdGlvbi5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zYWN0aW9uLlxuICAgKi9cbiAgYXN5bmMgZ2V0VHJhbnNhY3Rpb24odHJhbnNhY3Rpb25JZCkge1xuICAgIGNvbnN0IHsgdHJhbnNhY3Rpb24gfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5nZXRUcmFuc2FjdGlvbih7IHRyYW5zYWN0aW9uSWQgfSk7XG4gICAgaWYgKCF0cmFuc2FjdGlvbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uQ29kZXI2KCkuZGVjb2RlKFxuICAgICAgICBhcnJheWlmeTEyKHRyYW5zYWN0aW9uLnJhd1BheWxvYWQpLFxuICAgICAgICAwXG4gICAgICApPy5bMF07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEZ1ZWxFcnJvcjE5ICYmIGVycm9yLmNvZGUgPT09IEVycm9yQ29kZTE3LlVOU1VQUE9SVEVEX1RSQU5TQUNUSU9OX1RZUEUpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVW5zdXBwb3J0ZWQgdHJhbnNhY3Rpb24gdHlwZSBlbmNvdW50ZXJlZFwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0cmFuc2FjdGlvbnMgYmFzZWQgb24gdGhlIHByb3ZpZGVkIHBhZ2luYXRpb24gYXJndW1lbnRzLlxuICAgKiBAcGFyYW0gcGFnaW5hdGlvbkFyZ3MgLSBUaGUgcGFnaW5hdGlvbiBhcmd1bWVudHMgZm9yIHJldHJpZXZpbmcgdHJhbnNhY3Rpb25zLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgcmV0cmlldmVkIHRyYW5zYWN0aW9ucyBhbmQgcGFnaW5hdGlvbiBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGFzeW5jIGdldFRyYW5zYWN0aW9ucyhwYWdpbmF0aW9uQXJncykge1xuICAgIGNvbnN0IHtcbiAgICAgIHRyYW5zYWN0aW9uczogeyBlZGdlcywgcGFnZUluZm8gfVxuICAgIH0gPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZ2V0VHJhbnNhY3Rpb25zKHtcbiAgICAgIC4uLnZhbGlkYXRlUGFnaW5hdGlvbkFyZ3Moe1xuICAgICAgICBpbnB1dEFyZ3M6IHBhZ2luYXRpb25BcmdzLFxuICAgICAgICBwYWdpbmF0aW9uTGltaXQ6IFRSQU5TQUNUSU9OU19QQUdFX1NJWkVfTElNSVRcbiAgICAgIH0pXG4gICAgfSk7XG4gICAgY29uc3QgY29kZXIgPSBuZXcgVHJhbnNhY3Rpb25Db2RlcjYoKTtcbiAgICBjb25zdCB0cmFuc2FjdGlvbnMgPSBlZGdlcy5tYXAoKHsgbm9kZTogeyByYXdQYXlsb2FkIH0gfSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGNvZGVyLmRlY29kZShhcnJheWlmeTEyKHJhd1BheWxvYWQpLCAwKVswXTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEZ1ZWxFcnJvcjE5ICYmIGVycm9yLmNvZGUgPT09IEVycm9yQ29kZTE3LlVOU1VQUE9SVEVEX1RSQU5TQUNUSU9OX1RZUEUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJVbnN1cHBvcnRlZCB0cmFuc2FjdGlvbiB0eXBlIGVuY291bnRlcmVkXCIpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pLmZpbHRlcigodHgpID0+IHR4ICE9PSBudWxsKTtcbiAgICByZXR1cm4geyB0cmFuc2FjdGlvbnMsIHBhZ2VJbmZvIH07XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoZXMgYSBjb21wcmVzc2VkIGJsb2NrIGF0IHRoZSBzcGVjaWZpZWQgaGVpZ2h0LlxuICAgKlxuICAgKiBAcGFyYW0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgYmxvY2sgdG8gZmV0Y2guXG4gICAqIEByZXR1cm5zIFRoZSBjb21wcmVzc2VkIGJsb2NrIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGBudWxsYC5cbiAgICovXG4gIGFzeW5jIGRhQ29tcHJlc3NlZEJsb2NrKGhlaWdodCkge1xuICAgIGNvbnN0IHsgZGFDb21wcmVzc2VkQmxvY2sgfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5kYUNvbXByZXNzZWRCbG9jayh7XG4gICAgICBoZWlnaHRcbiAgICB9KTtcbiAgICBpZiAoIWRhQ29tcHJlc3NlZEJsb2NrKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGRhQ29tcHJlc3NlZEJsb2NrO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgZGVwbG95ZWQgY29udHJhY3Qgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSBjb250cmFjdElkIC0gSUQgb2YgdGhlIGNvbnRyYWN0LlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgY29udHJhY3QuXG4gICAqL1xuICBhc3luYyBnZXRDb250cmFjdChjb250cmFjdElkKSB7XG4gICAgY29uc3QgeyBjb250cmFjdCB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldENvbnRyYWN0KHsgY29udHJhY3RJZCB9KTtcbiAgICBpZiAoIWNvbnRyYWN0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRyYWN0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBiYWxhbmNlIGZvciB0aGUgZ2l2ZW4gY29udHJhY3QgZm9yIHRoZSBnaXZlbiBhc3NldCBJRC5cbiAgICpcbiAgICogQHBhcmFtIGNvbnRyYWN0SWQgLSBUaGUgY29udHJhY3QgSUQgdG8gZ2V0IHRoZSBiYWxhbmNlIGZvci5cbiAgICogQHBhcmFtIGFzc2V0SWQgLSBUaGUgYXNzZXQgSUQgb2YgY29pbnMgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgYmFsYW5jZS5cbiAgICovXG4gIGFzeW5jIGdldENvbnRyYWN0QmFsYW5jZShjb250cmFjdElkLCBhc3NldElkKSB7XG4gICAgY29uc3QgeyBjb250cmFjdEJhbGFuY2UgfSA9IGF3YWl0IHRoaXMub3BlcmF0aW9ucy5nZXRDb250cmFjdEJhbGFuY2Uoe1xuICAgICAgY29udHJhY3Q6IG5ldyBBZGRyZXNzMihjb250cmFjdElkKS50b0IyNTYoKSxcbiAgICAgIGFzc2V0OiBoZXhsaWZ5MTcoYXNzZXRJZClcbiAgICB9KTtcbiAgICByZXR1cm4gYm4xOChjb250cmFjdEJhbGFuY2UuYW1vdW50LCAxMCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGJhbGFuY2UgZm9yIHRoZSBnaXZlbiBvd25lciBmb3IgdGhlIGdpdmVuIGFzc2V0IElELlxuICAgKlxuICAgKiBAcGFyYW0gb3duZXIgLSBUaGUgYWRkcmVzcyB0byBnZXQgY29pbnMgZm9yLlxuICAgKiBAcGFyYW0gYXNzZXRJZCAtIFRoZSBhc3NldCBJRCBvZiBjb2lucyB0byBnZXQuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBiYWxhbmNlLlxuICAgKi9cbiAgYXN5bmMgZ2V0QmFsYW5jZShvd25lciwgYXNzZXRJZCkge1xuICAgIGNvbnN0IHsgYmFsYW5jZSB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldEJhbGFuY2VWMih7XG4gICAgICBvd25lcjogbmV3IEFkZHJlc3MyKG93bmVyKS50b0IyNTYoKSxcbiAgICAgIGFzc2V0SWQ6IGhleGxpZnkxNyhhc3NldElkKVxuICAgIH0pO1xuICAgIHJldHVybiBibjE4KGJhbGFuY2UuYW1vdW50VTEyOCwgMTApO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGJhbGFuY2VzIGZvciB0aGUgZ2l2ZW4gb3duZXIuXG4gICAqXG4gICAqIEBwYXJhbSBvd25lciAtIFRoZSBhZGRyZXNzIHRvIGdldCBjb2lucyBmb3IuXG4gICAqIEBwYXJhbSBwYWdpbmF0aW9uQXJncyAtIFBhZ2luYXRpb24gYXJndW1lbnRzIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBiYWxhbmNlcy5cbiAgICovXG4gIGFzeW5jIGdldEJhbGFuY2VzKG93bmVyLCBwYWdpbmF0aW9uQXJncykge1xuICAgIGxldCBhcmdzID0geyBmaXJzdDogTk9OX1BBR0lOQVRFRF9CQUxBTkNFU19TSVpFIH07XG4gICAgY29uc3QgeyBiYWxhbmNlc1BhZ2luYXRpb246IHN1cHBvcnRzUGFnaW5hdGlvbiB9ID0gYXdhaXQgdGhpcy5nZXROb2RlRmVhdHVyZXMoKTtcbiAgICBpZiAoc3VwcG9ydHNQYWdpbmF0aW9uKSB7XG4gICAgICBhcmdzID0gdmFsaWRhdGVQYWdpbmF0aW9uQXJncyh7XG4gICAgICAgIGlucHV0QXJnczogcGFnaW5hdGlvbkFyZ3MsXG4gICAgICAgIHBhZ2luYXRpb25MaW1pdDogQkFMQU5DRVNfUEFHRV9TSVpFX0xJTUlUXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgYmFsYW5jZXM6IHsgZWRnZXMsIHBhZ2VJbmZvIH1cbiAgICB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldEJhbGFuY2VzVjIoe1xuICAgICAgLi4uYXJncyxcbiAgICAgIGZpbHRlcjogeyBvd25lcjogbmV3IEFkZHJlc3MyKG93bmVyKS50b0IyNTYoKSB9LFxuICAgICAgc3VwcG9ydHNQYWdpbmF0aW9uXG4gICAgfSk7XG4gICAgY29uc3QgYmFsYW5jZXMgPSBlZGdlcy5tYXAoKHsgbm9kZSB9KSA9PiAoe1xuICAgICAgYXNzZXRJZDogbm9kZS5hc3NldElkLFxuICAgICAgYW1vdW50OiBibjE4KG5vZGUuYW1vdW50VTEyOClcbiAgICB9KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhbGFuY2VzLFxuICAgICAgLi4uc3VwcG9ydHNQYWdpbmF0aW9uID8geyBwYWdlSW5mbyB9IDoge31cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBhZGRyZXNzLlxuICAgKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSBhZGRyZXNzIHRvIGdldCBtZXNzYWdlIGZyb20uXG4gICAqIEBwYXJhbSBwYWdpbmF0aW9uQXJncyAtIFBhZ2luYXRpb24gYXJndW1lbnRzIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBtZXNzYWdlcy5cbiAgICovXG4gIGFzeW5jIGdldE1lc3NhZ2VzKGFkZHJlc3MsIHBhZ2luYXRpb25BcmdzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWVzc2FnZXM6IHsgZWRnZXMsIHBhZ2VJbmZvIH1cbiAgICB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldE1lc3NhZ2VzKHtcbiAgICAgIC4uLnZhbGlkYXRlUGFnaW5hdGlvbkFyZ3Moe1xuICAgICAgICBpbnB1dEFyZ3M6IHBhZ2luYXRpb25BcmdzLFxuICAgICAgICBwYWdpbmF0aW9uTGltaXQ6IFJFU09VUkNFU19QQUdFX1NJWkVfTElNSVRcbiAgICAgIH0pLFxuICAgICAgb3duZXI6IG5ldyBBZGRyZXNzMihhZGRyZXNzKS50b0IyNTYoKVxuICAgIH0pO1xuICAgIGNvbnN0IG1lc3NhZ2VzID0gZWRnZXMubWFwKCh7IG5vZGUgfSkgPT4gKHtcbiAgICAgIG1lc3NhZ2VJZDogSW5wdXRNZXNzYWdlQ29kZXIyLmdldE1lc3NhZ2VJZCh7XG4gICAgICAgIHNlbmRlcjogbm9kZS5zZW5kZXIsXG4gICAgICAgIHJlY2lwaWVudDogbm9kZS5yZWNpcGllbnQsXG4gICAgICAgIG5vbmNlOiBub2RlLm5vbmNlLFxuICAgICAgICBhbW91bnQ6IGJuMTgobm9kZS5hbW91bnQpLFxuICAgICAgICBkYXRhOiBub2RlLmRhdGFcbiAgICAgIH0pLFxuICAgICAgc2VuZGVyOiBuZXcgQWRkcmVzczIobm9kZS5zZW5kZXIpLFxuICAgICAgcmVjaXBpZW50OiBuZXcgQWRkcmVzczIobm9kZS5yZWNpcGllbnQpLFxuICAgICAgbm9uY2U6IG5vZGUubm9uY2UsXG4gICAgICBhbW91bnQ6IGJuMTgobm9kZS5hbW91bnQpLFxuICAgICAgZGF0YTogSW5wdXRNZXNzYWdlQ29kZXIyLmRlY29kZURhdGEobm9kZS5kYXRhKSxcbiAgICAgIGRhSGVpZ2h0OiBibjE4KG5vZGUuZGFIZWlnaHQpXG4gICAgfSkpO1xuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlcyxcbiAgICAgIHBhZ2VJbmZvXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBNZXNzYWdlIFByb29mIGZvciBnaXZlbiB0cmFuc2FjdGlvbiBpZCBhbmQgdGhlIG1lc3NhZ2UgaWQgZnJvbSBNZXNzYWdlT3V0IHJlY2VpcHQuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvbklkIC0gVGhlIHRyYW5zYWN0aW9uIHRvIGdldCBtZXNzYWdlIGZyb20uXG4gICAqIEBwYXJhbSBtZXNzYWdlSWQgLSBUaGUgbWVzc2FnZSBpZCBmcm9tIE1lc3NhZ2VPdXQgcmVjZWlwdC5cbiAgICogQHBhcmFtIGNvbW1pdEJsb2NrSWQgLSBUaGUgY29tbWl0IGJsb2NrIGlkIChvcHRpb25hbCkuXG4gICAqIEBwYXJhbSBjb21taXRCbG9ja0hlaWdodCAtIFRoZSBjb21taXQgYmxvY2sgaGVpZ2h0IChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBtZXNzYWdlIHByb29mLlxuICAgKi9cbiAgYXN5bmMgZ2V0TWVzc2FnZVByb29mKHRyYW5zYWN0aW9uSWQsIG5vbmNlLCBjb21taXRCbG9ja0lkLCBjb21taXRCbG9ja0hlaWdodCkge1xuICAgIGxldCBpbnB1dE9iamVjdCA9IHtcbiAgICAgIHRyYW5zYWN0aW9uSWQsXG4gICAgICBub25jZVxuICAgIH07XG4gICAgaWYgKGNvbW1pdEJsb2NrSWQgJiYgY29tbWl0QmxvY2tIZWlnaHQpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IxOShcbiAgICAgICAgRXJyb3JDb2RlMTcuSU5WQUxJRF9JTlBVVF9QQVJBTUVURVJTLFxuICAgICAgICBcImNvbW1pdEJsb2NrSWQgYW5kIGNvbW1pdEJsb2NrSGVpZ2h0IGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChjb21taXRCbG9ja0lkKSB7XG4gICAgICBpbnB1dE9iamVjdCA9IHtcbiAgICAgICAgLi4uaW5wdXRPYmplY3QsXG4gICAgICAgIGNvbW1pdEJsb2NrSWRcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChjb21taXRCbG9ja0hlaWdodCkge1xuICAgICAgaW5wdXRPYmplY3QgPSB7XG4gICAgICAgIC4uLmlucHV0T2JqZWN0LFxuICAgICAgICAvLyBDb252ZXJ0IEJOIGludG8gYSBudW1iZXIgc3RyaW5nIHJlcXVpcmVkIG9uIHRoZSBxdWVyeVxuICAgICAgICAvLyBUaGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaXhlZCBvbiB0aGUgZnVlbCBjbGllbnQgc2lkZVxuICAgICAgICBjb21taXRCbG9ja0hlaWdodDogY29tbWl0QmxvY2tIZWlnaHQudG9OdW1iZXIoKS50b1N0cmluZygpXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZ2V0TWVzc2FnZVByb29mKGlucHV0T2JqZWN0KTtcbiAgICBjb25zdCB7XG4gICAgICBtZXNzYWdlUHJvb2YsXG4gICAgICBtZXNzYWdlQmxvY2tIZWFkZXIsXG4gICAgICBjb21taXRCbG9ja0hlYWRlcixcbiAgICAgIGJsb2NrUHJvb2YsXG4gICAgICBzZW5kZXIsXG4gICAgICByZWNpcGllbnQsXG4gICAgICBhbW91bnQsXG4gICAgICBkYXRhXG4gICAgfSA9IHJlc3VsdC5tZXNzYWdlUHJvb2Y7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2VQcm9vZjoge1xuICAgICAgICBwcm9vZkluZGV4OiBibjE4KG1lc3NhZ2VQcm9vZi5wcm9vZkluZGV4KSxcbiAgICAgICAgcHJvb2ZTZXQ6IG1lc3NhZ2VQcm9vZi5wcm9vZlNldFxuICAgICAgfSxcbiAgICAgIGJsb2NrUHJvb2Y6IHtcbiAgICAgICAgcHJvb2ZJbmRleDogYm4xOChibG9ja1Byb29mLnByb29mSW5kZXgpLFxuICAgICAgICBwcm9vZlNldDogYmxvY2tQcm9vZi5wcm9vZlNldFxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2VCbG9ja0hlYWRlcjoge1xuICAgICAgICBpZDogbWVzc2FnZUJsb2NrSGVhZGVyLmlkLFxuICAgICAgICBkYUhlaWdodDogYm4xOChtZXNzYWdlQmxvY2tIZWFkZXIuZGFIZWlnaHQpLFxuICAgICAgICB0cmFuc2FjdGlvbnNDb3VudDogTnVtYmVyKG1lc3NhZ2VCbG9ja0hlYWRlci50cmFuc2FjdGlvbnNDb3VudCksXG4gICAgICAgIHRyYW5zYWN0aW9uc1Jvb3Q6IG1lc3NhZ2VCbG9ja0hlYWRlci50cmFuc2FjdGlvbnNSb290LFxuICAgICAgICBoZWlnaHQ6IGJuMTgobWVzc2FnZUJsb2NrSGVhZGVyLmhlaWdodCksXG4gICAgICAgIHByZXZSb290OiBtZXNzYWdlQmxvY2tIZWFkZXIucHJldlJvb3QsXG4gICAgICAgIHRpbWU6IG1lc3NhZ2VCbG9ja0hlYWRlci50aW1lLFxuICAgICAgICBhcHBsaWNhdGlvbkhhc2g6IG1lc3NhZ2VCbG9ja0hlYWRlci5hcHBsaWNhdGlvbkhhc2gsXG4gICAgICAgIG1lc3NhZ2VSZWNlaXB0Q291bnQ6IE51bWJlcihtZXNzYWdlQmxvY2tIZWFkZXIubWVzc2FnZVJlY2VpcHRDb3VudCksXG4gICAgICAgIG1lc3NhZ2VPdXRib3hSb290OiBtZXNzYWdlQmxvY2tIZWFkZXIubWVzc2FnZU91dGJveFJvb3QsXG4gICAgICAgIGNvbnNlbnN1c1BhcmFtZXRlcnNWZXJzaW9uOiBOdW1iZXIobWVzc2FnZUJsb2NrSGVhZGVyLmNvbnNlbnN1c1BhcmFtZXRlcnNWZXJzaW9uKSxcbiAgICAgICAgZXZlbnRJbmJveFJvb3Q6IG1lc3NhZ2VCbG9ja0hlYWRlci5ldmVudEluYm94Um9vdCxcbiAgICAgICAgc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uOiBOdW1iZXIobWVzc2FnZUJsb2NrSGVhZGVyLnN0YXRlVHJhbnNpdGlvbkJ5dGVjb2RlVmVyc2lvbilcbiAgICAgIH0sXG4gICAgICBjb21taXRCbG9ja0hlYWRlcjoge1xuICAgICAgICBpZDogY29tbWl0QmxvY2tIZWFkZXIuaWQsXG4gICAgICAgIGRhSGVpZ2h0OiBibjE4KGNvbW1pdEJsb2NrSGVhZGVyLmRhSGVpZ2h0KSxcbiAgICAgICAgdHJhbnNhY3Rpb25zQ291bnQ6IE51bWJlcihjb21taXRCbG9ja0hlYWRlci50cmFuc2FjdGlvbnNDb3VudCksXG4gICAgICAgIHRyYW5zYWN0aW9uc1Jvb3Q6IGNvbW1pdEJsb2NrSGVhZGVyLnRyYW5zYWN0aW9uc1Jvb3QsXG4gICAgICAgIGhlaWdodDogYm4xOChjb21taXRCbG9ja0hlYWRlci5oZWlnaHQpLFxuICAgICAgICBwcmV2Um9vdDogY29tbWl0QmxvY2tIZWFkZXIucHJldlJvb3QsXG4gICAgICAgIHRpbWU6IGNvbW1pdEJsb2NrSGVhZGVyLnRpbWUsXG4gICAgICAgIGFwcGxpY2F0aW9uSGFzaDogY29tbWl0QmxvY2tIZWFkZXIuYXBwbGljYXRpb25IYXNoLFxuICAgICAgICBtZXNzYWdlUmVjZWlwdENvdW50OiBOdW1iZXIoY29tbWl0QmxvY2tIZWFkZXIubWVzc2FnZVJlY2VpcHRDb3VudCksXG4gICAgICAgIG1lc3NhZ2VPdXRib3hSb290OiBjb21taXRCbG9ja0hlYWRlci5tZXNzYWdlT3V0Ym94Um9vdCxcbiAgICAgICAgY29uc2Vuc3VzUGFyYW1ldGVyc1ZlcnNpb246IE51bWJlcihjb21taXRCbG9ja0hlYWRlci5jb25zZW5zdXNQYXJhbWV0ZXJzVmVyc2lvbiksXG4gICAgICAgIGV2ZW50SW5ib3hSb290OiBjb21taXRCbG9ja0hlYWRlci5ldmVudEluYm94Um9vdCxcbiAgICAgICAgc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uOiBOdW1iZXIoY29tbWl0QmxvY2tIZWFkZXIuc3RhdGVUcmFuc2l0aW9uQnl0ZWNvZGVWZXJzaW9uKVxuICAgICAgfSxcbiAgICAgIHNlbmRlcjogbmV3IEFkZHJlc3MyKHNlbmRlciksXG4gICAgICByZWNpcGllbnQ6IG5ldyBBZGRyZXNzMihyZWNpcGllbnQpLFxuICAgICAgbm9uY2UsXG4gICAgICBhbW91bnQ6IGJuMTgoYW1vdW50KSxcbiAgICAgIGRhdGFcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGxhdGVzdCBnYXMgcHJpY2UgZnJvbSB0aGUgbm9kZS5cbiAgICpcbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGxhdGVzdCBnYXMgcHJpY2UuXG4gICAqL1xuICBhc3luYyBnZXRMYXRlc3RHYXNQcmljZSgpIHtcbiAgICBjb25zdCB7IGxhdGVzdEdhc1ByaWNlIH0gPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZ2V0TGF0ZXN0R2FzUHJpY2UoKTtcbiAgICByZXR1cm4gYm4xOChsYXRlc3RHYXNQcmljZS5nYXNQcmljZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGVzdGltYXRlIGdhcyBwcmljZSBmb3IgdGhlIGdpdmVuIGJsb2NrIGhvcml6b24uXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja0hvcml6b24gLSBUaGUgYmxvY2sgaG9yaXpvbiB0byBlc3RpbWF0ZSBnYXMgcHJpY2UgZm9yLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgZXN0aW1hdGVkIGdhcyBwcmljZS5cbiAgICovXG4gIGFzeW5jIGVzdGltYXRlR2FzUHJpY2UoYmxvY2tIb3Jpem9uKSB7XG4gICAgY29uc3QgeyBlc3RpbWF0ZUdhc1ByaWNlIH0gPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZXN0aW1hdGVHYXNQcmljZSh7XG4gICAgICBibG9ja0hvcml6b246IFN0cmluZyhibG9ja0hvcml6b24pXG4gICAgfSk7XG4gICAgcmV0dXJuIGJuMTgoZXN0aW1hdGVHYXNQcmljZS5nYXNQcmljZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgTWVzc2FnZSBQcm9vZiBmb3IgZ2l2ZW4gdHJhbnNhY3Rpb24gaWQgYW5kIHRoZSBtZXNzYWdlIGlkIGZyb20gTWVzc2FnZU91dCByZWNlaXB0LlxuICAgKlxuICAgKiBAcGFyYW0gbm9uY2UgLSBUaGUgbm9uY2Ugb2YgdGhlIG1lc3NhZ2UgdG8gZ2V0IHN0YXR1cyBmcm9tLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbWVzc2FnZSBzdGF0dXNcbiAgICovXG4gIGFzeW5jIGdldE1lc3NhZ2VTdGF0dXMobm9uY2UpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZ2V0TWVzc2FnZVN0YXR1cyh7IG5vbmNlIH0pO1xuICAgIHJldHVybiByZXN1bHQubWVzc2FnZVN0YXR1cztcbiAgfVxuICAvKipcbiAgICogTGV0cyB5b3UgcHJvZHVjZSBibG9ja3Mgd2l0aCBjdXN0b20gdGltZXN0YW1wcyBhbmQgdGhlIGJsb2NrIG51bWJlciBvZiB0aGUgbGFzdCBibG9jayBwcm9kdWNlZC5cbiAgICpcbiAgICogQHBhcmFtIGFtb3VudCAtIFRoZSBhbW91bnQgb2YgYmxvY2tzIHRvIHByb2R1Y2UuXG4gICAqIEBwYXJhbSBzdGFydFRpbWUgLSBUaGUgVU5JWCB0aW1lc3RhbXAgKG1pbGxpc2Vjb25kcykgdG8gc2V0IGZvciB0aGUgZmlyc3QgcHJvZHVjZWQgYmxvY2sgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGJsb2NrIG51bWJlciBvZiB0aGUgbGFzdCBwcm9kdWNlZCBibG9jay5cbiAgICovXG4gIGFzeW5jIHByb2R1Y2VCbG9ja3MoYW1vdW50LCBzdGFydFRpbWUpIHtcbiAgICBjb25zdCB7IHByb2R1Y2VCbG9ja3M6IGxhdGVzdEJsb2NrSGVpZ2h0IH0gPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMucHJvZHVjZUJsb2Nrcyh7XG4gICAgICBibG9ja3NUb1Byb2R1Y2U6IGJuMTgoYW1vdW50KS50b1N0cmluZygxMCksXG4gICAgICBzdGFydFRpbWVzdGFtcDogc3RhcnRUaW1lID8gRGF0ZVRpbWUyLmZyb21Vbml4TWlsbGlzZWNvbmRzKHN0YXJ0VGltZSkudG9UYWk2NCgpIDogdm9pZCAwXG4gICAgfSk7XG4gICAgcmV0dXJuIGJuMTgobGF0ZXN0QmxvY2tIZWlnaHQpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gSUQgaXMgYW4gYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVGhlIElEIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgcmVzdWx0IG9mIHRoZSBjaGVjay5cbiAgICovXG4gIGFzeW5jIGlzVXNlckFjY291bnQoaWQpIHtcbiAgICBjb25zdCB0eXBlID0gYXdhaXQgdGhpcy5nZXRBZGRyZXNzVHlwZShpZCk7XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiQWNjb3VudFwiO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSB0eXBlIG9mIGFkZHJlc3MgYmFzZWQgb24gdGhlIHByb3ZpZGVkIElELlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBUaGUgSUQgdG8gYmUgY2hlY2tlZC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgdHlwZSBvZiBhZGRyZXNzLlxuICAgKi9cbiAgYXN5bmMgZ2V0QWRkcmVzc1R5cGUoaWQpIHtcbiAgICBjb25zdCB7IGNvbnRyYWN0LCBibG9iLCB0cmFuc2FjdGlvbiB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmlzVXNlckFjY291bnQoe1xuICAgICAgYmxvYklkOiBpZCxcbiAgICAgIGNvbnRyYWN0SWQ6IGlkLFxuICAgICAgdHJhbnNhY3Rpb25JZDogaWRcbiAgICB9KTtcbiAgICBpZiAoY29udHJhY3QpIHtcbiAgICAgIHJldHVybiBcIkNvbnRyYWN0XCI7XG4gICAgfVxuICAgIGlmIChibG9iKSB7XG4gICAgICByZXR1cm4gXCJCbG9iXCI7XG4gICAgfVxuICAgIGlmICh0cmFuc2FjdGlvbikge1xuICAgICAgcmV0dXJuIFwiVHJhbnNhY3Rpb25cIjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGFzc2V0ID0gYXdhaXQgdGhpcy5nZXRBc3NldERldGFpbHMoaWQpO1xuICAgICAgaWYgKGFzc2V0KSB7XG4gICAgICAgIHJldHVybiBcIkFzc2V0XCI7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgICByZXR1cm4gXCJBY2NvdW50XCI7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgdHJhbnNhY3Rpb24gcmVzcG9uc2UgZm9yIHRoZSBnaXZlbiB0cmFuc2FjdGlvbiBJRC5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uSWQgLSBUaGUgdHJhbnNhY3Rpb24gSUQgdG8gZ2V0IHRoZSByZXNwb25zZSBmb3IuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2FjdGlvbiByZXNwb25zZS5cbiAgICovXG4gIGFzeW5jIGdldFRyYW5zYWN0aW9uUmVzcG9uc2UodHJhbnNhY3Rpb25JZCkge1xuICAgIGNvbnN0IGNoYWluSWQgPSBhd2FpdCB0aGlzLmdldENoYWluSWQoKTtcbiAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uUmVzcG9uc2UodHJhbnNhY3Rpb25JZCwgdGhpcywgY2hhaW5JZCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgTWVzc2FnZSBmb3IgZ2l2ZW4gbm9uY2UuXG4gICAqXG4gICAqIEBwYXJhbSBub25jZSAtIFRoZSBub25jZSBvZiB0aGUgbWVzc2FnZSB0byByZXRyaWV2ZS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIE1lc3NhZ2Ugb2JqZWN0IG9yIG51bGwuXG4gICAqL1xuICBhc3luYyBnZXRNZXNzYWdlQnlOb25jZShub25jZSkge1xuICAgIGNvbnN0IHsgbWVzc2FnZTogcmF3TWVzc2FnZSB9ID0gYXdhaXQgdGhpcy5vcGVyYXRpb25zLmdldE1lc3NhZ2VCeU5vbmNlKHsgbm9uY2UgfSk7XG4gICAgaWYgKCFyYXdNZXNzYWdlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgIG1lc3NhZ2VJZDogSW5wdXRNZXNzYWdlQ29kZXIyLmdldE1lc3NhZ2VJZCh7XG4gICAgICAgIHNlbmRlcjogcmF3TWVzc2FnZS5zZW5kZXIsXG4gICAgICAgIHJlY2lwaWVudDogcmF3TWVzc2FnZS5yZWNpcGllbnQsXG4gICAgICAgIG5vbmNlLFxuICAgICAgICBhbW91bnQ6IGJuMTgocmF3TWVzc2FnZS5hbW91bnQpLFxuICAgICAgICBkYXRhOiByYXdNZXNzYWdlLmRhdGFcbiAgICAgIH0pLFxuICAgICAgc2VuZGVyOiBuZXcgQWRkcmVzczIocmF3TWVzc2FnZS5zZW5kZXIpLFxuICAgICAgcmVjaXBpZW50OiBuZXcgQWRkcmVzczIocmF3TWVzc2FnZS5yZWNpcGllbnQpLFxuICAgICAgbm9uY2UsXG4gICAgICBhbW91bnQ6IGJuMTgocmF3TWVzc2FnZS5hbW91bnQpLFxuICAgICAgZGF0YTogSW5wdXRNZXNzYWdlQ29kZXIyLmRlY29kZURhdGEocmF3TWVzc2FnZS5kYXRhKSxcbiAgICAgIGRhSGVpZ2h0OiBibjE4KHJhd01lc3NhZ2UuZGFIZWlnaHQpXG4gICAgfTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSByZWxheWVkIHRyYW5zYWN0aW9uIGZvciB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb24gSUQuXG4gICAqXG4gICAqIEBwYXJhbSByZWxheWVkVHJhbnNhY3Rpb25JZCAtIFRoZSByZWxheWVkIHRyYW5zYWN0aW9uIElEIHRvIGdldCB0aGUgcmVzcG9uc2UgZm9yLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgcmVsYXllZCB0cmFuc2FjdGlvbi5cbiAgICovXG4gIGFzeW5jIGdldFJlbGF5ZWRUcmFuc2FjdGlvblN0YXR1cyhyZWxheWVkVHJhbnNhY3Rpb25JZCkge1xuICAgIGNvbnN0IHsgcmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzIH0gPSBhd2FpdCB0aGlzLm9wZXJhdGlvbnMuZ2V0UmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzKHtcbiAgICAgIHJlbGF5ZWRUcmFuc2FjdGlvbklkXG4gICAgfSk7XG4gICAgaWYgKCFyZWxheWVkVHJhbnNhY3Rpb25TdGF0dXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcmVsYXllZFRyYW5zYWN0aW9uU3RhdHVzO1xuICB9XG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBleHRyYWN0RHJ5UnVuRXJyb3IodHJhbnNhY3Rpb25SZXF1ZXN0LCByZWNlaXB0cywgcmVhc29uKSB7XG4gICAgbGV0IGxvZ3MgPSBbXTtcbiAgICBsZXQgZ3JvdXBlZExvZ3MgPSB7fTtcbiAgICBpZiAodHJhbnNhY3Rpb25SZXF1ZXN0LnR5cGUgPT09IFRyYW5zYWN0aW9uVHlwZTExLlNjcmlwdCAmJiB0cmFuc2FjdGlvblJlcXVlc3QuYWJpcykge1xuICAgICAgKHsgbG9ncywgZ3JvdXBlZExvZ3MgfSA9IGdldEFsbERlY29kZWRMb2dzKHtcbiAgICAgICAgcmVjZWlwdHMsXG4gICAgICAgIG1haW5BYmk6IHRyYW5zYWN0aW9uUmVxdWVzdC5hYmlzLm1haW4sXG4gICAgICAgIGV4dGVybmFsQWJpczogdHJhbnNhY3Rpb25SZXF1ZXN0LmFiaXMub3RoZXJDb250cmFjdHNBYmlzXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBleHRyYWN0VHhFcnJvcih7XG4gICAgICBsb2dzLFxuICAgICAgZ3JvdXBlZExvZ3MsXG4gICAgICByZWNlaXB0cyxcbiAgICAgIHN0YXR1c1JlYXNvbjogcmVhc29uXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEBoaWRkZW5cbiAgICovXG4gIGFzeW5jIGdldE5vZGVGZWF0dXJlcygpIHtcbiAgICBjb25zdCB7IGluZGV4YXRpb24gfSA9IGF3YWl0IHRoaXMuZ2V0Tm9kZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBhc3NldE1ldGFkYXRhOiBCb29sZWFuKGluZGV4YXRpb24/LmFzc2V0TWV0YWRhdGEpLFxuICAgICAgYmFsYW5jZXNQYWdpbmF0aW9uOiBCb29sZWFuKGluZGV4YXRpb24/LmJhbGFuY2VzKSxcbiAgICAgIGNvaW5zVG9TcGVuZDogQm9vbGVhbihpbmRleGF0aW9uPy5jb2luc1RvU3BlbmQpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKi9cbiAgcGFyc2VFc3RpbWF0ZVByZWRpY2F0ZXNSZXNwb25zZSh0cmFuc2FjdGlvblJlcXVlc3QsIHsgaW5wdXRzIH0pIHtcbiAgICBpZiAoaW5wdXRzKSB7XG4gICAgICBpbnB1dHMuZm9yRWFjaCgoaW5wdXQsIGkpID0+IHtcbiAgICAgICAgaWYgKGlucHV0ICYmIFwicHJlZGljYXRlR2FzVXNlZFwiIGluIGlucHV0ICYmIGJuMTgoaW5wdXQucHJlZGljYXRlR2FzVXNlZCkuZ3QoMCkpIHtcbiAgICAgICAgICB0cmFuc2FjdGlvblJlcXVlc3QuaW5wdXRzW2ldLnByZWRpY2F0ZUdhc1VzZWQgPSBpbnB1dC5wcmVkaWNhdGVHYXNVc2VkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uUmVxdWVzdDtcbiAgfVxuICAvKipcbiAgICogQGhpZGRlblxuICAgKlxuICAgKiBUaGlzIGhlbHBlciBhZGp1c3RzIHRoZSByZXNvdXJjZXMgdG8gYmUgZXhjbHVkZWQgZm9yIGEgZ2l2ZW4gc2V0IG9mIGFkZHJlc3Nlcy5cbiAgICogU3VwcG9ydGluZyBtdWx0aXBsZSBhZGRyZXNzZXMgaXMgaW1wb3J0YW50IGJlY2F1c2Ugb2YgdGhlIGBhc3NlbWJsZVR4YCBtZXRob2QsXG4gICAqIHdoaWNoIG1heSBiZSBpbnZva2VkIHdpdGggZGlmZmVyZW50IGFkZHJlc3Nlcy4gSXQgaGFuZGxlcyBib3RoIG1lc3NhZ2VzIGFuZCBVVFhPcyxcbiAgICogZW5zdXJpbmcgdGhlIHRvdGFsIG51bWJlciBvZiBpbnB1dHMgZG9lcyBub3QgZXhjZWVkIHRoZSBtYXhpbXVtIGFsbG93ZWQgYnkgdGhlIGNoYWluJ3NcbiAgICogY29uc2Vuc3VzIHBhcmFtZXRlcnMuIFRoZSByZXNvdXJjZXMgc3BlY2lmaWVkIGluIHRoZSBgcmVzb3VyY2VzSWRzVG9JZ25vcmVgIHBhcmFtZXRlciBoYXZlIHByaW9yaXR5XG4gICAqIG92ZXIgdGhvc2UgcmV0cmlldmVkIGZyb20gdGhlIGNhY2hlLlxuICAgKi9cbiAgYXN5bmMgYWRqdXN0UmVzb3VyY2VzVG9JZ25vcmVGb3JBZGRyZXNzZXMoYWRkcmVzc2VzLCByZXNvdXJjZXNJZHNUb0lnbm9yZSkge1xuICAgIGNvbnN0IGZpbmFsID0ge1xuICAgICAgbWVzc2FnZXM6IHJlc291cmNlc0lkc1RvSWdub3JlPy5tZXNzYWdlcz8ubWFwKChub25jZSkgPT4gaGV4bGlmeTE3KG5vbmNlKSkgfHwgW10sXG4gICAgICB1dHhvczogcmVzb3VyY2VzSWRzVG9JZ25vcmU/LnV0eG9zPy5tYXAoKGlkKSA9PiBoZXhsaWZ5MTcoaWQpKSB8fCBbXVxuICAgIH07XG4gICAgaWYgKHRoaXMuY2FjaGUpIHtcbiAgICAgIGNvbnN0IGNhY2hlMiA9IHRoaXMuY2FjaGU7XG4gICAgICBjb25zdCBhbGxDYWNoZWQgPSBhZGRyZXNzZXMubWFwKChhZGRyZXNzKSA9PiBjYWNoZTIuZ2V0QWN0aXZlRGF0YShhZGRyZXNzKSk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvbnNlbnN1c1BhcmFtZXRlcnM6IHtcbiAgICAgICAgICB0eFBhcmFtZXRlcnM6IHsgbWF4SW5wdXRzOiBtYXhJbnB1dHNCbiB9XG4gICAgICAgIH1cbiAgICAgIH0gPSBhd2FpdCB0aGlzLmdldENoYWluKCk7XG4gICAgICBjb25zdCBtYXhJbnB1dHMgPSBtYXhJbnB1dHNCbi50b051bWJlcigpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxDYWNoZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHRvdGFsID0gZmluYWwudXR4b3MubGVuZ3RoICsgZmluYWwubWVzc2FnZXMubGVuZ3RoO1xuICAgICAgICBpZiAodG90YWwgPj0gbWF4SW5wdXRzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWwudXR4b3MgPSBbLi4uZmluYWwudXR4b3MsIC4uLmFsbENhY2hlZFtpXS51dHhvcy5zbGljZSgwLCBtYXhJbnB1dHMgLSB0b3RhbCldO1xuICAgICAgICB0b3RhbCA9IGZpbmFsLnV0eG9zLmxlbmd0aCArIGZpbmFsLm1lc3NhZ2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKHRvdGFsID49IG1heElucHV0cykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsLm1lc3NhZ2VzID0gWy4uLmZpbmFsLm1lc3NhZ2VzLCAuLi5hbGxDYWNoZWRbaV0ubWVzc2FnZXMuc2xpY2UoMCwgbWF4SW5wdXRzIC0gdG90YWwpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsO1xuICB9XG59O1xuXG4vLyBzcmMvcHJvdmlkZXJzL3RyYW5zYWN0aW9uLXN1bW1hcnkvZ2V0LXRyYW5zYWN0aW9uLXN1bW1hcnkudHNcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGUxOCwgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjIwIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgYm4gYXMgYm4xOSB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbkNvZGVyIGFzIFRyYW5zYWN0aW9uQ29kZXI3IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgYXMgYXJyYXlpZnkxMyB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25TdW1tYXJ5KHBhcmFtcykge1xuICBjb25zdCB7IGlkLCBwcm92aWRlciwgYWJpTWFwIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHsgdHJhbnNhY3Rpb246IGdxbFRyYW5zYWN0aW9uIH0gPSBhd2FpdCBwcm92aWRlci5vcGVyYXRpb25zLmdldFRyYW5zYWN0aW9uV2l0aFJlY2VpcHRzKHtcbiAgICB0cmFuc2FjdGlvbklkOiBpZFxuICB9KTtcbiAgaWYgKCFncWxUcmFuc2FjdGlvbikge1xuICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMChcbiAgICAgIEVycm9yQ29kZTE4LlRSQU5TQUNUSU9OX05PVF9GT1VORCxcbiAgICAgIGBUcmFuc2FjdGlvbiBub3QgZm91bmQgZm9yIGdpdmVuIGlkOiAke2lkfS5gXG4gICAgKTtcbiAgfVxuICBjb25zdCBbZGVjb2RlZFRyYW5zYWN0aW9uXSA9IG5ldyBUcmFuc2FjdGlvbkNvZGVyNygpLmRlY29kZShcbiAgICBhcnJheWlmeTEzKGdxbFRyYW5zYWN0aW9uLnJhd1BheWxvYWQpLFxuICAgIDBcbiAgKTtcbiAgbGV0IHR4UmVjZWlwdHMgPSBbXTtcbiAgaWYgKGdxbFRyYW5zYWN0aW9uPy5zdGF0dXMgJiYgXCJyZWNlaXB0c1wiIGluIGdxbFRyYW5zYWN0aW9uLnN0YXR1cykge1xuICAgIHR4UmVjZWlwdHMgPSBncWxUcmFuc2FjdGlvbi5zdGF0dXMucmVjZWlwdHM7XG4gIH1cbiAgY29uc3QgcmVjZWlwdHMgPSB0eFJlY2VpcHRzLm1hcChkZXNlcmlhbGl6ZVJlY2VpcHQpO1xuICBjb25zdCB7XG4gICAgY29uc2Vuc3VzUGFyYW1ldGVyczoge1xuICAgICAgZmVlUGFyYW1ldGVyczogeyBnYXNQZXJCeXRlLCBnYXNQcmljZUZhY3RvciB9LFxuICAgICAgdHhQYXJhbWV0ZXJzOiB7IG1heElucHV0cywgbWF4R2FzUGVyVHggfSxcbiAgICAgIGdhc0Nvc3RzXG4gICAgfVxuICB9ID0gYXdhaXQgcHJvdmlkZXIuZ2V0Q2hhaW4oKTtcbiAgY29uc3QgdG90YWxGZWUgPSBnZXRUb3RhbEZlZUZyb21TdGF0dXMoZ3FsVHJhbnNhY3Rpb24uc3RhdHVzKTtcbiAgY29uc3QgZ2FzUHJpY2UgPSB0b3RhbEZlZSA/IGJuMTkoMCkgOiBhd2FpdCBwcm92aWRlci5nZXRMYXRlc3RHYXNQcmljZSgpO1xuICBjb25zdCBiYXNlQXNzZXRJZCA9IGF3YWl0IHByb3ZpZGVyLmdldEJhc2VBc3NldElkKCk7XG4gIGNvbnN0IHRyYW5zYWN0aW9uSW5mbyA9IGFzc2VtYmxlVHJhbnNhY3Rpb25TdW1tYXJ5KHtcbiAgICBpZDogZ3FsVHJhbnNhY3Rpb24uaWQsXG4gICAgcmVjZWlwdHMsXG4gICAgdHJhbnNhY3Rpb246IGRlY29kZWRUcmFuc2FjdGlvbixcbiAgICB0cmFuc2FjdGlvbkJ5dGVzOiBhcnJheWlmeTEzKGdxbFRyYW5zYWN0aW9uLnJhd1BheWxvYWQpLFxuICAgIGdxbFRyYW5zYWN0aW9uU3RhdHVzOiBncWxUcmFuc2FjdGlvbi5zdGF0dXMsXG4gICAgZ2FzUGVyQnl0ZTogYm4xOShnYXNQZXJCeXRlKSxcbiAgICBnYXNQcmljZUZhY3RvcjogYm4xOShnYXNQcmljZUZhY3RvciksXG4gICAgYWJpTWFwLFxuICAgIG1heElucHV0cyxcbiAgICBnYXNDb3N0cyxcbiAgICBtYXhHYXNQZXJUeCxcbiAgICBnYXNQcmljZSxcbiAgICBiYXNlQXNzZXRJZFxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICAuLi50cmFuc2FjdGlvbkluZm9cbiAgfTtcbn1cbl9fbmFtZShnZXRUcmFuc2FjdGlvblN1bW1hcnksIFwiZ2V0VHJhbnNhY3Rpb25TdW1tYXJ5XCIpO1xuYXN5bmMgZnVuY3Rpb24gZ2V0VHJhbnNhY3Rpb25TdW1tYXJ5RnJvbVJlcXVlc3QocGFyYW1zKSB7XG4gIGNvbnN0IHsgcHJvdmlkZXIsIHRyYW5zYWN0aW9uUmVxdWVzdCwgYWJpTWFwIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHsgcmVjZWlwdHMgfSA9IGF3YWl0IHByb3ZpZGVyLmRyeVJ1bih0cmFuc2FjdGlvblJlcXVlc3QpO1xuICBjb25zdCB7IGdhc1BlckJ5dGUsIGdhc1ByaWNlRmFjdG9yLCBnYXNDb3N0cywgbWF4R2FzUGVyVHggfSA9IGF3YWl0IHByb3ZpZGVyLmdldEdhc0NvbmZpZygpO1xuICBjb25zdCBtYXhJbnB1dHMgPSAoYXdhaXQgcHJvdmlkZXIuZ2V0Q2hhaW4oKSkuY29uc2Vuc3VzUGFyYW1ldGVycy50eFBhcmFtZXRlcnMubWF4SW5wdXRzO1xuICBjb25zdCB0cmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uUmVxdWVzdC50b1RyYW5zYWN0aW9uKCk7XG4gIGNvbnN0IHRyYW5zYWN0aW9uQnl0ZXMgPSB0cmFuc2FjdGlvblJlcXVlc3QudG9UcmFuc2FjdGlvbkJ5dGVzKCk7XG4gIGNvbnN0IGdhc1ByaWNlID0gYXdhaXQgcHJvdmlkZXIuZ2V0TGF0ZXN0R2FzUHJpY2UoKTtcbiAgY29uc3QgYmFzZUFzc2V0SWQgPSBhd2FpdCBwcm92aWRlci5nZXRCYXNlQXNzZXRJZCgpO1xuICBjb25zdCB0cmFuc2FjdGlvblN1bW1hcnkgPSBhc3NlbWJsZVRyYW5zYWN0aW9uU3VtbWFyeSh7XG4gICAgaWQ6IHRyYW5zYWN0aW9uUmVxdWVzdC5nZXRUcmFuc2FjdGlvbklkKGF3YWl0IHByb3ZpZGVyLmdldENoYWluSWQoKSksXG4gICAgcmVjZWlwdHMsXG4gICAgdHJhbnNhY3Rpb24sXG4gICAgdHJhbnNhY3Rpb25CeXRlcyxcbiAgICBhYmlNYXAsXG4gICAgZ2FzUGVyQnl0ZSxcbiAgICBnYXNQcmljZUZhY3RvcixcbiAgICBtYXhJbnB1dHMsXG4gICAgZ2FzQ29zdHMsXG4gICAgbWF4R2FzUGVyVHgsXG4gICAgZ2FzUHJpY2UsXG4gICAgYmFzZUFzc2V0SWRcbiAgfSk7XG4gIHJldHVybiB0cmFuc2FjdGlvblN1bW1hcnk7XG59XG5fX25hbWUoZ2V0VHJhbnNhY3Rpb25TdW1tYXJ5RnJvbVJlcXVlc3QsIFwiZ2V0VHJhbnNhY3Rpb25TdW1tYXJ5RnJvbVJlcXVlc3RcIik7XG5hc3luYyBmdW5jdGlvbiBnZXRUcmFuc2FjdGlvbnNTdW1tYXJpZXMocGFyYW1zKSB7XG4gIGNvbnN0IHsgZmlsdGVycywgcHJvdmlkZXIsIGFiaU1hcCB9ID0gcGFyYW1zO1xuICBjb25zdCB7IG93bmVyLCAuLi5pbnB1dEFyZ3MgfSA9IGZpbHRlcnM7XG4gIGNvbnN0IHZhbGlkUGFnaW5hdGlvblBhcmFtcyA9IHZhbGlkYXRlUGFnaW5hdGlvbkFyZ3Moe1xuICAgIGlucHV0QXJncyxcbiAgICBwYWdpbmF0aW9uTGltaXQ6IFRSQU5TQUNUSU9OU19QQUdFX1NJWkVfTElNSVRcbiAgfSk7XG4gIGNvbnN0IHsgdHJhbnNhY3Rpb25zQnlPd25lciB9ID0gYXdhaXQgcHJvdmlkZXIub3BlcmF0aW9ucy5nZXRUcmFuc2FjdGlvbnNCeU93bmVyKHtcbiAgICAuLi52YWxpZFBhZ2luYXRpb25QYXJhbXMsXG4gICAgb3duZXJcbiAgfSk7XG4gIGNvbnN0IHsgZWRnZXMsIHBhZ2VJbmZvIH0gPSB0cmFuc2FjdGlvbnNCeU93bmVyO1xuICBjb25zdCB7XG4gICAgY29uc2Vuc3VzUGFyYW1ldGVyczoge1xuICAgICAgZmVlUGFyYW1ldGVyczogeyBnYXNQZXJCeXRlLCBnYXNQcmljZUZhY3RvciB9LFxuICAgICAgdHhQYXJhbWV0ZXJzOiB7IG1heElucHV0cywgbWF4R2FzUGVyVHggfSxcbiAgICAgIGdhc0Nvc3RzXG4gICAgfVxuICB9ID0gYXdhaXQgcHJvdmlkZXIuZ2V0Q2hhaW4oKTtcbiAgY29uc3QgZ2FzUHJpY2UgPSBhd2FpdCBwcm92aWRlci5nZXRMYXRlc3RHYXNQcmljZSgpO1xuICBjb25zdCBiYXNlQXNzZXRJZCA9IGF3YWl0IHByb3ZpZGVyLmdldEJhc2VBc3NldElkKCk7XG4gIGNvbnN0IHRyYW5zYWN0aW9ucyA9IGVkZ2VzLm1hcCgoZWRnZSkgPT4ge1xuICAgIGNvbnN0IHsgbm9kZTogZ3FsVHJhbnNhY3Rpb24gfSA9IGVkZ2U7XG4gICAgY29uc3QgeyBpZCwgcmF3UGF5bG9hZCwgc3RhdHVzIH0gPSBncWxUcmFuc2FjdGlvbjtcbiAgICBjb25zdCBbZGVjb2RlZFRyYW5zYWN0aW9uXSA9IG5ldyBUcmFuc2FjdGlvbkNvZGVyNygpLmRlY29kZShhcnJheWlmeTEzKHJhd1BheWxvYWQpLCAwKTtcbiAgICBsZXQgdHhSZWNlaXB0cyA9IFtdO1xuICAgIGlmIChncWxUcmFuc2FjdGlvbj8uc3RhdHVzICYmIFwicmVjZWlwdHNcIiBpbiBncWxUcmFuc2FjdGlvbi5zdGF0dXMpIHtcbiAgICAgIHR4UmVjZWlwdHMgPSBncWxUcmFuc2FjdGlvbi5zdGF0dXMucmVjZWlwdHM7XG4gICAgfVxuICAgIGNvbnN0IHJlY2VpcHRzID0gdHhSZWNlaXB0cy5tYXAoZGVzZXJpYWxpemVSZWNlaXB0KTtcbiAgICBjb25zdCB0cmFuc2FjdGlvblN1bW1hcnkgPSBhc3NlbWJsZVRyYW5zYWN0aW9uU3VtbWFyeSh7XG4gICAgICBpZCxcbiAgICAgIHJlY2VpcHRzLFxuICAgICAgdHJhbnNhY3Rpb246IGRlY29kZWRUcmFuc2FjdGlvbixcbiAgICAgIHRyYW5zYWN0aW9uQnl0ZXM6IGFycmF5aWZ5MTMocmF3UGF5bG9hZCksXG4gICAgICBncWxUcmFuc2FjdGlvblN0YXR1czogc3RhdHVzLFxuICAgICAgYWJpTWFwLFxuICAgICAgZ2FzUGVyQnl0ZSxcbiAgICAgIGdhc1ByaWNlRmFjdG9yLFxuICAgICAgbWF4SW5wdXRzLFxuICAgICAgZ2FzQ29zdHMsXG4gICAgICBtYXhHYXNQZXJUeCxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgYmFzZUFzc2V0SWRcbiAgICB9KTtcbiAgICBjb25zdCBvdXRwdXQgPSB7XG4gICAgICAuLi50cmFuc2FjdGlvblN1bW1hcnlcbiAgICB9O1xuICAgIHJldHVybiBvdXRwdXQ7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHRyYW5zYWN0aW9ucyxcbiAgICBwYWdlSW5mb1xuICB9O1xufVxuX19uYW1lKGdldFRyYW5zYWN0aW9uc1N1bW1hcmllcywgXCJnZXRUcmFuc2FjdGlvbnNTdW1tYXJpZXNcIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdHJhbnNhY3Rpb24tc3VtbWFyeS9hc3NlbWJsZS10cmFuc2FjdGlvbi1zdW1tYXJ5LWZyb20tc2VyaWFsaXplZC50c1xuaW1wb3J0IHsgYm4gYXMgYm4yMCB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbkNvZGVyIGFzIFRyYW5zYWN0aW9uQ29kZXI4IH0gZnJvbSBcIkBmdWVsLXRzL3RyYW5zYWN0aW9uc1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgYXMgYXJyYXlpZnkxNCB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xudmFyIGFzc2VtYmxlVHJhbnNhY3Rpb25TdW1tYXJ5RnJvbUpzb24gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChvcHRzKSA9PiB7XG4gIGNvbnN0IHsgcHJvdmlkZXIsIHRyYW5zYWN0aW9uU3VtbWFyeSB9ID0gb3B0cztcbiAgY29uc3QgeyBpZCwgdHJhbnNhY3Rpb25CeXRlcywgZ2FzUHJpY2UsIHJlY2VpcHRzIH0gPSB0cmFuc2FjdGlvblN1bW1hcnk7XG4gIGNvbnN0IHtcbiAgICBjb25zZW5zdXNQYXJhbWV0ZXJzOiB7XG4gICAgICBiYXNlQXNzZXRJZCxcbiAgICAgIHR4UGFyYW1ldGVyczogeyBtYXhJbnB1dHMsIG1heEdhc1BlclR4IH0sXG4gICAgICBmZWVQYXJhbWV0ZXJzOiB7IGdhc1ByaWNlRmFjdG9yLCBnYXNQZXJCeXRlIH0sXG4gICAgICBnYXNDb3N0c1xuICAgIH1cbiAgfSA9IGF3YWl0IHByb3ZpZGVyLmdldENoYWluKCk7XG4gIGNvbnN0IGRlc2VyaWFsaXplZFRyYW5zYWN0aW9uQnl0ZXMgPSBhcnJheWlmeTE0KHRyYW5zYWN0aW9uQnl0ZXMpO1xuICBjb25zdCBbdHJhbnNhY3Rpb25dID0gbmV3IFRyYW5zYWN0aW9uQ29kZXI4KCkuZGVjb2RlKGRlc2VyaWFsaXplZFRyYW5zYWN0aW9uQnl0ZXMsIDApO1xuICByZXR1cm4gYXNzZW1ibGVUcmFuc2FjdGlvblN1bW1hcnkoe1xuICAgIGlkLFxuICAgIHRyYW5zYWN0aW9uLFxuICAgIHRyYW5zYWN0aW9uQnl0ZXM6IGRlc2VyaWFsaXplZFRyYW5zYWN0aW9uQnl0ZXMsXG4gICAgcmVjZWlwdHM6IHJlY2VpcHRzLm1hcChkZXNlcmlhbGl6ZVJlY2VpcHQpLFxuICAgIGdhc1ByaWNlOiBibjIwKGdhc1ByaWNlKSxcbiAgICAvLyBGcm9tIGNoYWluXG4gICAgYmFzZUFzc2V0SWQsXG4gICAgbWF4SW5wdXRzLFxuICAgIGdhc0Nvc3RzLFxuICAgIG1heEdhc1BlclR4LFxuICAgIGdhc1BlckJ5dGUsXG4gICAgZ2FzUHJpY2VGYWN0b3JcbiAgfSk7XG59LCBcImFzc2VtYmxlVHJhbnNhY3Rpb25TdW1tYXJ5RnJvbUpzb25cIik7XG5cbi8vIHNyYy9wcm92aWRlcnMvdXRpbHMvdHJhbnNhY3Rpb24tcmVzcG9uc2Utc2VyaWFsaXphdGlvbi50c1xudmFyIHNlcmlhbGl6ZVRyYW5zYWN0aW9uUmVzcG9uc2VKc29uID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgY29uc3QgeyBpZCwgc3RhdHVzLCBhYmlzLCByZXF1ZXN0OiByZXF1ZXN0MiwgcHJvdmlkZXIsIGdxbFRyYW5zYWN0aW9uLCBwcmVDb25maXJtYXRpb25TdGF0dXMgfSA9IHJlc3BvbnNlO1xuICByZXR1cm4ge1xuICAgIGlkLFxuICAgIHN0YXR1cyxcbiAgICBhYmlzLFxuICAgIHJlcXVlc3RKc29uOiByZXF1ZXN0MiA/IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QyLnRvSlNPTigpKSA6IHZvaWQgMCxcbiAgICBwcm92aWRlclVybDogcHJvdmlkZXIudXJsLFxuICAgIHByb3ZpZGVyQ2FjaGU6IGF3YWl0IHNlcmlhbGl6ZVByb3ZpZGVyQ2FjaGUocHJvdmlkZXIpLFxuICAgIGdxbFRyYW5zYWN0aW9uLFxuICAgIHByZUNvbmZpcm1hdGlvblN0YXR1c1xuICB9O1xufSwgXCJzZXJpYWxpemVUcmFuc2FjdGlvblJlc3BvbnNlSnNvblwiKTtcbnZhciBkZXNlcmlhbGl6ZVRyYW5zYWN0aW9uUmVzcG9uc2VKc29uID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoanNvbikgPT4ge1xuICBjb25zdCB7XG4gICAgaWQsXG4gICAgYWJpcyxcbiAgICBzdGF0dXMsXG4gICAgcHJvdmlkZXJVcmwsXG4gICAgcmVxdWVzdEpzb24sXG4gICAgcHJvdmlkZXJDYWNoZSxcbiAgICBncWxUcmFuc2FjdGlvbixcbiAgICBwcmVDb25maXJtYXRpb25TdGF0dXNcbiAgfSA9IGpzb247XG4gIGNvbnN0IHByb3ZpZGVyID0gbmV3IFByb3ZpZGVyKHByb3ZpZGVyVXJsLCB7IGNhY2hlOiBwcm92aWRlckNhY2hlIH0pO1xuICBjb25zdCB7IGNoYWluSWQgfSA9IHByb3ZpZGVyQ2FjaGUuY2hhaW4uY29uc2Vuc3VzUGFyYW1ldGVycztcbiAgY29uc3QgcmVzcG9uc2UgPSBuZXcgVHJhbnNhY3Rpb25SZXNwb25zZShpZCwgcHJvdmlkZXIsIE51bWJlcihjaGFpbklkKSwgYWJpcyk7XG4gIGlmIChyZXF1ZXN0SnNvbikge1xuICAgIHJlc3BvbnNlLnJlcXVlc3QgPSB0cmFuc2FjdGlvblJlcXVlc3RpZnkoSlNPTi5wYXJzZShyZXF1ZXN0SnNvbikpO1xuICB9XG4gIHJlc3BvbnNlLnN0YXR1cyA9IHN0YXR1cztcbiAgcmVzcG9uc2UuZ3FsVHJhbnNhY3Rpb24gPSBncWxUcmFuc2FjdGlvbjtcbiAgcmVzcG9uc2UucHJlQ29uZmlybWF0aW9uU3RhdHVzID0gcHJlQ29uZmlybWF0aW9uU3RhdHVzO1xuICByZXR1cm4gcmVzcG9uc2U7XG59LCBcImRlc2VyaWFsaXplVHJhbnNhY3Rpb25SZXNwb25zZUpzb25cIik7XG5cbi8vIHNyYy90eXBlcy50c1xudmFyIEFic3RyYWN0QWNjb3VudCA9IGNsYXNzIHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJBYnN0cmFjdEFjY291bnRcIik7XG4gIH1cbn07XG5cbi8vIHNyYy91dGlscy9mb3JtYXRUcmFuc2ZlclRvQ29udHJhY3RTY3JpcHREYXRhLnRzXG5pbXBvcnQgeyBBU1NFVF9JRF9MRU4sIEJpZ051bWJlckNvZGVyIGFzIEJpZ051bWJlckNvZGVyMywgQ09OVFJBQ1RfSURfTEVOLCBXT1JEX1NJWkUgfSBmcm9tIFwiQGZ1ZWwtdHMvYWJpLWNvZGVyXCI7XG5pbXBvcnQgeyBBZGRyZXNzIGFzIEFkZHJlc3MzIH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3NcIjtcbmltcG9ydCB7IGFycmF5aWZ5IGFzIGFycmF5aWZ5MTUsIGNvbmNhdCBhcyBjb25jYXQzIH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5pbXBvcnQgKiBhcyBhc20gZnJvbSBcIkBmdWVscy92bS1hc21cIjtcbnZhciBmb3JtYXRUcmFuc2ZlclRvQ29udHJhY3RTY3JpcHREYXRhID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgodHJhbnNmZXJQYXJhbXMpID0+IHtcbiAgY29uc3QgbnVtYmVyQ29kZXIgPSBuZXcgQmlnTnVtYmVyQ29kZXIzKFwidTY0XCIpO1xuICByZXR1cm4gdHJhbnNmZXJQYXJhbXMucmVkdWNlKChhY2MsIHRyYW5zZmVyUGFyYW0pID0+IHtcbiAgICBjb25zdCB7IGFzc2V0SWQsIGFtb3VudCwgY29udHJhY3RJZCB9ID0gdHJhbnNmZXJQYXJhbTtcbiAgICBjb25zdCBlbmNvZGVkID0gbnVtYmVyQ29kZXIuZW5jb2RlKGFtb3VudCk7XG4gICAgY29uc3Qgc2NyaXB0RGF0YSA9IGNvbmNhdDMoW25ldyBBZGRyZXNzMyhjb250cmFjdElkKS50b0J5dGVzKCksIGVuY29kZWQsIGFycmF5aWZ5MTUoYXNzZXRJZCldKTtcbiAgICByZXR1cm4gY29uY2F0MyhbYWNjLCBzY3JpcHREYXRhXSk7XG4gIH0sIG5ldyBVaW50OEFycmF5KCkpO1xufSwgXCJmb3JtYXRUcmFuc2ZlclRvQ29udHJhY3RTY3JpcHREYXRhXCIpO1xudmFyIGFzc2VtYmxlVHJhbnNmZXJUb0NvbnRyYWN0U2NyaXB0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAodHJhbnNmZXJQYXJhbXMpID0+IHtcbiAgY29uc3Qgc2NyaXB0RGF0YSA9IGZvcm1hdFRyYW5zZmVyVG9Db250cmFjdFNjcmlwdERhdGEodHJhbnNmZXJQYXJhbXMpO1xuICBhd2FpdCBhc20uaW5pdFdhc20oKTtcbiAgbGV0IHNjcmlwdCA9IG5ldyBVaW50OEFycmF5KCk7XG4gIHRyYW5zZmVyUGFyYW1zLmZvckVhY2goKF8sIGkpID0+IHtcbiAgICBjb25zdCBvZmZzZXQgPSAoQ09OVFJBQ1RfSURfTEVOICsgV09SRF9TSVpFICsgQVNTRVRfSURfTEVOKSAqIGk7XG4gICAgc2NyaXB0ID0gY29uY2F0MyhbXG4gICAgICBzY3JpcHQsXG4gICAgICAvLyBMb2FkIFNjcmlwdERhdGEgaW50byByZWdpc3RlciAweDEwLlxuICAgICAgYXNtLmd0ZigxNiwgMCwgYXNtLkdURkFyZ3MuU2NyaXB0RGF0YSkudG9fYnl0ZXMoKSxcbiAgICAgIC8vIEFkZCB0aGUgb2Zmc2V0IHRvIDB4MTAgc28gaXQgd2lsbCBwb2ludCB0byB0aGUgY3VycmVudCBjb250cmFjdCBJRCwgc3RvcmUgaW4gMHgxMS5cbiAgICAgIGFzbS5hZGRpKDE3LCAxNiwgb2Zmc2V0KS50b19ieXRlcygpLFxuICAgICAgLy8gQWRkIENPTlRSQUNUX0lEX0xFTiB0byAweDExIHRvIHBvaW50IHRvIHRoZSBhbW91bnQgaW4gdGhlIFNjcmlwdERhdGEsIHN0b3JlIGluIDB4MTIuXG4gICAgICBhc20uYWRkaSgxOCwgMTcsIENPTlRSQUNUX0lEX0xFTikudG9fYnl0ZXMoKSxcbiAgICAgIC8vIExvYWQgd29yZCB0byB0aGUgYW1vdW50IGF0IDB4MTIgaW50byByZWdpc3RlciAweDEzLlxuICAgICAgYXNtLmx3KDE5LCAxOCwgMCkudG9fYnl0ZXMoKSxcbiAgICAgIC8vIEFkZCBXT1JEX1NJWkUgdG8gMHgxMiB0byBwb2ludCB0byB0aGUgYXNzZXQgSUQgaW4gdGhlIFNjcmlwdERhdGEsIHN0b3JlIGluIDB4MTQuXG4gICAgICBhc20uYWRkaSgyMCwgMTgsIFdPUkRfU0laRSkudG9fYnl0ZXMoKSxcbiAgICAgIC8vIFBlcmZvcm0gdGhlIHRyYW5zZmVyIHVzaW5nIGNvbnRyYWN0IElEIGluIDB4MTEsIGFtb3VudCBpbiAweDEzLCBhbmQgYXNzZXQgSUQgaW4gMHgxNC5cbiAgICAgIGFzbS50cigxNywgMTksIDIwKS50b19ieXRlcygpXG4gICAgXSk7XG4gIH0pO1xuICBzY3JpcHQgPSBjb25jYXQzKFtzY3JpcHQsIGFzbS5yZXQoMSkudG9fYnl0ZXMoKV0pO1xuICByZXR1cm4geyBzY3JpcHQsIHNjcmlwdERhdGEgfTtcbn0sIFwiYXNzZW1ibGVUcmFuc2ZlclRvQ29udHJhY3RTY3JpcHRcIik7XG5cbi8vIHNyYy91dGlscy9zcGxpdC1jb2lucy1pbnRvLWJhdGNoZXMudHNcbnZhciBzcGxpdENvaW5zSW50b0JhdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjb2lucywgbWF4QmF0Y2hMZW5ndGgpID0+IHtcbiAgY29uc3QgYmF0Y2hlc051bSA9IE1hdGguY2VpbChjb2lucy5sZW5ndGggLyBtYXhCYXRjaExlbmd0aCk7XG4gIGNvbnN0IGJhdGNoZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXRjaGVzTnVtOyBpICs9IDEpIHtcbiAgICBjb25zdCBiYXRjaFN0YXJ0ID0gaSAqIG1heEJhdGNoTGVuZ3RoO1xuICAgIGNvbnN0IGJhdGNoRW5kID0gKGkgKyAxKSAqIG1heEJhdGNoTGVuZ3RoO1xuICAgIGJhdGNoZXMucHVzaChjb2lucy5zbGljZShiYXRjaFN0YXJ0LCBiYXRjaEVuZCkpO1xuICB9XG4gIHJldHVybiBiYXRjaGVzO1xufSwgXCJzcGxpdENvaW5zSW50b0JhdGNoZXNcIik7XG5cbi8vIHNyYy9hY2NvdW50LnRzXG52YXIgTUFYX0ZVTkRJTkdfQVRURU1QVFMgPSA1O1xudmFyIEFjY291bnQgPSBjbGFzcyBleHRlbmRzIEFic3RyYWN0QWNjb3VudCB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiQWNjb3VudFwiKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGFkZHJlc3MgYXNzb2NpYXRlZCB3aXRoIHRoZSBhY2NvdW50LlxuICAgKi9cbiAgYWRkcmVzcztcbiAgLyoqXG4gICAqIFRoZSBwcm92aWRlciB1c2VkIHRvIGludGVyYWN0IHdpdGggdGhlIG5ldHdvcmsuXG4gICAqL1xuICBfcHJvdmlkZXI7XG4gIC8qKlxuICAgKiBUaGUgY29ubmVjdG9yIGZvciB1c2Ugd2l0aCBleHRlcm5hbCB3YWxsZXRzXG4gICAqL1xuICBfY29ubmVjdG9yO1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBY2NvdW50IGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50LlxuICAgKiBAcGFyYW0gcHJvdmlkZXIgLSBBIFByb3ZpZGVyIGluc3RhbmNlICAob3B0aW9uYWwpLlxuICAgKiBAcGFyYW0gY29ubmVjdG9yIC0gQSBGdWVsQ29ubmVjdG9yIGluc3RhbmNlIChvcHRpb25hbCkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBwcm92aWRlciwgY29ubmVjdG9yKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9wcm92aWRlciA9IHByb3ZpZGVyO1xuICAgIHRoaXMuX2Nvbm5lY3RvciA9IGNvbm5lY3RvcjtcbiAgICB0aGlzLmFkZHJlc3MgPSBuZXcgQWRkcmVzczQoYWRkcmVzcyk7XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBwcm92aWRlciB1c2VkIHRvIGludGVyYWN0IHdpdGggdGhlIG5ldHdvcmsuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgUHJvdmlkZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEB0aHJvd3MgYEZ1ZWxFcnJvcmAgaWYgdGhlIHByb3ZpZGVyIGlzIG5vdCBzZXQuXG4gICAqL1xuICBnZXQgcHJvdmlkZXIoKSB7XG4gICAgaWYgKCF0aGlzLl9wcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjIxKEVycm9yQ29kZTE5Lk1JU1NJTkdfUFJPVklERVIsIFwiUHJvdmlkZXIgbm90IHNldFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwcm92aWRlciBmb3IgdGhlIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSBwcm92aWRlciAtIEEgUHJvdmlkZXIgaW5zdGFuY2UuXG4gICAqL1xuICBzZXQgcHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICB0aGlzLl9wcm92aWRlciA9IHByb3ZpZGVyO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2VzIHRoZSBwcm92aWRlciBjb25uZWN0aW9uIGZvciB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHByb3ZpZGVyIC0gQSBQcm92aWRlciBpbnN0YW5jZS5cbiAgICogQHJldHVybnMgVGhlIHVwZGF0ZWQgUHJvdmlkZXIgaW5zdGFuY2UuXG4gICAqL1xuICBjb25uZWN0KHByb3ZpZGVyKSB7XG4gICAgdGhpcy5fcHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICByZXR1cm4gdGhpcy5wcm92aWRlcjtcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmVzIHJlc291cmNlcyBzYXRpc2Z5aW5nIHRoZSBzcGVuZCBxdWVyeSBmb3IgdGhlIGFjY291bnQuXG4gICAqXG4gICAqIEBwYXJhbSBxdWFudGl0aWVzIC0gUXVhbnRpdGllcyBvZiByZXNvdXJjZXMgdG8gYmUgb2J0YWluZWQuXG4gICAqIEBwYXJhbSByZXNvdXJjZXNJZHNUb0lnbm9yZSAtIElEcyBvZiByZXNvdXJjZXMgdG8gYmUgZXhjbHVkZWQgZnJvbSB0aGUgcXVlcnkgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgUmVzb3VyY2VzLlxuICAgKi9cbiAgYXN5bmMgZ2V0UmVzb3VyY2VzVG9TcGVuZChxdWFudGl0aWVzLCByZXNvdXJjZXNJZHNUb0lnbm9yZSkge1xuICAgIHJldHVybiB0aGlzLnByb3ZpZGVyLmdldFJlc291cmNlc1RvU3BlbmQodGhpcy5hZGRyZXNzLCBxdWFudGl0aWVzLCByZXNvdXJjZXNJZHNUb0lnbm9yZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBjb2lucyBvd25lZCBieSB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIGFzc2V0SWQgLSBUaGUgYXNzZXQgSUQgb2YgdGhlIGNvaW5zIHRvIHJldHJpZXZlIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIGFycmF5IG9mIENvaW5zLlxuICAgKi9cbiAgYXN5bmMgZ2V0Q29pbnMoYXNzZXRJZCwgcGFnaW5hdGlvbkFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5wcm92aWRlci5nZXRDb2lucyh0aGlzLmFkZHJlc3MsIGFzc2V0SWQsIHBhZ2luYXRpb25BcmdzKTtcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmVzIG1lc3NhZ2VzIG93bmVkIGJ5IHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBNZXNzYWdlcy5cbiAgICovXG4gIGFzeW5jIGdldE1lc3NhZ2VzKHBhZ2luYXRpb25BcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXIuZ2V0TWVzc2FnZXModGhpcy5hZGRyZXNzLCBwYWdpbmF0aW9uQXJncyk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgYmFsYW5jZSBvZiB0aGUgYWNjb3VudCBmb3IgdGhlIGdpdmVuIGFzc2V0LlxuICAgKlxuICAgKiBAcGFyYW0gYXNzZXRJZCAtIFRoZSBhc3NldCBJRCB0byBjaGVjayB0aGUgYmFsYW5jZSBmb3IgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGJhbGFuY2UgYW1vdW50LlxuICAgKi9cbiAgYXN5bmMgZ2V0QmFsYW5jZShhc3NldElkKSB7XG4gICAgY29uc3QgYXNzZXRJZFRvRmV0Y2ggPSBhc3NldElkID8/IGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0QmFzZUFzc2V0SWQoKTtcbiAgICBjb25zdCBhbW91bnQgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmdldEJhbGFuY2UodGhpcy5hZGRyZXNzLCBhc3NldElkVG9GZXRjaCk7XG4gICAgcmV0dXJuIGFtb3VudDtcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmVzIGFsbCB0aGUgYmFsYW5jZXMgZm9yIHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBhcnJheSBvZiBDb2lucyBhbmQgdGhlaXIgcXVhbnRpdGllcy5cbiAgICovXG4gIGFzeW5jIGdldEJhbGFuY2VzKCkge1xuICAgIHJldHVybiB0aGlzLnByb3ZpZGVyLmdldEJhbGFuY2VzKHRoaXMuYWRkcmVzcyk7XG4gIH1cbiAgLyoqXG4gICAqIEZ1bmRzIGEgdHJhbnNhY3Rpb24gcmVxdWVzdCBieSBhZGRpbmcgdGhlIG5lY2Vzc2FyeSByZXNvdXJjZXMuXG4gICAqXG4gICAqIEB0eXBlUGFyYW0gVCAtIFRoZSB0eXBlIG9mIHRoZSBUcmFuc2FjdGlvblJlcXVlc3QuXG4gICAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gZnVuZC5cbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBlc3RpbWF0ZWQgdHJhbnNhY3Rpb24gcGFyYW1ldGVycy5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGZ1bmRlZCB0cmFuc2FjdGlvbiByZXF1ZXN0LlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgcHJvdmlkZXIuYXNzZW1ibGVUeCBpbnN0ZWFkXG4gICAqIENoZWNrIHRoZSBtaWdyYXRpb24gZ3VpZGUgaHR0cHM6Ly9kb2NzLmZ1ZWwubmV0d29yay9kb2NzL2Z1ZWxzLXRzL3RyYW5zYWN0aW9ucy9hc3NlbWJsZS10eC1taWdyYXRpb24tZ3VpZGUvIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgYXN5bmMgZnVuZChyZXF1ZXN0MiwgcGFyYW1zKSB7XG4gICAgY29uc3Qge1xuICAgICAgYWRkZWRTaWduYXR1cmVzLFxuICAgICAgZXN0aW1hdGVkUHJlZGljYXRlcyxcbiAgICAgIHJlcXVpcmVkUXVhbnRpdGllcyxcbiAgICAgIHVwZGF0ZU1heEZlZSxcbiAgICAgIGdhc1ByaWNlLFxuICAgICAgdHJhbnNhY3Rpb25TdW1tYXJ5XG4gICAgfSA9IHBhcmFtcztcbiAgICBjb25zdCBjaGFpbklkID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRDaGFpbklkKCk7XG4gICAgY29uc3QgZmVlID0gcmVxdWVzdDIubWF4RmVlO1xuICAgIGNvbnN0IGJhc2VBc3NldElkID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRCYXNlQXNzZXRJZCgpO1xuICAgIGNvbnN0IHJlcXVpcmVkSW5CYXNlQXNzZXQgPSByZXF1aXJlZFF1YW50aXRpZXMuZmluZCgocXVhbnRpdHkpID0+IHF1YW50aXR5LmFzc2V0SWQgPT09IGJhc2VBc3NldElkKT8uYW1vdW50IHx8IGJuMjEoMCk7XG4gICAgY29uc3QgcmVxdWlyZWRRdWFudGl0aWVzV2l0aEZlZSA9IGFkZEFtb3VudFRvQ29pblF1YW50aXRpZXMoe1xuICAgICAgYW1vdW50OiBibjIxKGZlZSksXG4gICAgICBhc3NldElkOiBiYXNlQXNzZXRJZCxcbiAgICAgIGNvaW5RdWFudGl0aWVzOiByZXF1aXJlZFF1YW50aXRpZXNcbiAgICB9KTtcbiAgICBjb25zdCBxdWFudGl0aWVzRGljdCA9IHt9O1xuICAgIHJlcXVpcmVkUXVhbnRpdGllc1dpdGhGZWUuZm9yRWFjaCgoeyBhbW91bnQsIGFzc2V0SWQgfSkgPT4ge1xuICAgICAgcXVhbnRpdGllc0RpY3RbYXNzZXRJZF0gPSB7XG4gICAgICAgIHJlcXVpcmVkOiBhbW91bnQsXG4gICAgICAgIG93bmVkOiBibjIxKDApXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJlcXVlc3QyLmlucHV0cy5maWx0ZXIoaXNSZXF1ZXN0SW5wdXRSZXNvdXJjZSkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IGlzQ29pbjIgPSBpc1JlcXVlc3RJbnB1dENvaW4oaW5wdXQpO1xuICAgICAgY29uc3QgYXNzZXRJZCA9IGlzQ29pbjIgPyBTdHJpbmcoaW5wdXQuYXNzZXRJZCkgOiBiYXNlQXNzZXRJZDtcbiAgICAgIGlmIChxdWFudGl0aWVzRGljdFthc3NldElkXSkge1xuICAgICAgICBxdWFudGl0aWVzRGljdFthc3NldElkXS5vd25lZCA9IHF1YW50aXRpZXNEaWN0W2Fzc2V0SWRdLm93bmVkLmFkZChpbnB1dC5hbW91bnQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBtaXNzaW5nUXVhbnRpdGllcyA9IFtdO1xuICAgIE9iamVjdC5lbnRyaWVzKHF1YW50aXRpZXNEaWN0KS5mb3JFYWNoKChbYXNzZXRJZCwgeyBvd25lZCwgcmVxdWlyZWQgfV0pID0+IHtcbiAgICAgIGlmIChvd25lZC5sdChyZXF1aXJlZCkpIHtcbiAgICAgICAgbWlzc2luZ1F1YW50aXRpZXMucHVzaCh7XG4gICAgICAgICAgYXNzZXRJZCxcbiAgICAgICAgICBhbW91bnQ6IHJlcXVpcmVkLnN1Yihvd25lZClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IG5lZWRzVG9CZUZ1bmRlZCA9IG1pc3NpbmdRdWFudGl0aWVzLmxlbmd0aCA+IDA7XG4gICAgbGV0IGZ1bmRpbmdBdHRlbXB0cyA9IDA7XG4gICAgd2hpbGUgKG5lZWRzVG9CZUZ1bmRlZCAmJiBmdW5kaW5nQXR0ZW1wdHMgPCBNQVhfRlVORElOR19BVFRFTVBUUykge1xuICAgICAgY29uc3QgcmVzb3VyY2VzID0gYXdhaXQgdGhpcy5nZXRSZXNvdXJjZXNUb1NwZW5kKFxuICAgICAgICBtaXNzaW5nUXVhbnRpdGllcyxcbiAgICAgICAgY2FjaGVSZXF1ZXN0SW5wdXRzUmVzb3VyY2VzRnJvbU93bmVyKHJlcXVlc3QyLmlucHV0cywgdGhpcy5hZGRyZXNzKVxuICAgICAgKTtcbiAgICAgIHJlcXVlc3QyLmFkZFJlc291cmNlcyhyZXNvdXJjZXMpO1xuICAgICAgcmVxdWVzdDIudXBkYXRlUHJlZGljYXRlR2FzVXNlZChlc3RpbWF0ZWRQcmVkaWNhdGVzKTtcbiAgICAgIGNvbnN0IHJlcXVlc3RUb1JlZXN0aW1hdGUyID0gY2xvbmU5KHJlcXVlc3QyKTtcbiAgICAgIGlmIChhZGRlZFNpZ25hdHVyZXMpIHtcbiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogYWRkZWRTaWduYXR1cmVzIH0pLmZvckVhY2goXG4gICAgICAgICAgKCkgPT4gcmVxdWVzdFRvUmVlc3RpbWF0ZTIuYWRkRW1wdHlXaXRuZXNzKClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICghdXBkYXRlTWF4RmVlKSB7XG4gICAgICAgIG5lZWRzVG9CZUZ1bmRlZCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgbWF4RmVlOiBuZXdGZWUgfSA9IGF3YWl0IHRoaXMucHJvdmlkZXIuZXN0aW1hdGVUeEdhc0FuZEZlZSh7XG4gICAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdDogcmVxdWVzdFRvUmVlc3RpbWF0ZTIsXG4gICAgICAgIGdhc1ByaWNlXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHRvdGFsQmFzZUFzc2V0T25JbnB1dHMgPSBnZXRBc3NldEFtb3VudEluUmVxdWVzdElucHV0cyhcbiAgICAgICAgcmVxdWVzdDIuaW5wdXRzLmZpbHRlcihpc1JlcXVlc3RJbnB1dFJlc291cmNlKSxcbiAgICAgICAgYmFzZUFzc2V0SWQsXG4gICAgICAgIGJhc2VBc3NldElkXG4gICAgICApO1xuICAgICAgY29uc3QgdG90YWxCYXNlQXNzZXRSZXF1aXJlZFdpdGhGZWUgPSByZXF1aXJlZEluQmFzZUFzc2V0LmFkZChuZXdGZWUpO1xuICAgICAgaWYgKHRvdGFsQmFzZUFzc2V0T25JbnB1dHMuZ3QodG90YWxCYXNlQXNzZXRSZXF1aXJlZFdpdGhGZWUpKSB7XG4gICAgICAgIG5lZWRzVG9CZUZ1bmRlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWlzc2luZ1F1YW50aXRpZXMgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgYW1vdW50OiB0b3RhbEJhc2VBc3NldFJlcXVpcmVkV2l0aEZlZS5zdWIodG90YWxCYXNlQXNzZXRPbklucHV0cyksXG4gICAgICAgICAgICBhc3NldElkOiBiYXNlQXNzZXRJZFxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIGZ1bmRpbmdBdHRlbXB0cyArPSAxO1xuICAgIH1cbiAgICBpZiAobmVlZHNUb0JlRnVuZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjEoXG4gICAgICAgIEVycm9yQ29kZTE5LklOU1VGRklDSUVOVF9GVU5EU19PUl9NQVhfQ09JTlMsXG4gICAgICAgIGBUaGUgYWNjb3VudCAke3RoaXMuYWRkcmVzc30gZG9lcyBub3QgaGF2ZSBlbm91Z2ggYmFzZSBhc3NldCBmdW5kcyB0byBjb3ZlciB0aGUgdHJhbnNhY3Rpb24gZXhlY3V0aW9uLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJlcXVlc3QyLnVwZGF0ZVN0YXRlKGNoYWluSWQsIFwiZnVuZGVkXCIsIHRyYW5zYWN0aW9uU3VtbWFyeSk7XG4gICAgYXdhaXQgdGhpcy5wcm92aWRlci52YWxpZGF0ZVRyYW5zYWN0aW9uKHJlcXVlc3QyKTtcbiAgICByZXF1ZXN0Mi51cGRhdGVQcmVkaWNhdGVHYXNVc2VkKGVzdGltYXRlZFByZWRpY2F0ZXMpO1xuICAgIGNvbnN0IHJlcXVlc3RUb1JlZXN0aW1hdGUgPSBjbG9uZTkocmVxdWVzdDIpO1xuICAgIGlmIChhZGRlZFNpZ25hdHVyZXMpIHtcbiAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IGFkZGVkU2lnbmF0dXJlcyB9KS5mb3JFYWNoKCgpID0+IHJlcXVlc3RUb1JlZXN0aW1hdGUuYWRkRW1wdHlXaXRuZXNzKCkpO1xuICAgIH1cbiAgICBpZiAoIXVwZGF0ZU1heEZlZSkge1xuICAgICAgcmV0dXJuIHJlcXVlc3QyO1xuICAgIH1cbiAgICBjb25zdCB7IG1heEZlZSB9ID0gYXdhaXQgdGhpcy5wcm92aWRlci5lc3RpbWF0ZVR4R2FzQW5kRmVlKHtcbiAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdDogcmVxdWVzdFRvUmVlc3RpbWF0ZSxcbiAgICAgIGdhc1ByaWNlXG4gICAgfSk7XG4gICAgcmVxdWVzdDIubWF4RmVlID0gbWF4RmVlO1xuICAgIHJldHVybiByZXF1ZXN0MjtcbiAgfVxuICAvKipcbiAgICogQSBoZWxwZXIgdGhhdCBjcmVhdGVzIGEgdHJhbnNmZXIgdHJhbnNhY3Rpb24gcmVxdWVzdCBhbmQgcmV0dXJucyBpdC5cbiAgICpcbiAgICogQHBhcmFtIGRlc3RpbmF0aW9uIC0gVGhlIGFkZHJlc3Mgb2YgdGhlIGRlc3RpbmF0aW9uLlxuICAgKiBAcGFyYW0gYW1vdW50IC0gVGhlIGFtb3VudCBvZiBjb2lucyB0byB0cmFuc2Zlci5cbiAgICogQHBhcmFtIGFzc2V0SWQgLSBUaGUgYXNzZXQgSUQgb2YgdGhlIGNvaW5zIHRvIHRyYW5zZmVyIChvcHRpb25hbCkuXG4gICAqIEBwYXJhbSB0eFBhcmFtcyAtIFRoZSB0cmFuc2FjdGlvbiBwYXJhbWV0ZXJzIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBwcmVwYXJlZCB0cmFuc2FjdGlvbiByZXF1ZXN0LlxuICAgKi9cbiAgYXN5bmMgY3JlYXRlVHJhbnNmZXIoZGVzdGluYXRpb24sIGFtb3VudCwgYXNzZXRJZCwgdHhQYXJhbXMgPSB7fSkge1xuICAgIGxldCByZXF1ZXN0MiA9IG5ldyBTY3JpcHRUcmFuc2FjdGlvblJlcXVlc3QodHhQYXJhbXMpO1xuICAgIHJlcXVlc3QyID0gdGhpcy5hZGRUcmFuc2ZlcihyZXF1ZXN0Miwge1xuICAgICAgZGVzdGluYXRpb24sXG4gICAgICBhbW91bnQsXG4gICAgICBhc3NldElkOiBhc3NldElkIHx8IGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0QmFzZUFzc2V0SWQoKVxuICAgIH0pO1xuICAgIGNvbnN0IHsgZ2FzUHJpY2UsIHRyYW5zYWN0aW9uUmVxdWVzdCB9ID0gYXdhaXQgdGhpcy5hc3NlbWJsZVR4KHJlcXVlc3QyKTtcbiAgICByZXF1ZXN0MiA9IGF3YWl0IHNldEFuZFZhbGlkYXRlR2FzQW5kRmVlRm9yQXNzZW1ibGVkVHgoe1xuICAgICAgZ2FzUHJpY2UsXG4gICAgICBwcm92aWRlcjogdGhpcy5wcm92aWRlcixcbiAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgICAgIHNldEdhc0xpbWl0OiB0eFBhcmFtcz8uZ2FzTGltaXQsXG4gICAgICBzZXRNYXhGZWU6IHR4UGFyYW1zPy5tYXhGZWVcbiAgICB9KTtcbiAgICByZXR1cm4gcmVxdWVzdDI7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zZmVycyBjb2lucyB0byBhIGRlc3RpbmF0aW9uIGFkZHJlc3MuXG4gICAqXG4gICAqIEBwYXJhbSBkZXN0aW5hdGlvbiAtIFRoZSBhZGRyZXNzIG9mIHRoZSBkZXN0aW5hdGlvbi5cbiAgICogQHBhcmFtIGFtb3VudCAtIFRoZSBhbW91bnQgb2YgY29pbnMgdG8gdHJhbnNmZXIuXG4gICAqIEBwYXJhbSBhc3NldElkIC0gVGhlIGFzc2V0IElEIG9mIHRoZSBjb2lucyB0byB0cmFuc2ZlciAob3B0aW9uYWwpLlxuICAgKiBAcGFyYW0gdHhQYXJhbXMgLSBUaGUgdHJhbnNhY3Rpb24gcGFyYW1ldGVycyAob3B0aW9uYWwpLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNhY3Rpb24gcmVzcG9uc2UuXG4gICAqL1xuICBhc3luYyB0cmFuc2ZlcihkZXN0aW5hdGlvbiwgYW1vdW50LCBhc3NldElkLCB0eFBhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdDIgPSBhd2FpdCB0aGlzLmNyZWF0ZVRyYW5zZmVyKGRlc3RpbmF0aW9uLCBhbW91bnQsIGFzc2V0SWQsIHR4UGFyYW1zKTtcbiAgICByZXR1cm4gdGhpcy5zZW5kVHJhbnNhY3Rpb24ocmVxdWVzdDIsIHsgZXN0aW1hdGVUeERlcGVuZGVuY2llczogZmFsc2UgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zZmVycyBtdWx0aXBsZSBhbW91bnRzIG9mIGEgdG9rZW4gdG8gbXVsdGlwbGUgcmVjaXBpZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zZmVyUGFyYW1zIC0gQW4gYXJyYXkgb2YgYFRyYW5zZmVyUGFyYW1zYCBvYmplY3RzIHJlcHJlc2VudGluZyB0aGUgdHJhbnNmZXJzIHRvIGJlIG1hZGUuXG4gICAqIEBwYXJhbSB0eFBhcmFtcyAtIE9wdGlvbmFsIHRyYW5zYWN0aW9uIHBhcmFtZXRlcnMuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgYFRyYW5zYWN0aW9uUmVzcG9uc2VgIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHRyYW5zYWN0aW9uIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIGJhdGNoVHJhbnNmZXIodHJhbnNmZXJQYXJhbXMsIHR4UGFyYW1zID0ge30pIHtcbiAgICBsZXQgcmVxdWVzdDIgPSBuZXcgU2NyaXB0VHJhbnNhY3Rpb25SZXF1ZXN0KHR4UGFyYW1zKTtcbiAgICByZXF1ZXN0MiA9IHRoaXMuYWRkQmF0Y2hUcmFuc2ZlcihyZXF1ZXN0MiwgdHJhbnNmZXJQYXJhbXMpO1xuICAgIGNvbnN0IHsgZ2FzUHJpY2UsIHRyYW5zYWN0aW9uUmVxdWVzdCB9ID0gYXdhaXQgdGhpcy5hc3NlbWJsZVR4KHJlcXVlc3QyKTtcbiAgICByZXF1ZXN0MiA9IGF3YWl0IHNldEFuZFZhbGlkYXRlR2FzQW5kRmVlRm9yQXNzZW1ibGVkVHgoe1xuICAgICAgZ2FzUHJpY2UsXG4gICAgICBwcm92aWRlcjogdGhpcy5wcm92aWRlcixcbiAgICAgIHRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgICAgIHNldEdhc0xpbWl0OiB0eFBhcmFtcz8uZ2FzTGltaXQsXG4gICAgICBzZXRNYXhGZWU6IHR4UGFyYW1zPy5tYXhGZWVcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5zZW5kVHJhbnNhY3Rpb24ocmVxdWVzdDIsIHsgZXN0aW1hdGVUeERlcGVuZGVuY2llczogZmFsc2UgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSB0cmFuc2ZlciB0byB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb24gcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgc2NyaXB0IHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gYWRkIHRyYW5zZmVycyB0by5cbiAgICogQHBhcmFtIHRyYW5zZmVyUGFyYW1zIC0gVGhlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHRyYW5zZmVyIHRvIGJlIG1hZGUuXG4gICAqIEByZXR1cm5zIFRoZSB1cGRhdGVkIHRyYW5zYWN0aW9uIHJlcXVlc3Qgd2l0aCB0aGUgYWRkZWQgdHJhbnNmZXIuXG4gICAqL1xuICBhZGRUcmFuc2ZlcihyZXF1ZXN0MiwgdHJhbnNmZXJQYXJhbXMpIHtcbiAgICBjb25zdCB7IGRlc3RpbmF0aW9uLCBhbW91bnQsIGFzc2V0SWQgfSA9IHRyYW5zZmVyUGFyYW1zO1xuICAgIHRoaXMudmFsaWRhdGVUcmFuc2ZlckFtb3VudChhbW91bnQpO1xuICAgIHJlcXVlc3QyLmFkZENvaW5PdXRwdXQobmV3IEFkZHJlc3M0KGRlc3RpbmF0aW9uKSwgYW1vdW50LCBhc3NldElkKTtcbiAgICByZXR1cm4gcmVxdWVzdDI7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgbXVsdGlwbGUgdHJhbnNmZXJzIHRvIGEgc2NyaXB0IHRyYW5zYWN0aW9uIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHNjcmlwdCB0cmFuc2FjdGlvbiByZXF1ZXN0IHRvIGFkZCB0cmFuc2ZlcnMgdG8uXG4gICAqIEBwYXJhbSB0cmFuc2ZlclBhcmFtcyAtIEFuIGFycmF5IG9mIGBUcmFuc2ZlclBhcmFtc2Agb2JqZWN0cyByZXByZXNlbnRpbmcgdGhlIHRyYW5zZmVycyB0byBiZSBtYWRlLlxuICAgKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBzY3JpcHQgdHJhbnNhY3Rpb24gcmVxdWVzdC5cbiAgICovXG4gIGFkZEJhdGNoVHJhbnNmZXIocmVxdWVzdDIsIHRyYW5zZmVyUGFyYW1zKSB7XG4gICAgdHJhbnNmZXJQYXJhbXMuZm9yRWFjaCgoeyBkZXN0aW5hdGlvbiwgYW1vdW50LCBhc3NldElkIH0pID0+IHtcbiAgICAgIHRoaXMuYWRkVHJhbnNmZXIocmVxdWVzdDIsIHtcbiAgICAgICAgZGVzdGluYXRpb24sXG4gICAgICAgIGFtb3VudCxcbiAgICAgICAgYXNzZXRJZFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcXVlc3QyO1xuICB9XG4gIC8qKlxuICAgKiBUcmFuc2ZlcnMgY29pbnMgdG8gYSBjb250cmFjdCBhZGRyZXNzLlxuICAgKlxuICAgKiBAcGFyYW0gY29udHJhY3RJZCAtIFRoZSBhZGRyZXNzIG9mIHRoZSBjb250cmFjdC5cbiAgICogQHBhcmFtIGFtb3VudCAtIFRoZSBhbW91bnQgb2YgY29pbnMgdG8gdHJhbnNmZXIuXG4gICAqIEBwYXJhbSBhc3NldElkIC0gVGhlIGFzc2V0IElEIG9mIHRoZSBjb2lucyB0byB0cmFuc2ZlciAob3B0aW9uYWwpLlxuICAgKiBAcGFyYW0gdHhQYXJhbXMgLSBUaGUgdHJhbnNhY3Rpb24gcGFyYW1ldGVycyAob3B0aW9uYWwpLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNhY3Rpb24gcmVzcG9uc2UuXG4gICAqL1xuICBhc3luYyB0cmFuc2ZlclRvQ29udHJhY3QoY29udHJhY3RJZCwgYW1vdW50LCBhc3NldElkLCB0eFBhcmFtcyA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuYmF0Y2hUcmFuc2ZlclRvQ29udHJhY3RzKFt7IGFtb3VudCwgYXNzZXRJZCwgY29udHJhY3RJZCB9XSwgdHhQYXJhbXMpO1xuICB9XG4gIGFzeW5jIGJhdGNoVHJhbnNmZXJUb0NvbnRyYWN0cyhjb250cmFjdFRyYW5zZmVyUGFyYW1zLCB0eFBhcmFtcyA9IHt9KSB7XG4gICAgbGV0IHJlcXVlc3QyID0gbmV3IFNjcmlwdFRyYW5zYWN0aW9uUmVxdWVzdCh7XG4gICAgICAuLi50eFBhcmFtc1xuICAgIH0pO1xuICAgIGNvbnN0IHF1YW50aXRpZXMgPSBbXTtcbiAgICBjb25zdCBkZWZhdWx0QXNzZXRJZCA9IGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0QmFzZUFzc2V0SWQoKTtcbiAgICBjb25zdCB0cmFuc2ZlclBhcmFtcyA9IGNvbnRyYWN0VHJhbnNmZXJQYXJhbXMubWFwKCh0cmFuc2ZlclBhcmFtKSA9PiB7XG4gICAgICBjb25zdCBhbW91bnQgPSBibjIxKHRyYW5zZmVyUGFyYW0uYW1vdW50KTtcbiAgICAgIGNvbnN0IGNvbnRyYWN0QWRkcmVzcyA9IG5ldyBBZGRyZXNzNCh0cmFuc2ZlclBhcmFtLmNvbnRyYWN0SWQpO1xuICAgICAgY29uc3QgYXNzZXRJZCA9IHRyYW5zZmVyUGFyYW0uYXNzZXRJZCA/IGhleGxpZnkxOCh0cmFuc2ZlclBhcmFtLmFzc2V0SWQpIDogZGVmYXVsdEFzc2V0SWQ7XG4gICAgICBpZiAoYW1vdW50Lmx0ZSgwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjEoXG4gICAgICAgICAgRXJyb3JDb2RlMTkuSU5WQUxJRF9UUkFOU0ZFUl9BTU9VTlQsXG4gICAgICAgICAgXCJUcmFuc2ZlciBhbW91bnQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmVxdWVzdDIuYWRkQ29udHJhY3RJbnB1dEFuZE91dHB1dChjb250cmFjdEFkZHJlc3MpO1xuICAgICAgcXVhbnRpdGllcy5wdXNoKHsgYW1vdW50LCBhc3NldElkIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYW1vdW50LFxuICAgICAgICBjb250cmFjdElkOiBjb250cmFjdEFkZHJlc3MudG9CMjU2KCksXG4gICAgICAgIGFzc2V0SWRcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgeyBzY3JpcHQsIHNjcmlwdERhdGEgfSA9IGF3YWl0IGFzc2VtYmxlVHJhbnNmZXJUb0NvbnRyYWN0U2NyaXB0KHRyYW5zZmVyUGFyYW1zKTtcbiAgICByZXF1ZXN0Mi5zY3JpcHQgPSBzY3JpcHQ7XG4gICAgcmVxdWVzdDIuc2NyaXB0RGF0YSA9IHNjcmlwdERhdGE7XG4gICAgY29uc3QgeyBnYXNQcmljZSwgdHJhbnNhY3Rpb25SZXF1ZXN0IH0gPSBhd2FpdCB0aGlzLmFzc2VtYmxlVHgocmVxdWVzdDIsIHF1YW50aXRpZXMpO1xuICAgIHJlcXVlc3QyID0gYXdhaXQgc2V0QW5kVmFsaWRhdGVHYXNBbmRGZWVGb3JBc3NlbWJsZWRUeCh7XG4gICAgICBnYXNQcmljZSxcbiAgICAgIHByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyLFxuICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0LFxuICAgICAgc2V0R2FzTGltaXQ6IHR4UGFyYW1zPy5nYXNMaW1pdCxcbiAgICAgIHNldE1heEZlZTogdHhQYXJhbXM/Lm1heEZlZVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnNlbmRUcmFuc2FjdGlvbihyZXF1ZXN0Mik7XG4gIH1cbiAgLyoqXG4gICAqIFdpdGhkcmF3cyBhbiBhbW91bnQgb2YgdGhlIGJhc2UgYXNzZXQgdG8gdGhlIGJhc2UgY2hhaW4uXG4gICAqXG4gICAqIEBwYXJhbSByZWNpcGllbnQgLSBBZGRyZXNzIG9mIHRoZSByZWNpcGllbnQgb24gdGhlIGJhc2UgY2hhaW4uXG4gICAqIEBwYXJhbSBhbW91bnQgLSBBbW91bnQgb2YgYmFzZSBhc3NldC5cbiAgICogQHBhcmFtIHR4UGFyYW1zIC0gVGhlIHRyYW5zYWN0aW9uIHBhcmFtZXRlcnMgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zYWN0aW9uIHJlc3BvbnNlLlxuICAgKi9cbiAgYXN5bmMgd2l0aGRyYXdUb0Jhc2VMYXllcihyZWNpcGllbnQsIGFtb3VudCwgdHhQYXJhbXMgPSB7fSkge1xuICAgIGNvbnN0IHJlY2lwaWVudEFkZHJlc3MgPSBuZXcgQWRkcmVzczQocmVjaXBpZW50KTtcbiAgICBjb25zdCByZWNpcGllbnREYXRhQXJyYXkgPSBhcnJheWlmeTE2KFxuICAgICAgXCIweFwiLmNvbmNhdChyZWNpcGllbnRBZGRyZXNzLnRvSGV4U3RyaW5nKCkuc3Vic3RyaW5nKDIpLnBhZFN0YXJ0KDY0LCBcIjBcIikpXG4gICAgKTtcbiAgICBjb25zdCBhbW91bnREYXRhQXJyYXkgPSBhcnJheWlmeTE2KFxuICAgICAgXCIweFwiLmNvbmNhdChibjIxKGFtb3VudCkudG9IZXgoKS5zdWJzdHJpbmcoMikucGFkU3RhcnQoMTYsIFwiMFwiKSlcbiAgICApO1xuICAgIGNvbnN0IHNjcmlwdCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgIC4uLmFycmF5aWZ5MTYod2l0aGRyYXdTY3JpcHQuYnl0ZXMpLFxuICAgICAgLi4ucmVjaXBpZW50RGF0YUFycmF5LFxuICAgICAgLi4uYW1vdW50RGF0YUFycmF5XG4gICAgXSk7XG4gICAgY29uc3QgcGFyYW1zID0geyBzY3JpcHQsIC4uLnR4UGFyYW1zIH07XG4gICAgY29uc3QgYmFzZUFzc2V0SWQgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmdldEJhc2VBc3NldElkKCk7XG4gICAgbGV0IHJlcXVlc3QyID0gbmV3IFNjcmlwdFRyYW5zYWN0aW9uUmVxdWVzdChwYXJhbXMpO1xuICAgIGNvbnN0IHF1YW50aXRpZXMgPSBbeyBhbW91bnQ6IGJuMjEoYW1vdW50KSwgYXNzZXRJZDogYmFzZUFzc2V0SWQgfV07XG4gICAgY29uc3QgeyBnYXNQcmljZSwgdHJhbnNhY3Rpb25SZXF1ZXN0IH0gPSBhd2FpdCB0aGlzLmFzc2VtYmxlVHgocmVxdWVzdDIsIHF1YW50aXRpZXMpO1xuICAgIHJlcXVlc3QyID0gYXdhaXQgc2V0QW5kVmFsaWRhdGVHYXNBbmRGZWVGb3JBc3NlbWJsZWRUeCh7XG4gICAgICBnYXNQcmljZSxcbiAgICAgIHByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyLFxuICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0LFxuICAgICAgc2V0R2FzTGltaXQ6IHR4UGFyYW1zPy5nYXNMaW1pdCxcbiAgICAgIHNldE1heEZlZTogdHhQYXJhbXM/Lm1heEZlZVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLnNlbmRUcmFuc2FjdGlvbihyZXF1ZXN0Mik7XG4gIH1cbiAgLyoqXG4gICAqIENvbnNvbGlkYXRlcyBiYXNlIGFzc2V0IFVUWE9zIGludG8gZmV3ZXIsIGxhcmdlciBvbmVzLlxuICAgKlxuICAgKiBSZXRyaWV2ZXMgYSBsaW1pdGVkIG51bWJlciBvZiBiYXNlIGFzc2V0IGNvaW5zIChhcyBkZWZpbmVkIGJ5IGBQcm92aWRlci5SRVNPVVJDRVNfUEFHRV9TSVpFX0xJTUlUYCksXG4gICAqIGFzc2VtYmxlcyBjb25zb2xpZGF0aW9uIHRyYW5zYWN0aW9ucywgYW5kIHN1Ym1pdHMgdGhlbSB0byB0aGUgbmV0d29yay5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgY3VycmVudGx5IHN1cHBvcnRzIG9ubHkgdGhlIGJhc2UgYXNzZXQuXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyBmb3IgY29pbiBjb25zb2xpZGF0aW9uLCBpbmNsdWRpbmcgdGhlIGFzc2V0IElELCBtb2RlLCBhbmQgb3V0cHV0IG51bWJlci5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHJlc3BvbnNlIG9mIHRoZSBzdWJtaXR0ZWQgdHJhbnNhY3Rpb25zLlxuICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIGFzc2V0IGlzIG5vdCBhIGJhc2UgYXNzZXQgYXMgbm9uLWJhc2UgYXNzZXQgY29uc29saWRhdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQuXG4gICAqL1xuICBhc3luYyBjb25zb2xpZGF0ZUNvaW5zKHBhcmFtcykge1xuICAgIGNvbnN0IHsgYXNzZXRJZCB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHsgY29pbnMgfSA9IGF3YWl0IHRoaXMuZ2V0Q29pbnMoYXNzZXRJZCk7XG4gICAgY29uc3QgYmFzZUFzc2V0SWQgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmdldEJhc2VBc3NldElkKCk7XG4gICAgY29uc3QgaXNCYXNlQXNzZXQgPSBiYXNlQXNzZXRJZCA9PT0gYXNzZXRJZDtcbiAgICBsZXQgc3VibWl0QWxsO1xuICAgIGNvbnN0IGNvbnNvbGlkYXRpb25QYXJhbXMgPSB7XG4gICAgICBjb2lucyxcbiAgICAgIG1vZGU6IHBhcmFtcy5tb2RlLFxuICAgICAgb3V0cHV0TnVtOiBwYXJhbXMub3V0cHV0TnVtXG4gICAgfTtcbiAgICBpZiAoaXNCYXNlQXNzZXQpIHtcbiAgICAgICh7IHN1Ym1pdEFsbCB9ID0gYXdhaXQgdGhpcy5hc3NlbWJsZUJhc2VBc3NldENvbnNvbGlkYXRpb25UeHMoY29uc29saWRhdGlvblBhcmFtcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjEoXG4gICAgICAgIEVycm9yQ29kZTE5LlVOU1VQUE9SVEVEX0ZFQVRVUkUsXG4gICAgICAgIFwiQ29uc29saWRhdGlvbiBmb3Igbm9uLWJhc2UgYXNzZXRzIGlzIG5vdCBzdXBwb3J0ZWQgeWV0LlwiXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc3VibWl0QWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFzc2VtYmxlcyB0cmFuc2FjdGlvbnMgZm9yIGNvbnNvbGlkYXRpbmcgYmFzZSBhc3NldCBjb2lucyBpbnRvIGZld2VyIFVUWE9zLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzcGxpdHMgdGhlIHByb3ZpZGVkIGNvaW5zIGludG8gYmF0Y2hlcyBhbmQgY3JlYXRlcyB0cmFuc2FjdGlvbiByZXF1ZXN0c1xuICAgKiB0byBjb25zb2xpZGF0ZSB0aGVtLiBJdCBjYWxjdWxhdGVzIHRoZSBuZWNlc3NhcnkgZmVlIGFuZCBzZXRzIHVwIHRoZSB0cmFuc2FjdGlvbnNcbiAgICogdG8gYmUgc3VibWl0dGVkIGVpdGhlciBpbiBwYXJhbGxlbCAoZGVmYXVsdCkgb3Igc2VxdWVudGlhbGx5LlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIGFzc2VtYmxpbmcgYmFzZSBhc3NldCBjb25zb2xpZGF0aW9uIHRyYW5zYWN0aW9ucy5cbiAgICpcbiAgICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGFzc2VtYmxlZCB0cmFuc2FjdGlvbnMsIHRoZSB0b3RhbCBmZWUgY29zdCwgYW5kIGEgY2FsbGJhY2sgdG8gc3VibWl0IGFsbCB0cmFuc2FjdGlvbnMuXG4gICAqL1xuICBhc3luYyBhc3NlbWJsZUJhc2VBc3NldENvbnNvbGlkYXRpb25UeHMocGFyYW1zKSB7XG4gICAgY29uc3QgeyBjb2lucywgbW9kZSA9IFwicGFyYWxsZWxcIiwgb3V0cHV0TnVtID0gMSB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGJhc2VBc3NldElkID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRCYXNlQXNzZXRJZCgpO1xuICAgIHRoaXMudmFsaWRhdGVDb25zb2xpZGF0aW9uVHhzQ29pbnMoY29pbnMsIGJhc2VBc3NldElkKTtcbiAgICBjb25zdCBjaGFpbkluZm8gPSBhd2FpdCB0aGlzLnByb3ZpZGVyLmdldENoYWluKCk7XG4gICAgY29uc3QgbWF4SW5wdXRzTnVtYmVyID0gY2hhaW5JbmZvLmNvbnNlbnN1c1BhcmFtZXRlcnMudHhQYXJhbWV0ZXJzLm1heElucHV0cy50b051bWJlcigpO1xuICAgIGxldCB0b3RhbEZlZUNvc3QgPSBibjIxKDApO1xuICAgIGNvbnN0IHR4cyA9IFtdO1xuICAgIGNvbnN0IGNvaW5zQmF0Y2hlcyA9IHNwbGl0Q29pbnNJbnRvQmF0Y2hlcyhjb2lucywgbWF4SW5wdXRzTnVtYmVyKTtcbiAgICBjb25zdCBnYXNQcmljZSA9IGF3YWl0IHRoaXMucHJvdmlkZXIuZXN0aW1hdGVHYXNQcmljZSgxMCk7XG4gICAgY29uc3QgY29uc29saWRhdGVNb3JlVGhhbk9uZUNvaW4gPSBvdXRwdXROdW0gPiAxO1xuICAgIGNvaW5zQmF0Y2hlcy5maWx0ZXIoKGJhdGNoKSA9PiBiYXRjaC5sZW5ndGggPiAxKS5mb3JFYWNoKChjb2luQmF0Y2gpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QyID0gbmV3IFNjcmlwdFRyYW5zYWN0aW9uUmVxdWVzdCh7XG4gICAgICAgIHNjcmlwdDogXCIweFwiXG4gICAgICB9KTtcbiAgICAgIHJlcXVlc3QyLmFkZFJlc291cmNlcyhjb2luQmF0Y2gpO1xuICAgICAgaWYgKGNvbnNvbGlkYXRlTW9yZVRoYW5PbmVDb2luKSB7XG4gICAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IG91dHB1dE51bSAtIDEgfSkuZm9yRWFjaCgoKSA9PiB7XG4gICAgICAgICAgcmVxdWVzdDIuYWRkQ29pbk91dHB1dCh0aGlzLmFkZHJlc3MsIDAsIGJhc2VBc3NldElkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBtaW5HYXMgPSByZXF1ZXN0Mi5jYWxjdWxhdGVNaW5HYXMoY2hhaW5JbmZvKTtcbiAgICAgIGNvbnN0IGZlZSA9IGNhbGN1bGF0ZUdhc0ZlZSh7XG4gICAgICAgIGdhc1ByaWNlLFxuICAgICAgICBnYXM6IG1pbkdhcyxcbiAgICAgICAgcHJpY2VGYWN0b3I6IGNoYWluSW5mby5jb25zZW5zdXNQYXJhbWV0ZXJzLmZlZVBhcmFtZXRlcnMuZ2FzUHJpY2VGYWN0b3IsXG4gICAgICAgIHRpcDogcmVxdWVzdDIudGlwXG4gICAgICB9KTtcbiAgICAgIHJlcXVlc3QyLm1heEZlZSA9IGZlZTtcbiAgICAgIGlmIChjb25zb2xpZGF0ZU1vcmVUaGFuT25lQ29pbikge1xuICAgICAgICBjb25zdCB0b3RhbCA9IHJlcXVlc3QyLmlucHV0cy5maWx0ZXIoaXNSZXF1ZXN0SW5wdXRDb2luKS5yZWR1Y2UoKGFjYywgaW5wdXQpID0+IGFjYy5hZGQoaW5wdXQuYW1vdW50KSwgYm4yMSgwKSk7XG4gICAgICAgIGNvbnN0IGFtb3VudFBlck5ld1V0eG8gPSB0b3RhbC5kaXYob3V0cHV0TnVtICsgMSk7XG4gICAgICAgIHJlcXVlc3QyLm91dHB1dHMuZm9yRWFjaCgob3V0cHV0KSA9PiB7XG4gICAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSBPdXRwdXRUeXBlOS5Db2luKSB7XG4gICAgICAgICAgICBvdXRwdXQuYW1vdW50ID0gYW1vdW50UGVyTmV3VXR4bztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdG90YWxGZWVDb3N0ID0gdG90YWxGZWVDb3N0LmFkZChmZWUpO1xuICAgICAgdHhzLnB1c2gocmVxdWVzdDIpO1xuICAgIH0pO1xuICAgIGNvbnN0IHN1Ym1pdEFsbCA9IHRoaXMucHJlcGFyZVN1Ym1pdEFsbCh7IHR4cywgbW9kZSB9KTtcbiAgICByZXR1cm4geyB0eHMsIHRvdGFsRmVlQ29zdCwgc3VibWl0QWxsIH07XG4gIH1cbiAgLyoqXG4gICAqIFByZXBhcmVzIGEgZnVuY3Rpb24gdG8gc3VibWl0IGFsbCB0cmFuc2FjdGlvbnMgZWl0aGVyIHNlcXVlbnRpYWxseSBvciBpbiBwYXJhbGxlbC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBwcmVwYXJpbmcgdGhlIHN1Ym1pdEFsbCBjYWxsYmFjay5cbiAgICpcbiAgICogQHJldHVybnMgQSBjYWxsYmFjayB0aGF0LCB3aGVuIGNhbGxlZCwgc3VibWl0cyBhbGwgdHJhbnNhY3Rpb25zIGFuZCByZXR1cm5zIHRoZWlyIHJlc3VsdHMgYW5kIGFueSBlcnJvcnMgZW5jb3VudGVyZWQuXG4gICAqL1xuICBwcmVwYXJlU3VibWl0QWxsID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyB0eHMsIG1vZGUgPSBcInNlcXVlbnRpYWxcIiB9ID0gcGFyYW1zO1xuICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0eFJlc3BvbnNlcyA9IFtdO1xuICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICBpZiAobW9kZSA9PT0gXCJzZXF1ZW50aWFsXCIpIHtcbiAgICAgICAgZm9yIChjb25zdCB0eCBvZiB0eHMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3VibWl0ID0gYXdhaXQgdGhpcy5zZW5kVHJhbnNhY3Rpb24odHgpO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzdWJtaXQud2FpdEZvclJlc3VsdCgpO1xuICAgICAgICAgICAgdHhSZXNwb25zZXMucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoXG4gICAgICAgICAgdHhzLm1hcChhc3luYyAodHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN1Ym1pdCA9IGF3YWl0IHRoaXMuc2VuZFRyYW5zYWN0aW9uKHR4KTtcbiAgICAgICAgICAgIHJldHVybiBzdWJtaXQud2FpdEZvclJlc3VsdCgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIpIHtcbiAgICAgICAgICAgIHR4UmVzcG9uc2VzLnB1c2gocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2gocmVzdWx0LnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHR4UmVzcG9uc2VzLCBlcnJvcnMgfTtcbiAgICB9O1xuICB9LCBcInByZXBhcmVTdWJtaXRBbGxcIik7XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdHJhbnNhY3Rpb24gY29zdCB0byBlbmFibGUgdXNlclxuICAgKiB0byBzZXQgZ2FzTGltaXQgYW5kIGFsc28gcmVzZXJ2ZSBiYWxhbmNlIGFtb3VudHNcbiAgICogb24gdGhlIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IG9iamVjdC5cbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uQ29zdFBhcmFtcyAtIFRoZSB0cmFuc2FjdGlvbiBjb3N0IHBhcmFtZXRlcnMgKG9wdGlvbmFsKS5cbiAgICpcbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zYWN0aW9uIGNvc3Qgb2JqZWN0LlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgcHJvdmlkZXIuYXNzZW1ibGVUeCBpbnN0ZWFkXG4gICAqIENoZWNrIHRoZSBtaWdyYXRpb24gZ3VpZGUgaHR0cHM6Ly9kb2NzLmZ1ZWwubmV0d29yay9kb2NzL2Z1ZWxzLXRzL3RyYW5zYWN0aW9ucy9hc3NlbWJsZS10eC1taWdyYXRpb24tZ3VpZGUvIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgYXN5bmMgZ2V0VHJhbnNhY3Rpb25Db3N0KHRyYW5zYWN0aW9uUmVxdWVzdExpa2UsIHsgc2lnbmF0dXJlQ2FsbGJhY2ssIHF1YW50aXRpZXMgPSBbXSwgZ2FzUHJpY2UgfSA9IHt9KSB7XG4gICAgY29uc3QgdHhSZXF1ZXN0Q2xvbmUgPSBjbG9uZTkodHJhbnNhY3Rpb25SZXF1ZXN0aWZ5KHRyYW5zYWN0aW9uUmVxdWVzdExpa2UpKTtcbiAgICBjb25zdCBiYXNlQXNzZXRJZCA9IGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0QmFzZUFzc2V0SWQoKTtcbiAgICBjb25zdCBjb2luT3V0cHV0c1F1YW50aXRpZXMgPSB0eFJlcXVlc3RDbG9uZS5nZXRDb2luT3V0cHV0c1F1YW50aXRpZXMoKTtcbiAgICBjb25zdCByZXF1aXJlZFF1YW50aXRpZXMgPSBtZXJnZVF1YW50aXRpZXMoY29pbk91dHB1dHNRdWFudGl0aWVzLCBxdWFudGl0aWVzKTtcbiAgICBjb25zdCB0cmFuc2FjdGlvbkZlZUZvckRyeVJ1biA9IFt7IGFzc2V0SWQ6IGJhc2VBc3NldElkLCBhbW91bnQ6IGJuMjEoXCIxMDAwMDAwMDAwMDAwMDAwMDBcIikgfV07XG4gICAgY29uc3QgZmluZEFzc2V0SW5wdXQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChhc3NldElkKSA9PiB0eFJlcXVlc3RDbG9uZS5pbnB1dHMuZmluZCgoaW5wdXQpID0+IHtcbiAgICAgIGlmIChpbnB1dC50eXBlID09PSBJbnB1dFR5cGU4LkNvaW4pIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LmFzc2V0SWQgPT09IGFzc2V0SWQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNSZXF1ZXN0SW5wdXRNZXNzYWdlV2l0aG91dERhdGEoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlQXNzZXRJZCA9PT0gYXNzZXRJZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSwgXCJmaW5kQXNzZXRJbnB1dFwiKTtcbiAgICBjb25zdCB1cGRhdGVBc3NldElucHV0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoYXNzZXRJZCwgcXVhbnRpdHkpID0+IHtcbiAgICAgIGNvbnN0IGFzc2V0SW5wdXQgPSBmaW5kQXNzZXRJbnB1dChhc3NldElkKTtcbiAgICAgIGNvbnN0IHVzZWRRdWFudGl0eSA9IHF1YW50aXR5O1xuICAgICAgaWYgKGFzc2V0SW5wdXQgJiYgXCJhbW91bnRcIiBpbiBhc3NldElucHV0KSB7XG4gICAgICAgIGFzc2V0SW5wdXQuYW1vdW50ID0gdXNlZFF1YW50aXR5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHhSZXF1ZXN0Q2xvbmUuYWRkUmVzb3VyY2VzKFxuICAgICAgICAgIHRoaXMuZ2VuZXJhdGVGYWtlUmVzb3VyY2VzKFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYW1vdW50OiBxdWFudGl0eSxcbiAgICAgICAgICAgICAgYXNzZXRJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSwgXCJ1cGRhdGVBc3NldElucHV0XCIpO1xuICAgIG1lcmdlUXVhbnRpdGllcyhyZXF1aXJlZFF1YW50aXRpZXMsIHRyYW5zYWN0aW9uRmVlRm9yRHJ5UnVuKS5mb3JFYWNoKFxuICAgICAgKHsgYW1vdW50LCBhc3NldElkIH0pID0+IHVwZGF0ZUFzc2V0SW5wdXQoYXNzZXRJZCwgYW1vdW50KVxuICAgICk7XG4gICAgY29uc3QgdHhDb3N0ID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRUcmFuc2FjdGlvbkNvc3QodHhSZXF1ZXN0Q2xvbmUsIHtcbiAgICAgIHNpZ25hdHVyZUNhbGxiYWNrLFxuICAgICAgZ2FzUHJpY2VcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udHhDb3N0LFxuICAgICAgcmVxdWlyZWRRdWFudGl0aWVzXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2lnbiBhIG1lc3NhZ2UgZnJvbSB0aGUgYWNjb3VudCB2aWEgdGhlIGNvbm5lY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIG1lc3NhZ2UgLSB0aGUgbWVzc2FnZSB0byBzaWduLlxuICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgc2lnbmF0dXJlLlxuICAgKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBhc3luYyBzaWduTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgaWYgKCF0aGlzLl9jb25uZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMShFcnJvckNvZGUxOS5NSVNTSU5HX0NPTk5FQ1RPUiwgXCJBIGNvbm5lY3RvciBpcyByZXF1aXJlZCB0byBzaWduIG1lc3NhZ2VzLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rvci5zaWduTWVzc2FnZSh0aGlzLmFkZHJlc3MudG9TdHJpbmcoKSwgbWVzc2FnZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNpZ25zIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgYWNjb3VudCB2aWEgdGhlIGNvbm5lY3Rvci4uXG4gICAqXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvblJlcXVlc3RMaWtlIC0gVGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gc2lnbi5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHNpZ25hdHVyZSBvZiB0aGUgdHJhbnNhY3Rpb24uXG4gICAqL1xuICBhc3luYyBzaWduVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSwgY29ubmVjdG9yT3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLl9jb25uZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMShcbiAgICAgICAgRXJyb3JDb2RlMTkuTUlTU0lOR19DT05ORUNUT1IsXG4gICAgICAgIFwiQSBjb25uZWN0b3IgaXMgcmVxdWlyZWQgdG8gc2lnbiB0cmFuc2FjdGlvbnMuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVxdWVzdCA9IHRyYW5zYWN0aW9uUmVxdWVzdGlmeSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlKTtcbiAgICBjb25zdCB7IHRyYW5zYWN0aW9uUmVxdWVzdDogcmVxdWVzdFRvU2lnbiwgY29ubmVjdG9yc1NlbmRUeFBhcmFtcyB9ID0gYXdhaXQgdGhpcy5zZXRUcmFuc2FjdGlvblN0YXRlRm9yQ29ubmVjdG9ycyh7XG4gICAgICB0cmFuc2FjdGlvblJlcXVlc3QsXG4gICAgICBjb25uZWN0b3JPcHRpb25zXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rvci5zaWduVHJhbnNhY3Rpb24oXG4gICAgICB0aGlzLmFkZHJlc3MudG9TdHJpbmcoKSxcbiAgICAgIHJlcXVlc3RUb1NpZ24sXG4gICAgICBjb25uZWN0b3JzU2VuZFR4UGFyYW1zXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2VuZHMgYSB0cmFuc2FjdGlvbiB0byB0aGUgbmV0d29yay5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uUmVxdWVzdExpa2UgLSBUaGUgdHJhbnNhY3Rpb24gcmVxdWVzdCB0byBiZSBzZW50LlxuICAgKiBAcGFyYW0gc2VuZFRyYW5zYWN0aW9uUGFyYW1zIC0gVGhlIHByb3ZpZGVyIHNlbmQgdHJhbnNhY3Rpb24gcGFyYW1ldGVycyAob3B0aW9uYWwpLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNhY3Rpb24gcmVzcG9uc2UuXG4gICAqL1xuICBhc3luYyBzZW5kVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSwgeyBlc3RpbWF0ZVR4RGVwZW5kZW5jaWVzID0gdHJ1ZSwgLi4uY29ubmVjdG9yT3B0aW9ucyB9ID0ge30pIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvblJlcXVlc3QgPSB0cmFuc2FjdGlvblJlcXVlc3RpZnkodHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSk7XG4gICAgaWYgKHRoaXMuX2Nvbm5lY3Rvcikge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNldFRyYW5zYWN0aW9uU3RhdGVGb3JDb25uZWN0b3JzKHtcbiAgICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0LFxuICAgICAgICBjb25uZWN0b3JPcHRpb25zXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgdGhpcy5fY29ubmVjdG9yLnNlbmRUcmFuc2FjdGlvbihcbiAgICAgICAgdGhpcy5hZGRyZXNzLnRvU3RyaW5nKCksXG4gICAgICAgIHJlc3BvbnNlLnRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgICAgICAgcmVzcG9uc2UuY29ubmVjdG9yc1NlbmRUeFBhcmFtc1xuICAgICAgKTtcbiAgICAgIHJldHVybiB0eXBlb2YgdHJhbnNhY3Rpb24gPT09IFwic3RyaW5nXCIgPyB0aGlzLnByb3ZpZGVyLmdldFRyYW5zYWN0aW9uUmVzcG9uc2UodHJhbnNhY3Rpb24pIDogdHJhbnNhY3Rpb247XG4gICAgfVxuICAgIGlmIChlc3RpbWF0ZVR4RGVwZW5kZW5jaWVzKSB7XG4gICAgICBhd2FpdCB0aGlzLnByb3ZpZGVyLmVzdGltYXRlVHhEZXBlbmRlbmNpZXModHJhbnNhY3Rpb25SZXF1ZXN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXIuc2VuZFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uUmVxdWVzdCwge1xuICAgICAgZXN0aW1hdGVUeERlcGVuZGVuY2llczogZmFsc2VcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2ltdWxhdGVzIGEgdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvblJlcXVlc3RMaWtlIC0gVGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gYmUgc2ltdWxhdGVkLlxuICAgKiBAcGFyYW0gZXN0aW1hdGVUeFBhcmFtcyAtIFRoZSBlc3RpbWF0ZSB0cmFuc2FjdGlvbiBwYXJhbXMgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGNhbGwgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgc2ltdWxhdGVUcmFuc2FjdGlvbih0cmFuc2FjdGlvblJlcXVlc3RMaWtlLCB7IGVzdGltYXRlVHhEZXBlbmRlbmNpZXMgPSB0cnVlIH0gPSB7fSkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVxdWVzdCA9IHRyYW5zYWN0aW9uUmVxdWVzdGlmeSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlKTtcbiAgICBpZiAoZXN0aW1hdGVUeERlcGVuZGVuY2llcykge1xuICAgICAgYXdhaXQgdGhpcy5wcm92aWRlci5lc3RpbWF0ZVR4RGVwZW5kZW5jaWVzKHRyYW5zYWN0aW9uUmVxdWVzdCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb3ZpZGVyLnNpbXVsYXRlKHRyYW5zYWN0aW9uUmVxdWVzdCwgeyBlc3RpbWF0ZVR4RGVwZW5kZW5jaWVzOiBmYWxzZSB9KTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGFuIGFycmF5IG9mIGZha2UgcmVzb3VyY2VzIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBjb2lucy5cbiAgICpcbiAgICogQHBhcmFtIGNvaW5zIC0gQW4gYXJyYXkgb2YgYEZha2VSZXNvdXJjZXNgIG9iamVjdHMgcmVwcmVzZW50aW5nIHRoZSBjb2lucy5cbiAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgYFJlc291cmNlYCBvYmplY3RzIHdpdGggZ2VuZXJhdGVkIHByb3BlcnRpZXMuXG4gICAqL1xuICBnZW5lcmF0ZUZha2VSZXNvdXJjZXMoY29pbnMpIHtcbiAgICByZXR1cm4gY29pbnMubWFwKChjb2luKSA9PiAoe1xuICAgICAgaWQ6IGhleGxpZnkxOChyYW5kb21CeXRlczIoVVRYT19JRF9MRU4zKSksXG4gICAgICBvd25lcjogdGhpcy5hZGRyZXNzLFxuICAgICAgYmxvY2tDcmVhdGVkOiBibjIxKDEpLFxuICAgICAgdHhDcmVhdGVkSWR4OiBibjIxKDEpLFxuICAgICAgLi4uY29pblxuICAgIH0pKTtcbiAgfVxuICAvKiogQGhpZGRlbiAqL1xuICBhc3luYyBwcmVwYXJlVHJhbnNhY3Rpb25Gb3JTZW5kKHJlcXVlc3QyKSB7XG4gICAgY29uc3QgeyB0cmFuc2FjdGlvbklkIH0gPSByZXF1ZXN0Mi5mbGFnO1xuICAgIGlmICghaXNEZWZpbmVkNCh0cmFuc2FjdGlvbklkKSkge1xuICAgICAgcmV0dXJuIHJlcXVlc3QyO1xuICAgIH1cbiAgICBjb25zdCBjaGFpbklkID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRDaGFpbklkKCk7XG4gICAgY29uc3QgY3VycmVudFRyYW5zYWN0aW9uSWQgPSByZXF1ZXN0Mi5nZXRUcmFuc2FjdGlvbklkKGNoYWluSWQpO1xuICAgIGlmICh0cmFuc2FjdGlvbklkICE9PSBjdXJyZW50VHJhbnNhY3Rpb25JZCkge1xuICAgICAgcmVxdWVzdDIudXBkYXRlU3RhdGUoY2hhaW5JZCk7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0MjtcbiAgfVxuICAvKiogQGhpZGRlbiAqL1xuICBhc3luYyBwcmVwYXJlVHJhbnNhY3Rpb25TdW1tYXJ5KHJlcXVlc3QyKSB7XG4gICAgY29uc3QgY2hhaW5JZCA9IGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0Q2hhaW5JZCgpO1xuICAgIHJldHVybiBpc0RlZmluZWQ0KHJlcXVlc3QyLmZsYWcuc3VtbWFyeSkgPyB7XG4gICAgICAuLi5yZXF1ZXN0Mi5mbGFnLnN1bW1hcnksXG4gICAgICBpZDogcmVxdWVzdDIuZ2V0VHJhbnNhY3Rpb25JZChjaGFpbklkKSxcbiAgICAgIHRyYW5zYWN0aW9uQnl0ZXM6IGhleGxpZnkxOChyZXF1ZXN0Mi50b1RyYW5zYWN0aW9uQnl0ZXMoKSlcbiAgICB9IDogdm9pZCAwO1xuICB9XG4gIC8qKiBAaGlkZGVuICogKi9cbiAgYXN5bmMgYXNzZW1ibGVUeCh0cmFuc2FjdGlvblJlcXVlc3QsIHF1YW50aXRpZXMgPSBbXSkge1xuICAgIGNvbnN0IG91dHB1dFF1YW50aXRpZXMgPSB0cmFuc2FjdGlvblJlcXVlc3Qub3V0cHV0cy5maWx0ZXIoKG8pID0+IG8udHlwZSA9PT0gT3V0cHV0VHlwZTkuQ29pbikubWFwKCh7IGFtb3VudCwgYXNzZXRJZCB9KSA9PiAoeyBhc3NldElkOiBTdHJpbmcoYXNzZXRJZCksIGFtb3VudDogYm4yMShhbW91bnQpIH0pKTtcbiAgICB0cmFuc2FjdGlvblJlcXVlc3QuZ2FzTGltaXQgPSBibjIxKDApO1xuICAgIHRyYW5zYWN0aW9uUmVxdWVzdC5tYXhGZWUgPSBibjIxKDApO1xuICAgIGNvbnN0IHsgYXNzZW1ibGVkUmVxdWVzdCwgZ2FzUHJpY2UgfSA9IGF3YWl0IHRoaXMucHJvdmlkZXIuYXNzZW1ibGVUeCh7XG4gICAgICByZXF1ZXN0OiB0cmFuc2FjdGlvblJlcXVlc3QsXG4gICAgICBhY2NvdW50Q29pblF1YW50aXRpZXM6IG1lcmdlUXVhbnRpdGllcyhvdXRwdXRRdWFudGl0aWVzLCBxdWFudGl0aWVzKSxcbiAgICAgIGZlZVBheWVyQWNjb3VudDogdGhpc1xuICAgIH0pO1xuICAgIHJldHVybiB7IHRyYW5zYWN0aW9uUmVxdWVzdDogYXNzZW1ibGVkUmVxdWVzdCwgZ2FzUHJpY2UgfTtcbiAgfVxuICAvKiogQGhpZGRlbiAqICovXG4gIHZhbGlkYXRlVHJhbnNmZXJBbW91bnQoYW1vdW50KSB7XG4gICAgaWYgKGJuMjEoYW1vdW50KS5sdGUoMCkpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMShcbiAgICAgICAgRXJyb3JDb2RlMTkuSU5WQUxJRF9UUkFOU0ZFUl9BTU9VTlQsXG4gICAgICAgIFwiVHJhbnNmZXIgYW1vdW50IG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIC8qKiBAaGlkZGVuICogKi9cbiAgYXN5bmMgZXN0aW1hdGVBbmRGdW5kVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25SZXF1ZXN0LCB0eFBhcmFtcywgY29zdFBhcmFtcykge1xuICAgIGxldCByZXF1ZXN0MiA9IHRyYW5zYWN0aW9uUmVxdWVzdDtcbiAgICBjb25zdCB0eENvc3QgPSBhd2FpdCB0aGlzLmdldFRyYW5zYWN0aW9uQ29zdChyZXF1ZXN0MiwgY29zdFBhcmFtcyk7XG4gICAgcmVxdWVzdDIgPSB0aGlzLnZhbGlkYXRlR2FzTGltaXRBbmRNYXhGZWUoe1xuICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0OiByZXF1ZXN0MixcbiAgICAgIGdhc1VzZWQ6IHR4Q29zdC5nYXNVc2VkLFxuICAgICAgbWF4RmVlOiB0eENvc3QubWF4RmVlLFxuICAgICAgdHhQYXJhbXNcbiAgICB9KTtcbiAgICByZXF1ZXN0MiA9IGF3YWl0IHRoaXMuZnVuZChyZXF1ZXN0MiwgdHhDb3N0KTtcbiAgICByZXR1cm4gcmVxdWVzdDI7XG4gIH1cbiAgLyoqIEBoaWRkZW4gKiAqL1xuICB2YWxpZGF0ZUdhc0xpbWl0QW5kTWF4RmVlKHtcbiAgICBnYXNVc2VkLFxuICAgIG1heEZlZSxcbiAgICB0cmFuc2FjdGlvblJlcXVlc3QsXG4gICAgdHhQYXJhbXM6IHsgZ2FzTGltaXQ6IHNldEdhc0xpbWl0LCBtYXhGZWU6IHNldE1heEZlZSB9XG4gIH0pIHtcbiAgICBjb25zdCByZXF1ZXN0MiA9IHRyYW5zYWN0aW9uUmVxdWVzdGlmeSh0cmFuc2FjdGlvblJlcXVlc3QpO1xuICAgIGlmICghaXNEZWZpbmVkNChzZXRHYXNMaW1pdCkpIHtcbiAgICAgIHJlcXVlc3QyLmdhc0xpbWl0ID0gZ2FzVXNlZDtcbiAgICB9IGVsc2UgaWYgKGdhc1VzZWQuZ3Qoc2V0R2FzTGltaXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjEoXG4gICAgICAgIEVycm9yQ29kZTE5LkdBU19MSU1JVF9UT09fTE9XLFxuICAgICAgICBgR2FzIGxpbWl0ICcke3NldEdhc0xpbWl0fScgaXMgbG93ZXIgdGhhbiB0aGUgcmVxdWlyZWQ6ICcke2dhc1VzZWR9Jy5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWlzRGVmaW5lZDQoc2V0TWF4RmVlKSkge1xuICAgICAgcmVxdWVzdDIubWF4RmVlID0gbWF4RmVlO1xuICAgIH0gZWxzZSBpZiAobWF4RmVlLmd0KHNldE1heEZlZSkpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMShcbiAgICAgICAgRXJyb3JDb2RlMTkuTUFYX0ZFRV9UT09fTE9XLFxuICAgICAgICBgTWF4IGZlZSAnJHtzZXRNYXhGZWV9JyBpcyBsb3dlciB0aGFuIHRoZSByZXF1aXJlZDogJyR7bWF4RmVlfScuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcXVlc3QyO1xuICB9XG4gIC8qKiBAaGlkZGVuICogKi9cbiAgdmFsaWRhdGVDb25zb2xpZGF0aW9uVHhzQ29pbnMoY29pbnMsIGFzc2V0SWQpIHtcbiAgICBpZiAoY29pbnMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMShFcnJvckNvZGUxOS5OT19DT0lOU19UT19DT05TT0xJREFURSwgXCJObyBjb2lucyB0byBjb25zb2xpZGF0ZS5cIik7XG4gICAgfVxuICAgIGlmICghY29pbnMuZXZlcnkoKGMpID0+IGMuYXNzZXRJZCA9PT0gYXNzZXRJZCkpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMShcbiAgICAgICAgRXJyb3JDb2RlMTkuQ09JTlNfQVNTRVRfSURfTUlTTUFUQ0gsXG4gICAgICAgIFwiQWxsIGNvaW5zIHRvIGNvbnNvbGlkYXRlIG11c3QgYmUgZnJvbSB0aGUgc2FtZSBhc3NldCBpZC5cIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLyoqIEBoaWRkZW4gKiAqL1xuICBhc3luYyBzZXRUcmFuc2FjdGlvblN0YXRlRm9yQ29ubmVjdG9ycyhwYXJhbXMpIHtcbiAgICBjb25zdCB7IHRyYW5zYWN0aW9uUmVxdWVzdDogcmVxdWVzdFRvUHJlcGFyZSwgY29ubmVjdG9yT3B0aW9ucyB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHsgb25CZWZvcmVTZW5kLCBza2lwQ3VzdG9tRmVlID0gZmFsc2UgfSA9IGNvbm5lY3Rvck9wdGlvbnM7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25SZXF1ZXN0ID0gYXdhaXQgdGhpcy5wcmVwYXJlVHJhbnNhY3Rpb25Gb3JTZW5kKHJlcXVlc3RUb1ByZXBhcmUpO1xuICAgIGNvbnN0IGNvbm5lY3RvcnNTZW5kVHhQYXJhbXMgPSB7XG4gICAgICBvbkJlZm9yZVNlbmQsXG4gICAgICBza2lwQ3VzdG9tRmVlLFxuICAgICAgcHJvdmlkZXI6IHtcbiAgICAgICAgdXJsOiB0aGlzLnByb3ZpZGVyLnVybCxcbiAgICAgICAgY2FjaGU6IGF3YWl0IHNlcmlhbGl6ZVByb3ZpZGVyQ2FjaGUodGhpcy5wcm92aWRlcilcbiAgICAgIH0sXG4gICAgICB0cmFuc2FjdGlvblN0YXRlOiByZXF1ZXN0VG9QcmVwYXJlLmZsYWcuc3RhdGUsXG4gICAgICB0cmFuc2FjdGlvblN1bW1hcnk6IGF3YWl0IHRoaXMucHJlcGFyZVRyYW5zYWN0aW9uU3VtbWFyeShyZXF1ZXN0VG9QcmVwYXJlKVxuICAgIH07XG4gICAgcmV0dXJuIHsgdHJhbnNhY3Rpb25SZXF1ZXN0LCBjb25uZWN0b3JzU2VuZFR4UGFyYW1zIH07XG4gIH1cbn07XG5cbi8vIHNyYy93YWxsZXQvYmFzZS13YWxsZXQtdW5sb2NrZWQudHNcbmltcG9ydCB7IGhhc2hNZXNzYWdlIH0gZnJvbSBcIkBmdWVsLXRzL2hhc2hlclwiO1xuaW1wb3J0IHsgaGV4bGlmeSBhcyBoZXhsaWZ5MjEgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcblxuLy8gc3JjL3NpZ25lci9zaWduZXIudHNcbmltcG9ydCB7IEFkZHJlc3MgYXMgQWRkcmVzczUgfSBmcm9tIFwiQGZ1ZWwtdHMvYWRkcmVzc1wiO1xuaW1wb3J0IHsgcmFuZG9tQnl0ZXMgYXMgcmFuZG9tQnl0ZXMzIH0gZnJvbSBcIkBmdWVsLXRzL2NyeXB0b1wiO1xuaW1wb3J0IHsgaGFzaCBhcyBoYXNoMiB9IGZyb20gXCJAZnVlbC10cy9oYXNoZXJcIjtcbmltcG9ydCB7IHRvQnl0ZXMgfSBmcm9tIFwiQGZ1ZWwtdHMvbWF0aFwiO1xuaW1wb3J0IHsgaGV4bGlmeSBhcyBoZXhsaWZ5MTksIGNvbmNhdCBhcyBjb25jYXQ0LCBhcnJheWlmeSBhcyBhcnJheWlmeTE3IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5pbXBvcnQgeyBzZWNwMjU2azEgfSBmcm9tIFwiQG5vYmxlL2N1cnZlcy9zZWNwMjU2azFcIjtcbnZhciBTaWduZXIgPSBjbGFzcyBfU2lnbmVyIHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJTaWduZXJcIik7XG4gIH1cbiAgYWRkcmVzcztcbiAgcHVibGljS2V5O1xuICBjb21wcmVzc2VkUHVibGljS2V5O1xuICBwcml2YXRlS2V5O1xuICAvKipcbiAgICogQ3JlYXRlIGEgU2lnbmVyIGluc3RhbmNlIGZyb20gYSBnaXZlbiBwcml2YXRlIGtleVxuICAgKlxuICAgKiBAcGFyYW0gcHJpdmF0ZUtleSAtIFRoZSBwcml2YXRlIGtleSB0byB1c2UgZm9yIHNpZ25pbmdcbiAgICogQHJldHVybnMgQSBuZXcgU2lnbmVyIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlS2V5KSB7XG4gICAgaWYgKHR5cGVvZiBwcml2YXRlS2V5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAocHJpdmF0ZUtleS5tYXRjaCgvXlswLTlhLWZdKiQvaSkgJiYgcHJpdmF0ZUtleS5sZW5ndGggPT09IDY0KSB7XG4gICAgICAgIHByaXZhdGVLZXkgPSBgMHgke3ByaXZhdGVLZXl9YDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcHJpdmF0ZUtleUJ5dGVzID0gdG9CeXRlcyhwcml2YXRlS2V5LCAzMik7XG4gICAgdGhpcy5wcml2YXRlS2V5ID0gaGV4bGlmeTE5KHByaXZhdGVLZXlCeXRlcyk7XG4gICAgdGhpcy5wdWJsaWNLZXkgPSBoZXhsaWZ5MTkoc2VjcDI1NmsxLmdldFB1YmxpY0tleShwcml2YXRlS2V5Qnl0ZXMsIGZhbHNlKS5zbGljZSgxKSk7XG4gICAgdGhpcy5jb21wcmVzc2VkUHVibGljS2V5ID0gaGV4bGlmeTE5KHNlY3AyNTZrMS5nZXRQdWJsaWNLZXkocHJpdmF0ZUtleUJ5dGVzLCB0cnVlKSk7XG4gICAgdGhpcy5hZGRyZXNzID0gbmV3IEFkZHJlc3M1KHRoaXMucHVibGljS2V5KTtcbiAgfVxuICAvKipcbiAgICogU2lnbiBkYXRhIHVzaW5nIHRoZSBTaWduZXIgaW5zdGFuY2VcbiAgICpcbiAgICogU2lnbmF0dXJlIGlzIGEgNjQgYnl0ZSBhcnJheSBvZiB0aGUgY29uY2F0ZW5hdGVkIHIgYW5kIHMgdmFsdWVzIHdpdGggdGhlIGNvbXByZXNzZWQgcmVjb3ZlcnlQYXJhbSBieXRlLlxuICAgKiBAaWdub3JlXG4gICAqIFtSZWFkIG1vcmVdKEZ1ZWxMYWJzL2Z1ZWwtc3BlY3Mvc3BlY3MvcHJvdG9jb2wvY3J5cHRvZ3JhcGhpY19wcmltaXRpdmVzLm1kI3B1YmxpYy1rZXktY3J5cHRvZ3JhcGh5KVxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIHRvIGJlIHNpZ25cbiAgICogQHJldHVybnMgaGFzaGVkIHNpZ25hdHVyZVxuICAgKi9cbiAgc2lnbihkYXRhKSB7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gc2VjcDI1NmsxLnNpZ24oYXJyYXlpZnkxNyhkYXRhKSwgYXJyYXlpZnkxNyh0aGlzLnByaXZhdGVLZXkpKTtcbiAgICBjb25zdCByID0gdG9CeXRlcyhgMHgke3NpZ25hdHVyZS5yLnRvU3RyaW5nKDE2KX1gLCAzMik7XG4gICAgY29uc3QgcyA9IHRvQnl0ZXMoYDB4JHtzaWduYXR1cmUucy50b1N0cmluZygxNil9YCwgMzIpO1xuICAgIHNbMF0gfD0gKHNpZ25hdHVyZS5yZWNvdmVyeSB8fCAwKSA8PCA3O1xuICAgIHJldHVybiBoZXhsaWZ5MTkoY29uY2F0NChbciwgc10pKTtcbiAgfVxuICAvKipcbiAgICogQWRkIHBvaW50IG9uIHRoZSBjdXJyZW50IGVsbGlwdGljIGN1cnZlXG4gICAqXG4gICAqIEBwYXJhbSBwb2ludCAtIFBvaW50IHRvIGFkZCBvbiB0aGUgY3VydmVcbiAgICogQHJldHVybnMgY29tcHJlc3NlZCBwb2ludCBvbiB0aGUgY3VydmVcbiAgICovXG4gIGFkZFBvaW50KHBvaW50KSB7XG4gICAgY29uc3QgcDAgPSBzZWNwMjU2azEuUHJvamVjdGl2ZVBvaW50LmZyb21IZXgoYXJyYXlpZnkxNyh0aGlzLmNvbXByZXNzZWRQdWJsaWNLZXkpKTtcbiAgICBjb25zdCBwMSA9IHNlY3AyNTZrMS5Qcm9qZWN0aXZlUG9pbnQuZnJvbUhleChhcnJheWlmeTE3KHBvaW50KSk7XG4gICAgY29uc3QgcmVzdWx0ID0gcDAuYWRkKHAxKTtcbiAgICByZXR1cm4gYDB4JHtyZXN1bHQudG9IZXgodHJ1ZSl9YDtcbiAgfVxuICAvKipcbiAgICogUmVjb3ZlciB0aGUgcHVibGljIGtleSBmcm9tIGEgc2lnbmF0dXJlIHBlcmZvcm1lZCB3aXRoIFtgc2lnbmBdKCNzaWduKS5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgLSBEYXRhXG4gICAqIEBwYXJhbSBzaWduYXR1cmUgLSBoYXNoZWQgc2lnbmF0dXJlXG4gICAqIEByZXR1cm5zIHB1YmxpYyBrZXkgZnJvbSBzaWduYXR1cmUgZnJvbSB0aGVcbiAgICovXG4gIHN0YXRpYyByZWNvdmVyUHVibGljS2V5KGRhdGEsIHNpZ25hdHVyZSkge1xuICAgIGNvbnN0IHNpZ25lZE1lc3NhZ2VCeXRlcyA9IGFycmF5aWZ5MTcoc2lnbmF0dXJlKTtcbiAgICBjb25zdCByID0gc2lnbmVkTWVzc2FnZUJ5dGVzLnNsaWNlKDAsIDMyKTtcbiAgICBjb25zdCBzID0gc2lnbmVkTWVzc2FnZUJ5dGVzLnNsaWNlKDMyLCA2NCk7XG4gICAgY29uc3QgcmVjb3ZlcnlQYXJhbSA9IChzWzBdICYgMTI4KSA+PiA3O1xuICAgIHNbMF0gJj0gMTI3O1xuICAgIGNvbnN0IHNpZyA9IG5ldyBzZWNwMjU2azEuU2lnbmF0dXJlKEJpZ0ludChoZXhsaWZ5MTkocikpLCBCaWdJbnQoaGV4bGlmeTE5KHMpKSkuYWRkUmVjb3ZlcnlCaXQoXG4gICAgICByZWNvdmVyeVBhcmFtXG4gICAgKTtcbiAgICBjb25zdCBwdWJsaWNLZXkgPSBzaWcucmVjb3ZlclB1YmxpY0tleShhcnJheWlmeTE3KGRhdGEpKS50b1Jhd0J5dGVzKGZhbHNlKS5zbGljZSgxKTtcbiAgICByZXR1cm4gaGV4bGlmeTE5KHB1YmxpY0tleSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlY292ZXIgdGhlIGFkZHJlc3MgZnJvbSBhIHNpZ25hdHVyZSBwZXJmb3JtZWQgd2l0aCBbYHNpZ25gXSgjc2lnbikuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIC0gRGF0YVxuICAgKiBAcGFyYW0gc2lnbmF0dXJlIC0gU2lnbmF0dXJlXG4gICAqIEByZXR1cm5zIEFkZHJlc3MgZnJvbSBzaWduYXR1cmVcbiAgICovXG4gIHN0YXRpYyByZWNvdmVyQWRkcmVzcyhkYXRhLCBzaWduYXR1cmUpIHtcbiAgICByZXR1cm4gbmV3IEFkZHJlc3M1KF9TaWduZXIucmVjb3ZlclB1YmxpY0tleShkYXRhLCBzaWduYXR1cmUpKTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGUgYSByYW5kb20gcHJpdmF0ZUtleVxuICAgKlxuICAgKiBAcGFyYW0gZW50cm9weSAtIEFkZHMgZXh0cmEgZW50cm9weSB0byBnZW5lcmF0ZSB0aGUgcHJpdmF0ZUtleVxuICAgKiBAcmV0dXJucyByYW5kb20gMzItYnl0ZSBoYXNoZWRcbiAgICovXG4gIHN0YXRpYyBnZW5lcmF0ZVByaXZhdGVLZXkoZW50cm9weSkge1xuICAgIHJldHVybiBlbnRyb3B5ID8gaGFzaDIoY29uY2F0NChbcmFuZG9tQnl0ZXMzKDMyKSwgYXJyYXlpZnkxNyhlbnRyb3B5KV0pKSA6IHJhbmRvbUJ5dGVzMygzMik7XG4gIH1cbiAgLyoqXG4gICAqIEV4dGVuZGVkIHB1YmxpY0tleSBmcm9tIGEgY29tcGFjdCBwdWJsaWNLZXlcbiAgICpcbiAgICogQHBhcmFtIHB1YmxpY0tleSAtIENvbXBhY3QgcHVibGljS2V5XG4gICAqIEByZXR1cm5zIGV4dGVuZGVkIHB1YmxpY0tleVxuICAgKi9cbiAgc3RhdGljIGV4dGVuZFB1YmxpY0tleShwdWJsaWNLZXkpIHtcbiAgICBjb25zdCBwb2ludCA9IHNlY3AyNTZrMS5Qcm9qZWN0aXZlUG9pbnQuZnJvbUhleChhcnJheWlmeTE3KHB1YmxpY0tleSkpO1xuICAgIHJldHVybiBoZXhsaWZ5MTkocG9pbnQudG9SYXdCeXRlcyhmYWxzZSkuc2xpY2UoMSkpO1xuICB9XG59O1xuXG4vLyBzcmMvd2FsbGV0L2tleXN0b3JlLXdhbGxldC50c1xuaW1wb3J0IHsgQWRkcmVzcyBhcyBBZGRyZXNzNiB9IGZyb20gXCJAZnVlbC10cy9hZGRyZXNzXCI7XG5pbXBvcnQge1xuICBidWZmZXJGcm9tU3RyaW5nLFxuICBrZWNjYWsyNTYsXG4gIHJhbmRvbUJ5dGVzIGFzIHJhbmRvbUJ5dGVzNCxcbiAgc2NyeXB0LFxuICBzdHJpbmdGcm9tQnVmZmVyLFxuICBkZWNyeXB0SnNvbldhbGxldERhdGEsXG4gIGVuY3J5cHRKc29uV2FsbGV0RGF0YSxcbiAgcmFuZG9tVVVJRFxufSBmcm9tIFwiQGZ1ZWwtdHMvY3J5cHRvXCI7XG5pbXBvcnQgeyBFcnJvckNvZGUgYXMgRXJyb3JDb2RlMjAsIEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3IyMiB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbmltcG9ydCB7IGhleGxpZnkgYXMgaGV4bGlmeTIwIH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG52YXIgREVGQVVMVF9LREZfUEFSQU1TX0xPR19OID0gMTM7XG52YXIgREVGQVVMVF9LREZfUEFSQU1TX1IgPSA4O1xudmFyIERFRkFVTFRfS0RGX1BBUkFNU19QID0gMTtcbnZhciBERUZBVUxUX0tFWV9TSVpFID0gMzI7XG52YXIgREVGQVVMVF9JVl9TSVpFID0gMTY7XG52YXIgcmVtb3ZlSGV4UHJlZml4ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoaGV4U3RyaW5nKSA9PiB7XG4gIGlmICgvXjB4Ly50ZXN0KGhleFN0cmluZykpIHtcbiAgICByZXR1cm4gaGV4U3RyaW5nLnNsaWNlKDIpO1xuICB9XG4gIHJldHVybiBoZXhTdHJpbmc7XG59LCBcInJlbW92ZUhleFByZWZpeFwiKTtcbmFzeW5jIGZ1bmN0aW9uIGVuY3J5cHRLZXlzdG9yZVdhbGxldChwcml2YXRlS2V5LCBhZGRyZXNzLCBwYXNzd29yZCkge1xuICBjb25zdCBwcml2YXRlS2V5QnVmZmVyID0gYnVmZmVyRnJvbVN0cmluZyhyZW1vdmVIZXhQcmVmaXgocHJpdmF0ZUtleSksIFwiaGV4XCIpO1xuICBjb25zdCBvd25lckFkZHJlc3MgPSBuZXcgQWRkcmVzczYoYWRkcmVzcyk7XG4gIGNvbnN0IHNhbHQgPSByYW5kb21CeXRlczQoREVGQVVMVF9LRVlfU0laRSk7XG4gIGNvbnN0IGtleSA9IHNjcnlwdCh7XG4gICAgcGFzc3dvcmQ6IGJ1ZmZlckZyb21TdHJpbmcocGFzc3dvcmQpLFxuICAgIHNhbHQsXG4gICAgZGtsZW46IERFRkFVTFRfS0VZX1NJWkUsXG4gICAgbjogMiAqKiBERUZBVUxUX0tERl9QQVJBTVNfTE9HX04sXG4gICAgcjogREVGQVVMVF9LREZfUEFSQU1TX1IsXG4gICAgcDogREVGQVVMVF9LREZfUEFSQU1TX1BcbiAgfSk7XG4gIGNvbnN0IGl2ID0gcmFuZG9tQnl0ZXM0KERFRkFVTFRfSVZfU0laRSk7XG4gIGNvbnN0IGNpcGhlcnRleHQgPSBhd2FpdCBlbmNyeXB0SnNvbldhbGxldERhdGEocHJpdmF0ZUtleUJ1ZmZlciwga2V5LCBpdik7XG4gIGNvbnN0IGRhdGEgPSBVaW50OEFycmF5LmZyb20oWy4uLmtleS5zdWJhcnJheSgxNiwgMzIpLCAuLi5jaXBoZXJ0ZXh0XSk7XG4gIGNvbnN0IG1hY0hhc2hVaW50OEFycmF5ID0ga2VjY2FrMjU2KGRhdGEpO1xuICBjb25zdCBtYWMgPSBzdHJpbmdGcm9tQnVmZmVyKG1hY0hhc2hVaW50OEFycmF5LCBcImhleFwiKTtcbiAgY29uc3Qga2V5c3RvcmUgPSB7XG4gICAgaWQ6IHJhbmRvbVVVSUQoKSxcbiAgICB2ZXJzaW9uOiAzLFxuICAgIGFkZHJlc3M6IHJlbW92ZUhleFByZWZpeChvd25lckFkZHJlc3MudG9IZXhTdHJpbmcoKSksXG4gICAgY3J5cHRvOiB7XG4gICAgICBjaXBoZXI6IFwiYWVzLTEyOC1jdHJcIixcbiAgICAgIG1hYyxcbiAgICAgIGNpcGhlcnBhcmFtczogeyBpdjogc3RyaW5nRnJvbUJ1ZmZlcihpdiwgXCJoZXhcIikgfSxcbiAgICAgIGNpcGhlcnRleHQ6IHN0cmluZ0Zyb21CdWZmZXIoY2lwaGVydGV4dCwgXCJoZXhcIiksXG4gICAgICBrZGY6IFwic2NyeXB0XCIsXG4gICAgICBrZGZwYXJhbXM6IHtcbiAgICAgICAgZGtsZW46IERFRkFVTFRfS0VZX1NJWkUsXG4gICAgICAgIG46IDIgKiogREVGQVVMVF9LREZfUEFSQU1TX0xPR19OLFxuICAgICAgICBwOiBERUZBVUxUX0tERl9QQVJBTVNfUCxcbiAgICAgICAgcjogREVGQVVMVF9LREZfUEFSQU1TX1IsXG4gICAgICAgIHNhbHQ6IHN0cmluZ0Zyb21CdWZmZXIoc2FsdCwgXCJoZXhcIilcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShrZXlzdG9yZSk7XG59XG5fX25hbWUoZW5jcnlwdEtleXN0b3JlV2FsbGV0LCBcImVuY3J5cHRLZXlzdG9yZVdhbGxldFwiKTtcbmFzeW5jIGZ1bmN0aW9uIGRlY3J5cHRLZXlzdG9yZVdhbGxldChqc29uV2FsbGV0LCBwYXNzd29yZCkge1xuICBjb25zdCBrZXlzdG9yZVdhbGxldCA9IEpTT04ucGFyc2UoanNvbldhbGxldCk7XG4gIGNvbnN0IHtcbiAgICBjcnlwdG86IHtcbiAgICAgIG1hYyxcbiAgICAgIGNpcGhlcnRleHQsXG4gICAgICBjaXBoZXJwYXJhbXM6IHsgaXYgfSxcbiAgICAgIGtkZnBhcmFtczogeyBka2xlbiwgbiwgciwgcCwgc2FsdCB9XG4gICAgfVxuICB9ID0ga2V5c3RvcmVXYWxsZXQ7XG4gIGNvbnN0IGNpcGhlcnRleHRCdWZmZXIgPSBidWZmZXJGcm9tU3RyaW5nKGNpcGhlcnRleHQsIFwiaGV4XCIpO1xuICBjb25zdCBpdkJ1ZmZlciA9IGJ1ZmZlckZyb21TdHJpbmcoaXYsIFwiaGV4XCIpO1xuICBjb25zdCBzYWx0QnVmZmVyID0gYnVmZmVyRnJvbVN0cmluZyhzYWx0LCBcImhleFwiKTtcbiAgY29uc3QgcGFzc3dvcmRCdWZmZXIgPSBidWZmZXJGcm9tU3RyaW5nKHBhc3N3b3JkKTtcbiAgY29uc3Qga2V5ID0gc2NyeXB0KHtcbiAgICBwYXNzd29yZDogcGFzc3dvcmRCdWZmZXIsXG4gICAgc2FsdDogc2FsdEJ1ZmZlcixcbiAgICBuLFxuICAgIHAsXG4gICAgcixcbiAgICBka2xlblxuICB9KTtcbiAgY29uc3QgZGF0YSA9IFVpbnQ4QXJyYXkuZnJvbShbLi4ua2V5LnN1YmFycmF5KDE2LCAzMiksIC4uLmNpcGhlcnRleHRCdWZmZXJdKTtcbiAgY29uc3QgbWFjSGFzaFVpbnQ4QXJyYXkgPSBrZWNjYWsyNTYoZGF0YSk7XG4gIGNvbnN0IG1hY0hhc2ggPSBzdHJpbmdGcm9tQnVmZmVyKG1hY0hhc2hVaW50OEFycmF5LCBcImhleFwiKTtcbiAgaWYgKG1hYyAhPT0gbWFjSGFzaCkge1xuICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMihcbiAgICAgIEVycm9yQ29kZTIwLklOVkFMSURfUEFTU1dPUkQsXG4gICAgICBcIkZhaWxlZCB0byBkZWNyeXB0IHRoZSBrZXlzdG9yZSB3YWxsZXQsIHRoZSBwcm92aWRlZCBwYXNzd29yZCBpcyBpbmNvcnJlY3QuXCJcbiAgICApO1xuICB9XG4gIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGRlY3J5cHRKc29uV2FsbGV0RGF0YShjaXBoZXJ0ZXh0QnVmZmVyLCBrZXksIGl2QnVmZmVyKTtcbiAgY29uc3QgcHJpdmF0ZUtleSA9IGhleGxpZnkyMChidWZmZXIpO1xuICByZXR1cm4gcHJpdmF0ZUtleTtcbn1cbl9fbmFtZShkZWNyeXB0S2V5c3RvcmVXYWxsZXQsIFwiZGVjcnlwdEtleXN0b3JlV2FsbGV0XCIpO1xuXG4vLyBzcmMvd2FsbGV0L2Jhc2Utd2FsbGV0LXVubG9ja2VkLnRzXG52YXIgQmFzZVdhbGxldFVubG9ja2VkID0gY2xhc3MgZXh0ZW5kcyBBY2NvdW50IHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJCYXNlV2FsbGV0VW5sb2NrZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIERlZmF1bHQgSERXYWxsZXQgcGF0aC5cbiAgICovXG4gIHN0YXRpYyBkZWZhdWx0UGF0aCA9IFwibS80NCcvMTE3OTk5MzQyMCcvMCcvMC8wXCI7XG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgd2FsbGV0J3Mgc2lnbmVyLlxuICAgKi9cbiAgc2lnbmVyO1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBCYXNlV2FsbGV0VW5sb2NrZWQgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBwcml2YXRlS2V5IC0gVGhlIHByaXZhdGUga2V5IG9mIHRoZSB3YWxsZXQuXG4gICAqIEBwYXJhbSBwcm92aWRlciAtIEEgUHJvdmlkZXIgaW5zdGFuY2UgKG9wdGlvbmFsKS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGVLZXksIHByb3ZpZGVyKSB7XG4gICAgY29uc3Qgc2lnbmVyID0gbmV3IFNpZ25lcihwcml2YXRlS2V5KTtcbiAgICBzdXBlcihzaWduZXIuYWRkcmVzcywgcHJvdmlkZXIpO1xuICAgIHRoaXMuc2lnbmVyID0gKCkgPT4gc2lnbmVyO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwcml2YXRlIGtleSBvZiB0aGUgd2FsbGV0LlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgcHJpdmF0ZSBrZXkgb2YgdGhlIHdhbGxldC5cbiAgICovXG4gIGdldCBwcml2YXRlS2V5KCkge1xuICAgIHJldHVybiB0aGlzLnNpZ25lcigpLnByaXZhdGVLZXk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIHB1YmxpYyBrZXkgb2YgdGhlIHdhbGxldC5cbiAgICpcbiAgICogQHJldHVybnNcbiAgICovXG4gIGdldCBwdWJsaWNLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2lnbmVyKCkucHVibGljS2V5O1xuICB9XG4gIC8qKlxuICAgKiBTaWducyBhIG1lc3NhZ2Ugd2l0aCB0aGUgd2FsbGV0J3MgcHJpdmF0ZSBrZXkuXG4gICAqXG4gICAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gc2lnbi5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHNpZ25hdHVyZSBhcyBhIEVDRFNBIDY0IGJ5dGVzIHN0cmluZy5cbiAgICovXG4gIGFzeW5jIHNpZ25NZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBzaWduZWRNZXNzYWdlID0gYXdhaXQgdGhpcy5zaWduZXIoKS5zaWduKGhhc2hNZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICByZXR1cm4gaGV4bGlmeTIxKHNpZ25lZE1lc3NhZ2UpO1xuICB9XG4gIC8qKlxuICAgKiBTaWducyBhIHRyYW5zYWN0aW9uIHdpdGggdGhlIHdhbGxldCdzIHByaXZhdGUga2V5LlxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0IHRvIHNpZ24uXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBzaWduYXR1cmUgYXMgYSBFQ0RTQSA2NCBieXRlcyBzdHJpbmcuXG4gICAqL1xuICBhc3luYyBzaWduVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVxdWVzdCA9IHRyYW5zYWN0aW9uUmVxdWVzdGlmeSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlKTtcbiAgICBjb25zdCBjaGFpbklkID0gYXdhaXQgdGhpcy5wcm92aWRlci5nZXRDaGFpbklkKCk7XG4gICAgY29uc3QgaGFzaGVkVHJhbnNhY3Rpb24gPSB0cmFuc2FjdGlvblJlcXVlc3QuZ2V0VHJhbnNhY3Rpb25JZChjaGFpbklkKTtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCB0aGlzLnNpZ25lcigpLnNpZ24oaGFzaGVkVHJhbnNhY3Rpb24pO1xuICAgIHJldHVybiBoZXhsaWZ5MjEoc2lnbmF0dXJlKTtcbiAgfVxuICAvKipcbiAgICogUG9wdWxhdGVzIGEgdHJhbnNhY3Rpb24gd2l0aCB0aGUgd2l0bmVzc2VzIHNpZ25hdHVyZS5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uUmVxdWVzdExpa2UgLSBUaGUgdHJhbnNhY3Rpb24gcmVxdWVzdCB0byBwb3B1bGF0ZS5cbiAgICogQHJldHVybnMgVGhlIHBvcHVsYXRlZCB0cmFuc2FjdGlvbiByZXF1ZXN0LlxuICAgKi9cbiAgYXN5bmMgcG9wdWxhdGVUcmFuc2FjdGlvbldpdG5lc3Nlc1NpZ25hdHVyZSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25SZXF1ZXN0ID0gdHJhbnNhY3Rpb25SZXF1ZXN0aWZ5KHRyYW5zYWN0aW9uUmVxdWVzdExpa2UpO1xuICAgIGNvbnN0IHNpZ25lZFRyYW5zYWN0aW9uID0gYXdhaXQgdGhpcy5zaWduVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25SZXF1ZXN0KTtcbiAgICB0cmFuc2FjdGlvblJlcXVlc3QudXBkYXRlV2l0bmVzc0J5T3duZXIodGhpcy5hZGRyZXNzLCBzaWduZWRUcmFuc2FjdGlvbik7XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uUmVxdWVzdDtcbiAgfVxuICAvKipcbiAgICogUG9wdWxhdGVzIHRoZSB3aXRuZXNzIHNpZ25hdHVyZSBmb3IgYSB0cmFuc2FjdGlvbiBhbmQgc2VuZHMgaXQgdG8gdGhlIG5ldHdvcmsgdXNpbmcgYHByb3ZpZGVyLnNlbmRUcmFuc2FjdGlvbmAuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvblJlcXVlc3RMaWtlIC0gVGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gc2VuZC5cbiAgICogQHBhcmFtIGVzdGltYXRlVHhEZXBlbmRlbmNpZXMgLSBXaGV0aGVyIHRvIGVzdGltYXRlIHRoZSB0cmFuc2FjdGlvbiBkZXBlbmRlbmNpZXMuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBUcmFuc2FjdGlvblJlc3BvbnNlIG9iamVjdC5cbiAgICovXG4gIGFzeW5jIHNlbmRUcmFuc2FjdGlvbih0cmFuc2FjdGlvblJlcXVlc3RMaWtlLCB7IGVzdGltYXRlVHhEZXBlbmRlbmNpZXMgPSBmYWxzZSwgZW5hYmxlQXNzZXRCdXJuIH0gPSB7fSkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVxdWVzdCA9IHRyYW5zYWN0aW9uUmVxdWVzdGlmeSh0cmFuc2FjdGlvblJlcXVlc3RMaWtlKTtcbiAgICB2YWxpZGF0ZVRyYW5zYWN0aW9uRm9yQXNzZXRCdXJuKFxuICAgICAgYXdhaXQgdGhpcy5wcm92aWRlci5nZXRCYXNlQXNzZXRJZCgpLFxuICAgICAgdHJhbnNhY3Rpb25SZXF1ZXN0LFxuICAgICAgZW5hYmxlQXNzZXRCdXJuXG4gICAgKTtcbiAgICBpZiAoZXN0aW1hdGVUeERlcGVuZGVuY2llcykge1xuICAgICAgYXdhaXQgdGhpcy5wcm92aWRlci5lc3RpbWF0ZVR4RGVwZW5kZW5jaWVzKHRyYW5zYWN0aW9uUmVxdWVzdCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb3ZpZGVyLnNlbmRUcmFuc2FjdGlvbihcbiAgICAgIGF3YWl0IHRoaXMucG9wdWxhdGVUcmFuc2FjdGlvbldpdG5lc3Nlc1NpZ25hdHVyZSh0cmFuc2FjdGlvblJlcXVlc3QpLFxuICAgICAgeyBlc3RpbWF0ZVR4RGVwZW5kZW5jaWVzOiBmYWxzZSwgZW5hYmxlQXNzZXRCdXJuIH1cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBQb3B1bGF0ZXMgdGhlIHdpdG5lc3Mgc2lnbmF0dXJlIGZvciBhIHRyYW5zYWN0aW9uIGFuZCBzZW5kcyBhIGNhbGwgdG8gdGhlIG5ldHdvcmsgdXNpbmcgYHByb3ZpZGVyLmRyeVJ1bmAuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvblJlcXVlc3RMaWtlIC0gVGhlIHRyYW5zYWN0aW9uIHJlcXVlc3QgdG8gc2ltdWxhdGUuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBDYWxsUmVzdWx0IG9iamVjdC5cbiAgICovXG4gIGFzeW5jIHNpbXVsYXRlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSwgeyBlc3RpbWF0ZVR4RGVwZW5kZW5jaWVzID0gdHJ1ZSB9ID0ge30pIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvblJlcXVlc3QgPSB0cmFuc2FjdGlvblJlcXVlc3RpZnkodHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSk7XG4gICAgaWYgKGVzdGltYXRlVHhEZXBlbmRlbmNpZXMpIHtcbiAgICAgIGF3YWl0IHRoaXMucHJvdmlkZXIuZXN0aW1hdGVUeERlcGVuZGVuY2llcyh0cmFuc2FjdGlvblJlcXVlc3QpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm92aWRlci5kcnlSdW4oXG4gICAgICBhd2FpdCB0aGlzLnBvcHVsYXRlVHJhbnNhY3Rpb25XaXRuZXNzZXNTaWduYXR1cmUodHJhbnNhY3Rpb25SZXF1ZXN0KSxcbiAgICAgIHtcbiAgICAgICAgdXR4b1ZhbGlkYXRpb246IHRydWUsXG4gICAgICAgIGVzdGltYXRlVHhEZXBlbmRlbmNpZXM6IGZhbHNlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRW5jcnlwdHMgYW4gdW5sb2NrZWQgd2FsbGV0IHdpdGggYSBwYXNzd29yZC5cbiAgICpcbiAgICogQHBhcmFtIHBhc3N3b3JkIC0gdGhlIHBhc3N3b3JkIHRvIGVuY3J5cHQgdGhlIHdhbGxldCB3aXRoLlxuICAgKiBAcmV0dXJucyAtIHRoZSBlbmNyeXB0ZWQgd2FsbGV0LlxuICAgKi9cbiAgYXN5bmMgZW5jcnlwdChwYXNzd29yZCkge1xuICAgIHJldHVybiBlbmNyeXB0S2V5c3RvcmVXYWxsZXQodGhpcy5wcml2YXRlS2V5LCB0aGlzLmFkZHJlc3MsIHBhc3N3b3JkKTtcbiAgfVxufTtcblxuLy8gc3JjL2hkd2FsbGV0L2hkd2FsbGV0LnRzXG5pbXBvcnQgeyBjb21wdXRlSG1hYyBhcyBjb21wdXRlSG1hYzIsIHJpcGVtZDE2MCB9IGZyb20gXCJAZnVlbC10cy9jcnlwdG9cIjtcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGUyMywgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjI1IH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgc2hhMjU2IGFzIHNoYTI1NjQgfSBmcm9tIFwiQGZ1ZWwtdHMvaGFzaGVyXCI7XG5pbXBvcnQgeyBibiBhcyBibjIyLCB0b0J5dGVzIGFzIHRvQnl0ZXMyLCB0b0hleCB9IGZyb20gXCJAZnVlbC10cy9tYXRoXCI7XG5pbXBvcnQgeyBhcnJheWlmeSBhcyBhcnJheWlmeTIwLCBoZXhsaWZ5IGFzIGhleGxpZnkyMywgY29uY2F0IGFzIGNvbmNhdDYsIGRhdGFTbGljZSBhcyBkYXRhU2xpY2UyLCBlbmNvZGVCYXNlNTggYXMgZW5jb2RlQmFzZTU4MiwgZGVjb2RlQmFzZTU4IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5cbi8vIHNyYy9tbmVtb25pYy9tbmVtb25pYy50c1xuaW1wb3J0IHsgcmFuZG9tQnl0ZXMgYXMgcmFuZG9tQnl0ZXM1LCBwYmtkZjIsIGNvbXB1dGVIbWFjIH0gZnJvbSBcIkBmdWVsLXRzL2NyeXB0b1wiO1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTIyLCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yMjQgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG5pbXBvcnQgeyBzaGEyNTYgYXMgc2hhMjU2MyB9IGZyb20gXCJAZnVlbC10cy9oYXNoZXJcIjtcbmltcG9ydCB7IGFycmF5aWZ5IGFzIGFycmF5aWZ5MTksIGhleGxpZnkgYXMgaGV4bGlmeTIyLCBjb25jYXQgYXMgY29uY2F0NSwgZGF0YVNsaWNlLCBlbmNvZGVCYXNlNTgsIHRvVXRmOEJ5dGVzIH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5cbi8vIHNyYy93b3JkbGlzdHMvd29yZHMvZW5nbGlzaC50c1xudmFyIGVuZ2xpc2ggPSBbXG4gIFwiYWJhbmRvblwiLFxuICBcImFiaWxpdHlcIixcbiAgXCJhYmxlXCIsXG4gIFwiYWJvdXRcIixcbiAgXCJhYm92ZVwiLFxuICBcImFic2VudFwiLFxuICBcImFic29yYlwiLFxuICBcImFic3RyYWN0XCIsXG4gIFwiYWJzdXJkXCIsXG4gIFwiYWJ1c2VcIixcbiAgXCJhY2Nlc3NcIixcbiAgXCJhY2NpZGVudFwiLFxuICBcImFjY291bnRcIixcbiAgXCJhY2N1c2VcIixcbiAgXCJhY2hpZXZlXCIsXG4gIFwiYWNpZFwiLFxuICBcImFjb3VzdGljXCIsXG4gIFwiYWNxdWlyZVwiLFxuICBcImFjcm9zc1wiLFxuICBcImFjdFwiLFxuICBcImFjdGlvblwiLFxuICBcImFjdG9yXCIsXG4gIFwiYWN0cmVzc1wiLFxuICBcImFjdHVhbFwiLFxuICBcImFkYXB0XCIsXG4gIFwiYWRkXCIsXG4gIFwiYWRkaWN0XCIsXG4gIFwiYWRkcmVzc1wiLFxuICBcImFkanVzdFwiLFxuICBcImFkbWl0XCIsXG4gIFwiYWR1bHRcIixcbiAgXCJhZHZhbmNlXCIsXG4gIFwiYWR2aWNlXCIsXG4gIFwiYWVyb2JpY1wiLFxuICBcImFmZmFpclwiLFxuICBcImFmZm9yZFwiLFxuICBcImFmcmFpZFwiLFxuICBcImFnYWluXCIsXG4gIFwiYWdlXCIsXG4gIFwiYWdlbnRcIixcbiAgXCJhZ3JlZVwiLFxuICBcImFoZWFkXCIsXG4gIFwiYWltXCIsXG4gIFwiYWlyXCIsXG4gIFwiYWlycG9ydFwiLFxuICBcImFpc2xlXCIsXG4gIFwiYWxhcm1cIixcbiAgXCJhbGJ1bVwiLFxuICBcImFsY29ob2xcIixcbiAgXCJhbGVydFwiLFxuICBcImFsaWVuXCIsXG4gIFwiYWxsXCIsXG4gIFwiYWxsZXlcIixcbiAgXCJhbGxvd1wiLFxuICBcImFsbW9zdFwiLFxuICBcImFsb25lXCIsXG4gIFwiYWxwaGFcIixcbiAgXCJhbHJlYWR5XCIsXG4gIFwiYWxzb1wiLFxuICBcImFsdGVyXCIsXG4gIFwiYWx3YXlzXCIsXG4gIFwiYW1hdGV1clwiLFxuICBcImFtYXppbmdcIixcbiAgXCJhbW9uZ1wiLFxuICBcImFtb3VudFwiLFxuICBcImFtdXNlZFwiLFxuICBcImFuYWx5c3RcIixcbiAgXCJhbmNob3JcIixcbiAgXCJhbmNpZW50XCIsXG4gIFwiYW5nZXJcIixcbiAgXCJhbmdsZVwiLFxuICBcImFuZ3J5XCIsXG4gIFwiYW5pbWFsXCIsXG4gIFwiYW5rbGVcIixcbiAgXCJhbm5vdW5jZVwiLFxuICBcImFubnVhbFwiLFxuICBcImFub3RoZXJcIixcbiAgXCJhbnN3ZXJcIixcbiAgXCJhbnRlbm5hXCIsXG4gIFwiYW50aXF1ZVwiLFxuICBcImFueGlldHlcIixcbiAgXCJhbnlcIixcbiAgXCJhcGFydFwiLFxuICBcImFwb2xvZ3lcIixcbiAgXCJhcHBlYXJcIixcbiAgXCJhcHBsZVwiLFxuICBcImFwcHJvdmVcIixcbiAgXCJhcHJpbFwiLFxuICBcImFyY2hcIixcbiAgXCJhcmN0aWNcIixcbiAgXCJhcmVhXCIsXG4gIFwiYXJlbmFcIixcbiAgXCJhcmd1ZVwiLFxuICBcImFybVwiLFxuICBcImFybWVkXCIsXG4gIFwiYXJtb3JcIixcbiAgXCJhcm15XCIsXG4gIFwiYXJvdW5kXCIsXG4gIFwiYXJyYW5nZVwiLFxuICBcImFycmVzdFwiLFxuICBcImFycml2ZVwiLFxuICBcImFycm93XCIsXG4gIFwiYXJ0XCIsXG4gIFwiYXJ0ZWZhY3RcIixcbiAgXCJhcnRpc3RcIixcbiAgXCJhcnR3b3JrXCIsXG4gIFwiYXNrXCIsXG4gIFwiYXNwZWN0XCIsXG4gIFwiYXNzYXVsdFwiLFxuICBcImFzc2V0XCIsXG4gIFwiYXNzaXN0XCIsXG4gIFwiYXNzdW1lXCIsXG4gIFwiYXN0aG1hXCIsXG4gIFwiYXRobGV0ZVwiLFxuICBcImF0b21cIixcbiAgXCJhdHRhY2tcIixcbiAgXCJhdHRlbmRcIixcbiAgXCJhdHRpdHVkZVwiLFxuICBcImF0dHJhY3RcIixcbiAgXCJhdWN0aW9uXCIsXG4gIFwiYXVkaXRcIixcbiAgXCJhdWd1c3RcIixcbiAgXCJhdW50XCIsXG4gIFwiYXV0aG9yXCIsXG4gIFwiYXV0b1wiLFxuICBcImF1dHVtblwiLFxuICBcImF2ZXJhZ2VcIixcbiAgXCJhdm9jYWRvXCIsXG4gIFwiYXZvaWRcIixcbiAgXCJhd2FrZVwiLFxuICBcImF3YXJlXCIsXG4gIFwiYXdheVwiLFxuICBcImF3ZXNvbWVcIixcbiAgXCJhd2Z1bFwiLFxuICBcImF3a3dhcmRcIixcbiAgXCJheGlzXCIsXG4gIFwiYmFieVwiLFxuICBcImJhY2hlbG9yXCIsXG4gIFwiYmFjb25cIixcbiAgXCJiYWRnZVwiLFxuICBcImJhZ1wiLFxuICBcImJhbGFuY2VcIixcbiAgXCJiYWxjb255XCIsXG4gIFwiYmFsbFwiLFxuICBcImJhbWJvb1wiLFxuICBcImJhbmFuYVwiLFxuICBcImJhbm5lclwiLFxuICBcImJhclwiLFxuICBcImJhcmVseVwiLFxuICBcImJhcmdhaW5cIixcbiAgXCJiYXJyZWxcIixcbiAgXCJiYXNlXCIsXG4gIFwiYmFzaWNcIixcbiAgXCJiYXNrZXRcIixcbiAgXCJiYXR0bGVcIixcbiAgXCJiZWFjaFwiLFxuICBcImJlYW5cIixcbiAgXCJiZWF1dHlcIixcbiAgXCJiZWNhdXNlXCIsXG4gIFwiYmVjb21lXCIsXG4gIFwiYmVlZlwiLFxuICBcImJlZm9yZVwiLFxuICBcImJlZ2luXCIsXG4gIFwiYmVoYXZlXCIsXG4gIFwiYmVoaW5kXCIsXG4gIFwiYmVsaWV2ZVwiLFxuICBcImJlbG93XCIsXG4gIFwiYmVsdFwiLFxuICBcImJlbmNoXCIsXG4gIFwiYmVuZWZpdFwiLFxuICBcImJlc3RcIixcbiAgXCJiZXRyYXlcIixcbiAgXCJiZXR0ZXJcIixcbiAgXCJiZXR3ZWVuXCIsXG4gIFwiYmV5b25kXCIsXG4gIFwiYmljeWNsZVwiLFxuICBcImJpZFwiLFxuICBcImJpa2VcIixcbiAgXCJiaW5kXCIsXG4gIFwiYmlvbG9neVwiLFxuICBcImJpcmRcIixcbiAgXCJiaXJ0aFwiLFxuICBcImJpdHRlclwiLFxuICBcImJsYWNrXCIsXG4gIFwiYmxhZGVcIixcbiAgXCJibGFtZVwiLFxuICBcImJsYW5rZXRcIixcbiAgXCJibGFzdFwiLFxuICBcImJsZWFrXCIsXG4gIFwiYmxlc3NcIixcbiAgXCJibGluZFwiLFxuICBcImJsb29kXCIsXG4gIFwiYmxvc3NvbVwiLFxuICBcImJsb3VzZVwiLFxuICBcImJsdWVcIixcbiAgXCJibHVyXCIsXG4gIFwiYmx1c2hcIixcbiAgXCJib2FyZFwiLFxuICBcImJvYXRcIixcbiAgXCJib2R5XCIsXG4gIFwiYm9pbFwiLFxuICBcImJvbWJcIixcbiAgXCJib25lXCIsXG4gIFwiYm9udXNcIixcbiAgXCJib29rXCIsXG4gIFwiYm9vc3RcIixcbiAgXCJib3JkZXJcIixcbiAgXCJib3JpbmdcIixcbiAgXCJib3Jyb3dcIixcbiAgXCJib3NzXCIsXG4gIFwiYm90dG9tXCIsXG4gIFwiYm91bmNlXCIsXG4gIFwiYm94XCIsXG4gIFwiYm95XCIsXG4gIFwiYnJhY2tldFwiLFxuICBcImJyYWluXCIsXG4gIFwiYnJhbmRcIixcbiAgXCJicmFzc1wiLFxuICBcImJyYXZlXCIsXG4gIFwiYnJlYWRcIixcbiAgXCJicmVlemVcIixcbiAgXCJicmlja1wiLFxuICBcImJyaWRnZVwiLFxuICBcImJyaWVmXCIsXG4gIFwiYnJpZ2h0XCIsXG4gIFwiYnJpbmdcIixcbiAgXCJicmlza1wiLFxuICBcImJyb2Njb2xpXCIsXG4gIFwiYnJva2VuXCIsXG4gIFwiYnJvbnplXCIsXG4gIFwiYnJvb21cIixcbiAgXCJicm90aGVyXCIsXG4gIFwiYnJvd25cIixcbiAgXCJicnVzaFwiLFxuICBcImJ1YmJsZVwiLFxuICBcImJ1ZGR5XCIsXG4gIFwiYnVkZ2V0XCIsXG4gIFwiYnVmZmFsb1wiLFxuICBcImJ1aWxkXCIsXG4gIFwiYnVsYlwiLFxuICBcImJ1bGtcIixcbiAgXCJidWxsZXRcIixcbiAgXCJidW5kbGVcIixcbiAgXCJidW5rZXJcIixcbiAgXCJidXJkZW5cIixcbiAgXCJidXJnZXJcIixcbiAgXCJidXJzdFwiLFxuICBcImJ1c1wiLFxuICBcImJ1c2luZXNzXCIsXG4gIFwiYnVzeVwiLFxuICBcImJ1dHRlclwiLFxuICBcImJ1eWVyXCIsXG4gIFwiYnV6elwiLFxuICBcImNhYmJhZ2VcIixcbiAgXCJjYWJpblwiLFxuICBcImNhYmxlXCIsXG4gIFwiY2FjdHVzXCIsXG4gIFwiY2FnZVwiLFxuICBcImNha2VcIixcbiAgXCJjYWxsXCIsXG4gIFwiY2FsbVwiLFxuICBcImNhbWVyYVwiLFxuICBcImNhbXBcIixcbiAgXCJjYW5cIixcbiAgXCJjYW5hbFwiLFxuICBcImNhbmNlbFwiLFxuICBcImNhbmR5XCIsXG4gIFwiY2Fubm9uXCIsXG4gIFwiY2Fub2VcIixcbiAgXCJjYW52YXNcIixcbiAgXCJjYW55b25cIixcbiAgXCJjYXBhYmxlXCIsXG4gIFwiY2FwaXRhbFwiLFxuICBcImNhcHRhaW5cIixcbiAgXCJjYXJcIixcbiAgXCJjYXJib25cIixcbiAgXCJjYXJkXCIsXG4gIFwiY2FyZ29cIixcbiAgXCJjYXJwZXRcIixcbiAgXCJjYXJyeVwiLFxuICBcImNhcnRcIixcbiAgXCJjYXNlXCIsXG4gIFwiY2FzaFwiLFxuICBcImNhc2lub1wiLFxuICBcImNhc3RsZVwiLFxuICBcImNhc3VhbFwiLFxuICBcImNhdFwiLFxuICBcImNhdGFsb2dcIixcbiAgXCJjYXRjaFwiLFxuICBcImNhdGVnb3J5XCIsXG4gIFwiY2F0dGxlXCIsXG4gIFwiY2F1Z2h0XCIsXG4gIFwiY2F1c2VcIixcbiAgXCJjYXV0aW9uXCIsXG4gIFwiY2F2ZVwiLFxuICBcImNlaWxpbmdcIixcbiAgXCJjZWxlcnlcIixcbiAgXCJjZW1lbnRcIixcbiAgXCJjZW5zdXNcIixcbiAgXCJjZW50dXJ5XCIsXG4gIFwiY2VyZWFsXCIsXG4gIFwiY2VydGFpblwiLFxuICBcImNoYWlyXCIsXG4gIFwiY2hhbGtcIixcbiAgXCJjaGFtcGlvblwiLFxuICBcImNoYW5nZVwiLFxuICBcImNoYW9zXCIsXG4gIFwiY2hhcHRlclwiLFxuICBcImNoYXJnZVwiLFxuICBcImNoYXNlXCIsXG4gIFwiY2hhdFwiLFxuICBcImNoZWFwXCIsXG4gIFwiY2hlY2tcIixcbiAgXCJjaGVlc2VcIixcbiAgXCJjaGVmXCIsXG4gIFwiY2hlcnJ5XCIsXG4gIFwiY2hlc3RcIixcbiAgXCJjaGlja2VuXCIsXG4gIFwiY2hpZWZcIixcbiAgXCJjaGlsZFwiLFxuICBcImNoaW1uZXlcIixcbiAgXCJjaG9pY2VcIixcbiAgXCJjaG9vc2VcIixcbiAgXCJjaHJvbmljXCIsXG4gIFwiY2h1Y2tsZVwiLFxuICBcImNodW5rXCIsXG4gIFwiY2h1cm5cIixcbiAgXCJjaWdhclwiLFxuICBcImNpbm5hbW9uXCIsXG4gIFwiY2lyY2xlXCIsXG4gIFwiY2l0aXplblwiLFxuICBcImNpdHlcIixcbiAgXCJjaXZpbFwiLFxuICBcImNsYWltXCIsXG4gIFwiY2xhcFwiLFxuICBcImNsYXJpZnlcIixcbiAgXCJjbGF3XCIsXG4gIFwiY2xheVwiLFxuICBcImNsZWFuXCIsXG4gIFwiY2xlcmtcIixcbiAgXCJjbGV2ZXJcIixcbiAgXCJjbGlja1wiLFxuICBcImNsaWVudFwiLFxuICBcImNsaWZmXCIsXG4gIFwiY2xpbWJcIixcbiAgXCJjbGluaWNcIixcbiAgXCJjbGlwXCIsXG4gIFwiY2xvY2tcIixcbiAgXCJjbG9nXCIsXG4gIFwiY2xvc2VcIixcbiAgXCJjbG90aFwiLFxuICBcImNsb3VkXCIsXG4gIFwiY2xvd25cIixcbiAgXCJjbHViXCIsXG4gIFwiY2x1bXBcIixcbiAgXCJjbHVzdGVyXCIsXG4gIFwiY2x1dGNoXCIsXG4gIFwiY29hY2hcIixcbiAgXCJjb2FzdFwiLFxuICBcImNvY29udXRcIixcbiAgXCJjb2RlXCIsXG4gIFwiY29mZmVlXCIsXG4gIFwiY29pbFwiLFxuICBcImNvaW5cIixcbiAgXCJjb2xsZWN0XCIsXG4gIFwiY29sb3JcIixcbiAgXCJjb2x1bW5cIixcbiAgXCJjb21iaW5lXCIsXG4gIFwiY29tZVwiLFxuICBcImNvbWZvcnRcIixcbiAgXCJjb21pY1wiLFxuICBcImNvbW1vblwiLFxuICBcImNvbXBhbnlcIixcbiAgXCJjb25jZXJ0XCIsXG4gIFwiY29uZHVjdFwiLFxuICBcImNvbmZpcm1cIixcbiAgXCJjb25ncmVzc1wiLFxuICBcImNvbm5lY3RcIixcbiAgXCJjb25zaWRlclwiLFxuICBcImNvbnRyb2xcIixcbiAgXCJjb252aW5jZVwiLFxuICBcImNvb2tcIixcbiAgXCJjb29sXCIsXG4gIFwiY29wcGVyXCIsXG4gIFwiY29weVwiLFxuICBcImNvcmFsXCIsXG4gIFwiY29yZVwiLFxuICBcImNvcm5cIixcbiAgXCJjb3JyZWN0XCIsXG4gIFwiY29zdFwiLFxuICBcImNvdHRvblwiLFxuICBcImNvdWNoXCIsXG4gIFwiY291bnRyeVwiLFxuICBcImNvdXBsZVwiLFxuICBcImNvdXJzZVwiLFxuICBcImNvdXNpblwiLFxuICBcImNvdmVyXCIsXG4gIFwiY295b3RlXCIsXG4gIFwiY3JhY2tcIixcbiAgXCJjcmFkbGVcIixcbiAgXCJjcmFmdFwiLFxuICBcImNyYW1cIixcbiAgXCJjcmFuZVwiLFxuICBcImNyYXNoXCIsXG4gIFwiY3JhdGVyXCIsXG4gIFwiY3Jhd2xcIixcbiAgXCJjcmF6eVwiLFxuICBcImNyZWFtXCIsXG4gIFwiY3JlZGl0XCIsXG4gIFwiY3JlZWtcIixcbiAgXCJjcmV3XCIsXG4gIFwiY3JpY2tldFwiLFxuICBcImNyaW1lXCIsXG4gIFwiY3Jpc3BcIixcbiAgXCJjcml0aWNcIixcbiAgXCJjcm9wXCIsXG4gIFwiY3Jvc3NcIixcbiAgXCJjcm91Y2hcIixcbiAgXCJjcm93ZFwiLFxuICBcImNydWNpYWxcIixcbiAgXCJjcnVlbFwiLFxuICBcImNydWlzZVwiLFxuICBcImNydW1ibGVcIixcbiAgXCJjcnVuY2hcIixcbiAgXCJjcnVzaFwiLFxuICBcImNyeVwiLFxuICBcImNyeXN0YWxcIixcbiAgXCJjdWJlXCIsXG4gIFwiY3VsdHVyZVwiLFxuICBcImN1cFwiLFxuICBcImN1cGJvYXJkXCIsXG4gIFwiY3VyaW91c1wiLFxuICBcImN1cnJlbnRcIixcbiAgXCJjdXJ0YWluXCIsXG4gIFwiY3VydmVcIixcbiAgXCJjdXNoaW9uXCIsXG4gIFwiY3VzdG9tXCIsXG4gIFwiY3V0ZVwiLFxuICBcImN5Y2xlXCIsXG4gIFwiZGFkXCIsXG4gIFwiZGFtYWdlXCIsXG4gIFwiZGFtcFwiLFxuICBcImRhbmNlXCIsXG4gIFwiZGFuZ2VyXCIsXG4gIFwiZGFyaW5nXCIsXG4gIFwiZGFzaFwiLFxuICBcImRhdWdodGVyXCIsXG4gIFwiZGF3blwiLFxuICBcImRheVwiLFxuICBcImRlYWxcIixcbiAgXCJkZWJhdGVcIixcbiAgXCJkZWJyaXNcIixcbiAgXCJkZWNhZGVcIixcbiAgXCJkZWNlbWJlclwiLFxuICBcImRlY2lkZVwiLFxuICBcImRlY2xpbmVcIixcbiAgXCJkZWNvcmF0ZVwiLFxuICBcImRlY3JlYXNlXCIsXG4gIFwiZGVlclwiLFxuICBcImRlZmVuc2VcIixcbiAgXCJkZWZpbmVcIixcbiAgXCJkZWZ5XCIsXG4gIFwiZGVncmVlXCIsXG4gIFwiZGVsYXlcIixcbiAgXCJkZWxpdmVyXCIsXG4gIFwiZGVtYW5kXCIsXG4gIFwiZGVtaXNlXCIsXG4gIFwiZGVuaWFsXCIsXG4gIFwiZGVudGlzdFwiLFxuICBcImRlbnlcIixcbiAgXCJkZXBhcnRcIixcbiAgXCJkZXBlbmRcIixcbiAgXCJkZXBvc2l0XCIsXG4gIFwiZGVwdGhcIixcbiAgXCJkZXB1dHlcIixcbiAgXCJkZXJpdmVcIixcbiAgXCJkZXNjcmliZVwiLFxuICBcImRlc2VydFwiLFxuICBcImRlc2lnblwiLFxuICBcImRlc2tcIixcbiAgXCJkZXNwYWlyXCIsXG4gIFwiZGVzdHJveVwiLFxuICBcImRldGFpbFwiLFxuICBcImRldGVjdFwiLFxuICBcImRldmVsb3BcIixcbiAgXCJkZXZpY2VcIixcbiAgXCJkZXZvdGVcIixcbiAgXCJkaWFncmFtXCIsXG4gIFwiZGlhbFwiLFxuICBcImRpYW1vbmRcIixcbiAgXCJkaWFyeVwiLFxuICBcImRpY2VcIixcbiAgXCJkaWVzZWxcIixcbiAgXCJkaWV0XCIsXG4gIFwiZGlmZmVyXCIsXG4gIFwiZGlnaXRhbFwiLFxuICBcImRpZ25pdHlcIixcbiAgXCJkaWxlbW1hXCIsXG4gIFwiZGlubmVyXCIsXG4gIFwiZGlub3NhdXJcIixcbiAgXCJkaXJlY3RcIixcbiAgXCJkaXJ0XCIsXG4gIFwiZGlzYWdyZWVcIixcbiAgXCJkaXNjb3ZlclwiLFxuICBcImRpc2Vhc2VcIixcbiAgXCJkaXNoXCIsXG4gIFwiZGlzbWlzc1wiLFxuICBcImRpc29yZGVyXCIsXG4gIFwiZGlzcGxheVwiLFxuICBcImRpc3RhbmNlXCIsXG4gIFwiZGl2ZXJ0XCIsXG4gIFwiZGl2aWRlXCIsXG4gIFwiZGl2b3JjZVwiLFxuICBcImRpenp5XCIsXG4gIFwiZG9jdG9yXCIsXG4gIFwiZG9jdW1lbnRcIixcbiAgXCJkb2dcIixcbiAgXCJkb2xsXCIsXG4gIFwiZG9scGhpblwiLFxuICBcImRvbWFpblwiLFxuICBcImRvbmF0ZVwiLFxuICBcImRvbmtleVwiLFxuICBcImRvbm9yXCIsXG4gIFwiZG9vclwiLFxuICBcImRvc2VcIixcbiAgXCJkb3VibGVcIixcbiAgXCJkb3ZlXCIsXG4gIFwiZHJhZnRcIixcbiAgXCJkcmFnb25cIixcbiAgXCJkcmFtYVwiLFxuICBcImRyYXN0aWNcIixcbiAgXCJkcmF3XCIsXG4gIFwiZHJlYW1cIixcbiAgXCJkcmVzc1wiLFxuICBcImRyaWZ0XCIsXG4gIFwiZHJpbGxcIixcbiAgXCJkcmlua1wiLFxuICBcImRyaXBcIixcbiAgXCJkcml2ZVwiLFxuICBcImRyb3BcIixcbiAgXCJkcnVtXCIsXG4gIFwiZHJ5XCIsXG4gIFwiZHVja1wiLFxuICBcImR1bWJcIixcbiAgXCJkdW5lXCIsXG4gIFwiZHVyaW5nXCIsXG4gIFwiZHVzdFwiLFxuICBcImR1dGNoXCIsXG4gIFwiZHV0eVwiLFxuICBcImR3YXJmXCIsXG4gIFwiZHluYW1pY1wiLFxuICBcImVhZ2VyXCIsXG4gIFwiZWFnbGVcIixcbiAgXCJlYXJseVwiLFxuICBcImVhcm5cIixcbiAgXCJlYXJ0aFwiLFxuICBcImVhc2lseVwiLFxuICBcImVhc3RcIixcbiAgXCJlYXN5XCIsXG4gIFwiZWNob1wiLFxuICBcImVjb2xvZ3lcIixcbiAgXCJlY29ub215XCIsXG4gIFwiZWRnZVwiLFxuICBcImVkaXRcIixcbiAgXCJlZHVjYXRlXCIsXG4gIFwiZWZmb3J0XCIsXG4gIFwiZWdnXCIsXG4gIFwiZWlnaHRcIixcbiAgXCJlaXRoZXJcIixcbiAgXCJlbGJvd1wiLFxuICBcImVsZGVyXCIsXG4gIFwiZWxlY3RyaWNcIixcbiAgXCJlbGVnYW50XCIsXG4gIFwiZWxlbWVudFwiLFxuICBcImVsZXBoYW50XCIsXG4gIFwiZWxldmF0b3JcIixcbiAgXCJlbGl0ZVwiLFxuICBcImVsc2VcIixcbiAgXCJlbWJhcmtcIixcbiAgXCJlbWJvZHlcIixcbiAgXCJlbWJyYWNlXCIsXG4gIFwiZW1lcmdlXCIsXG4gIFwiZW1vdGlvblwiLFxuICBcImVtcGxveVwiLFxuICBcImVtcG93ZXJcIixcbiAgXCJlbXB0eVwiLFxuICBcImVuYWJsZVwiLFxuICBcImVuYWN0XCIsXG4gIFwiZW5kXCIsXG4gIFwiZW5kbGVzc1wiLFxuICBcImVuZG9yc2VcIixcbiAgXCJlbmVteVwiLFxuICBcImVuZXJneVwiLFxuICBcImVuZm9yY2VcIixcbiAgXCJlbmdhZ2VcIixcbiAgXCJlbmdpbmVcIixcbiAgXCJlbmhhbmNlXCIsXG4gIFwiZW5qb3lcIixcbiAgXCJlbmxpc3RcIixcbiAgXCJlbm91Z2hcIixcbiAgXCJlbnJpY2hcIixcbiAgXCJlbnJvbGxcIixcbiAgXCJlbnN1cmVcIixcbiAgXCJlbnRlclwiLFxuICBcImVudGlyZVwiLFxuICBcImVudHJ5XCIsXG4gIFwiZW52ZWxvcGVcIixcbiAgXCJlcGlzb2RlXCIsXG4gIFwiZXF1YWxcIixcbiAgXCJlcXVpcFwiLFxuICBcImVyYVwiLFxuICBcImVyYXNlXCIsXG4gIFwiZXJvZGVcIixcbiAgXCJlcm9zaW9uXCIsXG4gIFwiZXJyb3JcIixcbiAgXCJlcnVwdFwiLFxuICBcImVzY2FwZVwiLFxuICBcImVzc2F5XCIsXG4gIFwiZXNzZW5jZVwiLFxuICBcImVzdGF0ZVwiLFxuICBcImV0ZXJuYWxcIixcbiAgXCJldGhpY3NcIixcbiAgXCJldmlkZW5jZVwiLFxuICBcImV2aWxcIixcbiAgXCJldm9rZVwiLFxuICBcImV2b2x2ZVwiLFxuICBcImV4YWN0XCIsXG4gIFwiZXhhbXBsZVwiLFxuICBcImV4Y2Vzc1wiLFxuICBcImV4Y2hhbmdlXCIsXG4gIFwiZXhjaXRlXCIsXG4gIFwiZXhjbHVkZVwiLFxuICBcImV4Y3VzZVwiLFxuICBcImV4ZWN1dGVcIixcbiAgXCJleGVyY2lzZVwiLFxuICBcImV4aGF1c3RcIixcbiAgXCJleGhpYml0XCIsXG4gIFwiZXhpbGVcIixcbiAgXCJleGlzdFwiLFxuICBcImV4aXRcIixcbiAgXCJleG90aWNcIixcbiAgXCJleHBhbmRcIixcbiAgXCJleHBlY3RcIixcbiAgXCJleHBpcmVcIixcbiAgXCJleHBsYWluXCIsXG4gIFwiZXhwb3NlXCIsXG4gIFwiZXhwcmVzc1wiLFxuICBcImV4dGVuZFwiLFxuICBcImV4dHJhXCIsXG4gIFwiZXllXCIsXG4gIFwiZXllYnJvd1wiLFxuICBcImZhYnJpY1wiLFxuICBcImZhY2VcIixcbiAgXCJmYWN1bHR5XCIsXG4gIFwiZmFkZVwiLFxuICBcImZhaW50XCIsXG4gIFwiZmFpdGhcIixcbiAgXCJmYWxsXCIsXG4gIFwiZmFsc2VcIixcbiAgXCJmYW1lXCIsXG4gIFwiZmFtaWx5XCIsXG4gIFwiZmFtb3VzXCIsXG4gIFwiZmFuXCIsXG4gIFwiZmFuY3lcIixcbiAgXCJmYW50YXN5XCIsXG4gIFwiZmFybVwiLFxuICBcImZhc2hpb25cIixcbiAgXCJmYXRcIixcbiAgXCJmYXRhbFwiLFxuICBcImZhdGhlclwiLFxuICBcImZhdGlndWVcIixcbiAgXCJmYXVsdFwiLFxuICBcImZhdm9yaXRlXCIsXG4gIFwiZmVhdHVyZVwiLFxuICBcImZlYnJ1YXJ5XCIsXG4gIFwiZmVkZXJhbFwiLFxuICBcImZlZVwiLFxuICBcImZlZWRcIixcbiAgXCJmZWVsXCIsXG4gIFwiZmVtYWxlXCIsXG4gIFwiZmVuY2VcIixcbiAgXCJmZXN0aXZhbFwiLFxuICBcImZldGNoXCIsXG4gIFwiZmV2ZXJcIixcbiAgXCJmZXdcIixcbiAgXCJmaWJlclwiLFxuICBcImZpY3Rpb25cIixcbiAgXCJmaWVsZFwiLFxuICBcImZpZ3VyZVwiLFxuICBcImZpbGVcIixcbiAgXCJmaWxtXCIsXG4gIFwiZmlsdGVyXCIsXG4gIFwiZmluYWxcIixcbiAgXCJmaW5kXCIsXG4gIFwiZmluZVwiLFxuICBcImZpbmdlclwiLFxuICBcImZpbmlzaFwiLFxuICBcImZpcmVcIixcbiAgXCJmaXJtXCIsXG4gIFwiZmlyc3RcIixcbiAgXCJmaXNjYWxcIixcbiAgXCJmaXNoXCIsXG4gIFwiZml0XCIsXG4gIFwiZml0bmVzc1wiLFxuICBcImZpeFwiLFxuICBcImZsYWdcIixcbiAgXCJmbGFtZVwiLFxuICBcImZsYXNoXCIsXG4gIFwiZmxhdFwiLFxuICBcImZsYXZvclwiLFxuICBcImZsZWVcIixcbiAgXCJmbGlnaHRcIixcbiAgXCJmbGlwXCIsXG4gIFwiZmxvYXRcIixcbiAgXCJmbG9ja1wiLFxuICBcImZsb29yXCIsXG4gIFwiZmxvd2VyXCIsXG4gIFwiZmx1aWRcIixcbiAgXCJmbHVzaFwiLFxuICBcImZseVwiLFxuICBcImZvYW1cIixcbiAgXCJmb2N1c1wiLFxuICBcImZvZ1wiLFxuICBcImZvaWxcIixcbiAgXCJmb2xkXCIsXG4gIFwiZm9sbG93XCIsXG4gIFwiZm9vZFwiLFxuICBcImZvb3RcIixcbiAgXCJmb3JjZVwiLFxuICBcImZvcmVzdFwiLFxuICBcImZvcmdldFwiLFxuICBcImZvcmtcIixcbiAgXCJmb3J0dW5lXCIsXG4gIFwiZm9ydW1cIixcbiAgXCJmb3J3YXJkXCIsXG4gIFwiZm9zc2lsXCIsXG4gIFwiZm9zdGVyXCIsXG4gIFwiZm91bmRcIixcbiAgXCJmb3hcIixcbiAgXCJmcmFnaWxlXCIsXG4gIFwiZnJhbWVcIixcbiAgXCJmcmVxdWVudFwiLFxuICBcImZyZXNoXCIsXG4gIFwiZnJpZW5kXCIsXG4gIFwiZnJpbmdlXCIsXG4gIFwiZnJvZ1wiLFxuICBcImZyb250XCIsXG4gIFwiZnJvc3RcIixcbiAgXCJmcm93blwiLFxuICBcImZyb3plblwiLFxuICBcImZydWl0XCIsXG4gIFwiZnVlbFwiLFxuICBcImZ1blwiLFxuICBcImZ1bm55XCIsXG4gIFwiZnVybmFjZVwiLFxuICBcImZ1cnlcIixcbiAgXCJmdXR1cmVcIixcbiAgXCJnYWRnZXRcIixcbiAgXCJnYWluXCIsXG4gIFwiZ2FsYXh5XCIsXG4gIFwiZ2FsbGVyeVwiLFxuICBcImdhbWVcIixcbiAgXCJnYXBcIixcbiAgXCJnYXJhZ2VcIixcbiAgXCJnYXJiYWdlXCIsXG4gIFwiZ2FyZGVuXCIsXG4gIFwiZ2FybGljXCIsXG4gIFwiZ2FybWVudFwiLFxuICBcImdhc1wiLFxuICBcImdhc3BcIixcbiAgXCJnYXRlXCIsXG4gIFwiZ2F0aGVyXCIsXG4gIFwiZ2F1Z2VcIixcbiAgXCJnYXplXCIsXG4gIFwiZ2VuZXJhbFwiLFxuICBcImdlbml1c1wiLFxuICBcImdlbnJlXCIsXG4gIFwiZ2VudGxlXCIsXG4gIFwiZ2VudWluZVwiLFxuICBcImdlc3R1cmVcIixcbiAgXCJnaG9zdFwiLFxuICBcImdpYW50XCIsXG4gIFwiZ2lmdFwiLFxuICBcImdpZ2dsZVwiLFxuICBcImdpbmdlclwiLFxuICBcImdpcmFmZmVcIixcbiAgXCJnaXJsXCIsXG4gIFwiZ2l2ZVwiLFxuICBcImdsYWRcIixcbiAgXCJnbGFuY2VcIixcbiAgXCJnbGFyZVwiLFxuICBcImdsYXNzXCIsXG4gIFwiZ2xpZGVcIixcbiAgXCJnbGltcHNlXCIsXG4gIFwiZ2xvYmVcIixcbiAgXCJnbG9vbVwiLFxuICBcImdsb3J5XCIsXG4gIFwiZ2xvdmVcIixcbiAgXCJnbG93XCIsXG4gIFwiZ2x1ZVwiLFxuICBcImdvYXRcIixcbiAgXCJnb2RkZXNzXCIsXG4gIFwiZ29sZFwiLFxuICBcImdvb2RcIixcbiAgXCJnb29zZVwiLFxuICBcImdvcmlsbGFcIixcbiAgXCJnb3NwZWxcIixcbiAgXCJnb3NzaXBcIixcbiAgXCJnb3Zlcm5cIixcbiAgXCJnb3duXCIsXG4gIFwiZ3JhYlwiLFxuICBcImdyYWNlXCIsXG4gIFwiZ3JhaW5cIixcbiAgXCJncmFudFwiLFxuICBcImdyYXBlXCIsXG4gIFwiZ3Jhc3NcIixcbiAgXCJncmF2aXR5XCIsXG4gIFwiZ3JlYXRcIixcbiAgXCJncmVlblwiLFxuICBcImdyaWRcIixcbiAgXCJncmllZlwiLFxuICBcImdyaXRcIixcbiAgXCJncm9jZXJ5XCIsXG4gIFwiZ3JvdXBcIixcbiAgXCJncm93XCIsXG4gIFwiZ3J1bnRcIixcbiAgXCJndWFyZFwiLFxuICBcImd1ZXNzXCIsXG4gIFwiZ3VpZGVcIixcbiAgXCJndWlsdFwiLFxuICBcImd1aXRhclwiLFxuICBcImd1blwiLFxuICBcImd5bVwiLFxuICBcImhhYml0XCIsXG4gIFwiaGFpclwiLFxuICBcImhhbGZcIixcbiAgXCJoYW1tZXJcIixcbiAgXCJoYW1zdGVyXCIsXG4gIFwiaGFuZFwiLFxuICBcImhhcHB5XCIsXG4gIFwiaGFyYm9yXCIsXG4gIFwiaGFyZFwiLFxuICBcImhhcnNoXCIsXG4gIFwiaGFydmVzdFwiLFxuICBcImhhdFwiLFxuICBcImhhdmVcIixcbiAgXCJoYXdrXCIsXG4gIFwiaGF6YXJkXCIsXG4gIFwiaGVhZFwiLFxuICBcImhlYWx0aFwiLFxuICBcImhlYXJ0XCIsXG4gIFwiaGVhdnlcIixcbiAgXCJoZWRnZWhvZ1wiLFxuICBcImhlaWdodFwiLFxuICBcImhlbGxvXCIsXG4gIFwiaGVsbWV0XCIsXG4gIFwiaGVscFwiLFxuICBcImhlblwiLFxuICBcImhlcm9cIixcbiAgXCJoaWRkZW5cIixcbiAgXCJoaWdoXCIsXG4gIFwiaGlsbFwiLFxuICBcImhpbnRcIixcbiAgXCJoaXBcIixcbiAgXCJoaXJlXCIsXG4gIFwiaGlzdG9yeVwiLFxuICBcImhvYmJ5XCIsXG4gIFwiaG9ja2V5XCIsXG4gIFwiaG9sZFwiLFxuICBcImhvbGVcIixcbiAgXCJob2xpZGF5XCIsXG4gIFwiaG9sbG93XCIsXG4gIFwiaG9tZVwiLFxuICBcImhvbmV5XCIsXG4gIFwiaG9vZFwiLFxuICBcImhvcGVcIixcbiAgXCJob3JuXCIsXG4gIFwiaG9ycm9yXCIsXG4gIFwiaG9yc2VcIixcbiAgXCJob3NwaXRhbFwiLFxuICBcImhvc3RcIixcbiAgXCJob3RlbFwiLFxuICBcImhvdXJcIixcbiAgXCJob3ZlclwiLFxuICBcImh1YlwiLFxuICBcImh1Z2VcIixcbiAgXCJodW1hblwiLFxuICBcImh1bWJsZVwiLFxuICBcImh1bW9yXCIsXG4gIFwiaHVuZHJlZFwiLFxuICBcImh1bmdyeVwiLFxuICBcImh1bnRcIixcbiAgXCJodXJkbGVcIixcbiAgXCJodXJyeVwiLFxuICBcImh1cnRcIixcbiAgXCJodXNiYW5kXCIsXG4gIFwiaHlicmlkXCIsXG4gIFwiaWNlXCIsXG4gIFwiaWNvblwiLFxuICBcImlkZWFcIixcbiAgXCJpZGVudGlmeVwiLFxuICBcImlkbGVcIixcbiAgXCJpZ25vcmVcIixcbiAgXCJpbGxcIixcbiAgXCJpbGxlZ2FsXCIsXG4gIFwiaWxsbmVzc1wiLFxuICBcImltYWdlXCIsXG4gIFwiaW1pdGF0ZVwiLFxuICBcImltbWVuc2VcIixcbiAgXCJpbW11bmVcIixcbiAgXCJpbXBhY3RcIixcbiAgXCJpbXBvc2VcIixcbiAgXCJpbXByb3ZlXCIsXG4gIFwiaW1wdWxzZVwiLFxuICBcImluY2hcIixcbiAgXCJpbmNsdWRlXCIsXG4gIFwiaW5jb21lXCIsXG4gIFwiaW5jcmVhc2VcIixcbiAgXCJpbmRleFwiLFxuICBcImluZGljYXRlXCIsXG4gIFwiaW5kb29yXCIsXG4gIFwiaW5kdXN0cnlcIixcbiAgXCJpbmZhbnRcIixcbiAgXCJpbmZsaWN0XCIsXG4gIFwiaW5mb3JtXCIsXG4gIFwiaW5oYWxlXCIsXG4gIFwiaW5oZXJpdFwiLFxuICBcImluaXRpYWxcIixcbiAgXCJpbmplY3RcIixcbiAgXCJpbmp1cnlcIixcbiAgXCJpbm1hdGVcIixcbiAgXCJpbm5lclwiLFxuICBcImlubm9jZW50XCIsXG4gIFwiaW5wdXRcIixcbiAgXCJpbnF1aXJ5XCIsXG4gIFwiaW5zYW5lXCIsXG4gIFwiaW5zZWN0XCIsXG4gIFwiaW5zaWRlXCIsXG4gIFwiaW5zcGlyZVwiLFxuICBcImluc3RhbGxcIixcbiAgXCJpbnRhY3RcIixcbiAgXCJpbnRlcmVzdFwiLFxuICBcImludG9cIixcbiAgXCJpbnZlc3RcIixcbiAgXCJpbnZpdGVcIixcbiAgXCJpbnZvbHZlXCIsXG4gIFwiaXJvblwiLFxuICBcImlzbGFuZFwiLFxuICBcImlzb2xhdGVcIixcbiAgXCJpc3N1ZVwiLFxuICBcIml0ZW1cIixcbiAgXCJpdm9yeVwiLFxuICBcImphY2tldFwiLFxuICBcImphZ3VhclwiLFxuICBcImphclwiLFxuICBcImphenpcIixcbiAgXCJqZWFsb3VzXCIsXG4gIFwiamVhbnNcIixcbiAgXCJqZWxseVwiLFxuICBcImpld2VsXCIsXG4gIFwiam9iXCIsXG4gIFwiam9pblwiLFxuICBcImpva2VcIixcbiAgXCJqb3VybmV5XCIsXG4gIFwiam95XCIsXG4gIFwianVkZ2VcIixcbiAgXCJqdWljZVwiLFxuICBcImp1bXBcIixcbiAgXCJqdW5nbGVcIixcbiAgXCJqdW5pb3JcIixcbiAgXCJqdW5rXCIsXG4gIFwianVzdFwiLFxuICBcImthbmdhcm9vXCIsXG4gIFwia2VlblwiLFxuICBcImtlZXBcIixcbiAgXCJrZXRjaHVwXCIsXG4gIFwia2V5XCIsXG4gIFwia2lja1wiLFxuICBcImtpZFwiLFxuICBcImtpZG5leVwiLFxuICBcImtpbmRcIixcbiAgXCJraW5nZG9tXCIsXG4gIFwia2lzc1wiLFxuICBcImtpdFwiLFxuICBcImtpdGNoZW5cIixcbiAgXCJraXRlXCIsXG4gIFwia2l0dGVuXCIsXG4gIFwia2l3aVwiLFxuICBcImtuZWVcIixcbiAgXCJrbmlmZVwiLFxuICBcImtub2NrXCIsXG4gIFwia25vd1wiLFxuICBcImxhYlwiLFxuICBcImxhYmVsXCIsXG4gIFwibGFib3JcIixcbiAgXCJsYWRkZXJcIixcbiAgXCJsYWR5XCIsXG4gIFwibGFrZVwiLFxuICBcImxhbXBcIixcbiAgXCJsYW5ndWFnZVwiLFxuICBcImxhcHRvcFwiLFxuICBcImxhcmdlXCIsXG4gIFwibGF0ZXJcIixcbiAgXCJsYXRpblwiLFxuICBcImxhdWdoXCIsXG4gIFwibGF1bmRyeVwiLFxuICBcImxhdmFcIixcbiAgXCJsYXdcIixcbiAgXCJsYXduXCIsXG4gIFwibGF3c3VpdFwiLFxuICBcImxheWVyXCIsXG4gIFwibGF6eVwiLFxuICBcImxlYWRlclwiLFxuICBcImxlYWZcIixcbiAgXCJsZWFyblwiLFxuICBcImxlYXZlXCIsXG4gIFwibGVjdHVyZVwiLFxuICBcImxlZnRcIixcbiAgXCJsZWdcIixcbiAgXCJsZWdhbFwiLFxuICBcImxlZ2VuZFwiLFxuICBcImxlaXN1cmVcIixcbiAgXCJsZW1vblwiLFxuICBcImxlbmRcIixcbiAgXCJsZW5ndGhcIixcbiAgXCJsZW5zXCIsXG4gIFwibGVvcGFyZFwiLFxuICBcImxlc3NvblwiLFxuICBcImxldHRlclwiLFxuICBcImxldmVsXCIsXG4gIFwibGlhclwiLFxuICBcImxpYmVydHlcIixcbiAgXCJsaWJyYXJ5XCIsXG4gIFwibGljZW5zZVwiLFxuICBcImxpZmVcIixcbiAgXCJsaWZ0XCIsXG4gIFwibGlnaHRcIixcbiAgXCJsaWtlXCIsXG4gIFwibGltYlwiLFxuICBcImxpbWl0XCIsXG4gIFwibGlua1wiLFxuICBcImxpb25cIixcbiAgXCJsaXF1aWRcIixcbiAgXCJsaXN0XCIsXG4gIFwibGl0dGxlXCIsXG4gIFwibGl2ZVwiLFxuICBcImxpemFyZFwiLFxuICBcImxvYWRcIixcbiAgXCJsb2FuXCIsXG4gIFwibG9ic3RlclwiLFxuICBcImxvY2FsXCIsXG4gIFwibG9ja1wiLFxuICBcImxvZ2ljXCIsXG4gIFwibG9uZWx5XCIsXG4gIFwibG9uZ1wiLFxuICBcImxvb3BcIixcbiAgXCJsb3R0ZXJ5XCIsXG4gIFwibG91ZFwiLFxuICBcImxvdW5nZVwiLFxuICBcImxvdmVcIixcbiAgXCJsb3lhbFwiLFxuICBcImx1Y2t5XCIsXG4gIFwibHVnZ2FnZVwiLFxuICBcImx1bWJlclwiLFxuICBcImx1bmFyXCIsXG4gIFwibHVuY2hcIixcbiAgXCJsdXh1cnlcIixcbiAgXCJseXJpY3NcIixcbiAgXCJtYWNoaW5lXCIsXG4gIFwibWFkXCIsXG4gIFwibWFnaWNcIixcbiAgXCJtYWduZXRcIixcbiAgXCJtYWlkXCIsXG4gIFwibWFpbFwiLFxuICBcIm1haW5cIixcbiAgXCJtYWpvclwiLFxuICBcIm1ha2VcIixcbiAgXCJtYW1tYWxcIixcbiAgXCJtYW5cIixcbiAgXCJtYW5hZ2VcIixcbiAgXCJtYW5kYXRlXCIsXG4gIFwibWFuZ29cIixcbiAgXCJtYW5zaW9uXCIsXG4gIFwibWFudWFsXCIsXG4gIFwibWFwbGVcIixcbiAgXCJtYXJibGVcIixcbiAgXCJtYXJjaFwiLFxuICBcIm1hcmdpblwiLFxuICBcIm1hcmluZVwiLFxuICBcIm1hcmtldFwiLFxuICBcIm1hcnJpYWdlXCIsXG4gIFwibWFza1wiLFxuICBcIm1hc3NcIixcbiAgXCJtYXN0ZXJcIixcbiAgXCJtYXRjaFwiLFxuICBcIm1hdGVyaWFsXCIsXG4gIFwibWF0aFwiLFxuICBcIm1hdHJpeFwiLFxuICBcIm1hdHRlclwiLFxuICBcIm1heGltdW1cIixcbiAgXCJtYXplXCIsXG4gIFwibWVhZG93XCIsXG4gIFwibWVhblwiLFxuICBcIm1lYXN1cmVcIixcbiAgXCJtZWF0XCIsXG4gIFwibWVjaGFuaWNcIixcbiAgXCJtZWRhbFwiLFxuICBcIm1lZGlhXCIsXG4gIFwibWVsb2R5XCIsXG4gIFwibWVsdFwiLFxuICBcIm1lbWJlclwiLFxuICBcIm1lbW9yeVwiLFxuICBcIm1lbnRpb25cIixcbiAgXCJtZW51XCIsXG4gIFwibWVyY3lcIixcbiAgXCJtZXJnZVwiLFxuICBcIm1lcml0XCIsXG4gIFwibWVycnlcIixcbiAgXCJtZXNoXCIsXG4gIFwibWVzc2FnZVwiLFxuICBcIm1ldGFsXCIsXG4gIFwibWV0aG9kXCIsXG4gIFwibWlkZGxlXCIsXG4gIFwibWlkbmlnaHRcIixcbiAgXCJtaWxrXCIsXG4gIFwibWlsbGlvblwiLFxuICBcIm1pbWljXCIsXG4gIFwibWluZFwiLFxuICBcIm1pbmltdW1cIixcbiAgXCJtaW5vclwiLFxuICBcIm1pbnV0ZVwiLFxuICBcIm1pcmFjbGVcIixcbiAgXCJtaXJyb3JcIixcbiAgXCJtaXNlcnlcIixcbiAgXCJtaXNzXCIsXG4gIFwibWlzdGFrZVwiLFxuICBcIm1peFwiLFxuICBcIm1peGVkXCIsXG4gIFwibWl4dHVyZVwiLFxuICBcIm1vYmlsZVwiLFxuICBcIm1vZGVsXCIsXG4gIFwibW9kaWZ5XCIsXG4gIFwibW9tXCIsXG4gIFwibW9tZW50XCIsXG4gIFwibW9uaXRvclwiLFxuICBcIm1vbmtleVwiLFxuICBcIm1vbnN0ZXJcIixcbiAgXCJtb250aFwiLFxuICBcIm1vb25cIixcbiAgXCJtb3JhbFwiLFxuICBcIm1vcmVcIixcbiAgXCJtb3JuaW5nXCIsXG4gIFwibW9zcXVpdG9cIixcbiAgXCJtb3RoZXJcIixcbiAgXCJtb3Rpb25cIixcbiAgXCJtb3RvclwiLFxuICBcIm1vdW50YWluXCIsXG4gIFwibW91c2VcIixcbiAgXCJtb3ZlXCIsXG4gIFwibW92aWVcIixcbiAgXCJtdWNoXCIsXG4gIFwibXVmZmluXCIsXG4gIFwibXVsZVwiLFxuICBcIm11bHRpcGx5XCIsXG4gIFwibXVzY2xlXCIsXG4gIFwibXVzZXVtXCIsXG4gIFwibXVzaHJvb21cIixcbiAgXCJtdXNpY1wiLFxuICBcIm11c3RcIixcbiAgXCJtdXR1YWxcIixcbiAgXCJteXNlbGZcIixcbiAgXCJteXN0ZXJ5XCIsXG4gIFwibXl0aFwiLFxuICBcIm5haXZlXCIsXG4gIFwibmFtZVwiLFxuICBcIm5hcGtpblwiLFxuICBcIm5hcnJvd1wiLFxuICBcIm5hc3R5XCIsXG4gIFwibmF0aW9uXCIsXG4gIFwibmF0dXJlXCIsXG4gIFwibmVhclwiLFxuICBcIm5lY2tcIixcbiAgXCJuZWVkXCIsXG4gIFwibmVnYXRpdmVcIixcbiAgXCJuZWdsZWN0XCIsXG4gIFwibmVpdGhlclwiLFxuICBcIm5lcGhld1wiLFxuICBcIm5lcnZlXCIsXG4gIFwibmVzdFwiLFxuICBcIm5ldFwiLFxuICBcIm5ldHdvcmtcIixcbiAgXCJuZXV0cmFsXCIsXG4gIFwibmV2ZXJcIixcbiAgXCJuZXdzXCIsXG4gIFwibmV4dFwiLFxuICBcIm5pY2VcIixcbiAgXCJuaWdodFwiLFxuICBcIm5vYmxlXCIsXG4gIFwibm9pc2VcIixcbiAgXCJub21pbmVlXCIsXG4gIFwibm9vZGxlXCIsXG4gIFwibm9ybWFsXCIsXG4gIFwibm9ydGhcIixcbiAgXCJub3NlXCIsXG4gIFwibm90YWJsZVwiLFxuICBcIm5vdGVcIixcbiAgXCJub3RoaW5nXCIsXG4gIFwibm90aWNlXCIsXG4gIFwibm92ZWxcIixcbiAgXCJub3dcIixcbiAgXCJudWNsZWFyXCIsXG4gIFwibnVtYmVyXCIsXG4gIFwibnVyc2VcIixcbiAgXCJudXRcIixcbiAgXCJvYWtcIixcbiAgXCJvYmV5XCIsXG4gIFwib2JqZWN0XCIsXG4gIFwib2JsaWdlXCIsXG4gIFwib2JzY3VyZVwiLFxuICBcIm9ic2VydmVcIixcbiAgXCJvYnRhaW5cIixcbiAgXCJvYnZpb3VzXCIsXG4gIFwib2NjdXJcIixcbiAgXCJvY2VhblwiLFxuICBcIm9jdG9iZXJcIixcbiAgXCJvZG9yXCIsXG4gIFwib2ZmXCIsXG4gIFwib2ZmZXJcIixcbiAgXCJvZmZpY2VcIixcbiAgXCJvZnRlblwiLFxuICBcIm9pbFwiLFxuICBcIm9rYXlcIixcbiAgXCJvbGRcIixcbiAgXCJvbGl2ZVwiLFxuICBcIm9seW1waWNcIixcbiAgXCJvbWl0XCIsXG4gIFwib25jZVwiLFxuICBcIm9uZVwiLFxuICBcIm9uaW9uXCIsXG4gIFwib25saW5lXCIsXG4gIFwib25seVwiLFxuICBcIm9wZW5cIixcbiAgXCJvcGVyYVwiLFxuICBcIm9waW5pb25cIixcbiAgXCJvcHBvc2VcIixcbiAgXCJvcHRpb25cIixcbiAgXCJvcmFuZ2VcIixcbiAgXCJvcmJpdFwiLFxuICBcIm9yY2hhcmRcIixcbiAgXCJvcmRlclwiLFxuICBcIm9yZGluYXJ5XCIsXG4gIFwib3JnYW5cIixcbiAgXCJvcmllbnRcIixcbiAgXCJvcmlnaW5hbFwiLFxuICBcIm9ycGhhblwiLFxuICBcIm9zdHJpY2hcIixcbiAgXCJvdGhlclwiLFxuICBcIm91dGRvb3JcIixcbiAgXCJvdXRlclwiLFxuICBcIm91dHB1dFwiLFxuICBcIm91dHNpZGVcIixcbiAgXCJvdmFsXCIsXG4gIFwib3ZlblwiLFxuICBcIm92ZXJcIixcbiAgXCJvd25cIixcbiAgXCJvd25lclwiLFxuICBcIm94eWdlblwiLFxuICBcIm95c3RlclwiLFxuICBcIm96b25lXCIsXG4gIFwicGFjdFwiLFxuICBcInBhZGRsZVwiLFxuICBcInBhZ2VcIixcbiAgXCJwYWlyXCIsXG4gIFwicGFsYWNlXCIsXG4gIFwicGFsbVwiLFxuICBcInBhbmRhXCIsXG4gIFwicGFuZWxcIixcbiAgXCJwYW5pY1wiLFxuICBcInBhbnRoZXJcIixcbiAgXCJwYXBlclwiLFxuICBcInBhcmFkZVwiLFxuICBcInBhcmVudFwiLFxuICBcInBhcmtcIixcbiAgXCJwYXJyb3RcIixcbiAgXCJwYXJ0eVwiLFxuICBcInBhc3NcIixcbiAgXCJwYXRjaFwiLFxuICBcInBhdGhcIixcbiAgXCJwYXRpZW50XCIsXG4gIFwicGF0cm9sXCIsXG4gIFwicGF0dGVyblwiLFxuICBcInBhdXNlXCIsXG4gIFwicGF2ZVwiLFxuICBcInBheW1lbnRcIixcbiAgXCJwZWFjZVwiLFxuICBcInBlYW51dFwiLFxuICBcInBlYXJcIixcbiAgXCJwZWFzYW50XCIsXG4gIFwicGVsaWNhblwiLFxuICBcInBlblwiLFxuICBcInBlbmFsdHlcIixcbiAgXCJwZW5jaWxcIixcbiAgXCJwZW9wbGVcIixcbiAgXCJwZXBwZXJcIixcbiAgXCJwZXJmZWN0XCIsXG4gIFwicGVybWl0XCIsXG4gIFwicGVyc29uXCIsXG4gIFwicGV0XCIsXG4gIFwicGhvbmVcIixcbiAgXCJwaG90b1wiLFxuICBcInBocmFzZVwiLFxuICBcInBoeXNpY2FsXCIsXG4gIFwicGlhbm9cIixcbiAgXCJwaWNuaWNcIixcbiAgXCJwaWN0dXJlXCIsXG4gIFwicGllY2VcIixcbiAgXCJwaWdcIixcbiAgXCJwaWdlb25cIixcbiAgXCJwaWxsXCIsXG4gIFwicGlsb3RcIixcbiAgXCJwaW5rXCIsXG4gIFwicGlvbmVlclwiLFxuICBcInBpcGVcIixcbiAgXCJwaXN0b2xcIixcbiAgXCJwaXRjaFwiLFxuICBcInBpenphXCIsXG4gIFwicGxhY2VcIixcbiAgXCJwbGFuZXRcIixcbiAgXCJwbGFzdGljXCIsXG4gIFwicGxhdGVcIixcbiAgXCJwbGF5XCIsXG4gIFwicGxlYXNlXCIsXG4gIFwicGxlZGdlXCIsXG4gIFwicGx1Y2tcIixcbiAgXCJwbHVnXCIsXG4gIFwicGx1bmdlXCIsXG4gIFwicG9lbVwiLFxuICBcInBvZXRcIixcbiAgXCJwb2ludFwiLFxuICBcInBvbGFyXCIsXG4gIFwicG9sZVwiLFxuICBcInBvbGljZVwiLFxuICBcInBvbmRcIixcbiAgXCJwb255XCIsXG4gIFwicG9vbFwiLFxuICBcInBvcHVsYXJcIixcbiAgXCJwb3J0aW9uXCIsXG4gIFwicG9zaXRpb25cIixcbiAgXCJwb3NzaWJsZVwiLFxuICBcInBvc3RcIixcbiAgXCJwb3RhdG9cIixcbiAgXCJwb3R0ZXJ5XCIsXG4gIFwicG92ZXJ0eVwiLFxuICBcInBvd2RlclwiLFxuICBcInBvd2VyXCIsXG4gIFwicHJhY3RpY2VcIixcbiAgXCJwcmFpc2VcIixcbiAgXCJwcmVkaWN0XCIsXG4gIFwicHJlZmVyXCIsXG4gIFwicHJlcGFyZVwiLFxuICBcInByZXNlbnRcIixcbiAgXCJwcmV0dHlcIixcbiAgXCJwcmV2ZW50XCIsXG4gIFwicHJpY2VcIixcbiAgXCJwcmlkZVwiLFxuICBcInByaW1hcnlcIixcbiAgXCJwcmludFwiLFxuICBcInByaW9yaXR5XCIsXG4gIFwicHJpc29uXCIsXG4gIFwicHJpdmF0ZVwiLFxuICBcInByaXplXCIsXG4gIFwicHJvYmxlbVwiLFxuICBcInByb2Nlc3NcIixcbiAgXCJwcm9kdWNlXCIsXG4gIFwicHJvZml0XCIsXG4gIFwicHJvZ3JhbVwiLFxuICBcInByb2plY3RcIixcbiAgXCJwcm9tb3RlXCIsXG4gIFwicHJvb2ZcIixcbiAgXCJwcm9wZXJ0eVwiLFxuICBcInByb3NwZXJcIixcbiAgXCJwcm90ZWN0XCIsXG4gIFwicHJvdWRcIixcbiAgXCJwcm92aWRlXCIsXG4gIFwicHVibGljXCIsXG4gIFwicHVkZGluZ1wiLFxuICBcInB1bGxcIixcbiAgXCJwdWxwXCIsXG4gIFwicHVsc2VcIixcbiAgXCJwdW1wa2luXCIsXG4gIFwicHVuY2hcIixcbiAgXCJwdXBpbFwiLFxuICBcInB1cHB5XCIsXG4gIFwicHVyY2hhc2VcIixcbiAgXCJwdXJpdHlcIixcbiAgXCJwdXJwb3NlXCIsXG4gIFwicHVyc2VcIixcbiAgXCJwdXNoXCIsXG4gIFwicHV0XCIsXG4gIFwicHV6emxlXCIsXG4gIFwicHlyYW1pZFwiLFxuICBcInF1YWxpdHlcIixcbiAgXCJxdWFudHVtXCIsXG4gIFwicXVhcnRlclwiLFxuICBcInF1ZXN0aW9uXCIsXG4gIFwicXVpY2tcIixcbiAgXCJxdWl0XCIsXG4gIFwicXVpelwiLFxuICBcInF1b3RlXCIsXG4gIFwicmFiYml0XCIsXG4gIFwicmFjY29vblwiLFxuICBcInJhY2VcIixcbiAgXCJyYWNrXCIsXG4gIFwicmFkYXJcIixcbiAgXCJyYWRpb1wiLFxuICBcInJhaWxcIixcbiAgXCJyYWluXCIsXG4gIFwicmFpc2VcIixcbiAgXCJyYWxseVwiLFxuICBcInJhbXBcIixcbiAgXCJyYW5jaFwiLFxuICBcInJhbmRvbVwiLFxuICBcInJhbmdlXCIsXG4gIFwicmFwaWRcIixcbiAgXCJyYXJlXCIsXG4gIFwicmF0ZVwiLFxuICBcInJhdGhlclwiLFxuICBcInJhdmVuXCIsXG4gIFwicmF3XCIsXG4gIFwicmF6b3JcIixcbiAgXCJyZWFkeVwiLFxuICBcInJlYWxcIixcbiAgXCJyZWFzb25cIixcbiAgXCJyZWJlbFwiLFxuICBcInJlYnVpbGRcIixcbiAgXCJyZWNhbGxcIixcbiAgXCJyZWNlaXZlXCIsXG4gIFwicmVjaXBlXCIsXG4gIFwicmVjb3JkXCIsXG4gIFwicmVjeWNsZVwiLFxuICBcInJlZHVjZVwiLFxuICBcInJlZmxlY3RcIixcbiAgXCJyZWZvcm1cIixcbiAgXCJyZWZ1c2VcIixcbiAgXCJyZWdpb25cIixcbiAgXCJyZWdyZXRcIixcbiAgXCJyZWd1bGFyXCIsXG4gIFwicmVqZWN0XCIsXG4gIFwicmVsYXhcIixcbiAgXCJyZWxlYXNlXCIsXG4gIFwicmVsaWVmXCIsXG4gIFwicmVseVwiLFxuICBcInJlbWFpblwiLFxuICBcInJlbWVtYmVyXCIsXG4gIFwicmVtaW5kXCIsXG4gIFwicmVtb3ZlXCIsXG4gIFwicmVuZGVyXCIsXG4gIFwicmVuZXdcIixcbiAgXCJyZW50XCIsXG4gIFwicmVvcGVuXCIsXG4gIFwicmVwYWlyXCIsXG4gIFwicmVwZWF0XCIsXG4gIFwicmVwbGFjZVwiLFxuICBcInJlcG9ydFwiLFxuICBcInJlcXVpcmVcIixcbiAgXCJyZXNjdWVcIixcbiAgXCJyZXNlbWJsZVwiLFxuICBcInJlc2lzdFwiLFxuICBcInJlc291cmNlXCIsXG4gIFwicmVzcG9uc2VcIixcbiAgXCJyZXN1bHRcIixcbiAgXCJyZXRpcmVcIixcbiAgXCJyZXRyZWF0XCIsXG4gIFwicmV0dXJuXCIsXG4gIFwicmV1bmlvblwiLFxuICBcInJldmVhbFwiLFxuICBcInJldmlld1wiLFxuICBcInJld2FyZFwiLFxuICBcInJoeXRobVwiLFxuICBcInJpYlwiLFxuICBcInJpYmJvblwiLFxuICBcInJpY2VcIixcbiAgXCJyaWNoXCIsXG4gIFwicmlkZVwiLFxuICBcInJpZGdlXCIsXG4gIFwicmlmbGVcIixcbiAgXCJyaWdodFwiLFxuICBcInJpZ2lkXCIsXG4gIFwicmluZ1wiLFxuICBcInJpb3RcIixcbiAgXCJyaXBwbGVcIixcbiAgXCJyaXNrXCIsXG4gIFwicml0dWFsXCIsXG4gIFwicml2YWxcIixcbiAgXCJyaXZlclwiLFxuICBcInJvYWRcIixcbiAgXCJyb2FzdFwiLFxuICBcInJvYm90XCIsXG4gIFwicm9idXN0XCIsXG4gIFwicm9ja2V0XCIsXG4gIFwicm9tYW5jZVwiLFxuICBcInJvb2ZcIixcbiAgXCJyb29raWVcIixcbiAgXCJyb29tXCIsXG4gIFwicm9zZVwiLFxuICBcInJvdGF0ZVwiLFxuICBcInJvdWdoXCIsXG4gIFwicm91bmRcIixcbiAgXCJyb3V0ZVwiLFxuICBcInJveWFsXCIsXG4gIFwicnViYmVyXCIsXG4gIFwicnVkZVwiLFxuICBcInJ1Z1wiLFxuICBcInJ1bGVcIixcbiAgXCJydW5cIixcbiAgXCJydW53YXlcIixcbiAgXCJydXJhbFwiLFxuICBcInNhZFwiLFxuICBcInNhZGRsZVwiLFxuICBcInNhZG5lc3NcIixcbiAgXCJzYWZlXCIsXG4gIFwic2FpbFwiLFxuICBcInNhbGFkXCIsXG4gIFwic2FsbW9uXCIsXG4gIFwic2Fsb25cIixcbiAgXCJzYWx0XCIsXG4gIFwic2FsdXRlXCIsXG4gIFwic2FtZVwiLFxuICBcInNhbXBsZVwiLFxuICBcInNhbmRcIixcbiAgXCJzYXRpc2Z5XCIsXG4gIFwic2F0b3NoaVwiLFxuICBcInNhdWNlXCIsXG4gIFwic2F1c2FnZVwiLFxuICBcInNhdmVcIixcbiAgXCJzYXlcIixcbiAgXCJzY2FsZVwiLFxuICBcInNjYW5cIixcbiAgXCJzY2FyZVwiLFxuICBcInNjYXR0ZXJcIixcbiAgXCJzY2VuZVwiLFxuICBcInNjaGVtZVwiLFxuICBcInNjaG9vbFwiLFxuICBcInNjaWVuY2VcIixcbiAgXCJzY2lzc29yc1wiLFxuICBcInNjb3JwaW9uXCIsXG4gIFwic2NvdXRcIixcbiAgXCJzY3JhcFwiLFxuICBcInNjcmVlblwiLFxuICBcInNjcmlwdFwiLFxuICBcInNjcnViXCIsXG4gIFwic2VhXCIsXG4gIFwic2VhcmNoXCIsXG4gIFwic2Vhc29uXCIsXG4gIFwic2VhdFwiLFxuICBcInNlY29uZFwiLFxuICBcInNlY3JldFwiLFxuICBcInNlY3Rpb25cIixcbiAgXCJzZWN1cml0eVwiLFxuICBcInNlZWRcIixcbiAgXCJzZWVrXCIsXG4gIFwic2VnbWVudFwiLFxuICBcInNlbGVjdFwiLFxuICBcInNlbGxcIixcbiAgXCJzZW1pbmFyXCIsXG4gIFwic2VuaW9yXCIsXG4gIFwic2Vuc2VcIixcbiAgXCJzZW50ZW5jZVwiLFxuICBcInNlcmllc1wiLFxuICBcInNlcnZpY2VcIixcbiAgXCJzZXNzaW9uXCIsXG4gIFwic2V0dGxlXCIsXG4gIFwic2V0dXBcIixcbiAgXCJzZXZlblwiLFxuICBcInNoYWRvd1wiLFxuICBcInNoYWZ0XCIsXG4gIFwic2hhbGxvd1wiLFxuICBcInNoYXJlXCIsXG4gIFwic2hlZFwiLFxuICBcInNoZWxsXCIsXG4gIFwic2hlcmlmZlwiLFxuICBcInNoaWVsZFwiLFxuICBcInNoaWZ0XCIsXG4gIFwic2hpbmVcIixcbiAgXCJzaGlwXCIsXG4gIFwic2hpdmVyXCIsXG4gIFwic2hvY2tcIixcbiAgXCJzaG9lXCIsXG4gIFwic2hvb3RcIixcbiAgXCJzaG9wXCIsXG4gIFwic2hvcnRcIixcbiAgXCJzaG91bGRlclwiLFxuICBcInNob3ZlXCIsXG4gIFwic2hyaW1wXCIsXG4gIFwic2hydWdcIixcbiAgXCJzaHVmZmxlXCIsXG4gIFwic2h5XCIsXG4gIFwic2libGluZ1wiLFxuICBcInNpY2tcIixcbiAgXCJzaWRlXCIsXG4gIFwic2llZ2VcIixcbiAgXCJzaWdodFwiLFxuICBcInNpZ25cIixcbiAgXCJzaWxlbnRcIixcbiAgXCJzaWxrXCIsXG4gIFwic2lsbHlcIixcbiAgXCJzaWx2ZXJcIixcbiAgXCJzaW1pbGFyXCIsXG4gIFwic2ltcGxlXCIsXG4gIFwic2luY2VcIixcbiAgXCJzaW5nXCIsXG4gIFwic2lyZW5cIixcbiAgXCJzaXN0ZXJcIixcbiAgXCJzaXR1YXRlXCIsXG4gIFwic2l4XCIsXG4gIFwic2l6ZVwiLFxuICBcInNrYXRlXCIsXG4gIFwic2tldGNoXCIsXG4gIFwic2tpXCIsXG4gIFwic2tpbGxcIixcbiAgXCJza2luXCIsXG4gIFwic2tpcnRcIixcbiAgXCJza3VsbFwiLFxuICBcInNsYWJcIixcbiAgXCJzbGFtXCIsXG4gIFwic2xlZXBcIixcbiAgXCJzbGVuZGVyXCIsXG4gIFwic2xpY2VcIixcbiAgXCJzbGlkZVwiLFxuICBcInNsaWdodFwiLFxuICBcInNsaW1cIixcbiAgXCJzbG9nYW5cIixcbiAgXCJzbG90XCIsXG4gIFwic2xvd1wiLFxuICBcInNsdXNoXCIsXG4gIFwic21hbGxcIixcbiAgXCJzbWFydFwiLFxuICBcInNtaWxlXCIsXG4gIFwic21va2VcIixcbiAgXCJzbW9vdGhcIixcbiAgXCJzbmFja1wiLFxuICBcInNuYWtlXCIsXG4gIFwic25hcFwiLFxuICBcInNuaWZmXCIsXG4gIFwic25vd1wiLFxuICBcInNvYXBcIixcbiAgXCJzb2NjZXJcIixcbiAgXCJzb2NpYWxcIixcbiAgXCJzb2NrXCIsXG4gIFwic29kYVwiLFxuICBcInNvZnRcIixcbiAgXCJzb2xhclwiLFxuICBcInNvbGRpZXJcIixcbiAgXCJzb2xpZFwiLFxuICBcInNvbHV0aW9uXCIsXG4gIFwic29sdmVcIixcbiAgXCJzb21lb25lXCIsXG4gIFwic29uZ1wiLFxuICBcInNvb25cIixcbiAgXCJzb3JyeVwiLFxuICBcInNvcnRcIixcbiAgXCJzb3VsXCIsXG4gIFwic291bmRcIixcbiAgXCJzb3VwXCIsXG4gIFwic291cmNlXCIsXG4gIFwic291dGhcIixcbiAgXCJzcGFjZVwiLFxuICBcInNwYXJlXCIsXG4gIFwic3BhdGlhbFwiLFxuICBcInNwYXduXCIsXG4gIFwic3BlYWtcIixcbiAgXCJzcGVjaWFsXCIsXG4gIFwic3BlZWRcIixcbiAgXCJzcGVsbFwiLFxuICBcInNwZW5kXCIsXG4gIFwic3BoZXJlXCIsXG4gIFwic3BpY2VcIixcbiAgXCJzcGlkZXJcIixcbiAgXCJzcGlrZVwiLFxuICBcInNwaW5cIixcbiAgXCJzcGlyaXRcIixcbiAgXCJzcGxpdFwiLFxuICBcInNwb2lsXCIsXG4gIFwic3BvbnNvclwiLFxuICBcInNwb29uXCIsXG4gIFwic3BvcnRcIixcbiAgXCJzcG90XCIsXG4gIFwic3ByYXlcIixcbiAgXCJzcHJlYWRcIixcbiAgXCJzcHJpbmdcIixcbiAgXCJzcHlcIixcbiAgXCJzcXVhcmVcIixcbiAgXCJzcXVlZXplXCIsXG4gIFwic3F1aXJyZWxcIixcbiAgXCJzdGFibGVcIixcbiAgXCJzdGFkaXVtXCIsXG4gIFwic3RhZmZcIixcbiAgXCJzdGFnZVwiLFxuICBcInN0YWlyc1wiLFxuICBcInN0YW1wXCIsXG4gIFwic3RhbmRcIixcbiAgXCJzdGFydFwiLFxuICBcInN0YXRlXCIsXG4gIFwic3RheVwiLFxuICBcInN0ZWFrXCIsXG4gIFwic3RlZWxcIixcbiAgXCJzdGVtXCIsXG4gIFwic3RlcFwiLFxuICBcInN0ZXJlb1wiLFxuICBcInN0aWNrXCIsXG4gIFwic3RpbGxcIixcbiAgXCJzdGluZ1wiLFxuICBcInN0b2NrXCIsXG4gIFwic3RvbWFjaFwiLFxuICBcInN0b25lXCIsXG4gIFwic3Rvb2xcIixcbiAgXCJzdG9yeVwiLFxuICBcInN0b3ZlXCIsXG4gIFwic3RyYXRlZ3lcIixcbiAgXCJzdHJlZXRcIixcbiAgXCJzdHJpa2VcIixcbiAgXCJzdHJvbmdcIixcbiAgXCJzdHJ1Z2dsZVwiLFxuICBcInN0dWRlbnRcIixcbiAgXCJzdHVmZlwiLFxuICBcInN0dW1ibGVcIixcbiAgXCJzdHlsZVwiLFxuICBcInN1YmplY3RcIixcbiAgXCJzdWJtaXRcIixcbiAgXCJzdWJ3YXlcIixcbiAgXCJzdWNjZXNzXCIsXG4gIFwic3VjaFwiLFxuICBcInN1ZGRlblwiLFxuICBcInN1ZmZlclwiLFxuICBcInN1Z2FyXCIsXG4gIFwic3VnZ2VzdFwiLFxuICBcInN1aXRcIixcbiAgXCJzdW1tZXJcIixcbiAgXCJzdW5cIixcbiAgXCJzdW5ueVwiLFxuICBcInN1bnNldFwiLFxuICBcInN1cGVyXCIsXG4gIFwic3VwcGx5XCIsXG4gIFwic3VwcmVtZVwiLFxuICBcInN1cmVcIixcbiAgXCJzdXJmYWNlXCIsXG4gIFwic3VyZ2VcIixcbiAgXCJzdXJwcmlzZVwiLFxuICBcInN1cnJvdW5kXCIsXG4gIFwic3VydmV5XCIsXG4gIFwic3VzcGVjdFwiLFxuICBcInN1c3RhaW5cIixcbiAgXCJzd2FsbG93XCIsXG4gIFwic3dhbXBcIixcbiAgXCJzd2FwXCIsXG4gIFwic3dhcm1cIixcbiAgXCJzd2VhclwiLFxuICBcInN3ZWV0XCIsXG4gIFwic3dpZnRcIixcbiAgXCJzd2ltXCIsXG4gIFwic3dpbmdcIixcbiAgXCJzd2l0Y2hcIixcbiAgXCJzd29yZFwiLFxuICBcInN5bWJvbFwiLFxuICBcInN5bXB0b21cIixcbiAgXCJzeXJ1cFwiLFxuICBcInN5c3RlbVwiLFxuICBcInRhYmxlXCIsXG4gIFwidGFja2xlXCIsXG4gIFwidGFnXCIsXG4gIFwidGFpbFwiLFxuICBcInRhbGVudFwiLFxuICBcInRhbGtcIixcbiAgXCJ0YW5rXCIsXG4gIFwidGFwZVwiLFxuICBcInRhcmdldFwiLFxuICBcInRhc2tcIixcbiAgXCJ0YXN0ZVwiLFxuICBcInRhdHRvb1wiLFxuICBcInRheGlcIixcbiAgXCJ0ZWFjaFwiLFxuICBcInRlYW1cIixcbiAgXCJ0ZWxsXCIsXG4gIFwidGVuXCIsXG4gIFwidGVuYW50XCIsXG4gIFwidGVubmlzXCIsXG4gIFwidGVudFwiLFxuICBcInRlcm1cIixcbiAgXCJ0ZXN0XCIsXG4gIFwidGV4dFwiLFxuICBcInRoYW5rXCIsXG4gIFwidGhhdFwiLFxuICBcInRoZW1lXCIsXG4gIFwidGhlblwiLFxuICBcInRoZW9yeVwiLFxuICBcInRoZXJlXCIsXG4gIFwidGhleVwiLFxuICBcInRoaW5nXCIsXG4gIFwidGhpc1wiLFxuICBcInRob3VnaHRcIixcbiAgXCJ0aHJlZVwiLFxuICBcInRocml2ZVwiLFxuICBcInRocm93XCIsXG4gIFwidGh1bWJcIixcbiAgXCJ0aHVuZGVyXCIsXG4gIFwidGlja2V0XCIsXG4gIFwidGlkZVwiLFxuICBcInRpZ2VyXCIsXG4gIFwidGlsdFwiLFxuICBcInRpbWJlclwiLFxuICBcInRpbWVcIixcbiAgXCJ0aW55XCIsXG4gIFwidGlwXCIsXG4gIFwidGlyZWRcIixcbiAgXCJ0aXNzdWVcIixcbiAgXCJ0aXRsZVwiLFxuICBcInRvYXN0XCIsXG4gIFwidG9iYWNjb1wiLFxuICBcInRvZGF5XCIsXG4gIFwidG9kZGxlclwiLFxuICBcInRvZVwiLFxuICBcInRvZ2V0aGVyXCIsXG4gIFwidG9pbGV0XCIsXG4gIFwidG9rZW5cIixcbiAgXCJ0b21hdG9cIixcbiAgXCJ0b21vcnJvd1wiLFxuICBcInRvbmVcIixcbiAgXCJ0b25ndWVcIixcbiAgXCJ0b25pZ2h0XCIsXG4gIFwidG9vbFwiLFxuICBcInRvb3RoXCIsXG4gIFwidG9wXCIsXG4gIFwidG9waWNcIixcbiAgXCJ0b3BwbGVcIixcbiAgXCJ0b3JjaFwiLFxuICBcInRvcm5hZG9cIixcbiAgXCJ0b3J0b2lzZVwiLFxuICBcInRvc3NcIixcbiAgXCJ0b3RhbFwiLFxuICBcInRvdXJpc3RcIixcbiAgXCJ0b3dhcmRcIixcbiAgXCJ0b3dlclwiLFxuICBcInRvd25cIixcbiAgXCJ0b3lcIixcbiAgXCJ0cmFja1wiLFxuICBcInRyYWRlXCIsXG4gIFwidHJhZmZpY1wiLFxuICBcInRyYWdpY1wiLFxuICBcInRyYWluXCIsXG4gIFwidHJhbnNmZXJcIixcbiAgXCJ0cmFwXCIsXG4gIFwidHJhc2hcIixcbiAgXCJ0cmF2ZWxcIixcbiAgXCJ0cmF5XCIsXG4gIFwidHJlYXRcIixcbiAgXCJ0cmVlXCIsXG4gIFwidHJlbmRcIixcbiAgXCJ0cmlhbFwiLFxuICBcInRyaWJlXCIsXG4gIFwidHJpY2tcIixcbiAgXCJ0cmlnZ2VyXCIsXG4gIFwidHJpbVwiLFxuICBcInRyaXBcIixcbiAgXCJ0cm9waHlcIixcbiAgXCJ0cm91YmxlXCIsXG4gIFwidHJ1Y2tcIixcbiAgXCJ0cnVlXCIsXG4gIFwidHJ1bHlcIixcbiAgXCJ0cnVtcGV0XCIsXG4gIFwidHJ1c3RcIixcbiAgXCJ0cnV0aFwiLFxuICBcInRyeVwiLFxuICBcInR1YmVcIixcbiAgXCJ0dWl0aW9uXCIsXG4gIFwidHVtYmxlXCIsXG4gIFwidHVuYVwiLFxuICBcInR1bm5lbFwiLFxuICBcInR1cmtleVwiLFxuICBcInR1cm5cIixcbiAgXCJ0dXJ0bGVcIixcbiAgXCJ0d2VsdmVcIixcbiAgXCJ0d2VudHlcIixcbiAgXCJ0d2ljZVwiLFxuICBcInR3aW5cIixcbiAgXCJ0d2lzdFwiLFxuICBcInR3b1wiLFxuICBcInR5cGVcIixcbiAgXCJ0eXBpY2FsXCIsXG4gIFwidWdseVwiLFxuICBcInVtYnJlbGxhXCIsXG4gIFwidW5hYmxlXCIsXG4gIFwidW5hd2FyZVwiLFxuICBcInVuY2xlXCIsXG4gIFwidW5jb3ZlclwiLFxuICBcInVuZGVyXCIsXG4gIFwidW5kb1wiLFxuICBcInVuZmFpclwiLFxuICBcInVuZm9sZFwiLFxuICBcInVuaGFwcHlcIixcbiAgXCJ1bmlmb3JtXCIsXG4gIFwidW5pcXVlXCIsXG4gIFwidW5pdFwiLFxuICBcInVuaXZlcnNlXCIsXG4gIFwidW5rbm93blwiLFxuICBcInVubG9ja1wiLFxuICBcInVudGlsXCIsXG4gIFwidW51c3VhbFwiLFxuICBcInVudmVpbFwiLFxuICBcInVwZGF0ZVwiLFxuICBcInVwZ3JhZGVcIixcbiAgXCJ1cGhvbGRcIixcbiAgXCJ1cG9uXCIsXG4gIFwidXBwZXJcIixcbiAgXCJ1cHNldFwiLFxuICBcInVyYmFuXCIsXG4gIFwidXJnZVwiLFxuICBcInVzYWdlXCIsXG4gIFwidXNlXCIsXG4gIFwidXNlZFwiLFxuICBcInVzZWZ1bFwiLFxuICBcInVzZWxlc3NcIixcbiAgXCJ1c3VhbFwiLFxuICBcInV0aWxpdHlcIixcbiAgXCJ2YWNhbnRcIixcbiAgXCJ2YWN1dW1cIixcbiAgXCJ2YWd1ZVwiLFxuICBcInZhbGlkXCIsXG4gIFwidmFsbGV5XCIsXG4gIFwidmFsdmVcIixcbiAgXCJ2YW5cIixcbiAgXCJ2YW5pc2hcIixcbiAgXCJ2YXBvclwiLFxuICBcInZhcmlvdXNcIixcbiAgXCJ2YXN0XCIsXG4gIFwidmF1bHRcIixcbiAgXCJ2ZWhpY2xlXCIsXG4gIFwidmVsdmV0XCIsXG4gIFwidmVuZG9yXCIsXG4gIFwidmVudHVyZVwiLFxuICBcInZlbnVlXCIsXG4gIFwidmVyYlwiLFxuICBcInZlcmlmeVwiLFxuICBcInZlcnNpb25cIixcbiAgXCJ2ZXJ5XCIsXG4gIFwidmVzc2VsXCIsXG4gIFwidmV0ZXJhblwiLFxuICBcInZpYWJsZVwiLFxuICBcInZpYnJhbnRcIixcbiAgXCJ2aWNpb3VzXCIsXG4gIFwidmljdG9yeVwiLFxuICBcInZpZGVvXCIsXG4gIFwidmlld1wiLFxuICBcInZpbGxhZ2VcIixcbiAgXCJ2aW50YWdlXCIsXG4gIFwidmlvbGluXCIsXG4gIFwidmlydHVhbFwiLFxuICBcInZpcnVzXCIsXG4gIFwidmlzYVwiLFxuICBcInZpc2l0XCIsXG4gIFwidmlzdWFsXCIsXG4gIFwidml0YWxcIixcbiAgXCJ2aXZpZFwiLFxuICBcInZvY2FsXCIsXG4gIFwidm9pY2VcIixcbiAgXCJ2b2lkXCIsXG4gIFwidm9sY2Fub1wiLFxuICBcInZvbHVtZVwiLFxuICBcInZvdGVcIixcbiAgXCJ2b3lhZ2VcIixcbiAgXCJ3YWdlXCIsXG4gIFwid2Fnb25cIixcbiAgXCJ3YWl0XCIsXG4gIFwid2Fsa1wiLFxuICBcIndhbGxcIixcbiAgXCJ3YWxudXRcIixcbiAgXCJ3YW50XCIsXG4gIFwid2FyZmFyZVwiLFxuICBcIndhcm1cIixcbiAgXCJ3YXJyaW9yXCIsXG4gIFwid2FzaFwiLFxuICBcIndhc3BcIixcbiAgXCJ3YXN0ZVwiLFxuICBcIndhdGVyXCIsXG4gIFwid2F2ZVwiLFxuICBcIndheVwiLFxuICBcIndlYWx0aFwiLFxuICBcIndlYXBvblwiLFxuICBcIndlYXJcIixcbiAgXCJ3ZWFzZWxcIixcbiAgXCJ3ZWF0aGVyXCIsXG4gIFwid2ViXCIsXG4gIFwid2VkZGluZ1wiLFxuICBcIndlZWtlbmRcIixcbiAgXCJ3ZWlyZFwiLFxuICBcIndlbGNvbWVcIixcbiAgXCJ3ZXN0XCIsXG4gIFwid2V0XCIsXG4gIFwid2hhbGVcIixcbiAgXCJ3aGF0XCIsXG4gIFwid2hlYXRcIixcbiAgXCJ3aGVlbFwiLFxuICBcIndoZW5cIixcbiAgXCJ3aGVyZVwiLFxuICBcIndoaXBcIixcbiAgXCJ3aGlzcGVyXCIsXG4gIFwid2lkZVwiLFxuICBcIndpZHRoXCIsXG4gIFwid2lmZVwiLFxuICBcIndpbGRcIixcbiAgXCJ3aWxsXCIsXG4gIFwid2luXCIsXG4gIFwid2luZG93XCIsXG4gIFwid2luZVwiLFxuICBcIndpbmdcIixcbiAgXCJ3aW5rXCIsXG4gIFwid2lubmVyXCIsXG4gIFwid2ludGVyXCIsXG4gIFwid2lyZVwiLFxuICBcIndpc2RvbVwiLFxuICBcIndpc2VcIixcbiAgXCJ3aXNoXCIsXG4gIFwid2l0bmVzc1wiLFxuICBcIndvbGZcIixcbiAgXCJ3b21hblwiLFxuICBcIndvbmRlclwiLFxuICBcIndvb2RcIixcbiAgXCJ3b29sXCIsXG4gIFwid29yZFwiLFxuICBcIndvcmtcIixcbiAgXCJ3b3JsZFwiLFxuICBcIndvcnJ5XCIsXG4gIFwid29ydGhcIixcbiAgXCJ3cmFwXCIsXG4gIFwid3JlY2tcIixcbiAgXCJ3cmVzdGxlXCIsXG4gIFwid3Jpc3RcIixcbiAgXCJ3cml0ZVwiLFxuICBcIndyb25nXCIsXG4gIFwieWFyZFwiLFxuICBcInllYXJcIixcbiAgXCJ5ZWxsb3dcIixcbiAgXCJ5b3VcIixcbiAgXCJ5b3VuZ1wiLFxuICBcInlvdXRoXCIsXG4gIFwiemVicmFcIixcbiAgXCJ6ZXJvXCIsXG4gIFwiem9uZVwiLFxuICBcInpvb1wiXG5dO1xuXG4vLyBzcmMvd29yZGxpc3RzL2luZGV4LnRzXG52YXIgTGFuZ3VhZ2UgPSAvKiBAX19QVVJFX18gKi8gKChMYW5ndWFnZTIpID0+IHtcbiAgTGFuZ3VhZ2UyW1wiZW5nbGlzaFwiXSA9IFwiZW5nbGlzaFwiO1xuICByZXR1cm4gTGFuZ3VhZ2UyO1xufSkoTGFuZ3VhZ2UgfHwge30pO1xuXG4vLyBzcmMvbW5lbW9uaWMvdXRpbHMudHNcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGUyMSwgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjIzIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgc2hhMjU2IGFzIHNoYTI1NjIgfSBmcm9tIFwiQGZ1ZWwtdHMvaGFzaGVyXCI7XG5pbXBvcnQgeyBhcnJheWlmeSBhcyBhcnJheWlmeTE4IH0gZnJvbSBcIkBmdWVsLXRzL3V0aWxzXCI7XG5mdW5jdGlvbiBnZXRMb3dlck1hc2soYml0cykge1xuICByZXR1cm4gKDEgPDwgYml0cykgLSAxO1xufVxuX19uYW1lKGdldExvd2VyTWFzaywgXCJnZXRMb3dlck1hc2tcIik7XG5mdW5jdGlvbiBnZXRVcHBlck1hc2soYml0cykge1xuICByZXR1cm4gKDEgPDwgYml0cykgLSAxIDw8IDggLSBiaXRzO1xufVxuX19uYW1lKGdldFVwcGVyTWFzaywgXCJnZXRVcHBlck1hc2tcIik7XG5mdW5jdGlvbiBnZXRXb3JkcyhtbmVtb25pYykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkobW5lbW9uaWMpKSB7XG4gICAgcmV0dXJuIG1uZW1vbmljLnNwbGl0KC9cXHMrLyk7XG4gIH1cbiAgcmV0dXJuIG1uZW1vbmljO1xufVxuX19uYW1lKGdldFdvcmRzLCBcImdldFdvcmRzXCIpO1xuZnVuY3Rpb24gZ2V0UGhyYXNlKG1uZW1vbmljKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG1uZW1vbmljKSkge1xuICAgIHJldHVybiBtbmVtb25pYy5qb2luKFwiIFwiKTtcbiAgfVxuICByZXR1cm4gbW5lbW9uaWM7XG59XG5fX25hbWUoZ2V0UGhyYXNlLCBcImdldFBocmFzZVwiKTtcbmZ1bmN0aW9uIGVudHJvcHlUb01uZW1vbmljSW5kaWNlcyhlbnRyb3B5KSB7XG4gIGNvbnN0IGluZGljZXMgPSBbMF07XG4gIGxldCByZW1haW5pbmdCaXRzID0gMTE7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZW50cm9weS5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChyZW1haW5pbmdCaXRzID4gOCkge1xuICAgICAgaW5kaWNlc1tpbmRpY2VzLmxlbmd0aCAtIDFdIDw8PSA4O1xuICAgICAgaW5kaWNlc1tpbmRpY2VzLmxlbmd0aCAtIDFdIHw9IGVudHJvcHlbaV07XG4gICAgICByZW1haW5pbmdCaXRzIC09IDg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZGljZXNbaW5kaWNlcy5sZW5ndGggLSAxXSA8PD0gcmVtYWluaW5nQml0cztcbiAgICAgIGluZGljZXNbaW5kaWNlcy5sZW5ndGggLSAxXSB8PSBlbnRyb3B5W2ldID4+IDggLSByZW1haW5pbmdCaXRzO1xuICAgICAgaW5kaWNlcy5wdXNoKGVudHJvcHlbaV0gJiBnZXRMb3dlck1hc2soOCAtIHJlbWFpbmluZ0JpdHMpKTtcbiAgICAgIHJlbWFpbmluZ0JpdHMgKz0gMztcbiAgICB9XG4gIH1cbiAgY29uc3QgY2hlY2tzdW1CaXRzID0gZW50cm9weS5sZW5ndGggLyA0O1xuICBjb25zdCBjaGVja3N1bSA9IGFycmF5aWZ5MTgoc2hhMjU2MihlbnRyb3B5KSlbMF0gJiBnZXRVcHBlck1hc2soY2hlY2tzdW1CaXRzKTtcbiAgaW5kaWNlc1tpbmRpY2VzLmxlbmd0aCAtIDFdIDw8PSBjaGVja3N1bUJpdHM7XG4gIGluZGljZXNbaW5kaWNlcy5sZW5ndGggLSAxXSB8PSBjaGVja3N1bSA+PiA4IC0gY2hlY2tzdW1CaXRzO1xuICByZXR1cm4gaW5kaWNlcztcbn1cbl9fbmFtZShlbnRyb3B5VG9NbmVtb25pY0luZGljZXMsIFwiZW50cm9weVRvTW5lbW9uaWNJbmRpY2VzXCIpO1xuZnVuY3Rpb24gbW5lbW9uaWNXb3Jkc1RvRW50cm9weSh3b3Jkcywgd29yZGxpc3QpIHtcbiAgY29uc3Qgc2l6ZSA9IE1hdGguY2VpbCgxMSAqIHdvcmRzLmxlbmd0aCAvIDgpO1xuICBjb25zdCBlbnRyb3B5ID0gYXJyYXlpZnkxOChuZXcgVWludDhBcnJheShzaXplKSk7XG4gIGxldCBvZmZzZXQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgaW5kZXggPSB3b3JkbGlzdC5pbmRleE9mKHdvcmRzW2ldLm5vcm1hbGl6ZShcIk5GS0RcIikpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IyMyhcbiAgICAgICAgRXJyb3JDb2RlMjEuSU5WQUxJRF9NTkVNT05JQyxcbiAgICAgICAgYEludmFsaWQgbW5lbW9uaWM6IHRoZSB3b3JkICcke3dvcmRzW2ldfScgaXMgbm90IGZvdW5kIGluIHRoZSBwcm92aWRlZCB3b3JkbGlzdC5gXG4gICAgICApO1xuICAgIH1cbiAgICBmb3IgKGxldCBiaXQgPSAwOyBiaXQgPCAxMTsgYml0ICs9IDEpIHtcbiAgICAgIGlmIChpbmRleCAmIDEgPDwgMTAgLSBiaXQpIHtcbiAgICAgICAgZW50cm9weVtvZmZzZXQgPj4gM10gfD0gMSA8PCA3IC0gb2Zmc2V0ICUgODtcbiAgICAgIH1cbiAgICAgIG9mZnNldCArPSAxO1xuICAgIH1cbiAgfVxuICBjb25zdCBlbnRyb3B5Qml0cyA9IDMyICogd29yZHMubGVuZ3RoIC8gMztcbiAgY29uc3QgY2hlY2tzdW1CaXRzID0gd29yZHMubGVuZ3RoIC8gMztcbiAgY29uc3QgY2hlY2tzdW1NYXNrID0gZ2V0VXBwZXJNYXNrKGNoZWNrc3VtQml0cyk7XG4gIGNvbnN0IGNoZWNrc3VtID0gYXJyYXlpZnkxOChzaGEyNTYyKGVudHJvcHkuc2xpY2UoMCwgZW50cm9weUJpdHMgLyA4KSkpWzBdICYgY2hlY2tzdW1NYXNrO1xuICBpZiAoY2hlY2tzdW0gIT09IChlbnRyb3B5W2VudHJvcHkubGVuZ3RoIC0gMV0gJiBjaGVja3N1bU1hc2spKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjIzKFxuICAgICAgRXJyb3JDb2RlMjEuSU5WQUxJRF9DSEVDS1NVTSxcbiAgICAgIFwiQ2hlY2tzdW0gdmFsaWRhdGlvbiBmYWlsZWQgZm9yIHRoZSBwcm92aWRlZCBtbmVtb25pYy5cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGVudHJvcHkuc2xpY2UoMCwgZW50cm9weUJpdHMgLyA4KTtcbn1cbl9fbmFtZShtbmVtb25pY1dvcmRzVG9FbnRyb3B5LCBcIm1uZW1vbmljV29yZHNUb0VudHJvcHlcIik7XG5cbi8vIHNyYy9tbmVtb25pYy9tbmVtb25pYy50c1xudmFyIE1hc3RlclNlY3JldCA9IHRvVXRmOEJ5dGVzKFwiQml0Y29pbiBzZWVkXCIpO1xudmFyIE1haW5uZXRQUlYgPSBcIjB4MDQ4OGFkZTRcIjtcbnZhciBUZXN0bmV0UFJWID0gXCIweDA0MzU4Mzk0XCI7XG52YXIgTU5FTU9OSUNfU0laRVMgPSBbMTIsIDE1LCAxOCwgMjEsIDI0XTtcbmZ1bmN0aW9uIGFzc2VydFdvcmRMaXN0KHdvcmRsaXN0KSB7XG4gIGlmICh3b3JkbGlzdC5sZW5ndGggIT09IDIwNDgpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjQoXG4gICAgICBFcnJvckNvZGUyMi5JTlZBTElEX1dPUkRfTElTVCxcbiAgICAgIGBFeHBlY3RlZCB3b3JkIGxpc3QgbGVuZ3RoIG9mIDIwNDgsIGJ1dCBnb3QgJHt3b3JkbGlzdC5sZW5ndGh9LmBcbiAgICApO1xuICB9XG59XG5fX25hbWUoYXNzZXJ0V29yZExpc3QsIFwiYXNzZXJ0V29yZExpc3RcIik7XG5mdW5jdGlvbiBhc3NlcnRFbnRyb3B5KGVudHJvcHkpIHtcbiAgaWYgKGVudHJvcHkubGVuZ3RoICUgNCAhPT0gMCB8fCBlbnRyb3B5Lmxlbmd0aCA8IDE2IHx8IGVudHJvcHkubGVuZ3RoID4gMzIpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjQoXG4gICAgICBFcnJvckNvZGUyMi5JTlZBTElEX0VOVFJPUFksXG4gICAgICBgRW50cm9weSBzaG91bGQgYmUgYmV0d2VlbiAxNiBhbmQgMzIgYnl0ZXMgYW5kIGEgbXVsdGlwbGUgb2YgNCwgYnV0IGdvdCAke2VudHJvcHkubGVuZ3RofSBieXRlcy5gXG4gICAgKTtcbiAgfVxufVxuX19uYW1lKGFzc2VydEVudHJvcHksIFwiYXNzZXJ0RW50cm9weVwiKTtcbmZ1bmN0aW9uIGFzc2VydE1uZW1vbmljKHdvcmRzKSB7XG4gIGlmICghTU5FTU9OSUNfU0laRVMuaW5jbHVkZXMod29yZHMubGVuZ3RoKSkge1xuICAgIGNvbnN0IGVycm9yTXNnID0gYEludmFsaWQgbW5lbW9uaWMgc2l6ZS4gRXhwZWN0ZWQgb25lIG9mIFske01ORU1PTklDX1NJWkVTLmpvaW4oXG4gICAgICBcIiwgXCJcbiAgICApfV0gd29yZHMsIGJ1dCBnb3QgJHt3b3Jkcy5sZW5ndGh9LmA7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI0KEVycm9yQ29kZTIyLklOVkFMSURfTU5FTU9OSUMsIGVycm9yTXNnKTtcbiAgfVxufVxuX19uYW1lKGFzc2VydE1uZW1vbmljLCBcImFzc2VydE1uZW1vbmljXCIpO1xudmFyIE1uZW1vbmljID0gY2xhc3MgX01uZW1vbmljIHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJNbmVtb25pY1wiKTtcbiAgfVxuICB3b3JkbGlzdDtcbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB3b3JkbGlzdCAtIFByb3ZpZGUgYSB3b3JkbGlzdCB3aXRoIHRoZSBsaXN0IG9mIHdvcmRzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIG1uZW1vbmljIHBocmFzZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGhlIEVuZ2xpc2ggbGlzdC5cbiAgICogQHJldHVybnMgTW5lbW9uaWMgaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdvcmRsaXN0ID0gZW5nbGlzaCkge1xuICAgIHRoaXMud29yZGxpc3QgPSB3b3JkbGlzdDtcbiAgICBhc3NlcnRXb3JkTGlzdCh0aGlzLndvcmRsaXN0KTtcbiAgfVxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHBocmFzZSAtIE1uZW1vbmljIHBocmFzZSBjb21wb3NlZCBieSB3b3JkcyBmcm9tIHRoZSBwcm92aWRlZCB3b3JkbGlzdFxuICAgKiBAcmV0dXJucyBFbnRyb3B5IGhhc2hcbiAgICovXG4gIG1uZW1vbmljVG9FbnRyb3B5KHBocmFzZSkge1xuICAgIHJldHVybiBfTW5lbW9uaWMubW5lbW9uaWNUb0VudHJvcHkocGhyYXNlLCB0aGlzLndvcmRsaXN0KTtcbiAgfVxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGVudHJvcHkgLSBFbnRyb3B5IHNvdXJjZSB0byB0aGUgbW5lbW9uaWMgcGhyYXNlLlxuICAgKiBAcmV0dXJucyBNbmVtb25pYyBwaHJhc2VcbiAgICovXG4gIGVudHJvcHlUb01uZW1vbmljKGVudHJvcHkpIHtcbiAgICByZXR1cm4gX01uZW1vbmljLmVudHJvcHlUb01uZW1vbmljKGVudHJvcHksIHRoaXMud29yZGxpc3QpO1xuICB9XG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gcGhyYXNlIC0gTW5lbW9uaWMgcGhyYXNlIGNvbXBvc2VkIGJ5IHdvcmRzIGZyb20gdGhlIHByb3ZpZGVkIHdvcmRsaXN0XG4gICAqIEBwYXJhbSB3b3JkbGlzdCAtIFByb3ZpZGUgYSB3b3JkbGlzdCB3aXRoIHRoZSBsaXN0IG9mIHdvcmRzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIG1uZW1vbmljIHBocmFzZS4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGhlIEVuZ2xpc2ggbGlzdC5cbiAgICogQHJldHVybnMgTW5lbW9uaWMgcGhyYXNlXG4gICAqL1xuICBzdGF0aWMgbW5lbW9uaWNUb0VudHJvcHkocGhyYXNlLCB3b3JkbGlzdCA9IGVuZ2xpc2gpIHtcbiAgICBjb25zdCB3b3JkcyA9IGdldFdvcmRzKHBocmFzZSk7XG4gICAgYXNzZXJ0TW5lbW9uaWMod29yZHMpO1xuICAgIHJldHVybiBoZXhsaWZ5MjIobW5lbW9uaWNXb3Jkc1RvRW50cm9weSh3b3Jkcywgd29yZGxpc3QpKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIGVudHJvcHkgLSBFbnRyb3B5IHNvdXJjZSB0byB0aGUgbW5lbW9uaWMgcGhyYXNlLlxuICAgKiBAcGFyYW0gdGVzdG5ldCAtIEluZm9ybSBpZiBzaG91bGQgdXNlIHRlc3RuZXQgb3IgbWFpbm5ldCBwcmVmaXgsIGRlZmF1bHQgdmFsdWUgaXMgdHJ1ZSAoYG1haW5uZXRgKS5cbiAgICogQHJldHVybnMgNjQtYnl0ZSBhcnJheSBjb250YWlucyBwcml2YXRlS2V5IGFuZCBjaGFpbkNvZGUgYXMgZGVzY3JpYmVkIG9uIEJJUDM5XG4gICAqL1xuICBzdGF0aWMgZW50cm9weVRvTW5lbW9uaWMoZW50cm9weSwgd29yZGxpc3QgPSBlbmdsaXNoKSB7XG4gICAgY29uc3QgZW50cm9weUJ5dGVzID0gYXJyYXlpZnkxOShlbnRyb3B5KTtcbiAgICBhc3NlcnRXb3JkTGlzdCh3b3JkbGlzdCk7XG4gICAgYXNzZXJ0RW50cm9weShlbnRyb3B5Qnl0ZXMpO1xuICAgIHJldHVybiBlbnRyb3B5VG9NbmVtb25pY0luZGljZXMoZW50cm9weUJ5dGVzKS5tYXAoKGkpID0+IHdvcmRsaXN0W2ldKS5qb2luKFwiIFwiKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHBocmFzZSAtIE1uZW1vbmljIHBocmFzZSBjb21wb3NlZCBieSB3b3JkcyBmcm9tIHRoZSBwcm92aWRlZCB3b3JkbGlzdFxuICAgKiBAcGFyYW0gcGFzc3BocmFzZSAtIEFkZCBhZGRpdGlvbmFsIHNlY3VyaXR5IHRvIHByb3RlY3QgdGhlIGdlbmVyYXRlZCBzZWVkIHdpdGggYSBtZW1vcml6ZWQgcGFzc3BocmFzZS4gYE5vdGU6IGlmIHRoZSBvd25lciBmb3Jnb3QgdGhlIHBhc3NwaHJhc2UsIGFsbCB3YWxsZXRzIGFuZCBhY2NvdW50cyBkZXJpdmUgZnJvbSB0aGUgcGhyYXNlIHdpbGwgYmUgbG9zdC5gXG4gICAqIEByZXR1cm5zIDY0LWJ5dGUgYXJyYXkgY29udGFpbnMgcHJpdmF0ZUtleSBhbmQgY2hhaW5Db2RlIGFzIGRlc2NyaWJlZCBvbiBCSVAzOVxuICAgKi9cbiAgc3RhdGljIG1uZW1vbmljVG9TZWVkKHBocmFzZSwgcGFzc3BocmFzZSA9IFwiXCIpIHtcbiAgICBhc3NlcnRNbmVtb25pYyhnZXRXb3JkcyhwaHJhc2UpKTtcbiAgICBjb25zdCBwaHJhc2VCeXRlcyA9IHRvVXRmOEJ5dGVzKGdldFBocmFzZShwaHJhc2UpKTtcbiAgICBjb25zdCBzYWx0ID0gdG9VdGY4Qnl0ZXMoYG1uZW1vbmljJHtwYXNzcGhyYXNlfWApO1xuICAgIHJldHVybiBwYmtkZjIocGhyYXNlQnl0ZXMsIHNhbHQsIDIwNDgsIDY0LCBcInNoYTUxMlwiKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHBocmFzZSAtIE1uZW1vbmljIHBocmFzZSBjb21wb3NlZCBieSB3b3JkcyBmcm9tIHRoZSBwcm92aWRlZCB3b3JkbGlzdFxuICAgKiBAcGFyYW0gcGFzc3BocmFzZSAtIEFkZCBhZGRpdGlvbmFsIHNlY3VyaXR5IHRvIHByb3RlY3QgdGhlIGdlbmVyYXRlZCBzZWVkIHdpdGggYSBtZW1vcml6ZWQgcGFzc3BocmFzZS4gYE5vdGU6IGlmIHRoZSBvd25lciBmb3Jnb3QgdGhlIHBhc3NwaHJhc2UsIGFsbCB3YWxsZXRzIGFuZCBhY2NvdW50cyBkZXJpdmUgZnJvbSB0aGUgcGhyYXNlIHdpbGwgYmUgbG9zdC5gXG4gICAqIEByZXR1cm5zIDY0LWJ5dGUgYXJyYXkgY29udGFpbnMgcHJpdmF0ZUtleSBhbmQgY2hhaW5Db2RlIGFzIGRlc2NyaWJlZCBvbiBCSVAzOVxuICAgKi9cbiAgc3RhdGljIG1uZW1vbmljVG9NYXN0ZXJLZXlzKHBocmFzZSwgcGFzc3BocmFzZSA9IFwiXCIpIHtcbiAgICBjb25zdCBzZWVkID0gX01uZW1vbmljLm1uZW1vbmljVG9TZWVkKHBocmFzZSwgcGFzc3BocmFzZSk7XG4gICAgcmV0dXJuIF9NbmVtb25pYy5tYXN0ZXJLZXlzRnJvbVNlZWQoc2VlZCk7XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBpZiBnaXZlbiBtbmVtb25pYyBpcyAgdmFsaWRcbiAgICogQHBhcmFtIHBocmFzZSAtIE1uZW1vbmljIHBocmFzZSBjb21wb3NlZCBieSB3b3JkcyBmcm9tIHRoZSBwcm92aWRlZCB3b3JkbGlzdFxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHBocmFzZSBpcyBhIHZhbGlkIG1uZW1vbmljXG4gICAqL1xuICBzdGF0aWMgaXNNbmVtb25pY1ZhbGlkKHBocmFzZSkge1xuICAgIGNvbnN0IHdvcmRzID0gZ2V0V29yZHMocGhyYXNlKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgdHJ5IHtcbiAgICAgIGFzc2VydE1uZW1vbmljKHdvcmRzKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgd2hpbGUgKGkgPCB3b3Jkcy5sZW5ndGgpIHtcbiAgICAgIGlmIChfTW5lbW9uaWMuYmluYXJ5U2VhcmNoKHdvcmRzW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaSArPSAxO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBzdGF0aWMgYmluYXJ5U2VhcmNoKHRhcmdldCkge1xuICAgIGNvbnN0IHdvcmRzID0gZW5nbGlzaDtcbiAgICBsZXQgbGVmdCA9IDA7XG4gICAgbGV0IHJpZ2h0ID0gd29yZHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAobGVmdCA8PSByaWdodCkge1xuICAgICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcigobGVmdCArIHJpZ2h0KSAvIDIpO1xuICAgICAgaWYgKHdvcmRzW21pZF0gPT09IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQgPCB3b3Jkc1ttaWRdKSB7XG4gICAgICAgIHJpZ2h0ID0gbWlkIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlZnQgPSBtaWQgKyAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBzZWVkIC0gQklQMzkgc2VlZFxuICAgKiBAcGFyYW0gdGVzdG5ldCAtIEluZm9ybSBpZiBzaG91bGQgdXNlIHRlc3RuZXQgb3IgbWFpbm5ldCBwcmVmaXgsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUgKGBtYWlubmV0YCkuXG4gICAqIEByZXR1cm5zIDY0LWJ5dGUgYXJyYXkgY29udGFpbnMgcHJpdmF0ZUtleSBhbmQgY2hhaW5Db2RlIGFzIGRlc2NyaWJlZCBvbiBCSVAzOVxuICAgKi9cbiAgc3RhdGljIG1hc3RlcktleXNGcm9tU2VlZChzZWVkKSB7XG4gICAgY29uc3Qgc2VlZEFycmF5ID0gYXJyYXlpZnkxOShzZWVkKTtcbiAgICBpZiAoc2VlZEFycmF5Lmxlbmd0aCA8IDE2IHx8IHNlZWRBcnJheS5sZW5ndGggPiA2NCkge1xuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI0KFxuICAgICAgICBFcnJvckNvZGUyMi5JTlZBTElEX1NFRUQsXG4gICAgICAgIGBTZWVkIGxlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAxNiBhbmQgNjQgYnl0ZXMsIGJ1dCByZWNlaXZlZCAke3NlZWRBcnJheS5sZW5ndGh9IGJ5dGVzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheWlmeTE5KGNvbXB1dGVIbWFjKFwic2hhNTEyXCIsIE1hc3RlclNlY3JldCwgc2VlZEFycmF5KSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgZXh0ZW5kS2V5IGFzIGRlZmluZWQgb24gQklQLTMyIGZyb20gdGhlIHByb3ZpZGVkIHNlZWRcbiAgICpcbiAgICogQHBhcmFtIHNlZWQgLSBCSVAzOSBzZWVkXG4gICAqIEBwYXJhbSB0ZXN0bmV0IC0gSW5mb3JtIGlmIHNob3VsZCB1c2UgdGVzdG5ldCBvciBtYWlubmV0IHByZWZpeCwgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlIChgbWFpbm5ldGApLlxuICAgKiBAcmV0dXJucyBCSVAtMzIgZXh0ZW5kZWQgcHJpdmF0ZSBrZXlcbiAgICovXG4gIHN0YXRpYyBzZWVkVG9FeHRlbmRlZEtleShzZWVkLCB0ZXN0bmV0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBtYXN0ZXJLZXkgPSBfTW5lbW9uaWMubWFzdGVyS2V5c0Zyb21TZWVkKHNlZWQpO1xuICAgIGNvbnN0IHByZWZpeCA9IGFycmF5aWZ5MTkodGVzdG5ldCA/IFRlc3RuZXRQUlYgOiBNYWlubmV0UFJWKTtcbiAgICBjb25zdCBkZXB0aCA9IFwiMHgwMFwiO1xuICAgIGNvbnN0IGZpbmdlcnByaW50ID0gXCIweDAwMDAwMDAwXCI7XG4gICAgY29uc3QgaW5kZXggPSBcIjB4MDAwMDAwMDBcIjtcbiAgICBjb25zdCBjaGFpbkNvZGUgPSBtYXN0ZXJLZXkuc2xpY2UoMzIpO1xuICAgIGNvbnN0IHByaXZhdGVLZXkgPSBtYXN0ZXJLZXkuc2xpY2UoMCwgMzIpO1xuICAgIGNvbnN0IGV4dGVuZGVkS2V5ID0gY29uY2F0NShbXG4gICAgICBwcmVmaXgsXG4gICAgICBkZXB0aCxcbiAgICAgIGZpbmdlcnByaW50LFxuICAgICAgaW5kZXgsXG4gICAgICBjaGFpbkNvZGUsXG4gICAgICBjb25jYXQ1KFtcIjB4MDBcIiwgcHJpdmF0ZUtleV0pXG4gICAgXSk7XG4gICAgY29uc3QgY2hlY2tzdW0gPSBkYXRhU2xpY2Uoc2hhMjU2MyhzaGEyNTYzKGV4dGVuZGVkS2V5KSksIDAsIDQpO1xuICAgIHJldHVybiBlbmNvZGVCYXNlNTgoY29uY2F0NShbZXh0ZW5kZWRLZXksIGNoZWNrc3VtXSkpO1xuICB9XG4gIC8qKlxuICAgKiAgQ3JlYXRlIGEgbmV3IG1uZW1vbmljIHVzaW5nIGEgcmFuZG9tbHkgZ2VuZXJhdGVkIG51bWJlciBhcyBlbnRyb3B5LlxuICAgKiAgQXMgZGVmaW5lZCBpbiBCSVAzOSwgdGhlIGVudHJvcHkgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyIGJpdHMsIGFuZCBpdHMgc2l6ZSBtdXN0IGJlIGJldHdlZW4gMTI4IGFuZCAyNTYgYml0cy5cbiAgICogIFRoZXJlZm9yZSwgdGhlIHBvc3NpYmxlIHZhbHVlcyBmb3IgYHN0cmVuZ3RoYCBhcmUgMTI4LCAxNjAsIDE5MiwgMjI0LCBhbmQgMjU2LlxuICAgKiAgSWYgbm90IHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBlbnRyb3B5IGxlbmd0aCB3aWxsIGJlIHNldCB0byAyNTYgYml0cy5cbiAgICogIFRoZSByZXR1cm4gaXMgYSBsaXN0IG9mIHdvcmRzIHRoYXQgZW5jb2RlcyB0aGUgZ2VuZXJhdGVkIGVudHJvcHkuXG4gICAqXG4gICAqXG4gICAqIEBwYXJhbSBzaXplIC0gTnVtYmVyIG9mIGJ5dGVzIHVzZWQgYXMgYW4gZW50cm9weVxuICAgKiBAcGFyYW0gZXh0cmFFbnRyb3B5IC0gT3B0aW9uYWwgZXh0cmEgZW50cm9weSB0byBpbmNyZWFzZSByYW5kb21uZXNzXG4gICAqIEByZXR1cm5zIEEgcmFuZG9tbHkgZ2VuZXJhdGVkIG1uZW1vbmljXG4gICAqL1xuICBzdGF0aWMgZ2VuZXJhdGUoc2l6ZSA9IDMyLCBleHRyYUVudHJvcHkgPSBcIlwiKSB7XG4gICAgY29uc3QgZW50cm9weSA9IGV4dHJhRW50cm9weSA/IHNoYTI1NjMoY29uY2F0NShbcmFuZG9tQnl0ZXM1KHNpemUpLCBhcnJheWlmeTE5KGV4dHJhRW50cm9weSldKSkgOiByYW5kb21CeXRlczUoc2l6ZSk7XG4gICAgcmV0dXJuIF9NbmVtb25pYy5lbnRyb3B5VG9NbmVtb25pYyhlbnRyb3B5KTtcbiAgfVxufTtcbnZhciBtbmVtb25pY19kZWZhdWx0ID0gTW5lbW9uaWM7XG5cbi8vIHNyYy9oZHdhbGxldC9oZHdhbGxldC50c1xudmFyIEhBUkRFTkVEX0lOREVYID0gMjE0NzQ4MzY0ODtcbnZhciBNYWlubmV0UFJWMiA9IGhleGxpZnkyMyhcIjB4MDQ4OGFkZTRcIik7XG52YXIgTWFpbm5ldFBVQiA9IGhleGxpZnkyMyhcIjB4MDQ4OGIyMWVcIik7XG52YXIgVGVzdG5ldFBSVjIgPSBoZXhsaWZ5MjMoXCIweDA0MzU4Mzk0XCIpO1xudmFyIFRlc3RuZXRQVUIgPSBoZXhsaWZ5MjMoXCIweDA0MzU4N2NmXCIpO1xuZnVuY3Rpb24gYmFzZTU4Y2hlY2soZGF0YSkge1xuICByZXR1cm4gZW5jb2RlQmFzZTU4Mihjb25jYXQ2KFtkYXRhLCBkYXRhU2xpY2UyKHNoYTI1NjQoc2hhMjU2NChkYXRhKSksIDAsIDQpXSkpO1xufVxuX19uYW1lKGJhc2U1OGNoZWNrLCBcImJhc2U1OGNoZWNrXCIpO1xuZnVuY3Rpb24gZ2V0RXh0ZW5kZWRLZXlQcmVmaXgoaXNQdWJsaWMgPSBmYWxzZSwgdGVzdG5ldCA9IGZhbHNlKSB7XG4gIGlmIChpc1B1YmxpYykge1xuICAgIHJldHVybiB0ZXN0bmV0ID8gVGVzdG5ldFBVQiA6IE1haW5uZXRQVUI7XG4gIH1cbiAgcmV0dXJuIHRlc3RuZXQgPyBUZXN0bmV0UFJWMiA6IE1haW5uZXRQUlYyO1xufVxuX19uYW1lKGdldEV4dGVuZGVkS2V5UHJlZml4LCBcImdldEV4dGVuZGVkS2V5UHJlZml4XCIpO1xuZnVuY3Rpb24gaXNQdWJsaWNFeHRlbmRlZEtleShleHRlbmRlZEtleSkge1xuICByZXR1cm4gW01haW5uZXRQVUIsIFRlc3RuZXRQVUJdLmluY2x1ZGVzKGhleGxpZnkyMyhleHRlbmRlZEtleS5zbGljZSgwLCA0KSkpO1xufVxuX19uYW1lKGlzUHVibGljRXh0ZW5kZWRLZXksIFwiaXNQdWJsaWNFeHRlbmRlZEtleVwiKTtcbmZ1bmN0aW9uIGlzVmFsaWRFeHRlbmRlZEtleShleHRlbmRlZEtleSkge1xuICByZXR1cm4gW01haW5uZXRQUlYyLCBUZXN0bmV0UFJWMiwgTWFpbm5ldFBVQiwgVGVzdG5ldFBVQl0uaW5jbHVkZXMoXG4gICAgaGV4bGlmeTIzKGV4dGVuZGVkS2V5LnNsaWNlKDAsIDQpKVxuICApO1xufVxuX19uYW1lKGlzVmFsaWRFeHRlbmRlZEtleSwgXCJpc1ZhbGlkRXh0ZW5kZWRLZXlcIik7XG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCwgZGVwdGggPSAwKSB7XG4gIGNvbnN0IGNvbXBvbmVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgaWYgKGNvbXBvbmVudHMubGVuZ3RoID09PSAwIHx8IGNvbXBvbmVudHNbMF0gPT09IFwibVwiICYmIGRlcHRoICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI1KEVycm9yQ29kZTIzLkhEX1dBTExFVF9FUlJPUiwgYGludmFsaWQgcGF0aCAtICR7cGF0aH1gKTtcbiAgfVxuICBpZiAoY29tcG9uZW50c1swXSA9PT0gXCJtXCIpIHtcbiAgICBjb21wb25lbnRzLnNoaWZ0KCk7XG4gIH1cbiAgcmV0dXJuIGNvbXBvbmVudHMubWFwKFxuICAgIChwKSA9PiB+cC5pbmRleE9mKGAnYCkgPyBwYXJzZUludChwLCAxMCkgKyBIQVJERU5FRF9JTkRFWCA6IHBhcnNlSW50KHAsIDEwKVxuICApO1xufVxuX19uYW1lKHBhcnNlUGF0aCwgXCJwYXJzZVBhdGhcIik7XG52YXIgSERXYWxsZXQgPSBjbGFzcyBfSERXYWxsZXQge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIkhEV2FsbGV0XCIpO1xuICB9XG4gIGRlcHRoID0gMDtcbiAgaW5kZXggPSAwO1xuICBmaW5nZXJwcmludCA9IGhleGxpZnkyMyhcIjB4MDAwMDAwMDBcIik7XG4gIHBhcmVudEZpbmdlcnByaW50ID0gaGV4bGlmeTIzKFwiMHgwMDAwMDAwMFwiKTtcbiAgcHJpdmF0ZUtleTtcbiAgcHVibGljS2V5O1xuICBjaGFpbkNvZGU7XG4gIC8qKlxuICAgKiBIRFdhbGxldCBpcyBhIGltcGxlbWVudGF0aW9uIG9mIHRoZSBCSVAtMDA0NCBhbmQgQklQLTAwMzIsIE11bHRpLUFjY291bnQgSGllcmFyY2h5IGZvciBEZXRlcm1pbmlzdGljIFdhbGxldHNcbiAgICpcbiAgICogQHBhcmFtIGNvbmZpZyAtIFdhbGxldCBjb25maWd1cmF0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5wcml2YXRlS2V5KSB7XG4gICAgICBjb25zdCBzaWduZXIgPSBuZXcgU2lnbmVyKGNvbmZpZy5wcml2YXRlS2V5KTtcbiAgICAgIHRoaXMucHVibGljS2V5ID0gaGV4bGlmeTIzKHNpZ25lci5jb21wcmVzc2VkUHVibGljS2V5KTtcbiAgICAgIHRoaXMucHJpdmF0ZUtleSA9IGhleGxpZnkyMyhjb25maWcucHJpdmF0ZUtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghY29uZmlnLnB1YmxpY0tleSkge1xuICAgICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjUoXG4gICAgICAgICAgRXJyb3JDb2RlMjMuSERfV0FMTEVUX0VSUk9SLFxuICAgICAgICAgIFwiQm90aCBwdWJsaWMgYW5kIHByaXZhdGUgS2V5IGNhbm5vdCBiZSBtaXNzaW5nLiBBdCBsZWFzdCBvbmUgc2hvdWxkIGJlIHByb3ZpZGVkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLnB1YmxpY0tleSA9IGhleGxpZnkyMyhjb25maWcucHVibGljS2V5KTtcbiAgICB9XG4gICAgdGhpcy5wYXJlbnRGaW5nZXJwcmludCA9IGNvbmZpZy5wYXJlbnRGaW5nZXJwcmludCB8fCB0aGlzLnBhcmVudEZpbmdlcnByaW50O1xuICAgIHRoaXMuZmluZ2VycHJpbnQgPSBkYXRhU2xpY2UyKHJpcGVtZDE2MChzaGEyNTY0KHRoaXMucHVibGljS2V5KSksIDAsIDQpO1xuICAgIHRoaXMuZGVwdGggPSBjb25maWcuZGVwdGggfHwgdGhpcy5kZXB0aDtcbiAgICB0aGlzLmluZGV4ID0gY29uZmlnLmluZGV4IHx8IHRoaXMuaW5kZXg7XG4gICAgdGhpcy5jaGFpbkNvZGUgPSBjb25maWcuY2hhaW5Db2RlO1xuICB9XG4gIGdldCBleHRlbmRlZEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy50b0V4dGVuZGVkS2V5KCk7XG4gIH1cbiAgLyoqXG4gICAqIERlcml2ZSB0aGUgY3VycmVudCBIRFdhbGxldCBpbnN0YW5jZSBuYXZpZ2F0aW5nIG9ubHkgb24gdGhlIGluZGV4LlxuICAgKiBgRXguOiBtLzQ0Jy8wIC0+IEV4LjogbS80NCcvMSAtPiBtLzQ0Jy8yYC4gW0xlYXJuIG1vcmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAwMzIubWVkaWF3aWtpKVxuICAgKlxuICAgKiBAcGFyYW0gaW5kZXggLSBJbmRleCBvZiB0aGUgY2hpbGQgSERXYWxsZXQuXG4gICAqIEByZXR1cm5zIEEgbmV3IGluc3RhbmNlIG9mIEhEV2FsbGV0IG9uIHRoZSBkZXJpdmVkIGluZGV4XG4gICAqL1xuICBkZXJpdmVJbmRleChpbmRleCkge1xuICAgIGNvbnN0IHByaXZhdGVLZXkgPSB0aGlzLnByaXZhdGVLZXkgJiYgYXJyYXlpZnkyMCh0aGlzLnByaXZhdGVLZXkpO1xuICAgIGNvbnN0IHB1YmxpY0tleSA9IGFycmF5aWZ5MjAodGhpcy5wdWJsaWNLZXkpO1xuICAgIGNvbnN0IGNoYWluQ29kZSA9IGFycmF5aWZ5MjAodGhpcy5jaGFpbkNvZGUpO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheSgzNyk7XG4gICAgaWYgKGluZGV4ICYgSEFSREVORURfSU5ERVgpIHtcbiAgICAgIGlmICghcHJpdmF0ZUtleSkge1xuICAgICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjUoXG4gICAgICAgICAgRXJyb3JDb2RlMjMuSERfV0FMTEVUX0VSUk9SLFxuICAgICAgICAgIFwiQ2Fubm90IGRlcml2ZSBhIGhhcmRlbmVkIGluZGV4IHdpdGhvdXQgYSBwcml2YXRlIEtleS5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQocHJpdmF0ZUtleSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuc2V0KGFycmF5aWZ5MjAodGhpcy5wdWJsaWNLZXkpKTtcbiAgICB9XG4gICAgZGF0YS5zZXQodG9CeXRlczIoaW5kZXgsIDQpLCAzMyk7XG4gICAgY29uc3QgYnl0ZXMgPSBhcnJheWlmeTIwKGNvbXB1dGVIbWFjMihcInNoYTUxMlwiLCBjaGFpbkNvZGUsIGRhdGEpKTtcbiAgICBjb25zdCBJTCA9IGJ5dGVzLnNsaWNlKDAsIDMyKTtcbiAgICBjb25zdCBJUiA9IGJ5dGVzLnNsaWNlKDMyKTtcbiAgICBpZiAocHJpdmF0ZUtleSkge1xuICAgICAgY29uc3QgTiA9IFwiMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWJhYWVkY2U2YWY0OGEwM2JiZmQyNWU4Y2QwMzY0MTQxXCI7XG4gICAgICBjb25zdCBraSA9IGJuMjIoSUwpLmFkZChwcml2YXRlS2V5KS5tb2QoTikudG9CeXRlcygzMik7XG4gICAgICByZXR1cm4gbmV3IF9IRFdhbGxldCh7XG4gICAgICAgIHByaXZhdGVLZXk6IGtpLFxuICAgICAgICBjaGFpbkNvZGU6IElSLFxuICAgICAgICBpbmRleCxcbiAgICAgICAgZGVwdGg6IHRoaXMuZGVwdGggKyAxLFxuICAgICAgICBwYXJlbnRGaW5nZXJwcmludDogdGhpcy5maW5nZXJwcmludFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHNpZ25lciA9IG5ldyBTaWduZXIoaGV4bGlmeTIzKElMKSk7XG4gICAgY29uc3QgS2kgPSBzaWduZXIuYWRkUG9pbnQocHVibGljS2V5KTtcbiAgICByZXR1cm4gbmV3IF9IRFdhbGxldCh7XG4gICAgICBwdWJsaWNLZXk6IEtpLFxuICAgICAgY2hhaW5Db2RlOiBJUixcbiAgICAgIGluZGV4LFxuICAgICAgZGVwdGg6IHRoaXMuZGVwdGggKyAxLFxuICAgICAgcGFyZW50RmluZ2VycHJpbnQ6IHRoaXMuZmluZ2VycHJpbnRcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGVyaXZlIHRoZSBjdXJyZW50IEhEV2FsbGV0IGluc3RhbmNlIHRvIHRoZSBwYXRoLiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9naXRodWIuY29tL2JpdGNvaW4vYmlwcy9ibG9iL21hc3Rlci9iaXAtMDAzMi5tZWRpYXdpa2kpXG4gICAqXG4gICAqIEBwYXJhbSBwYXRoIC0gVGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY2hpbGQgSERXYWxsZXQuIGBFeC46IG0vNDQnLzAnLzAnLzAvMGBcbiAgICogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgSERXYWxsZXQgb24gdGhlIGRlcml2ZWQgcGF0aFxuICAgKi9cbiAgZGVyaXZlUGF0aChwYXRoKSB7XG4gICAgY29uc3QgcGF0aHMgPSBwYXJzZVBhdGgocGF0aCwgdGhpcy5kZXB0aCk7XG4gICAgcmV0dXJuIHBhdGhzLnJlZHVjZSgoaGR3YWxsZXQsIGluZGV4KSA9PiBoZHdhbGxldC5kZXJpdmVJbmRleChpbmRleCksIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dGVuZEtleSBhcyBkZWZpbmVkIG9uIEJJUC0zMiBmcm9tIHRoZSBwcm92aWRlZCBzZWVkXG4gICAqXG4gICAqIEBwYXJhbSBpc1B1YmxpYyAtIGVuYWJsZSB0byBleHBvcnQgcHVibGljIGV4dGVuZGVkS2V5LCBpdCBub3QgcmVxdWlyZWQgd2hlbiBIRFdhbGxldCBkaWRuJ3QgaGF2ZSB0aGUgcHJpdmF0ZUtleS5cbiAgICogQHBhcmFtIHRlc3RuZXQgLSBJbmZvcm0gaWYgc2hvdWxkIHVzZSB0ZXN0bmV0IG9yIG1haW5uZXQgcHJlZml4LCBkZWZhdWx0IHZhbHVlIGlzIHRydWUgKGBtYWlubmV0YCkuXG4gICAqIEByZXR1cm5zIEJJUC0zMiBleHRlbmRlZCBwcml2YXRlIGtleVxuICAgKi9cbiAgdG9FeHRlbmRlZEtleShpc1B1YmxpYyA9IGZhbHNlLCB0ZXN0bmV0ID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5kZXB0aCA+PSAyNTYpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IyNShcbiAgICAgICAgRXJyb3JDb2RlMjMuSERfV0FMTEVUX0VSUk9SLFxuICAgICAgICBgRXhjZWVkZWQgbWF4IGRlcHRoIG9mIDI1NS4gQ3VycmVudCBkZXB0aDogJHt0aGlzLmRlcHRofS5gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBwcmVmaXggPSBnZXRFeHRlbmRlZEtleVByZWZpeCh0aGlzLnByaXZhdGVLZXkgPT0gbnVsbCB8fCBpc1B1YmxpYywgdGVzdG5ldCk7XG4gICAgY29uc3QgZGVwdGggPSBoZXhsaWZ5MjMoVWludDhBcnJheS5mcm9tKFt0aGlzLmRlcHRoXSkpO1xuICAgIGNvbnN0IHBhcmVudEZpbmdlcnByaW50ID0gdGhpcy5wYXJlbnRGaW5nZXJwcmludDtcbiAgICBjb25zdCBpbmRleCA9IHRvSGV4KHRoaXMuaW5kZXgsIDQpO1xuICAgIGNvbnN0IGNoYWluQ29kZSA9IHRoaXMuY2hhaW5Db2RlO1xuICAgIGNvbnN0IGtleSA9IHRoaXMucHJpdmF0ZUtleSAhPSBudWxsICYmICFpc1B1YmxpYyA/IGNvbmNhdDYoW1wiMHgwMFwiLCB0aGlzLnByaXZhdGVLZXldKSA6IHRoaXMucHVibGljS2V5O1xuICAgIGNvbnN0IGV4dGVuZGVkS2V5ID0gYXJyYXlpZnkyMChjb25jYXQ2KFtwcmVmaXgsIGRlcHRoLCBwYXJlbnRGaW5nZXJwcmludCwgaW5kZXgsIGNoYWluQ29kZSwga2V5XSkpO1xuICAgIHJldHVybiBiYXNlNThjaGVjayhleHRlbmRlZEtleSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBIRFdhbGxldCBpbnN0YW5jZSBmcm9tIHNlZWRcbiAgICpcbiAgICogQHBhcmFtIHNlZWQgLSBTZWVkXG4gICAqIEByZXR1cm5zIEEgbmV3IGluc3RhbmNlIG9mIEhEV2FsbGV0XG4gICAqL1xuICBzdGF0aWMgZnJvbVNlZWQoc2VlZCkge1xuICAgIGNvbnN0IG1hc3RlcktleSA9IG1uZW1vbmljX2RlZmF1bHQubWFzdGVyS2V5c0Zyb21TZWVkKHNlZWQpO1xuICAgIHJldHVybiBuZXcgX0hEV2FsbGV0KHtcbiAgICAgIGNoYWluQ29kZTogYXJyYXlpZnkyMChtYXN0ZXJLZXkuc2xpY2UoMzIpKSxcbiAgICAgIHByaXZhdGVLZXk6IGFycmF5aWZ5MjAobWFzdGVyS2V5LnNsaWNlKDAsIDMyKSlcbiAgICB9KTtcbiAgfVxuICBzdGF0aWMgZnJvbUV4dGVuZGVkS2V5KGV4dGVuZGVkS2V5KSB7XG4gICAgY29uc3QgZGVjb2RlZCA9IGhleGxpZnkyMyh0b0J5dGVzMihkZWNvZGVCYXNlNTgoZXh0ZW5kZWRLZXkpKSk7XG4gICAgY29uc3QgYnl0ZXMgPSBhcnJheWlmeTIwKGRlY29kZWQpO1xuICAgIGNvbnN0IHZhbGlkQ2hlY2tzdW0gPSBiYXNlNThjaGVjayhieXRlcy5zbGljZSgwLCA3OCkpID09PSBleHRlbmRlZEtleTtcbiAgICBpZiAoYnl0ZXMubGVuZ3RoICE9PSA4MiB8fCAhaXNWYWxpZEV4dGVuZGVkS2V5KGJ5dGVzKSkge1xuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI1KEVycm9yQ29kZTIzLkhEX1dBTExFVF9FUlJPUiwgXCJQcm92aWRlZCBrZXkgaXMgbm90IGEgdmFsaWQgZXh0ZW5kZWQga2V5LlwiKTtcbiAgICB9XG4gICAgaWYgKCF2YWxpZENoZWNrc3VtKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjUoRXJyb3JDb2RlMjMuSERfV0FMTEVUX0VSUk9SLCBcIlByb3ZpZGVkIGtleSBoYXMgYW4gaW52YWxpZCBjaGVja3N1bS5cIik7XG4gICAgfVxuICAgIGNvbnN0IGRlcHRoID0gYnl0ZXNbNF07XG4gICAgY29uc3QgcGFyZW50RmluZ2VycHJpbnQgPSBoZXhsaWZ5MjMoYnl0ZXMuc2xpY2UoNSwgOSkpO1xuICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoaGV4bGlmeTIzKGJ5dGVzLnNsaWNlKDksIDEzKSkuc3Vic3RyaW5nKDIpLCAxNik7XG4gICAgY29uc3QgY2hhaW5Db2RlID0gaGV4bGlmeTIzKGJ5dGVzLnNsaWNlKDEzLCA0NSkpO1xuICAgIGNvbnN0IGtleSA9IGJ5dGVzLnNsaWNlKDQ1LCA3OCk7XG4gICAgaWYgKGRlcHRoID09PSAwICYmIHBhcmVudEZpbmdlcnByaW50ICE9PSBcIjB4MDAwMDAwMDBcIiB8fCBkZXB0aCA9PT0gMCAmJiBpbmRleCAhPT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI1KFxuICAgICAgICBFcnJvckNvZGUyMy5IRF9XQUxMRVRfRVJST1IsXG4gICAgICAgIFwiSW5jb25zaXN0ZW5jeSBkZXRlY3RlZDogRGVwdGggaXMgemVybyBidXQgZmluZ2VycHJpbnQvaW5kZXggaXMgbm9uLXplcm8uXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChpc1B1YmxpY0V4dGVuZGVkS2V5KGJ5dGVzKSkge1xuICAgICAgaWYgKGtleVswXSAhPT0gMykge1xuICAgICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjUoRXJyb3JDb2RlMjMuSERfV0FMTEVUX0VSUk9SLCBcIkludmFsaWQgcHVibGljIGV4dGVuZGVkIGtleS5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IF9IRFdhbGxldCh7XG4gICAgICAgIHB1YmxpY0tleToga2V5LFxuICAgICAgICBjaGFpbkNvZGUsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBkZXB0aCxcbiAgICAgICAgcGFyZW50RmluZ2VycHJpbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoa2V5WzBdICE9PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjUoRXJyb3JDb2RlMjMuSERfV0FMTEVUX0VSUk9SLCBcIkludmFsaWQgcHJpdmF0ZSBleHRlbmRlZCBrZXkuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9IRFdhbGxldCh7XG4gICAgICBwcml2YXRlS2V5OiBrZXkuc2xpY2UoMSksXG4gICAgICBjaGFpbkNvZGUsXG4gICAgICBpbmRleCxcbiAgICAgIGRlcHRoLFxuICAgICAgcGFyZW50RmluZ2VycHJpbnRcbiAgICB9KTtcbiAgfVxufTtcbnZhciBoZHdhbGxldF9kZWZhdWx0ID0gSERXYWxsZXQ7XG5cbi8vIHNyYy93YWxsZXQvd2FsbGV0cy50c1xudmFyIFdhbGxldExvY2tlZCA9IGNsYXNzIGV4dGVuZHMgQWNjb3VudCB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiV2FsbGV0TG9ja2VkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBVbmxvY2tzIHRoZSB3YWxsZXQgdXNpbmcgdGhlIHByb3ZpZGVkIHByaXZhdGUga2V5IGFuZCByZXR1cm5zIGFuIGluc3RhbmNlIG9mIFdhbGxldFVubG9ja2VkLlxuICAgKlxuICAgKiBAcGFyYW0gcHJpdmF0ZUtleSAtIFRoZSBwcml2YXRlIGtleSB1c2VkIHRvIHVubG9jayB0aGUgd2FsbGV0LlxuICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiBXYWxsZXRVbmxvY2tlZC5cbiAgICovXG4gIHVubG9jayhwcml2YXRlS2V5KSB7XG4gICAgcmV0dXJuIG5ldyBXYWxsZXRVbmxvY2tlZChwcml2YXRlS2V5LCB0aGlzLl9wcm92aWRlcik7XG4gIH1cbn07XG52YXIgV2FsbGV0VW5sb2NrZWQgPSBjbGFzcyBfV2FsbGV0VW5sb2NrZWQgZXh0ZW5kcyBCYXNlV2FsbGV0VW5sb2NrZWQge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIldhbGxldFVubG9ja2VkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBMb2NrcyB0aGUgd2FsbGV0IGFuZCByZXR1cm5zIGFuIGluc3RhbmNlIG9mIFdhbGxldExvY2tlZC5cbiAgICpcbiAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgV2FsbGV0TG9ja2VkLlxuICAgKi9cbiAgbG9jaygpIHtcbiAgICB0aGlzLnNpZ25lciA9ICgpID0+IG5ldyBTaWduZXIoXCIweDAwXCIpO1xuICAgIHJldHVybiBuZXcgV2FsbGV0TG9ja2VkKHRoaXMuYWRkcmVzcywgdGhpcy5fcHJvdmlkZXIpO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIG5ldyBXYWxsZXQgVW5sb2NrZWQgd2l0aCBhIHJhbmRvbSBrZXkgcGFpci5cbiAgICpcbiAgICogQHBhcmFtIGdlbmVyYXRlT3B0aW9ucyAtIE9wdGlvbnMgdG8gY3VzdG9taXplIHRoZSBnZW5lcmF0aW9uIHByb2Nlc3MgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgV2FsbGV0VW5sb2NrZWQuXG4gICAqL1xuICBzdGF0aWMgZ2VuZXJhdGUoZ2VuZXJhdGVPcHRpb25zKSB7XG4gICAgY29uc3QgcHJpdmF0ZUtleSA9IFNpZ25lci5nZW5lcmF0ZVByaXZhdGVLZXkoZ2VuZXJhdGVPcHRpb25zPy5lbnRyb3B5KTtcbiAgICByZXR1cm4gbmV3IF9XYWxsZXRVbmxvY2tlZChwcml2YXRlS2V5LCBnZW5lcmF0ZU9wdGlvbnM/LnByb3ZpZGVyKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgV2FsbGV0IFVubG9ja2VkIGZyb20gYSBzZWVkLlxuICAgKlxuICAgKiBAcGFyYW0gc2VlZCAtIFRoZSBzZWVkIHBocmFzZS5cbiAgICogQHBhcmFtIHByb3ZpZGVyIC0gQSBQcm92aWRlciBpbnN0YW5jZSAob3B0aW9uYWwpLlxuICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBkZXJpdmF0aW9uIHBhdGggKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgV2FsbGV0VW5sb2NrZWQuXG4gICAqL1xuICBzdGF0aWMgZnJvbVNlZWQoc2VlZCwgcGF0aCwgcHJvdmlkZXIpIHtcbiAgICBjb25zdCBoZFdhbGxldCA9IGhkd2FsbGV0X2RlZmF1bHQuZnJvbVNlZWQoc2VlZCk7XG4gICAgY29uc3QgY2hpbGRXYWxsZXQgPSBoZFdhbGxldC5kZXJpdmVQYXRoKHBhdGggfHwgX1dhbGxldFVubG9ja2VkLmRlZmF1bHRQYXRoKTtcbiAgICByZXR1cm4gbmV3IF9XYWxsZXRVbmxvY2tlZChjaGlsZFdhbGxldC5wcml2YXRlS2V5LCBwcm92aWRlcik7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFdhbGxldCBVbmxvY2tlZCBmcm9tIGEgbW5lbW9uaWMgcGhyYXNlLlxuICAgKlxuICAgKiBAcGFyYW0gbW5lbW9uaWMgLSBUaGUgbW5lbW9uaWMgcGhyYXNlLlxuICAgKiBAcGFyYW0gcHJvdmlkZXIgLSBBIFByb3ZpZGVyIGluc3RhbmNlIChvcHRpb25hbCkuXG4gICAqIEBwYXJhbSBwYXRoIC0gVGhlIGRlcml2YXRpb24gcGF0aCAob3B0aW9uYWwpLlxuICAgKiBAcGFyYW0gcGFzc3BocmFzZSAtIFRoZSBwYXNzcGhyYXNlIGZvciB0aGUgbW5lbW9uaWMgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQW4gaW5zdGFuY2Ugb2YgV2FsbGV0VW5sb2NrZWQuXG4gICAqL1xuICBzdGF0aWMgZnJvbU1uZW1vbmljKG1uZW1vbmljLCBwYXRoLCBwYXNzcGhyYXNlLCBwcm92aWRlcikge1xuICAgIGNvbnN0IHNlZWQgPSBtbmVtb25pY19kZWZhdWx0Lm1uZW1vbmljVG9TZWVkKG1uZW1vbmljLCBwYXNzcGhyYXNlKTtcbiAgICBjb25zdCBoZFdhbGxldCA9IGhkd2FsbGV0X2RlZmF1bHQuZnJvbVNlZWQoc2VlZCk7XG4gICAgY29uc3QgY2hpbGRXYWxsZXQgPSBoZFdhbGxldC5kZXJpdmVQYXRoKHBhdGggfHwgX1dhbGxldFVubG9ja2VkLmRlZmF1bHRQYXRoKTtcbiAgICByZXR1cm4gbmV3IF9XYWxsZXRVbmxvY2tlZChjaGlsZFdhbGxldC5wcml2YXRlS2V5LCBwcm92aWRlcik7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFdhbGxldCBVbmxvY2tlZCBmcm9tIGFuIGV4dGVuZGVkIGtleS5cbiAgICpcbiAgICogQHBhcmFtIGV4dGVuZGVkS2V5IC0gVGhlIGV4dGVuZGVkIGtleS5cbiAgICogQHBhcmFtIHByb3ZpZGVyIC0gQSBQcm92aWRlciBpbnN0YW5jZSAob3B0aW9uYWwpLlxuICAgKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiBXYWxsZXRVbmxvY2tlZC5cbiAgICovXG4gIHN0YXRpYyBmcm9tRXh0ZW5kZWRLZXkoZXh0ZW5kZWRLZXksIHByb3ZpZGVyKSB7XG4gICAgY29uc3QgaGRXYWxsZXQgPSBoZHdhbGxldF9kZWZhdWx0LmZyb21FeHRlbmRlZEtleShleHRlbmRlZEtleSk7XG4gICAgcmV0dXJuIG5ldyBfV2FsbGV0VW5sb2NrZWQoaGRXYWxsZXQucHJpdmF0ZUtleSwgcHJvdmlkZXIpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBXYWxsZXQgVW5sb2NrZWQgZnJvbSBhbiBlbmNyeXB0ZWQgSlNPTi5cbiAgICpcbiAgICogQHBhcmFtIGpzb25XYWxsZXQgLSBUaGUgZW5jcnlwdGVkIEpTT04ga2V5c3RvcmUuXG4gICAqIEBwYXJhbSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZCB0byBkZWNyeXB0IHRoZSBKU09OLlxuICAgKiBAcGFyYW0gcHJvdmlkZXIgLSBBIFByb3ZpZGVyIGluc3RhbmNlIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEFuIHVubG9ja2VkIHdhbGxldCBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBmcm9tRW5jcnlwdGVkSnNvbihqc29uV2FsbGV0LCBwYXNzd29yZCwgcHJvdmlkZXIpIHtcbiAgICBjb25zdCBwcml2YXRlS2V5ID0gYXdhaXQgZGVjcnlwdEtleXN0b3JlV2FsbGV0KGpzb25XYWxsZXQsIHBhc3N3b3JkKTtcbiAgICByZXR1cm4gbmV3IF9XYWxsZXRVbmxvY2tlZChwcml2YXRlS2V5LCBwcm92aWRlcik7XG4gIH1cbn07XG5cbi8vIHNyYy93YWxsZXQvd2FsbGV0LnRzXG52YXIgV2FsbGV0ID0gY2xhc3Mge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIldhbGxldFwiKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIGxvY2tlZCB3YWxsZXQgaW5zdGFuY2UgZnJvbSBhbiBhZGRyZXNzIGFuZCBhIHByb3ZpZGVyLlxuICAgKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSBhZGRyZXNzIG9mIHRoZSB3YWxsZXQuXG4gICAqIEBwYXJhbSBwcm92aWRlciAtIEEgUHJvdmlkZXIgaW5zdGFuY2UgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQSBsb2NrZWQgd2FsbGV0IGluc3RhbmNlLlxuICAgKi9cbiAgc3RhdGljIGZyb21BZGRyZXNzKGFkZHJlc3MsIHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBXYWxsZXRMb2NrZWQoYWRkcmVzcywgcHJvdmlkZXIpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIHVubG9ja2VkIHdhbGxldCBpbnN0YW5jZSBmcm9tIGEgcHJpdmF0ZSBrZXkgYW5kIGEgcHJvdmlkZXIuXG4gICAqXG4gICAqIEBwYXJhbSBwcml2YXRlS2V5IC0gVGhlIHByaXZhdGUga2V5IG9mIHRoZSB3YWxsZXQuXG4gICAqIEBwYXJhbSBwcm92aWRlciAtIEEgUHJvdmlkZXIgaW5zdGFuY2UgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMgQW4gdW5sb2NrZWQgd2FsbGV0IGluc3RhbmNlLlxuICAgKi9cbiAgc3RhdGljIGZyb21Qcml2YXRlS2V5KHByaXZhdGVLZXksIHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBXYWxsZXRVbmxvY2tlZChwcml2YXRlS2V5LCBwcm92aWRlcik7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgbmV3IFdhbGxldCBVbmxvY2tlZCB3aXRoIGEgcmFuZG9tIGtleSBwYWlyLlxuICAgKlxuICAgKiBAcGFyYW0gZ2VuZXJhdGVPcHRpb25zIC0gT3B0aW9ucyB0byBjdXN0b21pemUgdGhlIGdlbmVyYXRpb24gcHJvY2VzcyAob3B0aW9uYWwpLlxuICAgKiBAcmV0dXJucyBBbiB1bmxvY2tlZCB3YWxsZXQgaW5zdGFuY2UuXG4gICAqL1xuICBzdGF0aWMgZ2VuZXJhdGUgPSBXYWxsZXRVbmxvY2tlZC5nZW5lcmF0ZTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIFdhbGxldCBVbmxvY2tlZCBmcm9tIGEgc2VlZC5cbiAgICpcbiAgICogQHBhcmFtIHNlZWQgLSBUaGUgc2VlZCBwaHJhc2UuXG4gICAqIEBwYXJhbSBwcm92aWRlciAtIEEgUHJvdmlkZXIgaW5zdGFuY2UgKG9wdGlvbmFsKS5cbiAgICogQHBhcmFtIHBhdGggLSBUaGUgZGVyaXZhdGlvbiBwYXRoIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEFuIHVubG9ja2VkIHdhbGxldCBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyBmcm9tU2VlZCA9IFdhbGxldFVubG9ja2VkLmZyb21TZWVkO1xuICAvKipcbiAgICogQ3JlYXRlIGEgV2FsbGV0IFVubG9ja2VkIGZyb20gYSBtbmVtb25pYyBwaHJhc2UuXG4gICAqXG4gICAqIEBwYXJhbSBtbmVtb25pYyAtIFRoZSBtbmVtb25pYyBwaHJhc2UuXG4gICAqIEBwYXJhbSBwcm92aWRlciAtIEEgUHJvdmlkZXIgaW5zdGFuY2UgKG9wdGlvbmFsKS5cbiAgICogQHBhcmFtIHBhdGggLSBUaGUgZGVyaXZhdGlvbiBwYXRoIChvcHRpb25hbCkuXG4gICAqIEBwYXJhbSBwYXNzcGhyYXNlIC0gVGhlIHBhc3NwaHJhc2UgZm9yIHRoZSBtbmVtb25pYyAob3B0aW9uYWwpLlxuICAgKiBAcmV0dXJucyBBbiB1bmxvY2tlZCB3YWxsZXQgaW5zdGFuY2UuXG4gICAqL1xuICBzdGF0aWMgZnJvbU1uZW1vbmljID0gV2FsbGV0VW5sb2NrZWQuZnJvbU1uZW1vbmljO1xuICAvKipcbiAgICogQ3JlYXRlIGEgV2FsbGV0IFVubG9ja2VkIGZyb20gYW4gZXh0ZW5kZWQga2V5LlxuICAgKlxuICAgKiBAcGFyYW0gZXh0ZW5kZWRLZXkgLSBUaGUgZXh0ZW5kZWQga2V5LlxuICAgKiBAcGFyYW0gcHJvdmlkZXIgLSBBIFByb3ZpZGVyIGluc3RhbmNlIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEFuIHVubG9ja2VkIHdhbGxldCBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyBmcm9tRXh0ZW5kZWRLZXkgPSBXYWxsZXRVbmxvY2tlZC5mcm9tRXh0ZW5kZWRLZXk7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBXYWxsZXQgVW5sb2NrZWQgZnJvbSBhbiBlbmNyeXB0ZWQgSlNPTi5cbiAgICpcbiAgICogQHBhcmFtIGpzb25XYWxsZXQgLSBUaGUgZW5jcnlwdGVkIEpTT04ga2V5c3RvcmUuXG4gICAqIEBwYXJhbSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZCB0byBkZWNyeXB0IHRoZSBKU09OLlxuICAgKiBAcGFyYW0gcHJvdmlkZXIgLSBBIFByb3ZpZGVyIGluc3RhbmNlIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIEFuIHVubG9ja2VkIHdhbGxldCBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyBmcm9tRW5jcnlwdGVkSnNvbiA9IFdhbGxldFVubG9ja2VkLmZyb21FbmNyeXB0ZWRKc29uO1xufTtcblxuLy8gc3JjL3dhbGxldC1tYW5hZ2VyL3dhbGxldC1tYW5hZ2VyLnRzXG5pbXBvcnQgeyBBZGRyZXNzIGFzIEFkZHJlc3M5IH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3NcIjtcbmltcG9ydCB7IGVuY3J5cHQsIGRlY3J5cHQgfSBmcm9tIFwiQGZ1ZWwtdHMvY3J5cHRvXCI7XG5pbXBvcnQgeyBFcnJvckNvZGUgYXMgRXJyb3JDb2RlMjYsIEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3IyOCB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJldmVudHNcIjtcblxuLy8gc3JjL3dhbGxldC1tYW5hZ2VyL3N0b3JhZ2VzL21lbW9yeS1zdG9yYWdlLnRzXG52YXIgTWVtb3J5U3RvcmFnZSA9IGNsYXNzIHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJNZW1vcnlTdG9yYWdlXCIpO1xuICB9XG4gIHN0b3JhZ2UgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBhc3luYyBnZXRJdGVtKGtleSkge1xuICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0KGtleSk7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH1cbiAgYXN5bmMgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgYXdhaXQgdGhpcy5zdG9yYWdlLnNldChrZXksIHZhbHVlKTtcbiAgfVxuICBhc3luYyByZW1vdmVJdGVtKGtleSkge1xuICAgIGF3YWl0IHRoaXMuc3RvcmFnZS5kZWxldGUoa2V5KTtcbiAgfVxuICBhc3luYyBjbGVhcigpIHtcbiAgICBhd2FpdCB0aGlzLnN0b3JhZ2UuY2xlYXIoKTtcbiAgfVxufTtcblxuLy8gc3JjL3dhbGxldC1tYW5hZ2VyL3ZhdWx0cy9tbmVtb25pYy12YXVsdC50c1xuaW1wb3J0IHsgQWRkcmVzcyBhcyBBZGRyZXNzNyB9IGZyb20gXCJAZnVlbC10cy9hZGRyZXNzXCI7XG5pbXBvcnQgeyBFcnJvckNvZGUgYXMgRXJyb3JDb2RlMjQsIEZ1ZWxFcnJvciBhcyBGdWVsRXJyb3IyNiB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbnZhciBNbmVtb25pY1ZhdWx0ID0gY2xhc3Mge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIk1uZW1vbmljVmF1bHRcIik7XG4gIH1cbiAgc3RhdGljIHR5cGUgPSBcIm1uZW1vbmljXCI7XG4gICNzZWNyZXQ7XG4gIHBhdGhLZXkgPSBcInt9XCI7XG4gIHJvb3RQYXRoID0gYG0vNDQnLzExNzk5OTM0MjAnLyR7dGhpcy5wYXRoS2V5fScvMC8wYDtcbiAgbnVtYmVyT2ZBY2NvdW50cyA9IDA7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLiNzZWNyZXQgPSBvcHRpb25zLnNlY3JldCB8fCBtbmVtb25pY19kZWZhdWx0LmdlbmVyYXRlKCk7XG4gICAgdGhpcy5yb290UGF0aCA9IG9wdGlvbnMucm9vdFBhdGggfHwgdGhpcy5yb290UGF0aDtcbiAgICB0aGlzLm51bWJlck9mQWNjb3VudHMgPSBvcHRpb25zLm51bWJlck9mQWNjb3VudHMgfHwgMTtcbiAgfVxuICBnZXREZXJpdmVQYXRoKGluZGV4KSB7XG4gICAgaWYgKHRoaXMucm9vdFBhdGguaW5jbHVkZXModGhpcy5wYXRoS2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMucm9vdFBhdGgucmVwbGFjZSh0aGlzLnBhdGhLZXksIFN0cmluZyhpbmRleCkpO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dGhpcy5yb290UGF0aH0vJHtpbmRleH1gO1xuICB9XG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VjcmV0OiB0aGlzLiNzZWNyZXQsXG4gICAgICByb290UGF0aDogdGhpcy5yb290UGF0aCxcbiAgICAgIG51bWJlck9mQWNjb3VudHM6IHRoaXMubnVtYmVyT2ZBY2NvdW50c1xuICAgIH07XG4gIH1cbiAgZ2V0QWNjb3VudHMoKSB7XG4gICAgY29uc3QgYWNjb3VudHMgPSBbXTtcbiAgICBsZXQgbnVtYmVyT2ZBY2NvdW50cyA9IDA7XG4gICAgZG8ge1xuICAgICAgY29uc3Qgd2FsbGV0ID0gV2FsbGV0LmZyb21NbmVtb25pYyh0aGlzLiNzZWNyZXQsIHRoaXMuZ2V0RGVyaXZlUGF0aChudW1iZXJPZkFjY291bnRzKSk7XG4gICAgICBhY2NvdW50cy5wdXNoKHtcbiAgICAgICAgcHVibGljS2V5OiB3YWxsZXQucHVibGljS2V5LFxuICAgICAgICBhZGRyZXNzOiB3YWxsZXQuYWRkcmVzc1xuICAgICAgfSk7XG4gICAgICBudW1iZXJPZkFjY291bnRzICs9IDE7XG4gICAgfSB3aGlsZSAobnVtYmVyT2ZBY2NvdW50cyA8IHRoaXMubnVtYmVyT2ZBY2NvdW50cyk7XG4gICAgcmV0dXJuIGFjY291bnRzO1xuICB9XG4gIGFkZEFjY291bnQoKSB7XG4gICAgdGhpcy5udW1iZXJPZkFjY291bnRzICs9IDE7XG4gICAgY29uc3Qgd2FsbGV0ID0gV2FsbGV0LmZyb21NbmVtb25pYyh0aGlzLiNzZWNyZXQsIHRoaXMuZ2V0RGVyaXZlUGF0aCh0aGlzLm51bWJlck9mQWNjb3VudHMgLSAxKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHB1YmxpY0tleTogd2FsbGV0LnB1YmxpY0tleSxcbiAgICAgIGFkZHJlc3M6IHdhbGxldC5hZGRyZXNzXG4gICAgfTtcbiAgfVxuICBleHBvcnRBY2NvdW50KGFkZHJlc3MpIHtcbiAgICBsZXQgbnVtYmVyT2ZBY2NvdW50cyA9IDA7XG4gICAgY29uc3Qgb3duZXJBZGRyZXNzID0gbmV3IEFkZHJlc3M3KGFkZHJlc3MpO1xuICAgIGRvIHtcbiAgICAgIGNvbnN0IHdhbGxldCA9IFdhbGxldC5mcm9tTW5lbW9uaWModGhpcy4jc2VjcmV0LCB0aGlzLmdldERlcml2ZVBhdGgobnVtYmVyT2ZBY2NvdW50cykpO1xuICAgICAgaWYgKHdhbGxldC5hZGRyZXNzLmVxdWFscyhvd25lckFkZHJlc3MpKSB7XG4gICAgICAgIHJldHVybiB3YWxsZXQucHJpdmF0ZUtleTtcbiAgICAgIH1cbiAgICAgIG51bWJlck9mQWNjb3VudHMgKz0gMTtcbiAgICB9IHdoaWxlIChudW1iZXJPZkFjY291bnRzIDwgdGhpcy5udW1iZXJPZkFjY291bnRzKTtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjYoXG4gICAgICBFcnJvckNvZGUyNC5XQUxMRVRfTUFOQUdFUl9FUlJPUixcbiAgICAgIGBBY2NvdW50IHdpdGggYWRkcmVzcyAnJHthZGRyZXNzfScgbm90IGZvdW5kIGluIGRlcml2ZWQgd2FsbGV0cy5gXG4gICAgKTtcbiAgfVxuICBnZXRXYWxsZXQoYWRkcmVzcykge1xuICAgIGNvbnN0IHByaXZhdGVLZXkgPSB0aGlzLmV4cG9ydEFjY291bnQoYWRkcmVzcyk7XG4gICAgcmV0dXJuIFdhbGxldC5mcm9tUHJpdmF0ZUtleShwcml2YXRlS2V5KTtcbiAgfVxufTtcblxuLy8gc3JjL3dhbGxldC1tYW5hZ2VyL3ZhdWx0cy9wcml2YXRla2V5LXZhdWx0LnRzXG5pbXBvcnQgeyBBZGRyZXNzIGFzIEFkZHJlc3M4IH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3NcIjtcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGUyNSwgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjI3IH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xudmFyIFByaXZhdGVLZXlWYXVsdCA9IGNsYXNzIHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJQcml2YXRlS2V5VmF1bHRcIik7XG4gIH1cbiAgc3RhdGljIHR5cGUgPSBcInByaXZhdGVLZXlcIjtcbiAgI3ByaXZhdGVLZXlzID0gW107XG4gIC8qKlxuICAgKiBJZiBwcml2YXRlS2V5IHZhdWx0IGlzIGluaXRpYWxpemVkIHdpdGggYSBzZWNyZXRLZXksIGl0IGNyZWF0ZXNcbiAgICogb25lIGFjY291bnQgd2l0aCB0aGUgZmFsbG93aW5nIHNlY3JldFxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKG9wdGlvbnMuc2VjcmV0KSB7XG4gICAgICB0aGlzLiNwcml2YXRlS2V5cyA9IFtvcHRpb25zLnNlY3JldF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3ByaXZhdGVLZXlzID0gb3B0aW9ucy5hY2NvdW50cyB8fCBbV2FsbGV0LmdlbmVyYXRlKCkucHJpdmF0ZUtleV07XG4gICAgfVxuICB9XG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWNjb3VudHM6IHRoaXMuI3ByaXZhdGVLZXlzXG4gICAgfTtcbiAgfVxuICBnZXRQdWJsaWNBY2NvdW50KHByaXZhdGVLZXkpIHtcbiAgICBjb25zdCB3YWxsZXQgPSBXYWxsZXQuZnJvbVByaXZhdGVLZXkocHJpdmF0ZUtleSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFkZHJlc3M6IHdhbGxldC5hZGRyZXNzLFxuICAgICAgcHVibGljS2V5OiB3YWxsZXQucHVibGljS2V5XG4gICAgfTtcbiAgfVxuICBnZXRBY2NvdW50cygpIHtcbiAgICByZXR1cm4gdGhpcy4jcHJpdmF0ZUtleXMubWFwKChwaykgPT4gdGhpcy5nZXRQdWJsaWNBY2NvdW50KHBrKSk7XG4gIH1cbiAgYWRkQWNjb3VudCgpIHtcbiAgICBjb25zdCB3YWxsZXQgPSBXYWxsZXQuZ2VuZXJhdGUoKTtcbiAgICB0aGlzLiNwcml2YXRlS2V5cy5wdXNoKHdhbGxldC5wcml2YXRlS2V5KTtcbiAgICByZXR1cm4gdGhpcy5nZXRQdWJsaWNBY2NvdW50KHdhbGxldC5wcml2YXRlS2V5KTtcbiAgfVxuICBleHBvcnRBY2NvdW50KGFkZHJlc3MpIHtcbiAgICBjb25zdCBvd25lckFkZHJlc3MgPSBuZXcgQWRkcmVzczgoYWRkcmVzcyk7XG4gICAgY29uc3QgcHJpdmF0ZUtleSA9IHRoaXMuI3ByaXZhdGVLZXlzLmZpbmQoXG4gICAgICAocGspID0+IFdhbGxldC5mcm9tUHJpdmF0ZUtleShwaykuYWRkcmVzcy5lcXVhbHMob3duZXJBZGRyZXNzKVxuICAgICk7XG4gICAgaWYgKCFwcml2YXRlS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjcoXG4gICAgICAgIEVycm9yQ29kZTI1LldBTExFVF9NQU5BR0VSX0VSUk9SLFxuICAgICAgICBgTm8gcHJpdmF0ZSBrZXkgZm91bmQgZm9yIGFkZHJlc3MgJyR7YWRkcmVzc30nLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBwcml2YXRlS2V5O1xuICB9XG4gIGdldFdhbGxldChhZGRyZXNzKSB7XG4gICAgY29uc3QgcHJpdmF0ZUtleSA9IHRoaXMuZXhwb3J0QWNjb3VudChhZGRyZXNzKTtcbiAgICByZXR1cm4gV2FsbGV0LmZyb21Qcml2YXRlS2V5KHByaXZhdGVLZXkpO1xuICB9XG59O1xuXG4vLyBzcmMvd2FsbGV0LW1hbmFnZXIvd2FsbGV0LW1hbmFnZXIudHNcbnZhciBFUlJPUl9NRVNTQUdFUyA9IHtcbiAgaW52YWxpZF92YXVsdF90eXBlOiBcIlRoZSBwcm92aWRlZCBWYXVsdCB0eXBlIGlzIGludmFsaWQuXCIsXG4gIGFkZHJlc3Nfbm90X2ZvdW5kOiBcIk5vIHByaXZhdGUga2V5IGZvdW5kIGZvciBhZGRyZXNzIHRoZSBzcGVjaWZpZWQgd2FsbGV0IGFkZHJlc3MuXCIsXG4gIHZhdWx0X25vdF9mb3VuZDogXCJUaGUgc3BlY2lmaWVkIHZhdWx0IHdhcyBub3QgZm91bmQuXCIsXG4gIHdhbGxldF9ub3RfdW5sb2NrZWQ6IFwiVGhlIHdhbGxldCBpcyBjdXJyZW50bHkgbG9ja2VkLlwiLFxuICBwYXNzcGhyYXNlX25vdF9tYXRjaDogXCJUaGUgcHJvdmlkZWQgcGFzc3BocmFzZSBkaWQgbm90IG1hdGNoIHRoZSBleHBlY3RlZCB2YWx1ZS5cIlxufTtcbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjgoRXJyb3JDb2RlMjYuV0FMTEVUX01BTkFHRVJfRVJST1IsIG1lc3NhZ2UpO1xuICB9XG59XG5fX25hbWUoYXNzZXJ0LCBcImFzc2VydFwiKTtcbnZhciBXYWxsZXRNYW5hZ2VyID0gY2xhc3MgX1dhbGxldE1hbmFnZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIldhbGxldE1hbmFnZXJcIik7XG4gIH1cbiAgLyoqXG4gICAqIFZhdWx0c1xuICAgKlxuICAgKiBWYXVsdHMgYXJlIHJlc3BvbnNpYmxlIHRvIHN0b3JlIHNlY3JldCBrZXlzIGFuZCByZXR1cm4gYW4gYFdhbGxldGAgaW5zdGFuY2UsXG4gICAqIHRvIGludGVyYWN0IHdpdGggdGhlIG5ldHdvcmsuXG4gICAqXG4gICAqIEVhY2ggdmF1bHQgaGFzIGFjY2VzcyB0byBpdHMgb3duIHN0YXRlXG4gICAqXG4gICAqL1xuICBzdGF0aWMgVmF1bHRzID0gW01uZW1vbmljVmF1bHQsIFByaXZhdGVLZXlWYXVsdF07XG4gIC8qKlxuICAgKiBTdG9yYWdlXG4gICAqXG4gICAqIFBlcnNpc3RlbnQgZW5jcnlwdGVkIGRhdGEuIGBUaGUgZGVmYXVsdCBzdG9yYWdlIHdvcmtzIG9ubHkgb24gbWVtb3J5YC5cbiAgICovXG4gIHN0b3JhZ2UgPSBuZXcgTWVtb3J5U3RvcmFnZSgpO1xuICAvKiBLZXkgbmFtZSBwYXNzZWQgdG8gdGhlIHN0b3JhZ2UgKi9cbiAgU1RPUkFHRV9LRVkgPSBcIldhbGxldE1hbmFnZXJcIjtcbiAgLy8gYFRoaXMgdmFyaWFibGVzIGFyZSBvbmx5IGFjY2Vzc2libGUgZnJvbSBpbnNpZGUgdGhlIGNsYXNzYFxuICAjdmF1bHRzID0gW107XG4gICNwYXNzcGhyYXNlID0gXCJcIjtcbiAgI2lzTG9ja2VkID0gdHJ1ZTtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zdG9yYWdlID0gb3B0aW9ucz8uc3RvcmFnZSB8fCB0aGlzLnN0b3JhZ2U7XG4gIH1cbiAgZ2V0IGlzTG9ja2VkKCkge1xuICAgIHJldHVybiB0aGlzLiNpc0xvY2tlZDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSB2YXVsdCBzZXJpYWxpemVkIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgcHJpdmF0ZUtleXMsXG4gICAqIHRoZSBmb3JtYXQgb2YgdGhlIHJldHVybiBkZXBlbmRzIG9uIHRoZSBWYXVsdCB0eXBlLlxuICAgKi9cbiAgZXhwb3J0VmF1bHQodmF1bHRJZCkge1xuICAgIGFzc2VydCghdGhpcy4jaXNMb2NrZWQsIEVSUk9SX01FU1NBR0VTLndhbGxldF9ub3RfdW5sb2NrZWQpO1xuICAgIGNvbnN0IHZhdWx0U3RhdGUgPSB0aGlzLiN2YXVsdHMuZmluZCgoXywgaWR4KSA9PiBpZHggPT09IHZhdWx0SWQpO1xuICAgIGFzc2VydCh2YXVsdFN0YXRlLCBFUlJPUl9NRVNTQUdFUy52YXVsdF9ub3RfZm91bmQpO1xuICAgIHJldHVybiB2YXVsdFN0YXRlLnZhdWx0LnNlcmlhbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0IGFsbCB2YXVsdHMgb24gdGhlIFdhbGxldCBNYW5hZ2VyLCB0aGlzIGZ1bmN0aW9uIG5vdCByZXR1cm4gc2VjcmV0J3NcbiAgICovXG4gIGdldFZhdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy4jdmF1bHRzLm1hcCgodiwgaWR4KSA9PiAoe1xuICAgICAgdGl0bGU6IHYudGl0bGUsXG4gICAgICB0eXBlOiB2LnR5cGUsXG4gICAgICB2YXVsdElkOiBpZHhcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3QgYWxsIGFjY291bnRzIG9uIHRoZSBXYWxsZXQgTWFuYWdlciBub3QgdmF1bHQgaW5mb3JtYXRpb24gaXMgcmV2ZWFsZWRcbiAgICovXG4gIGdldEFjY291bnRzKCkge1xuICAgIHJldHVybiB0aGlzLiN2YXVsdHMuZmxhdE1hcChcbiAgICAgICh2YXVsdFN0YXRlLCB2YXVsdElkKSA9PiB2YXVsdFN0YXRlLnZhdWx0LmdldEFjY291bnRzKCkubWFwKChhY2NvdW50KSA9PiAoeyAuLi5hY2NvdW50LCB2YXVsdElkIH0pKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFdhbGxldCBpbnN0YW5jZSBmb3IgdGhlIHNwZWNpZmljIGFjY291bnRcbiAgICovXG4gIGdldFdhbGxldChhZGRyZXNzKSB7XG4gICAgY29uc3Qgb3duZXJBZGRyZXNzID0gbmV3IEFkZHJlc3M5KGFkZHJlc3MpO1xuICAgIGNvbnN0IHZhdWx0U3RhdGUgPSB0aGlzLiN2YXVsdHMuZmluZChcbiAgICAgICh2cykgPT4gdnMudmF1bHQuZ2V0QWNjb3VudHMoKS5maW5kKChhKSA9PiBhLmFkZHJlc3MuZXF1YWxzKG93bmVyQWRkcmVzcykpXG4gICAgKTtcbiAgICBhc3NlcnQodmF1bHRTdGF0ZSwgRVJST1JfTUVTU0FHRVMuYWRkcmVzc19ub3RfZm91bmQpO1xuICAgIHJldHVybiB2YXVsdFN0YXRlLnZhdWx0LmdldFdhbGxldChvd25lckFkZHJlc3MpO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnQgc3BlY2lmaWMgYWNjb3VudCBwcml2YXRlS2V5XG4gICAqL1xuICBleHBvcnRQcml2YXRlS2V5KGFkZHJlc3MpIHtcbiAgICBjb25zdCBvd25lckFkZHJlc3MgPSBuZXcgQWRkcmVzczkoYWRkcmVzcyk7XG4gICAgYXNzZXJ0KCF0aGlzLiNpc0xvY2tlZCwgRVJST1JfTUVTU0FHRVMud2FsbGV0X25vdF91bmxvY2tlZCk7XG4gICAgY29uc3QgdmF1bHRTdGF0ZSA9IHRoaXMuI3ZhdWx0cy5maW5kKFxuICAgICAgKHZzKSA9PiB2cy52YXVsdC5nZXRBY2NvdW50cygpLmZpbmQoKGEpID0+IGEuYWRkcmVzcy5lcXVhbHMob3duZXJBZGRyZXNzKSlcbiAgICApO1xuICAgIGFzc2VydCh2YXVsdFN0YXRlLCBFUlJPUl9NRVNTQUdFUy5hZGRyZXNzX25vdF9mb3VuZCk7XG4gICAgcmV0dXJuIHZhdWx0U3RhdGUudmF1bHQuZXhwb3J0QWNjb3VudChvd25lckFkZHJlc3MpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYWNjb3VudCB0byBhIHNlbGVjdGVkIHZhdWx0IG9yIG9uIHRoZSBmaXJzdCB2YXVsdCBhcyBkZWZhdWx0LlxuICAgKiBJZiBub3QgdmF1bHRzIGFyZSBhZGRzIGl0IHdpbGwgcmV0dXJuIGVycm9yXG4gICAqL1xuICBhc3luYyBhZGRBY2NvdW50KG9wdGlvbnMpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTdGF0ZSgpO1xuICAgIGNvbnN0IHZhdWx0U3RhdGUgPSB0aGlzLiN2YXVsdHNbb3B0aW9ucz8udmF1bHRJZCB8fCAwXTtcbiAgICBhd2FpdCBhc3NlcnQodmF1bHRTdGF0ZSwgRVJST1JfTUVTU0FHRVMudmF1bHRfbm90X2ZvdW5kKTtcbiAgICBjb25zdCBhY2NvdW50ID0gdmF1bHRTdGF0ZS52YXVsdC5hZGRBY2NvdW50KCk7XG4gICAgYXdhaXQgdGhpcy5zYXZlU3RhdGUoKTtcbiAgICByZXR1cm4gYWNjb3VudDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHZhdWx0IGJ5IGluZGV4LCBieSByZW1vdmUgdGhlIHZhdWx0IHlvdSBhbHNvIHJlbW92ZSBhbGwgYWNjb3VudHNcbiAgICogY3JlYXRlZCBieSB0aGUgdmF1bHQuXG4gICAqL1xuICBhc3luYyByZW1vdmVWYXVsdChpbmRleCkge1xuICAgIHRoaXMuI3ZhdWx0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGF3YWl0IHRoaXMuc2F2ZVN0YXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBWYXVsdCwgdGhlIGB2YXVsdENvbmZpZy50eXBlYCB3aWxsIGxvb2sgZm9yIHRoZSBWYXVsdHMgc3VwcG9ydGVkIGlmXG4gICAqIGRpZG4ndCBmb3VuZCBpdCB3aWxsIHRocm93LlxuICAgKi9cbiAgYXN5bmMgYWRkVmF1bHQodmF1bHRDb25maWcpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTdGF0ZSgpO1xuICAgIGNvbnN0IFZhdWx0MiA9IHRoaXMuZ2V0VmF1bHRDbGFzcyh2YXVsdENvbmZpZy50eXBlKTtcbiAgICBjb25zdCB2YXVsdCA9IG5ldyBWYXVsdDIodmF1bHRDb25maWcpO1xuICAgIHRoaXMuI3ZhdWx0cyA9IHRoaXMuI3ZhdWx0cy5jb25jYXQoe1xuICAgICAgdGl0bGU6IHZhdWx0Q29uZmlnLnRpdGxlLFxuICAgICAgdHlwZTogdmF1bHRDb25maWcudHlwZSxcbiAgICAgIHZhdWx0XG4gICAgfSk7XG4gICAgYXdhaXQgdGhpcy5zYXZlU3RhdGUoKTtcbiAgfVxuICAvKipcbiAgICogTG9jayB3YWxsZXQuIEl0IHJlbW92ZXMgcGFzc3BocmFzZSBmcm9tIGNsYXNzIGluc3RhbmNlLCBlbmNyeXB0IGFuZCBoaWRlIGFsbCBhZGRyZXNzIGFuZFxuICAgKiBzZWNyZXRzLlxuICAgKi9cbiAgbG9jaygpIHtcbiAgICB0aGlzLiNpc0xvY2tlZCA9IHRydWU7XG4gICAgdGhpcy4jdmF1bHRzID0gW107XG4gICAgdGhpcy4jcGFzc3BocmFzZSA9IFwiXCI7XG4gICAgdGhpcy5lbWl0KFwibG9ja1wiKTtcbiAgfVxuICAvKipcbiAgICogVW5sb2NrIHdhbGxldC4gSXQgc2V0cyBwYXNzcGhyYXNlIG9uIFdhbGxldE1hbmdlciBpbnN0YW5jZSBsb2FkIGFsbCBhZGRyZXNzIGZyb20gY29uZmlndXJlZCB2YXVsdHMuXG4gICAqIFZhdWx0cyB3aXRoIHNlY3JldHMgYXJlIG5vdCB1bmxvY2tlZCBvciBpbnN0YW50aWF0ZWQgb24gdGhpcyBtb21lbnQuXG4gICAqL1xuICBhc3luYyB1bmxvY2socGFzc3BocmFzZSkge1xuICAgIHRoaXMuI3Bhc3NwaHJhc2UgPSBwYXNzcGhyYXNlO1xuICAgIHRoaXMuI2lzTG9ja2VkID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMubG9hZFN0YXRlKCk7XG4gICAgICB0aGlzLmVtaXQoXCJ1bmxvY2tcIik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBhd2FpdCB0aGlzLmxvY2soKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSBXYWxsZXRNYW5hZ2VyIGVuY3J5cHRpb24gcGFzc3BocmFzZVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlUGFzc3BocmFzZShvbGRwYXNzLCBuZXdwYXNzKSB7XG4gICAgY29uc3QgaXNMb2NrZWQgPSB0aGlzLiNpc0xvY2tlZDtcbiAgICBhd2FpdCB0aGlzLnVubG9jayhvbGRwYXNzKTtcbiAgICB0aGlzLiNwYXNzcGhyYXNlID0gbmV3cGFzcztcbiAgICBhd2FpdCB0aGlzLnNhdmVTdGF0ZSgpO1xuICAgIGF3YWl0IHRoaXMubG9hZFN0YXRlKCk7XG4gICAgaWYgKGlzTG9ja2VkKSB7XG4gICAgICBhd2FpdCB0aGlzLmxvY2soKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlIGFuZCBkZWNyeXB0IFdhbGxldE1hbmFnZXIgc3RhdGUgZnJvbSBzdG9yYWdlXG4gICAqL1xuICBhc3luYyBsb2FkU3RhdGUoKSB7XG4gICAgYXdhaXQgYXNzZXJ0KCF0aGlzLiNpc0xvY2tlZCwgRVJST1JfTUVTU0FHRVMud2FsbGV0X25vdF91bmxvY2tlZCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMuU1RPUkFHRV9LRVkpO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IGRlY3J5cHQodGhpcy4jcGFzc3BocmFzZSwgSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICB0aGlzLiN2YXVsdHMgPSB0aGlzLiNkZXNlcmlhbGl6ZVZhdWx0cyhzdGF0ZS52YXVsdHMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU3RvcmUgZW5jcnlwdGVkIFdhbGxldE1hbmFnZXIgc3RhdGUgb24gc3RvcmFnZVxuICAgKi9cbiAgYXN5bmMgc2F2ZVN0YXRlKCkge1xuICAgIGF3YWl0IGFzc2VydCghdGhpcy4jaXNMb2NrZWQsIEVSUk9SX01FU1NBR0VTLndhbGxldF9ub3RfdW5sb2NrZWQpO1xuICAgIGNvbnN0IGVuY3J5cHRlZERhdGEgPSBhd2FpdCBlbmNyeXB0KHRoaXMuI3Bhc3NwaHJhc2UsIHtcbiAgICAgIHZhdWx0czogdGhpcy4jc2VyaWFsaXplVmF1bHRzKHRoaXMuI3ZhdWx0cylcbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLlNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShlbmNyeXB0ZWREYXRhKSk7XG4gICAgdGhpcy5lbWl0KFwidXBkYXRlXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTZXJpYWxpemUgYWxsIHZhdWx0cyB0byBzdG9yZVxuICAgKlxuICAgKiBgVGhpcyBpcyBvbmx5IGFjY2Vzc2libGUgZnJvbSBpbnNpZGUgdGhlIGNsYXNzYFxuICAgKi9cbiAgI3NlcmlhbGl6ZVZhdWx0cyh2YXVsdHMpIHtcbiAgICByZXR1cm4gdmF1bHRzLm1hcCgoeyB0aXRsZSwgdHlwZSwgdmF1bHQgfSkgPT4gKHtcbiAgICAgIHRpdGxlLFxuICAgICAgdHlwZSxcbiAgICAgIGRhdGE6IHZhdWx0LnNlcmlhbGl6ZSgpXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBEZXNlcmlhbGl6ZSBhbGwgdmF1bHRzIHRvIHN0YXRlXG4gICAqXG4gICAqIGBUaGlzIGlzIG9ubHkgYWNjZXNzaWJsZSBmcm9tIGluc2lkZSB0aGUgY2xhc3NgXG4gICAqL1xuICAjZGVzZXJpYWxpemVWYXVsdHModmF1bHRzKSB7XG4gICAgcmV0dXJuIHZhdWx0cy5tYXAoKHsgdGl0bGUsIHR5cGUsIGRhdGE6IHZhdWx0Q29uZmlnIH0pID0+IHtcbiAgICAgIGNvbnN0IFZhdWx0Q2xhc3MgPSB0aGlzLmdldFZhdWx0Q2xhc3ModHlwZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdmF1bHQ6IG5ldyBWYXVsdENsYXNzKHZhdWx0Q29uZmlnKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgaW5zdGFudGlhYmxlIENsYXNzIHJlZmVyZW5jZSBmcm9tIGBXYWxsZXRNYW5hZ2VyLlZhdWx0c2Agc3VwcG9ydGVkIGxpc3QuXG4gICAqL1xuICBnZXRWYXVsdENsYXNzKHR5cGUpIHtcbiAgICBjb25zdCBWYXVsdENsYXNzID0gX1dhbGxldE1hbmFnZXIuVmF1bHRzLmZpbmQoKHYpID0+IHYudHlwZSA9PT0gdHlwZSk7XG4gICAgYXNzZXJ0KFZhdWx0Q2xhc3MsIEVSUk9SX01FU1NBR0VTLmludmFsaWRfdmF1bHRfdHlwZSk7XG4gICAgcmV0dXJuIFZhdWx0Q2xhc3M7XG4gIH1cbn07XG5cbi8vIHNyYy93YWxsZXQtbWFuYWdlci90eXBlcy50c1xuaW1wb3J0IHsgRXJyb3JDb2RlIGFzIEVycm9yQ29kZTI3LCBGdWVsRXJyb3IgYXMgRnVlbEVycm9yMjkgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG52YXIgVmF1bHQgPSBjbGFzcyB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiVmF1bHRcIik7XG4gIH1cbiAgc3RhdGljIHR5cGU7XG4gIGNvbnN0cnVjdG9yKF9vcHRpb25zKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI5KEVycm9yQ29kZTI3Lk5PVF9JTVBMRU1FTlRFRCwgXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHNlcmlhbGl6ZSgpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjkoRXJyb3JDb2RlMjcuTk9UX0lNUExFTUVOVEVELCBcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgZ2V0QWNjb3VudHMoKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI5KEVycm9yQ29kZTI3Lk5PVF9JTVBMRU1FTlRFRCwgXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIGFkZEFjY291bnQoKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI5KEVycm9yQ29kZTI3Lk5PVF9JTVBMRU1FTlRFRCwgXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIGV4cG9ydEFjY291bnQoX2FkZHJlc3MpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMjkoRXJyb3JDb2RlMjcuTk9UX0lNUExFTUVOVEVELCBcIk5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgZ2V0V2FsbGV0KF9hZGRyZXNzKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjI5KEVycm9yQ29kZTI3Lk5PVF9JTVBMRU1FTlRFRCwgXCJOb3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG59O1xudmFyIFN0b3JhZ2VBYnN0cmFjdCA9IGNsYXNzIHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJTdG9yYWdlQWJzdHJhY3RcIik7XG4gIH1cbn07XG5cbi8vIHNyYy9wcmVkaWNhdGUvcHJlZGljYXRlLnRzXG5pbXBvcnQgeyBJbnRlcmZhY2UgYXMgSW50ZXJmYWNlNCB9IGZyb20gXCJAZnVlbC10cy9hYmktY29kZXJcIjtcbmltcG9ydCB7IEFkZHJlc3MgYXMgQWRkcmVzczEwIH0gZnJvbSBcIkBmdWVsLXRzL2FkZHJlc3NcIjtcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGUyOSwgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjMxIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgYXMgYXJyYXlpZnkyMywgaGV4bGlmeSBhcyBoZXhsaWZ5MjUgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcblxuLy8gc3JjL3V0aWxzL2RlcGxveVNjcmlwdE9yUHJlZGljYXRlLnRzXG5pbXBvcnQgeyBGdWVsRXJyb3IgYXMgRnVlbEVycm9yMzAsIEVycm9yQ29kZSBhcyBFcnJvckNvZGUyOCB9IGZyb20gXCJAZnVlbC10cy9lcnJvcnNcIjtcbmltcG9ydCB7IGFycmF5aWZ5IGFzIGFycmF5aWZ5MjEgfSBmcm9tIFwiQGZ1ZWwtdHMvdXRpbHNcIjtcblxuLy8gc3JjL3V0aWxzL3ByZWRpY2F0ZS1zY3JpcHQtbG9hZGVyLWluc3RydWN0aW9ucy50c1xuaW1wb3J0IHsgQmlnTnVtYmVyQ29kZXIgYXMgQmlnTnVtYmVyQ29kZXI0IH0gZnJvbSBcIkBmdWVsLXRzL2FiaS1jb2RlclwiO1xuaW1wb3J0IHsgc2hhMjU2IGFzIHNoYTI1NjUgfSBmcm9tIFwiQGZ1ZWwtdHMvaGFzaGVyXCI7XG5pbXBvcnQgeyBjb25jYXQgYXMgY29uY2F0NyB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xuaW1wb3J0ICogYXMgYXNtMiBmcm9tIFwiQGZ1ZWxzL3ZtLWFzbVwiO1xudmFyIEJMT0JfSURfU0laRSA9IDMyO1xudmFyIFJFR19BRERSRVNTX09GX0RBVEFfQUZURVJfQ09ERSA9IDE2O1xudmFyIFJFR19TVEFSVF9PRl9MT0FERURfQ09ERSA9IDE3O1xudmFyIFJFR19HRU5FUkFMX1VTRSA9IDE4O1xudmFyIFdPUkRfU0laRTIgPSA4O1xudmFyIERBVEFfT0ZGU0VUX0lOREVYID0gODtcbnZhciBDT05GSUdVUkFCTEVfT0ZGU0VUX0lOREVYID0gMTY7XG5mdW5jdGlvbiBnZXRCeXRlY29kZURhdGFPZmZzZXQoYnl0ZWNvZGUpIHtcbiAgY29uc3QgW29mZnNldF0gPSBuZXcgQmlnTnVtYmVyQ29kZXI0KFwidTY0XCIpLmRlY29kZShieXRlY29kZSwgREFUQV9PRkZTRVRfSU5ERVgpO1xuICByZXR1cm4gb2Zmc2V0LnRvTnVtYmVyKCk7XG59XG5fX25hbWUoZ2V0Qnl0ZWNvZGVEYXRhT2Zmc2V0LCBcImdldEJ5dGVjb2RlRGF0YU9mZnNldFwiKTtcbmZ1bmN0aW9uIGdldEJ5dGVjb2RlQ29uZmlndXJhYmxlT2Zmc2V0KGJ5dGVjb2RlKSB7XG4gIGNvbnN0IFtvZmZzZXRdID0gbmV3IEJpZ051bWJlckNvZGVyNChcInU2NFwiKS5kZWNvZGUoYnl0ZWNvZGUsIENPTkZJR1VSQUJMRV9PRkZTRVRfSU5ERVgpO1xuICByZXR1cm4gb2Zmc2V0LnRvTnVtYmVyKCk7XG59XG5fX25hbWUoZ2V0Qnl0ZWNvZGVDb25maWd1cmFibGVPZmZzZXQsIFwiZ2V0Qnl0ZWNvZGVDb25maWd1cmFibGVPZmZzZXRcIik7XG5mdW5jdGlvbiBnZXRCeXRlY29kZUlkKGJ5dGVjb2RlKSB7XG4gIGNvbnN0IGNvbmZpZ3VyYWJsZU9mZnNldCA9IGdldEJ5dGVjb2RlQ29uZmlndXJhYmxlT2Zmc2V0KGJ5dGVjb2RlKTtcbiAgY29uc3QgYnl0ZUNvZGVXaXRob3V0Q29uZmlndXJhYmxlU2VjdGlvbiA9IGJ5dGVjb2RlLnNsaWNlKDAsIGNvbmZpZ3VyYWJsZU9mZnNldCk7XG4gIHJldHVybiBzaGEyNTY1KGJ5dGVDb2RlV2l0aG91dENvbmZpZ3VyYWJsZVNlY3Rpb24pO1xufVxuX19uYW1lKGdldEJ5dGVjb2RlSWQsIFwiZ2V0Qnl0ZWNvZGVJZFwiKTtcbmZ1bmN0aW9uIGdldExlZ2FjeUJsb2JJZChieXRlY29kZSkge1xuICBjb25zdCBkYXRhT2Zmc2V0ID0gZ2V0Qnl0ZWNvZGVEYXRhT2Zmc2V0KGJ5dGVjb2RlKTtcbiAgY29uc3QgYnl0ZUNvZGVXaXRob3V0RGF0YVNlY3Rpb24gPSBieXRlY29kZS5zbGljZSgwLCBkYXRhT2Zmc2V0KTtcbiAgcmV0dXJuIHNoYTI1NjUoYnl0ZUNvZGVXaXRob3V0RGF0YVNlY3Rpb24pO1xufVxuX19uYW1lKGdldExlZ2FjeUJsb2JJZCwgXCJnZXRMZWdhY3lCbG9iSWRcIik7XG5mdW5jdGlvbiBnZXRQcmVkaWNhdGVTY3JpcHRMb2FkZXJJbnN0cnVjdGlvbnMob3JpZ2luYWxCaW5hcnksIGJsb2JJZCkge1xuICBjb25zdCB7IFJlZ0lkLCBJbnN0cnVjdGlvbiB9ID0gYXNtMjtcbiAgY29uc3QgUkVHX1BDID0gUmVnSWQucGMoKS50b191OCgpO1xuICBjb25zdCBSRUdfU1AgPSBSZWdJZC5zcCgpLnRvX3U4KCk7XG4gIGNvbnN0IFJFR19JUyA9IFJlZ0lkLmlzKCkudG9fdTgoKTtcbiAgY29uc3QgZ2V0SW5zdHJ1Y3Rpb25zID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgobnVtT2ZJbnN0cnVjdGlvbnMyKSA9PiBbXG4gICAgLy8gMS4gTG9hZCB0aGUgYmxvYiBjb250ZW50IGludG8gbWVtb3J5XG4gICAgLy8gRmluZCB0aGUgc3RhcnQgb2YgdGhlIGhhcmRjb2RlZCBibG9iIElELCB3aGljaCBpcyBsb2NhdGVkIGFmdGVyIHRoZSBsb2FkZXIgY29kZSBlbmRzLlxuICAgIGFzbTIubW92ZV8oUkVHX0FERFJFU1NfT0ZfREFUQV9BRlRFUl9DT0RFLCBSRUdfUEMpLFxuICAgIC8vIGhvbGQgdGhlIGFkZHJlc3Mgb2YgdGhlIGJsb2IgSUQuXG4gICAgYXNtMi5hZGRpKFxuICAgICAgUkVHX0FERFJFU1NfT0ZfREFUQV9BRlRFUl9DT0RFLFxuICAgICAgUkVHX0FERFJFU1NfT0ZfREFUQV9BRlRFUl9DT0RFLFxuICAgICAgbnVtT2ZJbnN0cnVjdGlvbnMyICogSW5zdHJ1Y3Rpb24uc2l6ZSgpXG4gICAgKSxcbiAgICAvLyBUaGUgY29kZSBpcyBnb2luZyB0byBiZSBsb2FkZWQgZnJvbSB0aGUgY3VycmVudCB2YWx1ZSBvZiBTUCBvbndhcmRzLCBzYXZlXG4gICAgLy8gdGhlIGxvY2F0aW9uIGludG8gUkVHX1NUQVJUX09GX0xPQURFRF9DT0RFIHNvIHdlIGNhbiBqdW1wIGludG8gaXQgYXQgdGhlIGVuZC5cbiAgICBhc20yLm1vdmVfKFJFR19TVEFSVF9PRl9MT0FERURfQ09ERSwgUkVHX1NQKSxcbiAgICAvLyBSRUdfR0VORVJBTF9VU0UgdG8gaG9sZCB0aGUgc2l6ZSBvZiB0aGUgYmxvYi5cbiAgICBhc20yLmJzaXooUkVHX0dFTkVSQUxfVVNFLCBSRUdfQUREUkVTU19PRl9EQVRBX0FGVEVSX0NPREUpLFxuICAgIC8vIFB1c2ggdGhlIGJsb2IgY29udGVudHMgb250byB0aGUgc3RhY2suXG4gICAgYXNtMi5sZGMoUkVHX0FERFJFU1NfT0ZfREFUQV9BRlRFUl9DT0RFLCAwLCBSRUdfR0VORVJBTF9VU0UsIDEpLFxuICAgIC8vIE1vdmUgb24gdG8gdGhlIGRhdGEgc2VjdGlvbiBsZW5ndGhcbiAgICBhc20yLmFkZGkoUkVHX0FERFJFU1NfT0ZfREFUQV9BRlRFUl9DT0RFLCBSRUdfQUREUkVTU19PRl9EQVRBX0FGVEVSX0NPREUsIEJMT0JfSURfU0laRSksXG4gICAgLy8gbG9hZCB0aGUgc2l6ZSBvZiB0aGUgZGF0YSBzZWN0aW9uIGludG8gUkVHX0dFTkVSQUxfVVNFXG4gICAgYXNtMi5sdyhSRUdfR0VORVJBTF9VU0UsIFJFR19BRERSRVNTX09GX0RBVEFfQUZURVJfQ09ERSwgMCksXG4gICAgLy8gYWZ0ZXIgd2UgaGF2ZSByZWFkIHRoZSBsZW5ndGggb2YgdGhlIGRhdGEgc2VjdGlvbiwgd2UgbW92ZSB0aGUgcG9pbnRlciB0byB0aGUgYWN0dWFsXG4gICAgLy8gZGF0YSBieSBza2lwcGluZyBXT1JEX1NJWkUgYnl0ZXMuXG4gICAgYXNtMi5hZGRpKFJFR19BRERSRVNTX09GX0RBVEFfQUZURVJfQ09ERSwgUkVHX0FERFJFU1NfT0ZfREFUQV9BRlRFUl9DT0RFLCBXT1JEX1NJWkUyKSxcbiAgICAvLyBsb2FkIHRoZSBkYXRhIHNlY3Rpb24gb2YgdGhlIGV4ZWN1dGFibGVcbiAgICBhc20yLmxkYyhSRUdfQUREUkVTU19PRl9EQVRBX0FGVEVSX0NPREUsIDAsIFJFR19HRU5FUkFMX1VTRSwgMiksXG4gICAgLy8gSnVtcCBpbnRvIHRoZSBtZW1vcnkgd2hlcmUgdGhlIGNvbnRyYWN0IGlzIGxvYWRlZC5cbiAgICAvLyBXaGF0IGZvbGxvd3MgaXMgY2FsbGVkIF9qbXBfbWVtIGJ5IHRoZSBzd2F5IGNvbXBpbGVyLlxuICAgIC8vIFN1YnRyYWN0IHRoZSBhZGRyZXNzIGNvbnRhaW5lZCBpbiBJUyBiZWNhdXNlIGptcCB3aWxsIGFkZCBpdCBiYWNrLlxuICAgIGFzbTIuc3ViKFJFR19TVEFSVF9PRl9MT0FERURfQ09ERSwgUkVHX1NUQVJUX09GX0xPQURFRF9DT0RFLCBSRUdfSVMpLFxuICAgIC8vIGptcCB3aWxsIG11bHRpcGx5IGJ5IDQsIHNvIHdlIG5lZWQgdG8gZGl2aWRlIHRvIGNhbmNlbCB0aGF0IG91dC5cbiAgICBhc20yLmRpdmkoUkVHX1NUQVJUX09GX0xPQURFRF9DT0RFLCBSRUdfU1RBUlRfT0ZfTE9BREVEX0NPREUsIDQpLFxuICAgIC8vIEp1bXAgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb250cmFjdCB3ZSBsb2FkZWQuXG4gICAgYXNtMi5qbXAoUkVHX1NUQVJUX09GX0xPQURFRF9DT0RFKVxuICBdLCBcImdldEluc3RydWN0aW9uc1wiKTtcbiAgY29uc3QgZ2V0SW5zdHJ1Y3Rpb25zTm9EYXRhU2VjdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG51bU9mSW5zdHJ1Y3Rpb25zMikgPT4gW1xuICAgIC8vIDEuIExvYWQgdGhlIGJsb2IgY29udGVudCBpbnRvIG1lbW9yeVxuICAgIC8vIEZpbmQgdGhlIHN0YXJ0IG9mIHRoZSBoYXJkY29kZWQgYmxvYiBJRCwgd2hpY2ggaXMgbG9jYXRlZCBhZnRlciB0aGUgbG9hZGVyIGNvZGUgZW5kcy5cbiAgICAvLyAxLiBMb2FkIHRoZSBibG9iIGNvbnRlbnQgaW50byBtZW1vcnlcbiAgICAvLyBGaW5kIHRoZSBzdGFydCBvZiB0aGUgaGFyZGNvZGVkIGJsb2IgSUQsIHdoaWNoIGlzIGxvY2F0ZWQgYWZ0ZXIgdGhlIGxvYWRlciBjb2RlIGVuZHMuXG4gICAgYXNtMi5tb3ZlXyhSRUdfQUREUkVTU19PRl9EQVRBX0FGVEVSX0NPREUsIFJFR19QQyksXG4gICAgLy8gaG9sZCB0aGUgYWRkcmVzcyBvZiB0aGUgYmxvYiBJRC5cbiAgICBhc20yLmFkZGkoXG4gICAgICBSRUdfQUREUkVTU19PRl9EQVRBX0FGVEVSX0NPREUsXG4gICAgICBSRUdfQUREUkVTU19PRl9EQVRBX0FGVEVSX0NPREUsXG4gICAgICBudW1PZkluc3RydWN0aW9uczIgKiBJbnN0cnVjdGlvbi5zaXplKClcbiAgICApLFxuICAgIC8vIFRoZSBjb2RlIGlzIGdvaW5nIHRvIGJlIGxvYWRlZCBmcm9tIHRoZSBjdXJyZW50IHZhbHVlIG9mIFNQIG9ud2FyZHMsIHNhdmVcbiAgICAvLyB0aGUgbG9jYXRpb24gaW50byBSRUdfU1RBUlRfT0ZfTE9BREVEX0NPREUgc28gd2UgY2FuIGp1bXAgaW50byBpdCBhdCB0aGUgZW5kLlxuICAgIGFzbTIubW92ZV8oUkVHX1NUQVJUX09GX0xPQURFRF9DT0RFLCBSRUdfU1ApLFxuICAgIC8vIFJFR19HRU5FUkFMX1VTRSB0byBob2xkIHRoZSBzaXplIG9mIHRoZSBibG9iLlxuICAgIGFzbTIuYnNpeihSRUdfR0VORVJBTF9VU0UsIFJFR19BRERSRVNTX09GX0RBVEFfQUZURVJfQ09ERSksXG4gICAgLy8gUHVzaCB0aGUgYmxvYiBjb250ZW50cyBvbnRvIHRoZSBzdGFjay5cbiAgICBhc20yLmxkYyhSRUdfQUREUkVTU19PRl9EQVRBX0FGVEVSX0NPREUsIDAsIFJFR19HRU5FUkFMX1VTRSwgMSksXG4gICAgLy8gSnVtcCBpbnRvIHRoZSBtZW1vcnkgd2hlcmUgdGhlIGNvbnRyYWN0IGlzIGxvYWRlZC5cbiAgICAvLyBXaGF0IGZvbGxvd3MgaXMgY2FsbGVkIF9qbXBfbWVtIGJ5IHRoZSBzd2F5IGNvbXBpbGVyLlxuICAgIC8vIFN1YnRyYWN0IHRoZSBhZGRyZXNzIGNvbnRhaW5lZCBpbiBJUyBiZWNhdXNlIGptcCB3aWxsIGFkZCBpdCBiYWNrLlxuICAgIGFzbTIuc3ViKFJFR19TVEFSVF9PRl9MT0FERURfQ09ERSwgUkVHX1NUQVJUX09GX0xPQURFRF9DT0RFLCBSRUdfSVMpLFxuICAgIC8vIGptcCB3aWxsIG11bHRpcGx5IGJ5IDQsIHNvIHdlIG5lZWQgdG8gZGl2aWRlIHRvIGNhbmNlbCB0aGF0IG91dC5cbiAgICBhc20yLmRpdmkoUkVHX1NUQVJUX09GX0xPQURFRF9DT0RFLCBSRUdfU1RBUlRfT0ZfTE9BREVEX0NPREUsIDQpLFxuICAgIC8vIEp1bXAgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb250cmFjdCB3ZSBsb2FkZWQuXG4gICAgYXNtMi5qbXAoUkVHX1NUQVJUX09GX0xPQURFRF9DT0RFKVxuICBdLCBcImdldEluc3RydWN0aW9uc05vRGF0YVNlY3Rpb25cIik7XG4gIGNvbnN0IG9mZnNldCA9IGdldEJ5dGVjb2RlQ29uZmlndXJhYmxlT2Zmc2V0KG9yaWdpbmFsQmluYXJ5KTtcbiAgaWYgKG9yaWdpbmFsQmluYXJ5Lmxlbmd0aCA8IG9mZnNldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBEYXRhIHNlY3Rpb24gb2Zmc2V0IGlzIG91dCBvZiBib3VuZHMsIG9mZnNldDogJHtvZmZzZXR9LCBiaW5hcnkgbGVuZ3RoOiAke29yaWdpbmFsQmluYXJ5Lmxlbmd0aH1gXG4gICAgKTtcbiAgfVxuICBjb25zdCBjb25maWd1cmFibGVTZWN0aW9uID0gb3JpZ2luYWxCaW5hcnkuc2xpY2Uob2Zmc2V0KTtcbiAgaWYgKGNvbmZpZ3VyYWJsZVNlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IG51bU9mSW5zdHJ1Y3Rpb25zMiA9IGdldEluc3RydWN0aW9ucygwKS5sZW5ndGg7XG4gICAgaWYgKG51bU9mSW5zdHJ1Y3Rpb25zMiA+IDY1NTM1KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb28gbWFueSBpbnN0cnVjdGlvbnMsIGV4Y2VlZGluZyB1MTY6Ok1BWC5cIik7XG4gICAgfVxuICAgIGNvbnN0IGluc3RydWN0aW9uQnl0ZXMyID0gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICBnZXRJbnN0cnVjdGlvbnMobnVtT2ZJbnN0cnVjdGlvbnMyKS5mbGF0TWFwKFxuICAgICAgICAoaW5zdHJ1Y3Rpb24pID0+IEFycmF5LmZyb20oaW5zdHJ1Y3Rpb24udG9fYnl0ZXMoKSlcbiAgICAgIClcbiAgICApO1xuICAgIGNvbnN0IGJsb2JCeXRlczIgPSBuZXcgVWludDhBcnJheShibG9iSWQpO1xuICAgIGNvbnN0IGRhdGFTZWN0aW9uTGVuQnl0ZXMgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICBjb25zdCBkYXRhVmlldyA9IG5ldyBEYXRhVmlldyhkYXRhU2VjdGlvbkxlbkJ5dGVzLmJ1ZmZlcik7XG4gICAgZGF0YVZpZXcuc2V0QmlnVWludDY0KDAsIEJpZ0ludChjb25maWd1cmFibGVTZWN0aW9uLmxlbmd0aCksIGZhbHNlKTtcbiAgICBjb25zdCBsb2FkZXJCeXRlY29kZTIgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAuLi5pbnN0cnVjdGlvbkJ5dGVzMixcbiAgICAgIC4uLmJsb2JCeXRlczIsXG4gICAgICAuLi5kYXRhU2VjdGlvbkxlbkJ5dGVzXG4gICAgXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYWRlckJ5dGVjb2RlOiBjb25jYXQ3KFtsb2FkZXJCeXRlY29kZTIsIGNvbmZpZ3VyYWJsZVNlY3Rpb25dKSxcbiAgICAgIGJsb2JPZmZzZXQ6IGxvYWRlckJ5dGVjb2RlMi5sZW5ndGhcbiAgICB9O1xuICB9XG4gIGNvbnN0IG51bU9mSW5zdHJ1Y3Rpb25zID0gZ2V0SW5zdHJ1Y3Rpb25zTm9EYXRhU2VjdGlvbigwKS5sZW5ndGg7XG4gIGlmIChudW1PZkluc3RydWN0aW9ucyA+IDY1NTM1KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vIG1hbnkgaW5zdHJ1Y3Rpb25zLCBleGNlZWRpbmcgdTE2OjpNQVguXCIpO1xuICB9XG4gIGNvbnN0IGluc3RydWN0aW9uQnl0ZXMgPSBuZXcgVWludDhBcnJheShcbiAgICBnZXRJbnN0cnVjdGlvbnNOb0RhdGFTZWN0aW9uKG51bU9mSW5zdHJ1Y3Rpb25zKS5mbGF0TWFwKFxuICAgICAgKGluc3RydWN0aW9uKSA9PiBBcnJheS5mcm9tKGluc3RydWN0aW9uLnRvX2J5dGVzKCkpXG4gICAgKVxuICApO1xuICBjb25zdCBibG9iQnl0ZXMgPSBuZXcgVWludDhBcnJheShibG9iSWQpO1xuICBjb25zdCBsb2FkZXJCeXRlY29kZSA9IG5ldyBVaW50OEFycmF5KFsuLi5pbnN0cnVjdGlvbkJ5dGVzLCAuLi5ibG9iQnl0ZXNdKTtcbiAgcmV0dXJuIHsgbG9hZGVyQnl0ZWNvZGUgfTtcbn1cbl9fbmFtZShnZXRQcmVkaWNhdGVTY3JpcHRMb2FkZXJJbnN0cnVjdGlvbnMsIFwiZ2V0UHJlZGljYXRlU2NyaXB0TG9hZGVySW5zdHJ1Y3Rpb25zXCIpO1xuXG4vLyBzcmMvdXRpbHMvZGVwbG95U2NyaXB0T3JQcmVkaWNhdGUudHNcbmFzeW5jIGZ1bmN0aW9uIGZ1bmRCbG9iVHgoZGVwbG95ZXIsIGJsb2JUeFJlcXVlc3QpIHtcbiAgY29uc3QgeyBhc3NlbWJsZWRSZXF1ZXN0IH0gPSBhd2FpdCBkZXBsb3llci5wcm92aWRlci5hc3NlbWJsZVR4KHtcbiAgICByZXF1ZXN0OiBibG9iVHhSZXF1ZXN0LFxuICAgIGZlZVBheWVyQWNjb3VudDogZGVwbG95ZXIsXG4gICAgYWNjb3VudENvaW5RdWFudGl0aWVzOiBbXVxuICB9KTtcbiAgcmV0dXJuIGFzc2VtYmxlZFJlcXVlc3Q7XG59XG5fX25hbWUoZnVuZEJsb2JUeCwgXCJmdW5kQmxvYlR4XCIpO1xuZnVuY3Rpb24gYWRqdXN0Q29uZmlndXJhYmxlT2Zmc2V0cyhqc29uQWJpLCBjb25maWd1cmFibGVPZmZzZXREaWZmKSB7XG4gIGNvbnN0IHsgY29uZmlndXJhYmxlczogcmVhZE9ubHlDb25maWd1cmFibGVzIH0gPSBqc29uQWJpO1xuICBjb25zdCBjb25maWd1cmFibGVzID0gW107XG4gIHJlYWRPbmx5Q29uZmlndXJhYmxlcy5mb3JFYWNoKChjb25maWcpID0+IHtcbiAgICBjb25maWd1cmFibGVzLnB1c2goeyAuLi5jb25maWcsIG9mZnNldDogY29uZmlnLm9mZnNldCAtIGNvbmZpZ3VyYWJsZU9mZnNldERpZmYgfSk7XG4gIH0pO1xuICByZXR1cm4geyAuLi5qc29uQWJpLCBjb25maWd1cmFibGVzIH07XG59XG5fX25hbWUoYWRqdXN0Q29uZmlndXJhYmxlT2Zmc2V0cywgXCJhZGp1c3RDb25maWd1cmFibGVPZmZzZXRzXCIpO1xuYXN5bmMgZnVuY3Rpb24gZGVwbG95U2NyaXB0T3JQcmVkaWNhdGUoe1xuICBkZXBsb3llcixcbiAgYnl0ZWNvZGUsXG4gIGFiaSxcbiAgbG9hZGVySW5zdGFuY2VDYWxsYmFja1xufSkge1xuICBjb25zdCBibG9iSWQgPSBnZXRCeXRlY29kZUlkKGFycmF5aWZ5MjEoYnl0ZWNvZGUpKTtcbiAgY29uc3QgY29uZmlndXJhYmxlT2Zmc2V0ID0gZ2V0Qnl0ZWNvZGVDb25maWd1cmFibGVPZmZzZXQoYXJyYXlpZnkyMShieXRlY29kZSkpO1xuICBjb25zdCBieXRlQ29kZVdpdGhvdXRDb25maWd1cmFibGVTZWN0aW9uID0gYnl0ZWNvZGUuc2xpY2UoMCwgY29uZmlndXJhYmxlT2Zmc2V0KTtcbiAgY29uc3QgYmxvYlR4UmVxdWVzdCA9IG5ldyBCbG9iVHJhbnNhY3Rpb25SZXF1ZXN0KHtcbiAgICBibG9iSWQsXG4gICAgd2l0bmVzc0luZGV4OiAwLFxuICAgIHdpdG5lc3NlczogW2J5dGVDb2RlV2l0aG91dENvbmZpZ3VyYWJsZVNlY3Rpb25dXG4gIH0pO1xuICBjb25zdCB7IGxvYWRlckJ5dGVjb2RlLCBibG9iT2Zmc2V0IH0gPSBnZXRQcmVkaWNhdGVTY3JpcHRMb2FkZXJJbnN0cnVjdGlvbnMoXG4gICAgYXJyYXlpZnkyMShieXRlY29kZSksXG4gICAgYXJyYXlpZnkyMShibG9iSWQpXG4gICk7XG4gIGNvbnN0IG5ld0NvbmZpZ3VyYWJsZU9mZnNldERpZmYgPSBieXRlQ29kZVdpdGhvdXRDb25maWd1cmFibGVTZWN0aW9uLmxlbmd0aCAtIChibG9iT2Zmc2V0IHx8IDApO1xuICBjb25zdCBuZXdBYmkgPSBhZGp1c3RDb25maWd1cmFibGVPZmZzZXRzKGFiaSwgbmV3Q29uZmlndXJhYmxlT2Zmc2V0RGlmZik7XG4gIGNvbnN0IGJsb2JFeGlzdHMgPSAoYXdhaXQgZGVwbG95ZXIucHJvdmlkZXIuZ2V0QmxvYnMoW2Jsb2JJZF0pKS5sZW5ndGggPiAwO1xuICBjb25zdCBsb2FkZXJJbnN0YW5jZSA9IGxvYWRlckluc3RhbmNlQ2FsbGJhY2sobG9hZGVyQnl0ZWNvZGUsIG5ld0FiaSk7XG4gIGlmIChibG9iRXhpc3RzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdhaXRGb3JSZXN1bHQ6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGxvYWRlckluc3RhbmNlKSwgXCJ3YWl0Rm9yUmVzdWx0XCIpLFxuICAgICAgYmxvYklkXG4gICAgfTtcbiAgfVxuICBjb25zdCBmdW5kZWRCbG9iUmVxdWVzdCA9IGF3YWl0IGZ1bmRCbG9iVHgoZGVwbG95ZXIsIGJsb2JUeFJlcXVlc3QpO1xuICBjb25zdCB3YWl0Rm9yUmVzdWx0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJsb2JUeCA9IGF3YWl0IGRlcGxveWVyLnNlbmRUcmFuc2FjdGlvbihmdW5kZWRCbG9iUmVxdWVzdCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBibG9iVHgud2FpdEZvclJlc3VsdCgpO1xuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09IFwic3VjY2Vzc1wiIC8qIHN1Y2Nlc3MgKi8pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMzAoRXJyb3JDb2RlMjguVFJBTlNBQ1RJT05fRkFJTEVELCBcIkZhaWxlZCB0byBkZXBsb3kgcHJlZGljYXRlIGNodW5rXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbG9hZGVySW5zdGFuY2U7XG4gIH0sIFwid2FpdEZvclJlc3VsdFwiKTtcbiAgcmV0dXJuIHtcbiAgICB3YWl0Rm9yUmVzdWx0LFxuICAgIGJsb2JJZFxuICB9O1xufVxuX19uYW1lKGRlcGxveVNjcmlwdE9yUHJlZGljYXRlLCBcImRlcGxveVNjcmlwdE9yUHJlZGljYXRlXCIpO1xuXG4vLyBzcmMvcHJlZGljYXRlL3V0aWxzL2dldFByZWRpY2F0ZVJvb3QudHNcbmltcG9ydCB7IGhhc2ggYXMgaGFzaDMgfSBmcm9tIFwiQGZ1ZWwtdHMvaGFzaGVyXCI7XG5pbXBvcnQgeyBjYWxjUm9vdCB9IGZyb20gXCJAZnVlbC10cy9tZXJrbGVcIjtcbmltcG9ydCB7IGNodW5rQW5kUGFkQnl0ZXMsIGhleGxpZnkgYXMgaGV4bGlmeTI0LCBjb25jYXQgYXMgY29uY2F0OCwgYXJyYXlpZnkgYXMgYXJyYXlpZnkyMiB9IGZyb20gXCJAZnVlbC10cy91dGlsc1wiO1xudmFyIGdldFByZWRpY2F0ZVJvb3QgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChieXRlY29kZSkgPT4ge1xuICBjb25zdCBjaHVua1NpemUgPSAxNiAqIDEwMjQ7XG4gIGNvbnN0IGJ5dGVzID0gYXJyYXlpZnkyMihieXRlY29kZSk7XG4gIGNvbnN0IGNodW5rcyA9IGNodW5rQW5kUGFkQnl0ZXMoYnl0ZXMsIGNodW5rU2l6ZSk7XG4gIGNvbnN0IGNvZGVSb290ID0gY2FsY1Jvb3QoY2h1bmtzLm1hcCgoYykgPT4gaGV4bGlmeTI0KGMpKSk7XG4gIGNvbnN0IHByZWRpY2F0ZVJvb3QgPSBoYXNoMyhjb25jYXQ4KFtcIjB4NDY1NTQ1NENcIiwgY29kZVJvb3RdKSk7XG4gIHJldHVybiBwcmVkaWNhdGVSb290O1xufSwgXCJnZXRQcmVkaWNhdGVSb290XCIpO1xuXG4vLyBzcmMvcHJlZGljYXRlL3ByZWRpY2F0ZS50c1xudmFyIFByZWRpY2F0ZSA9IGNsYXNzIF9QcmVkaWNhdGUgZXh0ZW5kcyBBY2NvdW50IHtcbiAgc3RhdGljIHtcbiAgICBfX25hbWUodGhpcywgXCJQcmVkaWNhdGVcIik7XG4gIH1cbiAgYnl0ZXM7XG4gIHByZWRpY2F0ZURhdGEgPSBbXTtcbiAgaW50ZXJmYWNlO1xuICBpbml0aWFsQnl0ZWNvZGU7XG4gIGNvbmZpZ3VyYWJsZUNvbnN0YW50cztcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIFByZWRpY2F0ZSBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIGJ5dGVjb2RlIC0gVGhlIGJ5dGVjb2RlIG9mIHRoZSBwcmVkaWNhdGUuXG4gICAqIEBwYXJhbSBhYmkgLSBUaGUgSlNPTiBBQkkgb2YgdGhlIHByZWRpY2F0ZS5cbiAgICogQHBhcmFtIHByb3ZpZGVyIC0gVGhlIHByb3ZpZGVyIHVzZWQgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgYmxvY2tjaGFpbi5cbiAgICogQHBhcmFtIGRhdGEgLSBUaGUgcHJlZGljYXRlIGlucHV0IGRhdGEgKG9wdGlvbmFsKS5cbiAgICogQHBhcmFtIGNvbmZpZ3VyYWJsZUNvbnN0YW50cyAtIE9wdGlvbmFsIGNvbmZpZ3VyYWJsZSBjb25zdGFudHMgZm9yIHRoZSBwcmVkaWNhdGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgYnl0ZWNvZGUsXG4gICAgYWJpLFxuICAgIHByb3ZpZGVyLFxuICAgIGRhdGEsXG4gICAgY29uZmlndXJhYmxlQ29uc3RhbnRzXG4gIH0pIHtcbiAgICBjb25zdCB7IHByZWRpY2F0ZUJ5dGVzLCBwcmVkaWNhdGVJbnRlcmZhY2UgfSA9IF9QcmVkaWNhdGUucHJvY2Vzc1ByZWRpY2F0ZURhdGEoXG4gICAgICBieXRlY29kZSxcbiAgICAgIGFiaSxcbiAgICAgIGNvbmZpZ3VyYWJsZUNvbnN0YW50c1xuICAgICk7XG4gICAgY29uc3QgYWRkcmVzcyA9IG5ldyBBZGRyZXNzMTAoZ2V0UHJlZGljYXRlUm9vdChwcmVkaWNhdGVCeXRlcykpO1xuICAgIHN1cGVyKGFkZHJlc3MsIHByb3ZpZGVyKTtcbiAgICB0aGlzLmluaXRpYWxCeXRlY29kZSA9IGFycmF5aWZ5MjMoYnl0ZWNvZGUpO1xuICAgIHRoaXMuYnl0ZXMgPSBwcmVkaWNhdGVCeXRlcztcbiAgICB0aGlzLmludGVyZmFjZSA9IHByZWRpY2F0ZUludGVyZmFjZTtcbiAgICB0aGlzLmNvbmZpZ3VyYWJsZUNvbnN0YW50cyA9IGNvbmZpZ3VyYWJsZUNvbnN0YW50cztcbiAgICBpZiAoZGF0YSAhPT0gdm9pZCAwICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5wcmVkaWNhdGVEYXRhID0gZGF0YTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFBvcHVsYXRlcyB0aGUgdHJhbnNhY3Rpb24gZGF0YSB3aXRoIHByZWRpY2F0ZSBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSAtIFRoZSB0cmFuc2FjdGlvbiByZXF1ZXN0LWxpa2Ugb2JqZWN0LlxuICAgKiBAcmV0dXJucyBUaGUgdHJhbnNhY3Rpb24gcmVxdWVzdCB3aXRoIHByZWRpY2F0ZSBkYXRhLlxuICAgKi9cbiAgcG9wdWxhdGVUcmFuc2FjdGlvblByZWRpY2F0ZURhdGEodHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSkge1xuICAgIGNvbnN0IHJlcXVlc3QyID0gdHJhbnNhY3Rpb25SZXF1ZXN0aWZ5KHRyYW5zYWN0aW9uUmVxdWVzdExpa2UpO1xuICAgIGNvbnN0IHBsYWNlaG9sZGVySW5kZXggPSB0aGlzLmdldEluZGV4RnJvbVBsYWNlaG9sZGVyV2l0bmVzcyhyZXF1ZXN0Mik7XG4gICAgaWYgKHBsYWNlaG9sZGVySW5kZXggIT09IC0xKSB7XG4gICAgICByZXF1ZXN0Mi5yZW1vdmVXaXRuZXNzKHBsYWNlaG9sZGVySW5kZXgpO1xuICAgIH1cbiAgICByZXF1ZXN0Mi5pbnB1dHMuZmlsdGVyKGlzUmVxdWVzdElucHV0Q29pbk9yTWVzc2FnZSkuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlmIChpc1JlcXVlc3RJbnB1dFJlc291cmNlRnJvbU93bmVyKGlucHV0LCB0aGlzLmFkZHJlc3MpKSB7XG4gICAgICAgIGlucHV0LnByZWRpY2F0ZSA9IGhleGxpZnkyNSh0aGlzLmJ5dGVzKTtcbiAgICAgICAgaW5wdXQucHJlZGljYXRlRGF0YSA9IGhleGxpZnkyNSh0aGlzLmdldFByZWRpY2F0ZURhdGEoKSk7XG4gICAgICAgIGlucHV0LndpdG5lc3NJbmRleCA9IDA7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcXVlc3QyO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kcyBhIHRyYW5zYWN0aW9uIHdpdGggdGhlIHBvcHVsYXRlZCBwcmVkaWNhdGUgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uUmVxdWVzdExpa2UgLSBUaGUgdHJhbnNhY3Rpb24gcmVxdWVzdC1saWtlIG9iamVjdC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zYWN0aW9uIHJlc3BvbnNlLlxuICAgKi9cbiAgc2VuZFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uUmVxdWVzdExpa2UpIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvblJlcXVlc3QgPSB0cmFuc2FjdGlvblJlcXVlc3RpZnkodHJhbnNhY3Rpb25SZXF1ZXN0TGlrZSk7XG4gICAgcmV0dXJuIHN1cGVyLnNlbmRUcmFuc2FjdGlvbih0cmFuc2FjdGlvblJlcXVlc3QsIHsgZXN0aW1hdGVUeERlcGVuZGVuY2llczogZmFsc2UgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNpbXVsYXRlcyBhIHRyYW5zYWN0aW9uIHdpdGggdGhlIHBvcHVsYXRlZCBwcmVkaWNhdGUgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHRyYW5zYWN0aW9uUmVxdWVzdExpa2UgLSBUaGUgdHJhbnNhY3Rpb24gcmVxdWVzdC1saWtlIG9iamVjdC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGNhbGwgcmVzdWx0LlxuICAgKi9cbiAgc2ltdWxhdGVUcmFuc2FjdGlvbih0cmFuc2FjdGlvblJlcXVlc3RMaWtlKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25SZXF1ZXN0ID0gdHJhbnNhY3Rpb25SZXF1ZXN0aWZ5KHRyYW5zYWN0aW9uUmVxdWVzdExpa2UpO1xuICAgIHJldHVybiBzdXBlci5zaW11bGF0ZVRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uUmVxdWVzdCwgeyBlc3RpbWF0ZVR4RGVwZW5kZW5jaWVzOiBmYWxzZSB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBwcm9wZXJseSBlbmNvZGVkIHByZWRpY2F0ZSBkYXRhLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIFVpbnQ4QXJyYXkgY29udGFpbmluZyB0aGUgZW5jb2RlZCBwcmVkaWNhdGUgZGF0YS4gSWYgbm8gcHJlZGljYXRlIGRhdGEgaXMgYXZhaWxhYmxlLCByZXR1cm5zIGFuIGVtcHR5IFVpbnQ4QXJyYXkuXG4gICAqL1xuICBnZXRQcmVkaWNhdGVEYXRhKCkge1xuICAgIGlmICghdGhpcy5wcmVkaWNhdGVEYXRhLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KCk7XG4gICAgfVxuICAgIGNvbnN0IG1haW5GbiA9IHRoaXMuaW50ZXJmYWNlPy5mdW5jdGlvbnMubWFpbjtcbiAgICByZXR1cm4gbWFpbkZuPy5lbmNvZGVBcmd1bWVudHModGhpcy5wcmVkaWNhdGVEYXRhKSB8fCBuZXcgVWludDhBcnJheSgpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFByZWRpY2F0ZSBpbnN0YW5jZSBmcm9tIGFuIGV4aXN0aW5nIFByZWRpY2F0ZSBpbnN0YW5jZS5cbiAgICogQHBhcmFtIG92ZXJyaWRlcyAtIFRoZSBkYXRhIGFuZCBjb25maWd1cmFibGUgY29uc3RhbnRzIHRvIG92ZXJyaWRlLlxuICAgKiBAcmV0dXJucyBBIG5ldyBQcmVkaWNhdGUgaW5zdGFuY2Ugd2l0aCB0aGUgc2FtZSBieXRlY29kZSwgQUJJIGFuZCBwcm92aWRlciBidXQgd2l0aCB0aGUgYWJpbGl0eSB0byBzZXQgdGhlIGRhdGEgYW5kIGNvbmZpZ3VyYWJsZSBjb25zdGFudHMuXG4gICAqL1xuICB0b05ld0luc3RhbmNlKG92ZXJyaWRlcyA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBfUHJlZGljYXRlKHtcbiAgICAgIGJ5dGVjb2RlOiB0aGlzLmluaXRpYWxCeXRlY29kZSxcbiAgICAgIGFiaTogdGhpcy5pbnRlcmZhY2UuanNvbkFiaSxcbiAgICAgIHByb3ZpZGVyOiB0aGlzLnByb3ZpZGVyLFxuICAgICAgZGF0YTogb3ZlcnJpZGVzLmRhdGEgPz8gdGhpcy5wcmVkaWNhdGVEYXRhLFxuICAgICAgY29uZmlndXJhYmxlQ29uc3RhbnRzOiBvdmVycmlkZXMuY29uZmlndXJhYmxlQ29uc3RhbnRzID8/IHRoaXMuY29uZmlndXJhYmxlQ29uc3RhbnRzXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHByZWRpY2F0ZSBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIHRvIGJlIHNldCBmb3IgdGhlIHByZWRpY2F0ZS5cbiAgICovXG4gIHNldERhdGEoZGF0YSkge1xuICAgIHRoaXMucHJlZGljYXRlRGF0YSA9IGRhdGE7XG4gIH1cbiAgLyoqXG4gICAqIFByb2Nlc3NlcyB0aGUgcHJlZGljYXRlIGRhdGEgYW5kIHJldHVybnMgdGhlIGFsdGVyZWQgYnl0ZWNvZGUgYW5kIGludGVyZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIGJ5dGVzIC0gVGhlIGJ5dGVzIG9mIHRoZSBwcmVkaWNhdGUuXG4gICAqIEBwYXJhbSBqc29uQWJpIC0gVGhlIEpTT04gQUJJIG9mIHRoZSBwcmVkaWNhdGUuXG4gICAqIEBwYXJhbSBjb25maWd1cmFibGVDb25zdGFudHMgLSBPcHRpb25hbCBjb25maWd1cmFibGUgY29uc3RhbnRzIGZvciB0aGUgcHJlZGljYXRlLlxuICAgKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgbmV3IHByZWRpY2F0ZSBieXRlcyBhbmQgaW50ZXJmYWNlLlxuICAgKi9cbiAgc3RhdGljIHByb2Nlc3NQcmVkaWNhdGVEYXRhKGJ5dGVzLCBqc29uQWJpLCBjb25maWd1cmFibGVDb25zdGFudHMpIHtcbiAgICBsZXQgcHJlZGljYXRlQnl0ZXMgPSBhcnJheWlmeTIzKGJ5dGVzKTtcbiAgICBjb25zdCBhYmlJbnRlcmZhY2UgPSBuZXcgSW50ZXJmYWNlNChqc29uQWJpKTtcbiAgICBpZiAoYWJpSW50ZXJmYWNlLmZ1bmN0aW9ucy5tYWluID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IzMShcbiAgICAgICAgRXJyb3JDb2RlMjkuQUJJX01BSU5fTUVUSE9EX01JU1NJTkcsXG4gICAgICAgICdDYW5ub3QgdXNlIEFCSSB3aXRob3V0IFwibWFpblwiIGZ1bmN0aW9uLidcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChjb25maWd1cmFibGVDb25zdGFudHMgJiYgT2JqZWN0LmtleXMoY29uZmlndXJhYmxlQ29uc3RhbnRzKS5sZW5ndGgpIHtcbiAgICAgIHByZWRpY2F0ZUJ5dGVzID0gX1ByZWRpY2F0ZS5zZXRDb25maWd1cmFibGVDb25zdGFudHMoXG4gICAgICAgIHByZWRpY2F0ZUJ5dGVzLFxuICAgICAgICBjb25maWd1cmFibGVDb25zdGFudHMsXG4gICAgICAgIGFiaUludGVyZmFjZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZWRpY2F0ZUJ5dGVzLFxuICAgICAgcHJlZGljYXRlSW50ZXJmYWNlOiBhYmlJbnRlcmZhY2VcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgcmVzb3VyY2VzIHNhdGlzZnlpbmcgdGhlIHNwZW5kIHF1ZXJ5IGZvciB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHBhcmFtIHF1YW50aXRpZXMgLSBJRHMgb2YgY29pbnMgdG8gZXhjbHVkZS5cbiAgICogQHBhcmFtIHJlc291cmNlc0lkc1RvSWdub3JlIC0gSURzIG9mIHJlc291cmNlcyB0byBiZSBleGNsdWRlZCBmcm9tIHRoZSBxdWVyeS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYW4gYXJyYXkgb2YgUmVzb3VyY2VzLlxuICAgKi9cbiAgYXN5bmMgZ2V0UmVzb3VyY2VzVG9TcGVuZChxdWFudGl0aWVzLCByZXNvdXJjZXNJZHNUb0lnbm9yZSkge1xuICAgIGNvbnN0IHJlc291cmNlcyA9IGF3YWl0IHRoaXMucHJvdmlkZXIuZ2V0UmVzb3VyY2VzVG9TcGVuZChcbiAgICAgIHRoaXMuYWRkcmVzcyxcbiAgICAgIHF1YW50aXRpZXMsXG4gICAgICByZXNvdXJjZXNJZHNUb0lnbm9yZVxuICAgICk7XG4gICAgcmV0dXJuIHJlc291cmNlcy5tYXAoKHJlc291cmNlKSA9PiAoe1xuICAgICAgLi4ucmVzb3VyY2UsXG4gICAgICBwcmVkaWNhdGU6IGhleGxpZnkyNSh0aGlzLmJ5dGVzKSxcbiAgICAgIHByZWRpY2F0ZURhdGE6IGhleGxpZnkyNSh0aGlzLmdldFByZWRpY2F0ZURhdGEoKSlcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhbiBhcnJheSBvZiBmYWtlIHJlc291cmNlcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgY29pbnMuXG4gICAqXG4gICAqIEBwYXJhbSBjb2lucyAtIEFuIGFycmF5IG9mIGBGYWtlUmVzb3VyY2VzYCBvYmplY3RzIHJlcHJlc2VudGluZyB0aGUgY29pbnMuXG4gICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIGBSZXNvdXJjZWAgb2JqZWN0cyB3aXRoIGdlbmVyYXRlZCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgZ2VuZXJhdGVGYWtlUmVzb3VyY2VzKGNvaW5zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmdlbmVyYXRlRmFrZVJlc291cmNlcyhjb2lucykubWFwKChjb2luKSA9PiAoe1xuICAgICAgLi4uY29pbixcbiAgICAgIHByZWRpY2F0ZTogaGV4bGlmeTI1KHRoaXMuYnl0ZXMpLFxuICAgICAgcHJlZGljYXRlRGF0YTogaGV4bGlmeTI1KHRoaXMuZ2V0UHJlZGljYXRlRGF0YSgpKVxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgY29uZmlndXJhYmxlIGNvbnN0YW50cyBmb3IgdGhlIHByZWRpY2F0ZS5cbiAgICpcbiAgICogQHBhcmFtIGJ5dGVzIC0gVGhlIGJ5dGVzIG9mIHRoZSBwcmVkaWNhdGUuXG4gICAqIEBwYXJhbSBjb25maWd1cmFibGVDb25zdGFudHMgLSBDb25maWd1cmFibGUgY29uc3RhbnRzIHRvIGJlIHNldC5cbiAgICogQHBhcmFtIGFiaUludGVyZmFjZSAtIFRoZSBBQkkgaW50ZXJmYWNlIG9mIHRoZSBwcmVkaWNhdGUuXG4gICAqIEByZXR1cm5zIFRoZSBtdXRhdGVkIGJ5dGVzIHdpdGggdGhlIGNvbmZpZ3VyYWJsZSBjb25zdGFudHMgc2V0LlxuICAgKi9cbiAgc3RhdGljIHNldENvbmZpZ3VyYWJsZUNvbnN0YW50cyhieXRlcywgY29uZmlndXJhYmxlQ29uc3RhbnRzLCBhYmlJbnRlcmZhY2UpIHtcbiAgICBjb25zdCBtdXRhdGVkQnl0ZXMgPSBieXRlcztcbiAgICB0cnkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKGFiaUludGVyZmFjZS5jb25maWd1cmFibGVzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMxKFxuICAgICAgICAgIEVycm9yQ29kZTI5LklOVkFMSURfQ09ORklHVVJBQkxFX0NPTlNUQU5UUyxcbiAgICAgICAgICBcIlByZWRpY2F0ZSBoYXMgbm8gY29uZmlndXJhYmxlIGNvbnN0YW50cyB0byBiZSBzZXRcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlndXJhYmxlQ29uc3RhbnRzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKCFhYmlJbnRlcmZhY2U/LmNvbmZpZ3VyYWJsZXNba2V5XSkge1xuICAgICAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IzMShcbiAgICAgICAgICAgIEVycm9yQ29kZTI5LkNPTkZJR1VSQUJMRV9OT1RfRk9VTkQsXG4gICAgICAgICAgICBgTm8gY29uZmlndXJhYmxlIGNvbnN0YW50IG5hbWVkICcke2tleX0nIGZvdW5kIGluIHRoZSBQcmVkaWNhdGVgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG9mZnNldCB9ID0gYWJpSW50ZXJmYWNlLmNvbmZpZ3VyYWJsZXNba2V5XTtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGFiaUludGVyZmFjZS5lbmNvZGVDb25maWd1cmFibGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIG11dGF0ZWRCeXRlcy5zZXQoZW5jb2RlZCwgb2Zmc2V0KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMxKFxuICAgICAgICBFcnJvckNvZGUyOS5JTlZBTElEX0NPTkZJR1VSQUJMRV9DT05TVEFOVFMsXG4gICAgICAgIGBFcnJvciBzZXR0aW5nIGNvbmZpZ3VyYWJsZSBjb25zdGFudHM6ICR7ZXJyLm1lc3NhZ2V9LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBtdXRhdGVkQnl0ZXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSB3aXRuZXNzIHBsYWNlaG9sZGVyIHRoYXQgd2FzIGFkZGVkIHRvIHRoaXMgcHJlZGljYXRlLlxuICAgKiBJZiBubyB3aXRuZXNzIHBsYWNlaG9sZGVyIHdhcyBhZGRlZCwgaXQgcmV0dXJucyAtMS5cbiAgICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgdHJhbnNhY3Rpb24gcmVxdWVzdC5cbiAgICogQHJldHVybnMgVGhlIGluZGV4IG9mIHRoZSB3aXRuZXNzIHBsYWNlaG9sZGVyLCBvciAtMSBpZiB0aGVyZSBpcyBubyB3aXRuZXNzIHBsYWNlaG9sZGVyLlxuICAgKi9cbiAgZ2V0SW5kZXhGcm9tUGxhY2Vob2xkZXJXaXRuZXNzKHJlcXVlc3QyKSB7XG4gICAgY29uc3QgcHJlZGljYXRlSW5wdXRzID0gcmVxdWVzdDIuaW5wdXRzLmZpbHRlcihpc1JlcXVlc3RJbnB1dFJlc291cmNlKS5maWx0ZXIoKGlucHV0KSA9PiBpc1JlcXVlc3RJbnB1dFJlc291cmNlRnJvbU93bmVyKGlucHV0LCB0aGlzLmFkZHJlc3MpKTtcbiAgICBsZXQgaW5kZXggPSAtMTtcbiAgICBjb25zdCBoYXNFbXB0eVByZWRpY2F0ZUlucHV0cyA9IHByZWRpY2F0ZUlucHV0cy5maW5kKChpbnB1dCkgPT4gIWlucHV0LnByZWRpY2F0ZSk7XG4gICAgaWYgKGhhc0VtcHR5UHJlZGljYXRlSW5wdXRzKSB7XG4gICAgICBpbmRleCA9IGhhc0VtcHR5UHJlZGljYXRlSW5wdXRzLndpdG5lc3NJbmRleDtcbiAgICAgIGNvbnN0IGFsbElucHV0c0FyZUVtcHR5ID0gcHJlZGljYXRlSW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gIWlucHV0LnByZWRpY2F0ZSk7XG4gICAgICBpZiAoIWFsbElucHV0c0FyZUVtcHR5KSB7XG4gICAgICAgIGNvbnN0IHdhc0ZpbGxlZElucHV0QWRkZWRGaXJzdCA9ICEhcHJlZGljYXRlSW5wdXRzWzBdPy5wcmVkaWNhdGU7XG4gICAgICAgIGlmICh3YXNGaWxsZWRJbnB1dEFkZGVkRmlyc3QpIHtcbiAgICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGFjY291bnQgLSBUaGUgYWNjb3VudCB1c2VkIHRvIHBheSB0aGUgZGVwbG95bWVudCBjb3N0cy5cbiAgICogQHJldHVybnMgVGhlIF9ibG9iSWRfIGFuZCBhIF93YWl0Rm9yUmVzdWx0XyBjYWxsYmFjayB0aGF0IHJldHVybnMgdGhlIGRlcGxveWVkIHByZWRpY2F0ZVxuICAgKiBvbmNlIHRoZSBibG9iIGRlcGxveW1lbnQgdHJhbnNhY3Rpb24gZmluaXNoZXMuXG4gICAqXG4gICAqIFRoZSByZXR1cm5lZCBsb2FkZXIgcHJlZGljYXRlIHdpbGwgaGF2ZSB0aGUgc2FtZSBjb25maWd1cmFibGUgY29uc3RhbnRzXG4gICAqIGFzIHRoZSBvcmlnaW5hbCBwcmVkaWNhdGUgd2hpY2ggd2FzIHVzZWQgdG8gZ2VuZXJhdGUgdGhlIGxvYWRlciBwcmVkaWNhdGUuXG4gICAqL1xuICBhc3luYyBkZXBsb3koYWNjb3VudCkge1xuICAgIHJldHVybiBkZXBsb3lTY3JpcHRPclByZWRpY2F0ZSh7XG4gICAgICBkZXBsb3llcjogYWNjb3VudCxcbiAgICAgIGFiaTogdGhpcy5pbnRlcmZhY2UuanNvbkFiaSxcbiAgICAgIGJ5dGVjb2RlOiB0aGlzLmJ5dGVzLFxuICAgICAgbG9hZGVySW5zdGFuY2VDYWxsYmFjazogLyogQF9fUFVSRV9fICovIF9fbmFtZSgobG9hZGVyQnl0ZWNvZGUsIG5ld0FiaSkgPT4gbmV3IF9QcmVkaWNhdGUoe1xuICAgICAgICBieXRlY29kZTogbG9hZGVyQnl0ZWNvZGUsXG4gICAgICAgIGFiaTogbmV3QWJpLFxuICAgICAgICBwcm92aWRlcjogdGhpcy5wcm92aWRlcixcbiAgICAgICAgZGF0YTogdGhpcy5wcmVkaWNhdGVEYXRhXG4gICAgICB9KSwgXCJsb2FkZXJJbnN0YW5jZUNhbGxiYWNrXCIpXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9jb25uZWN0b3JzL2Z1ZWwudHNcbmltcG9ydCB7IEVycm9yQ29kZSBhcyBFcnJvckNvZGUzMCwgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjM0IH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuXG4vLyBzcmMvY29ubmVjdG9ycy9mdWVsLWNvbm5lY3Rvci50c1xuaW1wb3J0IHsgRnVlbEVycm9yIGFzIEZ1ZWxFcnJvcjMyIH0gZnJvbSBcIkBmdWVsLXRzL2Vycm9yc1wiO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIGFzIEV2ZW50RW1pdHRlcjIgfSBmcm9tIFwiZXZlbnRzXCI7XG5cbi8vIHNyYy9jb25uZWN0b3JzL3R5cGVzL2Nvbm5lY3Rvci10eXBlcy50c1xudmFyIEZ1ZWxDb25uZWN0b3JNZXRob2RzID0gLyogQF9fUFVSRV9fICovICgoRnVlbENvbm5lY3Rvck1ldGhvZHMyKSA9PiB7XG4gIEZ1ZWxDb25uZWN0b3JNZXRob2RzMltcInBpbmdcIl0gPSBcInBpbmdcIjtcbiAgRnVlbENvbm5lY3Rvck1ldGhvZHMyW1widmVyc2lvblwiXSA9IFwidmVyc2lvblwiO1xuICBGdWVsQ29ubmVjdG9yTWV0aG9kczJbXCJjb25uZWN0XCJdID0gXCJjb25uZWN0XCI7XG4gIEZ1ZWxDb25uZWN0b3JNZXRob2RzMltcImRpc2Nvbm5lY3RcIl0gPSBcImRpc2Nvbm5lY3RcIjtcbiAgRnVlbENvbm5lY3Rvck1ldGhvZHMyW1wiaXNDb25uZWN0ZWRcIl0gPSBcImlzQ29ubmVjdGVkXCI7XG4gIEZ1ZWxDb25uZWN0b3JNZXRob2RzMltcImFjY291bnRzXCJdID0gXCJhY2NvdW50c1wiO1xuICBGdWVsQ29ubmVjdG9yTWV0aG9kczJbXCJjdXJyZW50QWNjb3VudFwiXSA9IFwiY3VycmVudEFjY291bnRcIjtcbiAgRnVlbENvbm5lY3Rvck1ldGhvZHMyW1wic2lnblRyYW5zYWN0aW9uXCJdID0gXCJzaWduVHJhbnNhY3Rpb25cIjtcbiAgRnVlbENvbm5lY3Rvck1ldGhvZHMyW1wic2lnbk1lc3NhZ2VcIl0gPSBcInNpZ25NZXNzYWdlXCI7XG4gIEZ1ZWxDb25uZWN0b3JNZXRob2RzMltcInNlbmRUcmFuc2FjdGlvblwiXSA9IFwic2VuZFRyYW5zYWN0aW9uXCI7XG4gIEZ1ZWxDb25uZWN0b3JNZXRob2RzMltcImFzc2V0c1wiXSA9IFwiYXNzZXRzXCI7XG4gIEZ1ZWxDb25uZWN0b3JNZXRob2RzMltcImFkZEFzc2V0XCJdID0gXCJhZGRBc3NldFwiO1xuICBGdWVsQ29ubmVjdG9yTWV0aG9kczJbXCJhZGRBc3NldHNcIl0gPSBcImFkZEFzc2V0c1wiO1xuICBGdWVsQ29ubmVjdG9yTWV0aG9kczJbXCJuZXR3b3Jrc1wiXSA9IFwibmV0d29ya3NcIjtcbiAgRnVlbENvbm5lY3Rvck1ldGhvZHMyW1wiY3VycmVudE5ldHdvcmtcIl0gPSBcImN1cnJlbnROZXR3b3JrXCI7XG4gIEZ1ZWxDb25uZWN0b3JNZXRob2RzMltcImFkZE5ldHdvcmtcIl0gPSBcImFkZE5ldHdvcmtcIjtcbiAgRnVlbENvbm5lY3Rvck1ldGhvZHMyW1wic2VsZWN0TmV0d29ya1wiXSA9IFwic2VsZWN0TmV0d29ya1wiO1xuICBGdWVsQ29ubmVjdG9yTWV0aG9kczJbXCJhZGRBQklcIl0gPSBcImFkZEFCSVwiO1xuICBGdWVsQ29ubmVjdG9yTWV0aG9kczJbXCJnZXRBQklcIl0gPSBcImdldEFCSVwiO1xuICBGdWVsQ29ubmVjdG9yTWV0aG9kczJbXCJoYXNBQklcIl0gPSBcImhhc0FCSVwiO1xuICByZXR1cm4gRnVlbENvbm5lY3Rvck1ldGhvZHMyO1xufSkoRnVlbENvbm5lY3Rvck1ldGhvZHMgfHwge30pO1xudmFyIEZ1ZWxDb25uZWN0b3JFdmVudFR5cGVzID0gLyogQF9fUFVSRV9fICovICgoRnVlbENvbm5lY3RvckV2ZW50VHlwZXMyKSA9PiB7XG4gIEZ1ZWxDb25uZWN0b3JFdmVudFR5cGVzMltcImNvbm5lY3RvcnNcIl0gPSBcImNvbm5lY3RvcnNcIjtcbiAgRnVlbENvbm5lY3RvckV2ZW50VHlwZXMyW1wiY3VycmVudENvbm5lY3RvclwiXSA9IFwiY3VycmVudENvbm5lY3RvclwiO1xuICBGdWVsQ29ubmVjdG9yRXZlbnRUeXBlczJbXCJjb25uZWN0aW9uXCJdID0gXCJjb25uZWN0aW9uXCI7XG4gIEZ1ZWxDb25uZWN0b3JFdmVudFR5cGVzMltcImFjY291bnRzXCJdID0gXCJhY2NvdW50c1wiO1xuICBGdWVsQ29ubmVjdG9yRXZlbnRUeXBlczJbXCJjdXJyZW50QWNjb3VudFwiXSA9IFwiY3VycmVudEFjY291bnRcIjtcbiAgRnVlbENvbm5lY3RvckV2ZW50VHlwZXMyW1wibmV0d29ya3NcIl0gPSBcIm5ldHdvcmtzXCI7XG4gIEZ1ZWxDb25uZWN0b3JFdmVudFR5cGVzMltcImN1cnJlbnROZXR3b3JrXCJdID0gXCJjdXJyZW50TmV0d29ya1wiO1xuICBGdWVsQ29ubmVjdG9yRXZlbnRUeXBlczJbXCJhc3NldHNcIl0gPSBcImFzc2V0c1wiO1xuICBGdWVsQ29ubmVjdG9yRXZlbnRUeXBlczJbXCJhYmlzXCJdID0gXCJhYmlzXCI7XG4gIHJldHVybiBGdWVsQ29ubmVjdG9yRXZlbnRUeXBlczI7XG59KShGdWVsQ29ubmVjdG9yRXZlbnRUeXBlcyB8fCB7fSk7XG52YXIgRnVlbENvbm5lY3RvckV2ZW50VHlwZSA9IFwiRnVlbENvbm5lY3RvclwiO1xuXG4vLyBzcmMvY29ubmVjdG9ycy90eXBlcy9sb2NhbC1zdG9yYWdlLnRzXG52YXIgTG9jYWxTdG9yYWdlID0gY2xhc3Mge1xuICBzdGF0aWMge1xuICAgIF9fbmFtZSh0aGlzLCBcIkxvY2FsU3RvcmFnZVwiKTtcbiAgfVxuICBzdG9yYWdlO1xuICBjb25zdHJ1Y3Rvcihsb2NhbFN0b3JhZ2UpIHtcbiAgICB0aGlzLnN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2U7XG4gIH1cbiAgYXN5bmMgc2V0SXRlbShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gIH1cbiAgYXN5bmMgZ2V0SXRlbShrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgfVxuICBhc3luYyByZW1vdmVJdGVtKGtleSkge1xuICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gIH1cbiAgYXN5bmMgY2xlYXIoKSB7XG4gICAgdGhpcy5zdG9yYWdlLmNsZWFyKCk7XG4gIH1cbn07XG5cbi8vIHNyYy9jb25uZWN0b3JzL2Z1ZWwtY29ubmVjdG9yLnRzXG52YXIgRnVlbENvbm5lY3RvciA9IGNsYXNzIGV4dGVuZHMgRXZlbnRFbWl0dGVyMiB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiRnVlbENvbm5lY3RvclwiKTtcbiAgfVxuICBuYW1lID0gXCJcIjtcbiAgbWV0YWRhdGEgPSB7fTtcbiAgY29ubmVjdGVkID0gZmFsc2U7XG4gIGluc3RhbGxlZCA9IGZhbHNlO1xuICBleHRlcm5hbCA9IHRydWU7XG4gIGV2ZW50cyA9IEZ1ZWxDb25uZWN0b3JFdmVudFR5cGVzO1xuICAvKipcbiAgICogU2hvdWxkIHJldHVybiB0cnVlIGlmIHRoZSBjb25uZWN0b3IgaXMgbG9hZGVkXG4gICAqIGluIGxlc3MgdGhlbiBvbmUgc2Vjb25kLlxuICAgKlxuICAgKiBAcmV0dXJucyBBbHdheXMgdHJ1ZS5cbiAgICovXG4gIGFzeW5jIHBpbmcoKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHJldHVybiB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIHRoZSBjb25uZWN0b3JcbiAgICogYW5kIHRoZSBuZXR3b3JrIHZlcnNpb24gdGhhdCBpcyBjb21wYXRpYmxlLlxuICAgKlxuICAgKiBAcmV0dXJucyBib29sZWFuIC0gY29ubmVjdGlvbiBzdGF0dXMuXG4gICAqL1xuICBhc3luYyB2ZXJzaW9uKCkge1xuICAgIHRocm93IG5ldyBGdWVsRXJyb3IzMihGdWVsRXJyb3IzMi5DT0RFUy5OT1RfSU1QTEVNRU5URUQsIFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIFNob3VsZCByZXR1cm4gdHJ1ZSBpZiB0aGUgY29ubmVjdG9yIGlzIGNvbm5lY3RlZFxuICAgKiB0byBhbnkgb2YgdGhlIGFjY291bnRzIGF2YWlsYWJsZS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIGNvbm5lY3Rpb24gc3RhdHVzLlxuICAgKi9cbiAgYXN5bmMgaXNDb25uZWN0ZWQoKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHJldHVybiBhbGwgdGhlIGFjY291bnRzIGF1dGhvcml6ZWQgZm9yIHRoZVxuICAgKiBjdXJyZW50IGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBhY2NvdW50cyBhZGRyZXNzZXMgc3RyaW5nc1xuICAgKi9cbiAgYXN5bmMgYWNjb3VudHMoKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHN0YXJ0IHRoZSBjb25uZWN0aW9uIHByb2Nlc3MgYW5kIHJldHVyblxuICAgKiB0cnVlIGlmIHRoZSBhY2NvdW50IGF1dGhvcml6ZSB0aGUgY29ubmVjdGlvbi5cbiAgICpcbiAgICogYW5kIHJldHVybiBmYWxzZSBpZiB0aGUgdXNlciByZWplY3QgdGhlIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBlbWl0cyBhY2NvdW50c1xuICAgKiBAcmV0dXJucyBib29sZWFuIC0gY29ubmVjdGlvbiBzdGF0dXMuXG4gICAqL1xuICBhc3luYyBjb25uZWN0KCkge1xuICAgIHRocm93IG5ldyBGdWVsRXJyb3IzMihGdWVsRXJyb3IzMi5DT0RFUy5OT1RfSU1QTEVNRU5URUQsIFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIFNob3VsZCBkaXNjb25uZWN0IHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gYW5kXG4gICAqIHJldHVybiBmYWxzZSBpZiB0aGUgZGlzY29ubmVjdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICpcbiAgICogQGVtaXRzIGFzc2V0cyBjb25uZWN0aW9uXG4gICAqIEByZXR1cm5zIFRoZSBjb25uZWN0aW9uIHN0YXR1cy5cbiAgICovXG4gIGFzeW5jIGRpc2Nvbm5lY3QoKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHN0YXJ0IHRoZSBzaWduIG1lc3NhZ2UgcHJvY2VzcyBhbmQgcmV0dXJuXG4gICAqIHRoZSBzaWduZWQgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIGFkZHJlc3MgLSBUaGUgYWRkcmVzcyB0byBzaWduIHRoZSBtZXNzYWdlXG4gICAqIEBwYXJhbSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gc2lnbiBhbGwgdGV4dCB3aWxsIGJlIHRyZWF0ZWQgYXMgdGV4dCB1dGYtOFxuICAgKlxuICAgKiBAcmV0dXJucyBNZXNzYWdlIHNpZ25hdHVyZVxuICAgKi9cbiAgYXN5bmMgc2lnbk1lc3NhZ2UoX2FkZHJlc3MsIF9tZXNzYWdlKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHN0YXJ0IHRoZSBzaWduIHRyYW5zYWN0aW9uIHByb2Nlc3MgYW5kIHJldHVyblxuICAgKiB0aGUgc2lnbmVkIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSBhZGRyZXNzIHRvIHNpZ24gdGhlIHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvbiAtIFRoZSB0cmFuc2FjdGlvbiB0byBzaWduXG4gICAqXG4gICAqIEByZXR1cm5zIFRyYW5zYWN0aW9uIHNpZ25hdHVyZVxuICAgKi9cbiAgYXN5bmMgc2lnblRyYW5zYWN0aW9uKF9hZGRyZXNzLCBfdHJhbnNhY3Rpb24sIF9wYXJhbXMpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMzIoRnVlbEVycm9yMzIuQ09ERVMuTk9UX0lNUExFTUVOVEVELCBcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTaG91bGQgc3RhcnQgdGhlIHNlbmQgdHJhbnNhY3Rpb24gcHJvY2VzcyBhbmQgcmV0dXJuXG4gICAqIHRoZSB0cmFuc2FjdGlvbiBpZCBzdWJtaXR0ZWQgdG8gdGhlIG5ldHdvcmsuXG4gICAqXG4gICAqIElmIHRoZSBuZXR3b3JrIGlzIG5vdCBhdmFpbGFibGUgZm9yIHRoZSBjb25uZWN0aW9uXG4gICAqIGl0IHNob3VsZCB0aHJvdyBhbiBlcnJvciB0byBhdm9pZCB0aGUgdHJhbnNhY3Rpb25cbiAgICogdG8gYmUgc2VudCB0byB0aGUgd3JvbmcgbmV0d29yayBhbmQgbG9zdC5cbiAgICpcbiAgICogQHBhcmFtIGFkZHJlc3MgLSBUaGUgYWRkcmVzcyB0byBzaWduIHRoZSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb24gLSBUaGUgdHJhbnNhY3Rpb24gdG8gc2VuZFxuICAgKiBAcGFyYW0gcGFyYW1zIC0gT3B0aW9uYWwgcGFyYW1ldGVycyB0byBzZW5kIHRoZSB0cmFuc2FjdGlvblxuICAgKiBAcmV0dXJucyBUaGUgdHJhbnNhY3Rpb24gaWQgb3IgdHJhbnNhY3Rpb24gcmVzcG9uc2VcbiAgICovXG4gIGFzeW5jIHNlbmRUcmFuc2FjdGlvbihfYWRkcmVzcywgX3RyYW5zYWN0aW9uLCBfcGFyYW1zKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHJldHVybiB0aGUgY3VycmVudCBhY2NvdW50IHNlbGVjdGVkIGluc2lkZSB0aGUgY29ubmVjdG9yLCBpZiB0aGUgYWNjb3VudFxuICAgKiBpcyBhdXRob3JpemVkIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICpcbiAgICogSWYgdGhlIGFjY291bnQgaXMgbm90IGF1dGhvcml6ZWQgaXQgc2hvdWxkIHJldHVybiBudWxsLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgY3VycmVudCBhY2NvdW50IHNlbGVjdGVkIG90aGVyd2lzZSBudWxsLlxuICAgKi9cbiAgYXN5bmMgY3VycmVudEFjY291bnQoKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIGFkZCB0aGUgYXNzZXRzIG1ldGFkYXRhIHRvIHRoZSBjb25uZWN0b3IgYW5kIHJldHVybiB0cnVlIGlmIHRoZSBhc3NldFxuICAgKiB3YXMgYWRkZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKlxuICAgKiBJZiB0aGUgYXNzZXQgYWxyZWFkeSBleGlzdHMgaXQgc2hvdWxkIHRocm93IGFuIGVycm9yLlxuICAgKlxuICAgKiBAZW1pdHMgYXNzZXRzXG4gICAqIEBwYXJhbSBhc3NldHMgLSBUaGUgYXNzZXRzIHRvIGFkZCB0aGUgbWV0YWRhdGEgdG8gdGhlIGNvbm5lY3Rpb24uXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGFzc2V0IGFscmVhZHkgZXhpc3RzXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGFzc2V0IHdhcyBhZGRlZCBzdWNjZXNzZnVsbHlcbiAgICovXG4gIGFzeW5jIGFkZEFzc2V0cyhfYXNzZXRzKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIGFkZCB0aGUgYXNzZXQgbWV0YWRhdGEgdG8gdGhlIGNvbm5lY3RvciBhbmQgcmV0dXJuIHRydWUgaWYgdGhlIGFzc2V0XG4gICAqIHdhcyBhZGRlZCBzdWNjZXNzZnVsbHkuXG4gICAqXG4gICAqIElmIHRoZSBhc3NldCBhbHJlYWR5IGV4aXN0cyBpdCBzaG91bGQgdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBlbWl0cyBhc3NldHNcbiAgICogQHBhcmFtIGFzc2V0IC0gVGhlIGFzc2V0IHRvIGFkZCB0aGUgbWV0YWRhdGEgdG8gdGhlIGNvbm5lY3Rpb24uXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGFzc2V0IGFscmVhZHkgZXhpc3RzXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGFzc2V0IHdhcyBhZGRlZCBzdWNjZXNzZnVsbHlcbiAgICovXG4gIGFzeW5jIGFkZEFzc2V0KF9hc3NldCkge1xuICAgIHRocm93IG5ldyBGdWVsRXJyb3IzMihGdWVsRXJyb3IzMi5DT0RFUy5OT1RfSU1QTEVNRU5URUQsIFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIFNob3VsZCByZXR1cm4gYWxsIHRoZSBhc3NldHMgYWRkZWQgdG8gdGhlIGNvbm5lY3Rvci4gSWYgYSBjb25uZWN0aW9uIGlzIGFscmVhZHkgZXN0YWJsaXNoZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIEFycmF5IG9mIGFzc2V0cyBtZXRhZGF0YSBmcm9tIHRoZSBjb25uZWN0b3IgdmluY3VsYXRlZCB0byB0aGUgYWxsIGFjY291bnRzIGZyb20gYSBzcGVjaWZpYyBXYWxsZXQuXG4gICAqL1xuICBhc3luYyBhc3NldHMoKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHN0YXJ0IHRoZSBhZGQgbmV0d29yayBwcm9jZXNzIGFuZCByZXR1cm4gdHJ1ZSBpZiB0aGUgbmV0d29yayB3YXMgYWRkZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKlxuICAgKiBAZW1pdHMgbmV0d29ya3NcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgbmV0d29yayBhbHJlYWR5IGV4aXN0c1xuICAgKiBAcGFyYW0gbmV0d29ya1VybCAtIFRoZSBVUkwgb2YgdGhlIG5ldHdvcmsgdG8gYmUgYWRkZWQuXG4gICAqIEByZXR1cm5zIFJldHVybiB0cnVlIGlmIHRoZSBuZXR3b3JrIHdhcyBhZGRlZCBzdWNjZXNzZnVsbHlcbiAgICovXG4gIGFzeW5jIGFkZE5ldHdvcmsoX25ldHdvcmtVcmwpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMzIoRnVlbEVycm9yMzIuQ09ERVMuTk9UX0lNUExFTUVOVEVELCBcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTaG91bGQgc3RhcnQgdGhlIHNlbGVjdCBuZXR3b3JrIHByb2Nlc3MgYW5kIHJldHVybiB0cnVlIGlmIHRoZSBuZXR3b3JrIGhhcyBjaGFuZ2Ugc3VjY2Vzc2Z1bGx5LlxuICAgKlxuICAgKiBAZW1pdHMgbmV0d29ya3NcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgbmV0d29yayBhbHJlYWR5IGV4aXN0c1xuICAgKiBAcGFyYW0gbmV0d29yayAtIFRoZSBuZXR3b3JrIHRvIGJlIHNlbGVjdGVkLlxuICAgKiBAcmV0dXJucyBSZXR1cm4gdHJ1ZSBpZiB0aGUgbmV0d29yayB3YXMgYWRkZWQgc3VjY2Vzc2Z1bGx5XG4gICAqL1xuICBhc3luYyBzZWxlY3ROZXR3b3JrKF9uZXR3b3JrKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHJldHVybiBhbGwgdGhlIG5ldHdvcmtzIGF2YWlsYWJsZSBmcm9tIHRoZSBjb25uZWN0b3IuIElmIHRoZSBjb25uZWN0aW9uIGlzIGFscmVhZHkgZXN0YWJsaXNoZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIFJldHVybiBhbGwgdGhlIG5ldHdvcmtzIGFkZGVkIHRvIHRoZSBjb25uZWN0b3IuXG4gICAqL1xuICBhc3luYyBuZXR3b3JrcygpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMzIoRnVlbEVycm9yMzIuQ09ERVMuTk9UX0lNUExFTUVOVEVELCBcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTaG91bGQgcmV0dXJuIHRoZSBjdXJyZW50IG5ldHdvcmsgc2VsZWN0ZWQgaW5zaWRlIHRoZSBjb25uZWN0b3IuIEV2ZW4gaWYgdGhlIGNvbm5lY3Rpb24gaXMgbm90IGVzdGFibGlzaGVkLlxuICAgKlxuICAgKiBAcmV0dXJucyBSZXR1cm4gdGhlIGN1cnJlbnQgbmV0d29yayBzZWxlY3RlZCBpbnNpZGUgdGhlIGNvbm5lY3Rvci5cbiAgICovXG4gIGFzeW5jIGN1cnJlbnROZXR3b3JrKCkge1xuICAgIHRocm93IG5ldyBGdWVsRXJyb3IzMihGdWVsRXJyb3IzMi5DT0RFUy5OT1RfSU1QTEVNRU5URUQsIFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIFNob3VsZCBhZGQgdGhlIEFCSSB0byB0aGUgY29ubmVjdG9yIGFuZCByZXR1cm4gdHJ1ZSBpZiB0aGUgQUJJIHdhcyBhZGRlZCBzdWNjZXNzZnVsbHkuXG4gICAqXG4gICAqIEBwYXJhbSBjb250cmFjdElkIC0gVGhlIGNvbnRyYWN0IGlkIHRvIGFkZCB0aGUgQUJJLlxuICAgKiBAcGFyYW0gYWJpIC0gVGhlIEpTT04gQUJJIHRoYXQgcmVwcmVzZW50cyBhIGNvbnRyYWN0LlxuICAgKiBAcmV0dXJucyBSZXR1cm4gdHJ1ZSBpZiB0aGUgQUJJIHdhcyBhZGRlZCBzdWNjZXNzZnVsbHkuXG4gICAqL1xuICBhc3luYyBhZGRBQkkoX2NvbnRyYWN0SWQsIF9hYmkpIHtcbiAgICB0aHJvdyBuZXcgRnVlbEVycm9yMzIoRnVlbEVycm9yMzIuQ09ERVMuTk9UX0lNUExFTUVOVEVELCBcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTaG91bGQgcmV0dXJuIHRoZSBBQkkgZnJvbSB0aGUgY29ubmVjdG9yIHZpbmN1bGF0ZWQgdG8gdGhlIGFsbCBhY2NvdW50cyBmcm9tIGEgc3BlY2lmaWMgV2FsbGV0LlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBUaGUgY29udHJhY3QgaWQgdG8gZ2V0IHRoZSBBQkkuXG4gICAqIEByZXR1cm5zIFRoZSBBQkkgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2UgcmV0dXJuIG51bGwuXG4gICAqL1xuICBhc3luYyBnZXRBQkkoX2lkKSB7XG4gICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjMyKEZ1ZWxFcnJvcjMyLkNPREVTLk5PVF9JTVBMRU1FTlRFRCwgXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIHJldHVybiB0cnVlIGlmIHRoZSBhYmkgZXhpc3RzIGluIHRoZSBjb25uZWN0b3IgdmluY3VsYXRlZCB0byB0aGUgYWxsIGFjY291bnRzIGZyb20gYSBzcGVjaWZpYyBXYWxsZXQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIFRoZSBjb250cmFjdCBpZCB0byBnZXQgdGhlIGFiaVxuICAgKiBAcmV0dXJucyBSZXR1cm5zIHRydWUgaWYgdGhlIGFiaSBleGlzdHMgb3IgZmFsc2UgaWYgbm90LlxuICAgKi9cbiAgYXN5bmMgaGFzQUJJKF9pZCkge1xuICAgIHRocm93IG5ldyBGdWVsRXJyb3IzMihGdWVsRXJyb3IzMi5DT0RFUy5OT1RfSU1QTEVNRU5URUQsIFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIEV2ZW50IGxpc3RlbmVyIGZvciB0aGUgY29ubmVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIC0gVGhlIGV2ZW50IG5hbWUgdG8gbGlzdGVuXG4gICAqIEBwYXJhbSBsaXN0ZW5lciAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvblxuICAgKi9cbiAgb24oZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIHN1cGVyLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG4vLyBzcmMvY29ubmVjdG9ycy91dGlscy9jYWNoZS50c1xuZnVuY3Rpb24gY2FjaGVGb3IoZm4sIHsgY2FjaGU6IGNhY2hlMiwgY2FjaGVUaW1lLCBrZXkgfSkge1xuICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoY2FjaGUyW2tleV0gJiYgY2FjaGUyW2tleV0/LnZhbHVlKSB7XG4gICAgICByZXR1cm4gY2FjaGUyW2tleV0/LnZhbHVlO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQoY2FjaGUyW2tleV0/LnRpbWVvdXQpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZuKC4uLmFyZ3MpO1xuICAgIGNhY2hlMltrZXldID0ge1xuICAgICAgdGltZW91dDogTnVtYmVyKFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjYWNoZTJba2V5XSA9IG51bGw7XG4gICAgICAgIH0sIGNhY2hlVGltZSlcbiAgICAgICksXG4gICAgICB2YWx1ZTogcmVzdWx0XG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuX19uYW1lKGNhY2hlRm9yLCBcImNhY2hlRm9yXCIpO1xuXG4vLyBzcmMvY29ubmVjdG9ycy91dGlscy9kaXNwYXRjaC1mdWVsLWNvbm5lY3Rvci1ldmVudC50c1xuZnVuY3Rpb24gZGlzcGF0Y2hGdWVsQ29ubmVjdG9yRXZlbnQoY29ubmVjdG9yKSB7XG4gIHdpbmRvdy5kaXNwYXRjaEV2ZW50KFxuICAgIG5ldyBDdXN0b21FdmVudChGdWVsQ29ubmVjdG9yRXZlbnRUeXBlLCB7XG4gICAgICBkZXRhaWw6IGNvbm5lY3RvclxuICAgIH0pXG4gICk7XG59XG5fX25hbWUoZGlzcGF0Y2hGdWVsQ29ubmVjdG9yRXZlbnQsIFwiZGlzcGF0Y2hGdWVsQ29ubmVjdG9yRXZlbnRcIik7XG5cbi8vIHNyYy9jb25uZWN0b3JzL3V0aWxzL3Byb21pc2VzLnRzXG5pbXBvcnQgeyBGdWVsRXJyb3IgYXMgRnVlbEVycm9yMzMgfSBmcm9tIFwiQGZ1ZWwtdHMvZXJyb3JzXCI7XG5mdW5jdGlvbiBkZWZlclByb21pc2UoKSB7XG4gIGNvbnN0IGRlZmVyID0ge307XG4gIGRlZmVyLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZGVmZXIucmVqZWN0ID0gcmVqZWN0O1xuICAgIGRlZmVyLnJlc29sdmUgPSByZXNvbHZlO1xuICB9KTtcbiAgcmV0dXJuIGRlZmVyO1xufVxuX19uYW1lKGRlZmVyUHJvbWlzZSwgXCJkZWZlclByb21pc2VcIik7XG5hc3luYyBmdW5jdGlvbiB3aXRoVGltZW91dChwcm9taXNlLCB0aW1lb3V0ID0gMTA1MCkge1xuICBjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlamVjdChuZXcgRnVlbEVycm9yMzMoRnVlbEVycm9yMzMuQ09ERVMuVElNRU9VVF9FWENFRURFRCwgXCJQcm9taXNlIHRpbWVkIG91dFwiKSk7XG4gICAgfSwgdGltZW91dCk7XG4gIH0pO1xuICByZXR1cm4gUHJvbWlzZS5yYWNlKFt0aW1lb3V0UHJvbWlzZSwgcHJvbWlzZV0pO1xufVxuX19uYW1lKHdpdGhUaW1lb3V0LCBcIndpdGhUaW1lb3V0XCIpO1xuXG4vLyBzcmMvY29ubmVjdG9ycy9mdWVsLnRzXG52YXIgSEFTX0NPTk5FQ1RPUl9USU1FT1VUID0gMmUzO1xudmFyIFBJTkdfQ0FDSEVfVElNRSA9IDVlMztcbnZhciB7IHdhcm4gfSA9IGNvbnNvbGU7XG52YXIgRnVlbCA9IGNsYXNzIF9GdWVsIGV4dGVuZHMgRnVlbENvbm5lY3RvciB7XG4gIHN0YXRpYyB7XG4gICAgX19uYW1lKHRoaXMsIFwiRnVlbFwiKTtcbiAgfVxuICBzdGF0aWMgU1RPUkFHRV9LRVkgPSBcImZ1ZWwtY3VycmVudC1jb25uZWN0b3JcIjtcbiAgc3RhdGljIGRlZmF1bHRDb25maWcgPSB7fTtcbiAgX3N0b3JhZ2UgPSBudWxsO1xuICBfY29ubmVjdG9ycyA9IFtdO1xuICBfdGFyZ2V0T2JqZWN0ID0gbnVsbDtcbiAgX3Vuc3Vic2NyaWJlcyA9IFtdO1xuICBfdGFyZ2V0VW5zdWJzY3JpYmUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCgpID0+IHtcbiAgfSwgXCJfdGFyZ2V0VW5zdWJzY3JpYmVcIik7XG4gIF9waW5nQ2FjaGUgPSB7fTtcbiAgX2N1cnJlbnRDb25uZWN0b3I7XG4gIF9pbml0aWFsaXphdGlvblByb21pc2UgPSBudWxsO1xuICBjb25zdHJ1Y3Rvcihjb25maWcgPSBfRnVlbC5kZWZhdWx0Q29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNldE1heExpc3RlbmVycygxZTMpO1xuICAgIHRoaXMuX2Nvbm5lY3RvcnMgPSBjb25maWcuY29ubmVjdG9ycyA/PyBbXTtcbiAgICB0aGlzLl90YXJnZXRPYmplY3QgPSB0aGlzLmdldFRhcmdldE9iamVjdChjb25maWcudGFyZ2V0T2JqZWN0KTtcbiAgICB0aGlzLl9zdG9yYWdlID0gY29uZmlnLnN0b3JhZ2UgPT09IHZvaWQgMCA/IHRoaXMuZ2V0U3RvcmFnZSgpIDogY29uZmlnLnN0b3JhZ2U7XG4gICAgdGhpcy5zZXR1cE1ldGhvZHMoKTtcbiAgICB0aGlzLl9pbml0aWFsaXphdGlvblByb21pc2UgPSB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25uZWN0UmVzcG9uc2UgPSB0aGlzLnNldERlZmF1bHRDb25uZWN0b3IoKTtcbiAgICAgIHRoaXMuX3RhcmdldFVuc3Vic2NyaWJlID0gdGhpcy5zZXR1cENvbm5lY3Rvckxpc3RlbmVyKCk7XG4gICAgICBhd2FpdCBjb25uZWN0UmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IzNChFcnJvckNvZGUzMC5JTlZBTElEX1BST1ZJREVSLCBcIkVycm9yIGluaXRpYWxpemluZyBGdWVsIENvbm5lY3RvclwiKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICBhd2FpdCB0aGlzLl9pbml0aWFsaXphdGlvblByb21pc2U7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdGFyZ2V0IG9iamVjdCB0byBsaXN0ZW4gZm9yIGdsb2JhbCBldmVudHMuXG4gICAqL1xuICBnZXRUYXJnZXRPYmplY3QodGFyZ2V0T2JqZWN0KSB7XG4gICAgaWYgKHRhcmdldE9iamVjdCkge1xuICAgICAgcmV0dXJuIHRhcmdldE9iamVjdDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgc3RvcmFnZSB1c2VkLlxuICAgKi9cbiAgZ2V0U3RvcmFnZSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIG5ldyBMb2NhbFN0b3JhZ2Uod2luZG93LmxvY2FsU3RvcmFnZSk7XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBkZWZhdWx0IGNvbm5lY3RvciBmcm9tIHRoZSBzdG9yYWdlLlxuICAgKi9cbiAgYXN5bmMgc2V0RGVmYXVsdENvbm5lY3RvcigpIHtcbiAgICBjb25zdCBjb25uZWN0b3JOYW1lID0gYXdhaXQgdGhpcy5fc3RvcmFnZT8uZ2V0SXRlbShfRnVlbC5TVE9SQUdFX0tFWSkgfHwgdGhpcy5fY29ubmVjdG9yc1swXT8ubmFtZTtcbiAgICBpZiAoY29ubmVjdG9yTmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0Q29ubmVjdG9yKGNvbm5lY3Rvck5hbWUsIHtcbiAgICAgICAgZW1pdEV2ZW50czogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydCBsaXN0ZW5lciBmb3IgYWxsIHRoZSBldmVudHMgb2YgdGhlIGN1cnJlbnRcbiAgICogY29ubmVjdG9yIGFuZCBlbWl0IHRoZW0gdG8gdGhlIEZ1ZWwgaW5zdGFuY2VcbiAgICovXG4gIHNldHVwQ29ubmVjdG9yRXZlbnRzKGV2ZW50cykge1xuICAgIGlmICghdGhpcy5fY3VycmVudENvbm5lY3Rvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50Q29ubmVjdG9yID0gdGhpcy5fY3VycmVudENvbm5lY3RvcjtcbiAgICB0aGlzLl91bnN1YnNjcmliZXMubWFwKCh1blN1YikgPT4gdW5TdWIoKSk7XG4gICAgdGhpcy5fdW5zdWJzY3JpYmVzID0gZXZlbnRzLm1hcCgoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCguLi5hcmdzKSA9PiB0aGlzLmVtaXQoZXZlbnQsIC4uLmFyZ3MpLCBcImhhbmRsZXJcIik7XG4gICAgICBjdXJyZW50Q29ubmVjdG9yLm9uKGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgIHJldHVybiAoKSA9PiBjdXJyZW50Q29ubmVjdG9yLm9mZihldmVudCwgaGFuZGxlcik7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgbWV0aG9kIGZyb20gdGhlIGN1cnJlbnQgY29ubmVjdG9yLlxuICAgKi9cbiAgYXN5bmMgY2FsbE1ldGhvZChtZXRob2QsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBoYXNDb25uZWN0b3IgPSBhd2FpdCB0aGlzLmhhc0Nvbm5lY3RvcigpO1xuICAgIGF3YWl0IHRoaXMucGluZ0Nvbm5lY3RvcigpO1xuICAgIGlmICghdGhpcy5fY3VycmVudENvbm5lY3RvciB8fCAhaGFzQ29ubmVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRnVlbEVycm9yMzQoXG4gICAgICAgIEVycm9yQ29kZTMwLk1JU1NJTkdfQ09OTkVDVE9SLFxuICAgICAgICBgTm8gY29ubmVjdG9yIHNlbGVjdGVkIGZvciBjYWxsaW5nICR7bWV0aG9kfS4gVXNlIGhhc0Nvbm5lY3RvciBiZWZvcmUgZXhlY3V0aW5nIG90aGVyIG1ldGhvZHMuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9jdXJyZW50Q29ubmVjdG9yW21ldGhvZF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRDb25uZWN0b3JbbWV0aG9kXSguLi5hcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbWV0aG9kIGZvciBlYWNoIG1ldGhvZCBwcm94eSB0aGF0IGlzIGF2YWlsYWJsZSBvbiB0aGUgQ29tbW9uIGludGVyZmFjZVxuICAgKiBhbmQgY2FsbCB0aGUgbWV0aG9kIGZyb20gdGhlIGN1cnJlbnQgY29ubmVjdG9yLlxuICAgKi9cbiAgc2V0dXBNZXRob2RzKCkge1xuICAgIE9iamVjdC52YWx1ZXMoRnVlbENvbm5lY3Rvck1ldGhvZHMpLmZvckVhY2goKG1ldGhvZCkgPT4ge1xuICAgICAgdGhpc1ttZXRob2RdID0gYXN5bmMgKC4uLmFyZ3MpID0+IHRoaXMuY2FsbE1ldGhvZChtZXRob2QsIC4uLmFyZ3MpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgc3RhdHVzIG9mIGEgY29ubmVjdG9yIGFuZCBzZXQgdGhlIGluc3RhbGxlZCBhbmQgY29ubmVjdGVkXG4gICAqIHN0YXR1cy5cbiAgICovXG4gIGFzeW5jIGZldGNoQ29ubmVjdG9yU3RhdHVzKGNvbm5lY3Rvcikge1xuICAgIGNvbnN0IHJlcXVlc3RUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IFtpc0Nvbm5lY3RlZCwgcGluZ10gPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoW1xuICAgICAgd2l0aFRpbWVvdXQoY29ubmVjdG9yLmlzQ29ubmVjdGVkKCkpLFxuICAgICAgd2l0aFRpbWVvdXQodGhpcy5waW5nQ29ubmVjdG9yKGNvbm5lY3RvcikpXG4gICAgXSk7XG4gICAgY29uc3QgaXNTdGFsZSA9IHJlcXVlc3RUaW1lc3RhbXAgPCAoY29ubmVjdG9yLl9sYXRlc3RVcGRhdGUgfHwgMCk7XG4gICAgaWYgKCFpc1N0YWxlKSB7XG4gICAgICBjb25uZWN0b3IuX2xhdGVzdFVwZGF0ZSA9IERhdGUubm93KCk7XG4gICAgICBjb25uZWN0b3IuaW5zdGFsbGVkID0gcGluZy5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIgJiYgcGluZy52YWx1ZTtcbiAgICAgIGNvbm5lY3Rvci5jb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCIgJiYgaXNDb25uZWN0ZWQudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpbnN0YWxsZWQ6IGNvbm5lY3Rvci5pbnN0YWxsZWQsXG4gICAgICBjb25uZWN0ZWQ6IGNvbm5lY3Rvci5jb25uZWN0ZWRcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCB0aGUgc3RhdHVzIG9mIGFsbCBjb25uZWN0b3JzIGFuZCBzZXQgdGhlIGluc3RhbGxlZCBhbmQgY29ubmVjdGVkXG4gICAqIHN0YXR1cy5cbiAgICovXG4gIGFzeW5jIGZldGNoQ29ubmVjdG9yc1N0YXR1cygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICB0aGlzLl9jb25uZWN0b3JzLm1hcChhc3luYyAoY29ubmVjdG9yKSA9PiB0aGlzLmZldGNoQ29ubmVjdG9yU3RhdHVzKGNvbm5lY3RvcikpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggdGhlIHN0YXR1cyBvZiBhIGNvbm5lY3RvciBhbmQgc2V0IHRoZSBpbnN0YWxsZWQgYW5kIGNvbm5lY3RlZFxuICAgKiBzdGF0dXMuIElmIG5vIGNvbm5lY3RvciBpcyBwcm92aWRlZCBpdCB3aWxsIHBpbmcgdGhlIGN1cnJlbnQgY29ubmVjdG9yLlxuICAgKi9cbiAgYXN5bmMgcGluZ0Nvbm5lY3Rvcihjb25uZWN0b3IpIHtcbiAgICBjb25zdCBjdXJDb25uZWN0b3IgPSBjb25uZWN0b3IgfHwgdGhpcy5fY3VycmVudENvbm5lY3RvcjtcbiAgICBpZiAoIWN1ckNvbm5lY3Rvcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGNhY2hlRm9yKGFzeW5jICgpID0+IHdpdGhUaW1lb3V0KGN1ckNvbm5lY3Rvci5waW5nKCkpLCB7XG4gICAgICAgIGtleTogY3VyQ29ubmVjdG9yLm5hbWUsXG4gICAgICAgIGNhY2hlOiB0aGlzLl9waW5nQ2FjaGUsXG4gICAgICAgIGNhY2hlVGltZTogUElOR19DQUNIRV9USU1FXG4gICAgICB9KSgpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgbmV3IEZ1ZWxFcnJvcjM0KEVycm9yQ29kZTMwLklOVkFMSURfUFJPVklERVIsIFwiQ3VycmVudCBjb25uZWN0b3IgaXMgbm90IGF2YWlsYWJsZS5cIik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTZXR1cCBhIGxpc3RlbmVyIGZvciB0aGUgRnVlbENvbm5lY3RvciBldmVudCBhbmQgYWRkIHRoZSBjb25uZWN0b3JcbiAgICogdG8gdGhlIGxpc3Qgb2YgbmV3IGNvbm5lY3RvcnMuXG4gICAqL1xuICBzZXR1cENvbm5lY3Rvckxpc3RlbmVyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoKSA9PiB7XG4gICAgY29uc3QgeyBfdGFyZ2V0T2JqZWN0OiB0YXJnZXRPYmplY3QgfSA9IHRoaXM7XG4gICAgY29uc3QgZXZlbnROYW1lID0gRnVlbENvbm5lY3RvckV2ZW50VHlwZTtcbiAgICBpZiAodGFyZ2V0T2JqZWN0Py5vbikge1xuICAgICAgdGFyZ2V0T2JqZWN0Lm9uKGV2ZW50TmFtZSwgdGhpcy5hZGRDb25uZWN0b3IpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdGFyZ2V0T2JqZWN0Lm9mZj8uKGV2ZW50TmFtZSwgdGhpcy5hZGRDb25uZWN0b3IpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRhcmdldE9iamVjdD8uYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgY29uc3QgaGFuZGxlciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGUpID0+IHtcbiAgICAgICAgdGhpcy5hZGRDb25uZWN0b3IoZS5kZXRhaWwpO1xuICAgICAgfSwgXCJoYW5kbGVyXCIpO1xuICAgICAgdGFyZ2V0T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHRhcmdldE9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyPy4oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgfTtcbiAgfSwgXCJzZXR1cENvbm5lY3Rvckxpc3RlbmVyXCIpO1xuICAvKipcbiAgICogQWRkIGEgbmV3IGNvbm5lY3RvciB0byB0aGUgbGlzdCBvZiBjb25uZWN0b3JzLlxuICAgKi9cbiAgYWRkQ29ubmVjdG9yID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAoY29ubmVjdG9yKSA9PiB7XG4gICAgaWYgKCF0aGlzLmdldENvbm5lY3Rvcihjb25uZWN0b3IpKSB7XG4gICAgICB0aGlzLl9jb25uZWN0b3JzLnB1c2goY29ubmVjdG9yKTtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5mZXRjaENvbm5lY3RvclN0YXR1cyhjb25uZWN0b3IpO1xuICAgIHRoaXMuZW1pdCh0aGlzLmV2ZW50cy5jb25uZWN0b3JzLCB0aGlzLl9jb25uZWN0b3JzKTtcbiAgICBpZiAoIXRoaXMuX2N1cnJlbnRDb25uZWN0b3IpIHtcbiAgICAgIGF3YWl0IHRoaXMuc2VsZWN0Q29ubmVjdG9yKGNvbm5lY3Rvci5uYW1lLCB7XG4gICAgICAgIGVtaXRFdmVudHM6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFwiYWRkQ29ubmVjdG9yXCIpO1xuICB0cmlnZ2VyQ29ubmVjdG9yRXZlbnRzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgW2lzQ29ubmVjdGVkLCBuZXR3b3JrczIsIGN1cnJlbnROZXR3b3JrXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuaXNDb25uZWN0ZWQoKSxcbiAgICAgIHRoaXMubmV0d29ya3MoKSxcbiAgICAgIHRoaXMuY3VycmVudE5ldHdvcmsoKVxuICAgIF0pO1xuICAgIHRoaXMuZW1pdCh0aGlzLmV2ZW50cy5jb25uZWN0aW9uLCBpc0Nvbm5lY3RlZCk7XG4gICAgdGhpcy5lbWl0KHRoaXMuZXZlbnRzLm5ldHdvcmtzLCBuZXR3b3JrczIpO1xuICAgIHRoaXMuZW1pdCh0aGlzLmV2ZW50cy5jdXJyZW50TmV0d29yaywgY3VycmVudE5ldHdvcmspO1xuICAgIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgY29uc3QgW2FjY291bnRzLCBjdXJyZW50QWNjb3VudF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMuYWNjb3VudHMoKSxcbiAgICAgICAgdGhpcy5jdXJyZW50QWNjb3VudCgpXG4gICAgICBdKTtcbiAgICAgIHRoaXMuZW1pdCh0aGlzLmV2ZW50cy5hY2NvdW50cywgYWNjb3VudHMpO1xuICAgICAgdGhpcy5lbWl0KHRoaXMuZXZlbnRzLmN1cnJlbnRBY2NvdW50LCBjdXJyZW50QWNjb3VudCk7XG4gICAgfVxuICB9LCBcInRyaWdnZXJDb25uZWN0b3JFdmVudHNcIik7XG4gIC8qKlxuICAgKiBHZXQgYSBjb25uZWN0b3IgZnJvbSB0aGUgbGlzdCBvZiBjb25uZWN0b3JzLlxuICAgKi9cbiAgZ2V0Q29ubmVjdG9yID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoY29ubmVjdG9yKSA9PiB0aGlzLl9jb25uZWN0b3JzLmZpbmQoKGMpID0+IHtcbiAgICBjb25zdCBjb25uZWN0b3JOYW1lID0gdHlwZW9mIGNvbm5lY3RvciA9PT0gXCJzdHJpbmdcIiA/IGNvbm5lY3RvciA6IGNvbm5lY3Rvci5uYW1lO1xuICAgIHJldHVybiBjLm5hbWUgPT09IGNvbm5lY3Rvck5hbWUgfHwgYyA9PT0gY29ubmVjdG9yO1xuICB9KSB8fCBudWxsLCBcImdldENvbm5lY3RvclwiKTtcbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbGlzdCBvZiBjb25uZWN0b3JzIHdpdGggdGhlIHN0YXR1cyBvZiBpbnN0YWxsZWQgYW5kIGNvbm5lY3RlZC5cbiAgICovXG4gIGFzeW5jIGNvbm5lY3RvcnMoKSB7XG4gICAgYXdhaXQgdGhpcy5mZXRjaENvbm5lY3RvcnNTdGF0dXMoKTtcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdG9ycztcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IGNvbm5lY3RvciB0byBiZSB1c2VkLlxuICAgKi9cbiAgYXN5bmMgc2VsZWN0Q29ubmVjdG9yKGNvbm5lY3Rvck5hbWUsIG9wdGlvbnMgPSB7XG4gICAgZW1pdEV2ZW50czogdHJ1ZVxuICB9KSB7XG4gICAgY29uc3QgY29ubmVjdG9yID0gdGhpcy5nZXRDb25uZWN0b3IoY29ubmVjdG9yTmFtZSk7XG4gICAgaWYgKCFjb25uZWN0b3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRDb25uZWN0b3I/Lm5hbWUgPT09IGNvbm5lY3Rvck5hbWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IGluc3RhbGxlZCB9ID0gYXdhaXQgdGhpcy5mZXRjaENvbm5lY3RvclN0YXR1cyhjb25uZWN0b3IpO1xuICAgIGlmIChpbnN0YWxsZWQpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRDb25uZWN0b3IgPSBjb25uZWN0b3I7XG4gICAgICB0aGlzLmVtaXQodGhpcy5ldmVudHMuY3VycmVudENvbm5lY3RvciwgY29ubmVjdG9yKTtcbiAgICAgIHRoaXMuc2V0dXBDb25uZWN0b3JFdmVudHMoT2JqZWN0LnZhbHVlcyhGdWVsQ29ubmVjdG9yRXZlbnRUeXBlcykpO1xuICAgICAgYXdhaXQgdGhpcy5fc3RvcmFnZT8uc2V0SXRlbShfRnVlbC5TVE9SQUdFX0tFWSwgY29ubmVjdG9yLm5hbWUpO1xuICAgICAgaWYgKG9wdGlvbnMuZW1pdEV2ZW50cykge1xuICAgICAgICB0aGlzLnRyaWdnZXJDb25uZWN0b3JFdmVudHMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY3VycmVudCBzZWxlY3RlZCBjb25uZWN0b3IuXG4gICAqL1xuICBjdXJyZW50Q29ubmVjdG9yKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50Q29ubmVjdG9yO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSBpZiBhbnkgY29ubmVjdG9yIGlzIGF2YWlsYWJsZS5cbiAgICovXG4gIGFzeW5jIGhhc0Nvbm5lY3RvcigpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudENvbm5lY3Rvcikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGRlZmVyID0gZGVmZXJQcm9taXNlKCk7XG4gICAgdGhpcy5vbmNlKHRoaXMuZXZlbnRzLmN1cnJlbnRDb25uZWN0b3IsICgpID0+IHtcbiAgICAgIGRlZmVyLnJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHdpdGhUaW1lb3V0KGRlZmVyLnByb21pc2UsIEhBU19DT05ORUNUT1JfVElNRU9VVCkudGhlbigoKSA9PiB0cnVlKS5jYXRjaCgoKSA9PiBmYWxzZSk7XG4gIH1cbiAgYXN5bmMgaGFzV2FsbGV0KCkge1xuICAgIHJldHVybiB0aGlzLmhhc0Nvbm5lY3RvcigpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBGdWVsIFByb3ZpZGVyIGluc3RhbmNlIHdpdGggZXh0ZW5kcyBmZWF0dXJlcyB0byB3b3JrIHdpdGhcbiAgICogY29ubmVjdG9ycy5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgZ2V0UHJvdmlkZXIgaXMgZGVwcmVjYXRlZCBhbmQgaXMgZ29pbmcgdG8gYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgZ2V0V2FsbGV0IGluc3RlYWQuXG4gICAqL1xuICBhc3luYyBnZXRQcm92aWRlcihwcm92aWRlck9yTmV0d29yaykge1xuICAgIHdhcm4oXG4gICAgICBcImdldFByb3ZpZGVyIGlzIGRlcHJlY2F0ZWQgYW5kIGlzIGdvaW5nIHRvIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgdXNlIGdldFdhbGxldCBpbnN0ZWFkLlwiXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5fZ2V0UHJvdmlkZXIocHJvdmlkZXJPck5ldHdvcmspO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBGdWVsIFByb3ZpZGVyIGluc3RhbmNlIHdpdGggZXh0ZW5kcyBmZWF0dXJlcyB0byB3b3JrIHdpdGhcbiAgICogY29ubmVjdG9ycy5cbiAgICovXG4gIGFzeW5jIF9nZXRQcm92aWRlcihwcm92aWRlck9yTmV0d29yaykge1xuICAgIGxldCBwcm92aWRlcjtcbiAgICBpZiAocHJvdmlkZXJPck5ldHdvcmsgJiYgXCJnZXRUcmFuc2FjdGlvblJlc3BvbnNlXCIgaW4gcHJvdmlkZXJPck5ldHdvcmspIHtcbiAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXJPck5ldHdvcms7XG4gICAgfSBlbHNlIGlmIChwcm92aWRlck9yTmV0d29yayAmJiBcImNoYWluSWRcIiBpbiBwcm92aWRlck9yTmV0d29yayAmJiBcInVybFwiIGluIHByb3ZpZGVyT3JOZXR3b3JrKSB7XG4gICAgICBwcm92aWRlciA9IG5ldyBQcm92aWRlcihwcm92aWRlck9yTmV0d29yay51cmwpO1xuICAgIH0gZWxzZSBpZiAoIXByb3ZpZGVyT3JOZXR3b3JrKSB7XG4gICAgICBjb25zdCBjdXJyZW50TmV0d29yayA9IGF3YWl0IHRoaXMuY3VycmVudE5ldHdvcmsoKTtcbiAgICAgIHByb3ZpZGVyID0gbmV3IFByb3ZpZGVyKGN1cnJlbnROZXR3b3JrLnVybCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBGdWVsRXJyb3IzNChFcnJvckNvZGUzMC5JTlZBTElEX1BST1ZJREVSLCBcIlByb3ZpZGVyIGlzIG5vdCB2YWxpZC5cIik7XG4gICAgfVxuICAgIHJldHVybiBwcm92aWRlcjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgRnVlbCBXYWxsZXQgTG9ja2VkIGluc3RhbmNlIHdpdGggZXh0ZW5kcyBmZWF0dXJlcyB0byB3b3JrIHdpdGhcbiAgICogY29ubmVjdG9ycy5cbiAgICovXG4gIGFzeW5jIGdldFdhbGxldChhZGRyZXNzLCBwcm92aWRlck9yTmV0d29yaykge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgdGhpcy5fZ2V0UHJvdmlkZXIocHJvdmlkZXJPck5ldHdvcmspO1xuICAgIHJldHVybiBuZXcgQWNjb3VudChhZGRyZXNzLCBwcm92aWRlciwgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgb3BlbiBsaXN0ZW5lcnMgdGhpcyBpcyB1c2VmdWwgd2hlbiB5b3Ugd2FudCB0b1xuICAgKiByZW1vdmUgdGhlIEZ1ZWwgaW5zdGFuY2UgYW5kIGF2b2lkIG1lbW9yeSBsZWFrcy5cbiAgICovXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIHRoaXMuX3Vuc3Vic2NyaWJlcy5tYXAoKHVuU3ViKSA9PiB1blN1YigpKTtcbiAgICB0aGlzLl90YXJnZXRVbnN1YnNjcmliZSgpO1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFuIGFsbCB0aGUgZGF0YSBmcm9tIHRoZSBzdG9yYWdlLlxuICAgKi9cbiAgYXN5bmMgY2xlYW4oKSB7XG4gICAgYXdhaXQgdGhpcy5fc3RvcmFnZT8ucmVtb3ZlSXRlbShfRnVlbC5TVE9SQUdFX0tFWSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBhbmQgY2xlYW5zIHRoZSBzdG9yYWdlLlxuICAgKi9cbiAgYXN5bmMgZGVzdHJveSgpIHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgYXdhaXQgdGhpcy5jbGVhbigpO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgQWJzdHJhY3RBY2NvdW50LFxuICBBYnN0cmFjdFNjcmlwdFJlcXVlc3QsXG4gIEFjY291bnQsXG4gIEFkZHJlc3NUeXBlLFxuICBCQUxBTkNFU19QQUdFX1NJWkVfTElNSVQsXG4gIEJMT0NLU19QQUdFX1NJWkVfTElNSVQsXG4gIEJhc2VUcmFuc2FjdGlvblJlcXVlc3QsXG4gIEJhc2VXYWxsZXRVbmxvY2tlZCxcbiAgQmxvYlRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgQ0hBSU5fSURTLFxuICBDaGFpbk5hbWUsXG4gIENoYW5nZU91dHB1dENvbGxpc2lvbkVycm9yLFxuICBDcmVhdGVUcmFuc2FjdGlvblJlcXVlc3QsXG4gIERFRkFVTFRfUkVTT1VSQ0VfQ0FDSEVfVFRMLFxuICBGdWVsLFxuICBGdWVsQ29ubmVjdG9yLFxuICBGdWVsQ29ubmVjdG9yRXZlbnRUeXBlLFxuICBGdWVsQ29ubmVjdG9yRXZlbnRUeXBlcyxcbiAgRnVlbENvbm5lY3Rvck1ldGhvZHMsXG4gIEdBU19VU0VEX01PRElGSUVSLFxuICBoZHdhbGxldF9kZWZhdWx0IGFzIEhEV2FsbGV0LFxuICBMYW5ndWFnZSxcbiAgTG9jYWxTdG9yYWdlLFxuICBNTkVNT05JQ19TSVpFUyxcbiAgTWVtb3J5U3RvcmFnZSxcbiAgbW5lbW9uaWNfZGVmYXVsdCBhcyBNbmVtb25pYyxcbiAgTW5lbW9uaWNWYXVsdCxcbiAgTk9OX1BBR0lOQVRFRF9CQUxBTkNFU19TSVpFLFxuICBOb1dpdG5lc3NBdEluZGV4RXJyb3IsXG4gIE5vV2l0bmVzc0J5T3duZXJFcnJvcixcbiAgT3BlcmF0aW9uTmFtZSxcbiAgUHJlZGljYXRlLFxuICBQcml2YXRlS2V5VmF1bHQsXG4gIFByb3ZpZGVyLFxuICBSRVNPVVJDRVNfUEFHRV9TSVpFX0xJTUlULFxuICBTY3JpcHRUcmFuc2FjdGlvblJlcXVlc3QsXG4gIFNpZ25lcixcbiAgU3RvcmFnZUFic3RyYWN0LFxuICBUUkFOU0FDVElPTlNfUEFHRV9TSVpFX0xJTUlULFxuICBUcmFuc2FjdGlvblJlc3BvbnNlLFxuICBUcmFuc2FjdGlvblN0YXR1cyxcbiAgVHJhbnNhY3Rpb25UeXBlMiBhcyBUcmFuc2FjdGlvblR5cGUsXG4gIFRyYW5zYWN0aW9uVHlwZU5hbWUsXG4gIFVwZ3JhZGVUcmFuc2FjdGlvblJlcXVlc3QsXG4gIFVwbG9hZFRyYW5zYWN0aW9uUmVxdWVzdCxcbiAgVmF1bHQsXG4gIFdhbGxldCxcbiAgV2FsbGV0TG9ja2VkLFxuICBXYWxsZXRNYW5hZ2VyLFxuICBXYWxsZXRVbmxvY2tlZCxcbiAgYWRkQW1vdW50VG9Db2luUXVhbnRpdGllcyxcbiAgYWRkT3BlcmF0aW9uLFxuICBhZ2dyZWdhdGVJbnB1dHNBbW91bnRzQnlBc3NldEFuZE93bmVyLFxuICBhc3NlbWJsZVBhbmljRXJyb3IsXG4gIGFzc2VtYmxlUHJlQ29uZmlybWF0aW9uVHJhbnNhY3Rpb25TdW1tYXJ5LFxuICBhc3NlbWJsZVJlY2VpcHRCeVR5cGUsXG4gIGFzc2VtYmxlUmV2ZXJ0RXJyb3IsXG4gIGFzc2VtYmxlVHJhbnNhY3Rpb25TdW1tYXJ5LFxuICBhc3NlbWJsZVRyYW5zYWN0aW9uU3VtbWFyeUZyb21Kc29uLFxuICBhc3NldHMsXG4gIGJ1aWxkQmxvY2tFeHBsb3JlclVybCxcbiAgY2FjaGVGb3IsXG4gIGNhY2hlUmVxdWVzdElucHV0c1Jlc291cmNlcyxcbiAgY2FjaGVSZXF1ZXN0SW5wdXRzUmVzb3VyY2VzRnJvbU93bmVyLFxuICBjYWxjdWxhdGVHYXNGZWUsXG4gIGNhbGN1bGF0ZU1ldGFkYXRhR2FzRm9yVHhCbG9iLFxuICBjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4Q3JlYXRlLFxuICBjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4U2NyaXB0LFxuICBjYWxjdWxhdGVNZXRhZGF0YUdhc0ZvclR4VXBncmFkZSxcbiAgY2FsY3VsYXRlTWV0YWRhdGFHYXNGb3JUeFVwbG9hZCxcbiAgY2FsY3VsYXRlTWluR2FzRm9yVHhVcGxvYWQsXG4gIGNhbGN1bGF0ZVRYRmVlRm9yU3VtbWFyeSxcbiAgY29pblF1YW50aXR5ZnksXG4gIGRlZmVyUHJvbWlzZSxcbiAgZGVwbG95U2NyaXB0T3JQcmVkaWNhdGUsXG4gIGRlc2VyaWFsaXplQ2hhaW4sXG4gIGRlc2VyaWFsaXplSW5wdXQsXG4gIGRlc2VyaWFsaXplTm9kZUluZm8sXG4gIGRlc2VyaWFsaXplT3V0cHV0LFxuICBkZXNlcmlhbGl6ZVByb2Nlc3NlZFR4T3V0cHV0LFxuICBkZXNlcmlhbGl6ZVByb3ZpZGVyQ2FjaGUsXG4gIGRlc2VyaWFsaXplUmVjZWlwdCxcbiAgZGVzZXJpYWxpemVUcmFuc2FjdGlvblJlc3BvbnNlSnNvbixcbiAgZGlzcGF0Y2hGdWVsQ29ubmVjdG9yRXZlbnQsXG4gIGVuZ2xpc2gsXG4gIGV4dHJhY3RCdXJuZWRBc3NldHNGcm9tUmVjZWlwdHMsXG4gIGV4dHJhY3RNaW50ZWRBc3NldHNGcm9tUmVjZWlwdHMsXG4gIGV4dHJhY3RSZXNvbHZlZE91dHB1dHMsXG4gIGV4dHJhY3RUeEVycm9yLFxuICBmdWVsQXNzZXRzQmFzZVVybCxcbiAgZ2FzVXNlZEJ5SW5wdXRzLFxuICBnZXRBbGxEZWNvZGVkTG9ncyxcbiAgZ2V0QXNzZXRBbW91bnRJblJlcXVlc3RJbnB1dHMsXG4gIGdldEFzc2V0QnlJZCxcbiAgZ2V0QXNzZXRFdGgsXG4gIGdldEFzc2V0RnVlbCxcbiAgZ2V0QXNzZXROZXR3b3JrLFxuICBnZXRBc3NldFdpdGhOZXR3b3JrLFxuICBnZXRBc3NldHNCeU93bmVyLFxuICBnZXRCdXJuYWJsZUFzc2V0Q291bnQsXG4gIGdldEJ5dGVjb2RlQ29uZmlndXJhYmxlT2Zmc2V0LFxuICBnZXRCeXRlY29kZURhdGFPZmZzZXQsXG4gIGdldEJ5dGVjb2RlSWQsXG4gIGdldENvbnRyYWN0Q2FsbE9wZXJhdGlvbnMsXG4gIGdldENvbnRyYWN0Q3JlYXRlZE9wZXJhdGlvbnMsXG4gIGdldERlY29kZWRMb2dzLFxuICBnZXREZWZhdWx0Q2hhaW5JZCxcbiAgZ2V0R2FzVXNlZEZyb21SZWNlaXB0cyxcbiAgZ2V0SW5wdXRBY2NvdW50QWRkcmVzcyxcbiAgZ2V0SW5wdXRDb250cmFjdEZyb21JbmRleCxcbiAgZ2V0SW5wdXRGcm9tQXNzZXRJZCxcbiAgZ2V0SW5wdXRzQnlUeXBlLFxuICBnZXRJbnB1dHNCeVR5cGVzLFxuICBnZXRJbnB1dHNDb2luLFxuICBnZXRJbnB1dHNDb2luQW5kTWVzc2FnZSxcbiAgZ2V0SW5wdXRzQ29udHJhY3QsXG4gIGdldElucHV0c01lc3NhZ2UsXG4gIGdldExlZ2FjeUJsb2JJZCxcbiAgZ2V0TWF4R2FzLFxuICBnZXRNaW5HYXMsXG4gIGdldE9wZXJhdGlvbnMsXG4gIGdldE91dHB1dHNCeVR5cGUsXG4gIGdldE91dHB1dHNDaGFuZ2UsXG4gIGdldE91dHB1dHNDb2luLFxuICBnZXRPdXRwdXRzQ29udHJhY3QsXG4gIGdldE91dHB1dHNDb250cmFjdENyZWF0ZWQsXG4gIGdldE91dHB1dHNWYXJpYWJsZSxcbiAgZ2V0UGF5UHJvZHVjZXJPcGVyYXRpb25zLFxuICBnZXRQcmVkaWNhdGVSb290LFxuICBnZXRSZWNlaXB0c0J5VHlwZSxcbiAgZ2V0UmVjZWlwdHNDYWxsLFxuICBnZXRSZWNlaXB0c01lc3NhZ2VPdXQsXG4gIGdldFJlY2VpcHRzVHJhbnNmZXJPdXQsXG4gIGdldFJlY2VpcHRzV2l0aE1pc3NpbmdEYXRhLFxuICBnZXRSZXF1ZXN0SW5wdXRSZXNvdXJjZU93bmVyLFxuICBnZXRUb3RhbEZlZUZyb21TdGF0dXMsXG4gIGdldFRyYW5zYWN0aW9uU3RhdHVzTmFtZSxcbiAgZ2V0VHJhbnNhY3Rpb25TdW1tYXJ5LFxuICBnZXRUcmFuc2FjdGlvblN1bW1hcnlGcm9tUmVxdWVzdCxcbiAgZ2V0VHJhbnNhY3Rpb25UeXBlTmFtZSxcbiAgZ2V0VHJhbnNhY3Rpb25zU3VtbWFyaWVzLFxuICBnZXRUcmFuc2Zlck9wZXJhdGlvbnMsXG4gIGdldFdpdGhkcmF3RnJvbUZ1ZWxPcGVyYXRpb25zLFxuICBoYXNTYW1lQXNzZXRJZCxcbiAgaW5wdXRpZnksXG4gIGlzQ29pbixcbiAgaXNJbnB1dENvaW4sXG4gIGlzTWVzc2FnZSxcbiAgaXNNZXNzYWdlQ29pbixcbiAgaXNQcmVkaWNhdGUsXG4gIGlzUmF3Q29pbixcbiAgaXNSYXdNZXNzYWdlLFxuICBpc1JlcXVlc3RJbnB1dENvaW4sXG4gIGlzUmVxdWVzdElucHV0Q29pbk9yTWVzc2FnZSxcbiAgaXNSZXF1ZXN0SW5wdXRNZXNzYWdlLFxuICBpc1JlcXVlc3RJbnB1dE1lc3NhZ2VXaXRob3V0RGF0YSxcbiAgaXNSZXF1ZXN0SW5wdXRSZXNvdXJjZSxcbiAgaXNSZXF1ZXN0SW5wdXRSZXNvdXJjZUZyb21Pd25lcixcbiAgaXNUcmFuc2FjdGlvblR5cGVCbG9iLFxuICBpc1RyYW5zYWN0aW9uVHlwZUNyZWF0ZSxcbiAgaXNUcmFuc2FjdGlvblR5cGVTY3JpcHQsXG4gIGlzVHJhbnNhY3Rpb25UeXBlVXBncmFkZSxcbiAgaXNUcmFuc2FjdGlvblR5cGVVcGxvYWQsXG4gIGlzVHlwZSxcbiAgaXNUeXBlQmxvYixcbiAgaXNUeXBlQ3JlYXRlLFxuICBpc1R5cGVNaW50LFxuICBpc1R5cGVTY3JpcHQsXG4gIGlzVHlwZVVwZ3JhZGUsXG4gIGlzVHlwZVVwbG9hZCxcbiAgbWVyZ2VRdWFudGl0aWVzLFxuICBub3JtYWxpemVKU09OLFxuICBvdXRwdXRpZnksXG4gIHByb2Nlc3NHcWxSZWNlaXB0LFxuICBwcm9jZXNzR3JhcGhxbFN0YXR1cyxcbiAgcmF3QXNzZXRzLFxuICByZXNvbHZlQWNjb3VudEZvckFzc2VtYmxlVHhQYXJhbXMsXG4gIHJlc29sdmVHYXNEZXBlbmRlbnRDb3N0cyxcbiAgcmVzb2x2ZUljb25QYXRocyxcbiAgcmV0dXJuWmVyb1NjcmlwdCxcbiAgc2VyaWFsaXplQ2hhaW4sXG4gIHNlcmlhbGl6ZU5vZGVJbmZvLFxuICBzZXJpYWxpemVQcm92aWRlckNhY2hlLFxuICBzZXJpYWxpemVUcmFuc2FjdGlvblJlc3BvbnNlSnNvbixcbiAgc2V0QW5kVmFsaWRhdGVHYXNBbmRGZWVGb3JBc3NlbWJsZWRUeCxcbiAgdHJhbnNhY3Rpb25SZXF1ZXN0aWZ5LFxuICB1cmxKb2luLFxuICB2YWxpZGF0ZVRyYW5zYWN0aW9uRm9yQXNzZXRCdXJuLFxuICB3aXRoVGltZW91dCxcbiAgd2l0aGRyYXdTY3JpcHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@fuel-ts+account@0.101.1_vitest@3.2.4_@types+debug@4.1.12_@types+node@24.7.2_jiti@2.6.1_f204daa1b5bd0d8f80ab398db79a8f51/node_modules/@fuel-ts/account/dist/index.mjs\n");

/***/ })

};
;